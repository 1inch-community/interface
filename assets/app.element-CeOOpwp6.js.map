{"version":3,"mappings":"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","names":["catchError","selector","operate","source","subscriber","innerSub","syncUnsub","handledResult","createOperatorSubscriber","err","innerFrom","parseUnits","value","decimals","integer","fraction","negative","left","unit","right","rounded","appStyle","css","mobileMediaCSS","safariPWACss","headerStyle","__defProp","__getOwnPropDesc","__decorateClass","decorators","target","key","kind","result","i","decorator","cardStyle","CardElement","LitElement","html","property","customElement","cardHeaderStyle","css2","CardHeaderElement","LitElement2","html2","_a","containerName","isSlotDirty","classes","classMap","event","dispatchEvent","slotName","property2","customElement2","o","f","t","walletManageStyle","walletViewStyle","controllerContext","createContext","walletViewAddressBalanceStyle","css3","storage","LongTimeCache","WalletViewAddressBalanceElement","Task","chainId","address","balanceRecord","TokenController","nativeTokenAddress","balance","formatNumber","formatUnits","chain","getChainById","loader","WalletViewElement","providerDataAdapter","globalDataAdapter","subscribe","tap","state3","addressListLength","height","appendStyle","isWalletConnect","when","formatHex","classes2","litMap","async","ifDefined","state","consume","WalletListElement","LitElement3","Task2","html3","infoList","map","info","consume2","customElement3","WalletManageElement","LitElement4","getMobileMatchMedia","ContextProvider","changeMobileMatchMedia","headerText","html4","ifDefined2","property3","customElement4","connectWalletViewStyle","css4","ConnectWalletViewElement","LitElement5","getMobileMatchMediaAndSubscribe","OverlayController","defer","map2","item","formatHex2","isConnected","html5","observe","when2","property4","CacheActivePromise","customElement5","chainSelectorStyle","css5","chainViewConfig","ChainId","chainList","isSupportFusion","info1","info2","isL2Chain","chainSelectorListStyle","css6","chainSelectorListItemStyle","css7","mobileMediaCSS2","ChainSelectorListItemElement","LitElement6","getMobileMatchMediaAndSubscribe2","isL2","isL2Chain2","iconSize","html6","classMap2","when3","isRTLCurrentLocale","property5","customElement6","ChainSelectorListElement","LitElement7","getMobileMatchMediaAndSubscribe3","subscribe2","tap2","html7","ifDefined3","property6","state2","customElement7","ChainSelectorElement","LitElement8","getMobileMatchMediaAndSubscribe4","OverlayController2","defer2","map3","filter","html8","observe2","when4","property7","CacheActivePromise2","customElement8","getHeaderHeight","getFooterHeight","HeaderElement","styles","styleMap","ApplicationContextToken","footerStyle","FooterElement","getEnvironmentValue","repositories","__vitePreload","m","TokenIconElement","symbol","signal","iconLoader","symbolView","size","showLoader","loadFromDatabase","loadFromRepository","loadIconFromMultiChain","data","token","resolve","img","index","repositoryLoader","tokens","isNativeToken","wrapToken","getWrapperNativeToken","r","segmentedControlContainerStyle","segmentedControlItemStyle","SegmentedControlElement","localeChange$","offset","width","el","templateRef","_b","buildEvent","defaultConfig","sceneStyle","config","_config","unsafeCSS","sceneContext","SceneContext","Subject","firstValueFrom","SceneWrapperElement","shiftAnimation","initStyle","isSafari","resetStyle","animationConfig","upLayer","downLayer","isBack","slideAnimation","isSafari2","appendStyle2","asyncFrame","SceneController","rootSceneName","animation","buildSceneContainer","isFirstRender","sceneName","sceneFactory","sceneWrapper","currentScene","nextSceneFactory","nextSceneWrapper","currentSceneWrapper","upScene","downScene","nextSceneWrapperRect","currentSceneWrapperRect","appendStyle3","content","name","render","formatValue","nextRect","currentRect","sceneContainer","ScrollViewProviderElement","addTranslation","Locale","swapFromStyle","MASKITO_DEFAULT_OPTIONS","MaskHistory","state4","isValueChanged","isSelectionChanged","inputType","areElementValuesEqual","sampleState","states","areElementStatesEqual","selection","applyOverwriteMode","newCharacters","mode","from2","to","computedMode","isFixedCharacter","char","getLeadingFixedCharacters","mask","validatedValuePart","newCharacter","initialElementState","leadingFixedCharacters","charConstraint","isInitiallyExisted","validateValueWithMask","maskExpression","guessValidValueByPattern","elementState","maskedFrom","maskedTo","maskedValue","validatedCharacters","charIndex","leadingCharacters","newValidatedChars","trailingFixedCharacters","guessValidValueByRegExp","maskRegExp","newFrom","newTo","newPossibleValue","calibrateValueByMask","removeFixedMaskCharacters","unmaskedValue","rawValue","MaskModel","maskOptions","unmaskedElementState","unmaskedFrom","unmaskedTo","newUnmaskedLeadingValuePart","newCaretIndex","maskedElementState","newUnmaskedValue","EventListener","element","eventType","fn","options","untypedFn","stopListen","HotkeyModifier","HotkeyCode","isHotkey","modifiers","hotkeyCode","isRedo","isUndo","maskitoUpdateElement","valueOrElementState","initialValue","getLineSelection","isForward","nearestBreak","getNotEmptySelection","x","TRAILING_SPACES_REG","LEADING_SPACES_REG","SPACE_REG","getWordSelection","valueAfterSelectionStart","leadingSpaces","nearestWordEndIndex","valueBeforeSelectionEnd","trailingSpaces","selectedWordLength","maskitoPipe","processors","initialData","readonlyArgs","maskitoTransform","valueOrState","maskitoOptions","preprocessor","postprocessor","maskModel","Maskito","plugin","selectionStart","selectionEnd","maxLength","teardown","eventInit","force","initialState","initialFrom","initialTo","newElementState","insertedText","clamp","min","max","clampedValue","DEFAULT_DECIMAL_PSEUDO_SEPARATORS","TIME_FIXED_CHARACTERS","CHAR_NO_BREAK_SPACE","CHAR_ZERO_WIDTH_SPACE","CHAR_EN_DASH","CHAR_EM_DASH","CHAR_HYPHEN","CHAR_MINUS","CHAR_JP_HYPHEN","reRegExpChar","reHasRegExpChar","escapeRegExp","str","extractAffixes","prefix","postfix","prefixRegExp","postfixRegExp","extractedPrefix","extractedPostfix","cleanValue","findCommonBeginningSubstr","a","b","res","identity","toHalfWidthNumber","fullWidthNumber","s","createFullWidthToHalfWidthPreprocessor","maskitoPostfixPostprocessorGenerator","postfixRE","initialValueBeforePostfix","postfixWasModified","alreadyExistedValueBeforePostfix","newValue","isInitiallyMirroredChar","maskitoPrefixPostprocessorGenerator","prefixedValue","modifiedValue","addedCharsCount","maskitoEventHandler","handler","eventListenerOptions","listener","createAffixesFilterPreprocessor","cleanData","generateMaskExpression","decimalSeparator","isNegativeAllowed","precision","thousandSeparator","decimalPseudoSeparators","pseudoMinuses","minusSign","computedPrefix","computeAllOptionalCharsRegExp","digit","optionalMinus","integerPart","decimalPart","computedPostfix","maskitoParseNumber","maskedNumber","hasNegativeSign","escapedDecimalSeparator","unmaskedNumber","stringifyNumberWithoutExp","valueAsString","numberPart","expPart","valueWithoutExp","fractionalPart","decimalDigits","toNumberParts","integerWithMinus","minus","validateDecimalPseudoSeparators","createDecimalZeroPaddingPostprocessor","decimalZeroPadding","emptyPostprocessor","caretIndex","aloneDecimalSeparator","createInitializationOnlyPreprocessor","isInitializationPhase","cleanNumberMask","cleanState","cleanFrom","cleanTo","createLeadingZeroesValidationPostprocessor","trimLeadingZeroes","escapedThousandSeparator","countTrimmedZeroesBefore","valueBefore","followedByZero","hasDecimalSeparator","zeroTrimmedIntegerPart","createMinMaxPostprocessor","parsedNumber","limitedValue","createNonRemovableCharsDeletionPreprocessor","actionType","selectedCharacters","nonRemovableSeparators","areNonRemovableZeroesSelected","createNotEmptyIntegerPartPreprocessor","startWithDecimalSepRegExp","digitsBeforeCursor","createPseudoCharactersPreprocessor","validCharacter","pseudoCharacters","pseudoCharactersRegExp","createRepeatedDecimalSeparatorPreprocessor","createThousandSeparatorPostprocessor","isAllSpaces","chars","processedIntegerPart","formattedValuePart","isPositionForSeparator","createZeroPrecisionPreprocessor","decimalPartRegExp","DUMMY_SELECTION","createLeadingZeroesValidationPlugin","dropRepeatedLeadingZeroes","createMinMaxPlugin","clampedNumber","createNotEmptyIntegerPlugin","maskitoNumberOptionsGenerator","unsafePrefix","validatedDecimalPseudoSeparators","balanceStyles","BalanceElement","combineLatest","switchMap","getBlockEmitter","startWith","walletAddress","translate","SwapContextToken","fiatBalanceStyles","FiatBalanceElement","combineLatest2","filter2","switchMap2","TokenController2","tokenPrice","amount","balanceFormatted","formatUnits2","balanceUsd","smartFormatNumber","catchError2","SwapContextToken2","inputStyle","mobileMediaCSS3","InputElement","defer3","shareReplay","startWith2","updateMask$","loading$","switchMap3","of","from","updateInputValue$","combineLatest3","formatUnits3","filter3","formatNumber2","choose","translate2","observe3","valueString","consume3","SwapContextToken3","tokenPairSwitchStyle","TokenPairSwitchElement","createRef","defer4","combineLatest4","map4","sourceToken","destinationToken","fromEvent","switchMap4","ref","observe4","consume4","SwapContextToken4","swapButtonStyle","mobileMediaCSS4","getRainbowGradient","SwapButtonElement","JsonParser","defer5","switchMap5","getBlockEmitter2","combineLatest5","startWith3","merge","wallet","of2","shareReplay2","map5","params","srcToken","dstToken","exceedingMaximumAmount","rate","isChainId","distinctUntilChanged","debounceTime","withLatestFrom","contract","getOneInchRouterV6ContractAddress","allowance","getAllowance","isSupportPermit2","hasPermit","tap3","subscribe3","getThemeChange","brandColor","color","BrandColors","translate3","stateState","dispatchEvent3","snapshot","consume5","SwapContextToken5","fusionSwapInfoStyle","fusionSwapInfoSlippageStyle","css8","mobileMediaCSS5","FusionSwapInfoSlippageElement","subscribe4","fromEvent2","tap4","inputValue","translate4","_c","dispatchEvent4","detail","type","preset","fusionSwapInfoAuctionTimeStyle","css9","mobileMediaCSS6","FusionSwapInfoAuctionTimeElement","subscribe5","fromEvent3","tap5","dispatchEvent5","strValue","fusionSwapInfoMainStyle","css10","mobileMediaCSS7","FusionSwapInfoMainElement","defer6","map6","slippage","auctionTime","formatSeconds","debounceTime2","distinctUntilChanged2","rateViewDistinctUntilChangedHandler","switchMap6","rateData","revertedRate","primaryToken","TokenController3","secondaryToken","isTokensEqual","targetRate","rateFormated","smartFormatNumber2","formatUnits4","rateUsd","parseUnits2","rateUsdFormated","getSymbolFromWrapToken","startWith4","shareReplay3","withLatestFrom2","minReceive","amountUsd","BigMath","amountUsdFormated","smartFormatAndShorteningNumber","dispatchEvent6","iconClasses","fusionIconClass","observe5","translate5","consume6","SwapContextToken6","rate1","rate2","isRateEqual","FusionSwapInfoElement","LitElement9","html9","consume7","SwapContextToken7","customElement9","SwapFromElement","LitElement10","combineLatest6","defer7","map7","startWith5","distinctUntilChanged3","isEmpty","html10","translate6","observe6","consume8","ApplicationContextToken2","SwapContextToken8","customElement10","confirmSwapStyle","css11","mobileMediaCSS8","ConfirmSwapElement","LitElement11","isNativeToken2","html11","dispatchEvent7","error","errorText","parseError","translate7","TokenController4","isTokensEqual2","smartFormatNumber3","formatUnits5","getSymbolFromWrapToken2","formatSeconds2","amountView","title","choose2","observe7","stream","getBlockEmitter3","switchMap7","usdPrice","shareReplay4","consume9","ApplicationContextToken3","SwapContextToken9","customElement11","UserRejectedRequestError","SwapFormElement","isMobile","provide","AppElement","scrollbarStyle"],"ignoreList":[0,1,5,14],"sources":["../../../../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/catchError.js","../../../../node_modules/.pnpm/viem@2.17.0_typescript@5.5.3/node_modules/viem/_esm/utils/unit/parseUnits.js","../../../../apps/dapp/src/app/app.style.ts","../../../../apps/dapp/src/app/elements/header/header.style.ts","../../../libs/ui-components/card/index.esm.js","../../../../node_modules/.pnpm/lit-html@3.1.3/node_modules/lit-html/directives/map.js","../../../libs/widgets/wallet-manage/index.esm.js","../../../../apps/dapp/src/app/platform/sizes.ts","../../../../apps/dapp/src/app/elements/header/header.element.ts","../../../../apps/dapp/src/app/elements/footer/footer.style.ts","../../../../apps/dapp/src/app/elements/footer/footer.element.ts","../../../libs/widgets/swap-form/chunk-EUXUH3YW.js","../../../libs/widgets/token-icon/chunk-EUXUH3YW.js","../../../libs/widgets/token-icon/index.esm.js","../../../../node_modules/.pnpm/lit-html@3.1.3/node_modules/lit-html/directives/choose.js","../../../libs/ui-components/segmented-control/index.esm.js","../../../libs/ui-components/scene/index.esm.js","../../../libs/widgets/swap-form/index.esm.js","../../../../apps/dapp/src/app/elements/swap-form/swap-form.element.ts","../../../../apps/dapp/src/app/app.element.ts"],"sourcesContent":["import { innerFrom } from '../observable/innerFrom';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { operate } from '../util/lift';\nexport function catchError(selector) {\n    return operate(function (source, subscriber) {\n        var innerSub = null;\n        var syncUnsub = false;\n        var handledResult;\n        innerSub = source.subscribe(createOperatorSubscriber(subscriber, undefined, undefined, function (err) {\n            handledResult = innerFrom(selector(err, catchError(selector)(source)));\n            if (innerSub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                handledResult.subscribe(subscriber);\n            }\n            else {\n                syncUnsub = true;\n            }\n        }));\n        if (syncUnsub) {\n            innerSub.unsubscribe();\n            innerSub = null;\n            handledResult.subscribe(subscriber);\n        }\n    });\n}\n//# sourceMappingURL=catchError.js.map","/**\n * Multiplies a string representation of a number by a given exponent of base 10 (10exponent).\n *\n * - Docs: https://viem.sh/docs/utilities/parseUnits\n *\n * @example\n * import { parseUnits } from 'viem'\n *\n * parseUnits('420', 9)\n * // 420000000000n\n */\nexport function parseUnits(value, decimals) {\n    let [integer, fraction = '0'] = value.split('.');\n    const negative = integer.startsWith('-');\n    if (negative)\n        integer = integer.slice(1);\n    // trim trailing zeros.\n    fraction = fraction.replace(/(0+)$/, '');\n    // round off if the fraction is larger than the number of decimals.\n    if (decimals === 0) {\n        if (Math.round(Number(`.${fraction}`)) === 1)\n            integer = `${BigInt(integer) + 1n}`;\n        fraction = '';\n    }\n    else if (fraction.length > decimals) {\n        const [left, unit, right] = [\n            fraction.slice(0, decimals - 1),\n            fraction.slice(decimals - 1, decimals),\n            fraction.slice(decimals),\n        ];\n        const rounded = Math.round(Number(`${unit}.${right}`));\n        if (rounded > 9)\n            fraction = `${BigInt(left) + BigInt(1)}0`.padStart(left.length + 1, '0');\n        else\n            fraction = `${left}${rounded}`;\n        if (fraction.length > decimals) {\n            fraction = fraction.slice(1);\n            integer = `${BigInt(integer) + 1n}`;\n        }\n        fraction = fraction.slice(0, decimals);\n    }\n    else {\n        fraction = fraction.padEnd(decimals, '0');\n    }\n    return BigInt(`${negative ? '-' : ''}${integer}${fraction}`);\n}\n//# sourceMappingURL=parseUnits.js.map","import { css } from 'lit';\nimport { mobileMediaCSS, safariPWACss } from '@one-inch-community/core/lit';\n\nexport const appStyle = css`\n    \n    :host {\n        --height: 100vh;\n        overflow-y: auto;\n        overflow-x: hidden !important;\n        height: var(--height);\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        background-color: var(--color-background-bg-body);\n        overscroll-behavior: none;\n        touch-action: pan-y;\n        transition: height .2s;\n    }\n\n    @supports (height: 100dvh) {\n        :host {\n            --height: 100dvh;\n        }\n    }\n    \n    ${mobileMediaCSS(css`\n        :host::-webkit-scrollbar {\n            display: none;\n        }\n    `)}\n    \n    ${safariPWACss(css`\n        :host {\n            height: calc(var(--height) - 10px);\n        }\n    `)}\n\n    .content {\n        display: flex;\n        width: 100%;\n        justify-content: center;\n        margin-bottom: auto;\n    }\n\n`\n","import { css } from 'lit';\n\nexport const headerStyle = css`\n    .header-container {\n        width: 100%;\n        box-sizing: border-box;\n        padding: 16px 24px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        max-width: 1400px;\n        margin: 0 auto;\n    }\n    \n    .mobile-header {\n        height: 56px;\n        padding: 8px;\n        max-width: 100vw;\n    }\n    \n    .left-content {\n    }\n    \n    .right-content {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n    }\n\n`\n","var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\n\n// libs/ui-components/src/lib/modules/card/card.element.ts\nimport { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n// libs/ui-components/src/lib/modules/card/card.style.ts\nimport { css } from \"lit\";\nvar cardStyle = css`\n    \n    :host {\n        background-color: var(--color-background-bg-primary);\n        border-radius: 24px;\n        width: fit-content;\n        height: fit-content;\n        display: block;\n    }\n\n    :host(.shadow) {\n        box-shadow: 0 -3px 4px 0 var(--primary-12), 0 6px 12px 0 var(--primary-12);\n    }\n\n    :host(.mobile) {\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n        width: 100vw;\n        height: fit-content;\n        box-shadow: none;\n    }\n    \n    .card-content {\n        padding: 8px;\n        display: flex;\n        width: 100%;\n        height: 100%;\n        box-sizing: border-box;\n        flex-direction: column;\n        gap: 8px;\n    }\n\n`;\n\n// libs/ui-components/src/lib/modules/card/card.element.ts\nvar CardElement = class extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.forMobileView = false;\n    this.showShadow = false;\n  }\n  render() {\n    return html`\n      <slot name=\"header\"></slot>\n      <div class=\"card-content\">\n        <slot></slot>\n      </div>\n    `;\n  }\n  firstUpdated() {\n    if (this.forMobileView && !this.classList.contains(\"mobile\")) {\n      this.classList.add(\"mobile\");\n    }\n    if (this.showShadow && !this.classList.contains(\"shadow\")) {\n      this.classList.add(\"shadow\");\n    }\n  }\n};\nCardElement.tagName = \"inch-card\";\nCardElement.styles = cardStyle;\n__decorateClass([\n  property({ type: Boolean })\n], CardElement.prototype, \"forMobileView\", 2);\n__decorateClass([\n  property({ type: Boolean })\n], CardElement.prototype, \"showShadow\", 2);\nCardElement = __decorateClass([\n  customElement(CardElement.tagName)\n], CardElement);\n\n// libs/ui-components/src/lib/modules/card/card-header.element.ts\nimport { html as html2, LitElement as LitElement2 } from \"lit\";\nimport { customElement as customElement2, property as property2 } from \"lit/decorators.js\";\nimport { classMap } from \"lit/directives/class-map.js\";\n\n// libs/ui-components/src/lib/modules/card/card-header.style.ts\nimport { css as css2 } from \"lit\";\nimport { mobileMediaCSS } from \"@one-inch-community/core/lit\";\nvar cardHeaderStyle = css2`\n\n    :host {\n        display: flex;\n        height: 60px;\n        width: 100%;\n        padding: 16px 16px 0;\n        box-sizing: border-box;\n        border-top-left-radius: 32px;\n        border-top-right-radius: 32px;\n    }\n    \n    :host(.not-native-mode) {\n        height: 44px;\n        padding: 0;\n    }\n\n    .card-header-container {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        width: 100%;\n        height: 100%;\n    }\n\n    .position-container {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        align-items: center;\n        color: var(--color-content-content-primary);\n        gap: 8px;\n        word-wrap: break-word;\n        white-space: nowrap;\n    }\n\n    .center-container {\n        justify-content: center;\n    }\n\n    .left-container {\n        justify-content: flex-start;\n    }\n\n    .right-container {\n        justify-content: flex-end;\n    }\n\n    .card-header-title {\n        font-size: 20px;\n        font-weight: 600;\n        line-height: 28px;\n        letter-spacing: 0;\n        text-align: center;\n    }\n    \n    .card-header-title__left:not(.card-header-title__and-back) {\n        margin-left: 8px;\n    }\n\n    .card-header-title__left:not(.card-header-title__and-back):dir(rtl) {\n        margin-right: 8px;\n    }\n\n    ${mobileMediaCSS(css2`\n        .card-header-title {\n            font-size: 16px;\n        }\n        :host {\n            padding: 8px 8px 0;\n        }\n    `)}\n\n`;\n\n// libs/ui-components/src/lib/modules/card/card-header.element.ts\nimport \"@one-inch-community/ui-components/icon\";\nimport \"@one-inch-community/ui-components/button\";\nimport { dispatchEvent } from \"@one-inch-community/core/lit\";\nvar CardHeaderElement = class extends LitElement2 {\n  constructor() {\n    super();\n    this.headerTextPosition = \"center\";\n    this.backButton = false;\n    this.closeButton = false;\n    this.slotDirty = {};\n    this.slot = \"header\";\n  }\n  render() {\n    return html2`\n      <div class=\"card-header-container\">\n        <div class=\"position-container left-container\">\n          <slot @slotchange=\"${() => this.onSlotChange(\"left\")}\" name=\"left-container\"></slot>\n          ${this.getBackButton(\"left\")}\n          ${this.getHeader(\"left\")}\n        </div>\n        <div class=\"position-container center-container\">\n          <slot @slotchange=\"${() => this.onSlotChange(\"center\")}\" name=\"center-container\"></slot>\n          ${this.getHeader(\"center\")}\n        </div>\n        <div class=\"position-container right-container\">\n          <slot @slotchange=\"${() => this.onSlotChange(\"right\")}\" name=\"right-container\"></slot>\n          ${this.getCloseButton(\"right\")}\n        </div>\n      </div>\n    `;\n  }\n  firstUpdated() {\n    if (this.parentElement?.localName !== \"inch-card\") {\n      this.classList.add(\"not-native-mode\");\n    }\n  }\n  getHeader(containerName) {\n    const isSlotDirty = this.slotDirty[containerName] ?? false;\n    const classes = {\n      \"card-header-title\": true,\n      [`card-header-title__${containerName}`]: true,\n      \"card-header-title__and-back\": this.backButton\n    };\n    return this.headerTextPosition === containerName && !isSlotDirty ? html2`\n      <span class=\"${classMap(classes)}\">${this.headerText}</span>\n    ` : \"\";\n  }\n  getBackButton(containerName) {\n    const isSlotDirty = this.slotDirty[containerName] ?? false;\n    return this.backButton && !isSlotDirty ? html2`\n      <inch-button @click=\"${(event) => dispatchEvent(this, \"backCard\", null, event)}\" size=\"l\" type=\"tertiary-gray\">\n        <inch-icon icon=\"arrowLeft24\"></inch-icon>\n      </inch-button>\n    ` : \"\";\n  }\n  getCloseButton(containerName) {\n    const isSlotDirty = this.slotDirty[containerName] ?? false;\n    return this.closeButton && !isSlotDirty ? html2`\n      <inch-button @click=\"${(event) => dispatchEvent(this, \"closeCard\", null, event)}\" size=\"l\" type=\"tertiary-gray\">\n        <inch-icon icon=\"cross24\"></inch-icon>\n      </inch-button>\n    ` : \"\";\n  }\n  onSlotChange(slotName) {\n    this.slotDirty = { ...this.slotDirty, [slotName]: true };\n    this.requestUpdate();\n  }\n};\nCardHeaderElement.tahName = \"inch-card-header\";\nCardHeaderElement.styles = cardHeaderStyle;\n__decorateClass([\n  property2({ type: String, attribute: true })\n], CardHeaderElement.prototype, \"headerText\", 2);\n__decorateClass([\n  property2({ type: String, attribute: true })\n], CardHeaderElement.prototype, \"headerTextPosition\", 2);\n__decorateClass([\n  property2({ type: Boolean, attribute: true })\n], CardHeaderElement.prototype, \"backButton\", 2);\n__decorateClass([\n  property2({ type: Boolean, attribute: true })\n], CardHeaderElement.prototype, \"closeButton\", 2);\nCardHeaderElement = __decorateClass([\n  customElement2(CardHeaderElement.tahName)\n], CardHeaderElement);\nexport {\n  CardElement,\n  CardHeaderElement\n};\n//# sourceMappingURL=index.esm.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction*o(o,f){if(void 0!==o){let i=0;for(const t of o)yield f(t,i++)}}export{o as map};\n//# sourceMappingURL=map.js.map\n","var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\n\n// libs/widgets/src/lib/wallet-manage/wallet-manage.element.ts\nimport { html as html4, LitElement as LitElement4 } from \"lit\";\nimport { customElement as customElement4, property as property3 } from \"lit/decorators.js\";\nimport \"@one-inch-community/ui-components/card\";\n\n// libs/widgets/src/lib/wallet-manage/wallet-manage.style.ts\nimport { css } from \"lit\";\nvar walletManageStyle = css`\n  \n`;\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-list/wallet-list.element.ts\nimport { html as html3, LitElement as LitElement3 } from \"lit\";\nimport { customElement as customElement3 } from \"lit/decorators.js\";\nimport { map } from \"lit/directives/map.js\";\nimport { Task as Task2 } from \"@lit/task\";\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-view/wallet-view.element.ts\nimport { html as html2, LitElement as LitElement2 } from \"lit\";\nimport { customElement as customElement2, property as property2, state } from \"lit/decorators.js\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-view/wallet-view.style.ts\nimport { css as css2 } from \"lit\";\nvar walletViewStyle = css2`\n    \n    :host {\n        display: block;\n        transition: height .2s;\n        overflow: hidden;\n    }\n\n    .wallet-view-container {\n        display: flex;\n        align-content: center;\n        justify-content: space-between;\n        padding: 20px 16px;\n        border-radius: 16px;\n        transition: background-color .2s, height .2s;\n        position: relative;\n        overflow: hidden;\n        color: var(--color-content-content-primary);\n    }\n\n    .wallet-icon {\n        width: 24px;\n        height: 24px;\n    }\n\n    .wallet-name {\n        color: var(--color-content-content-primary);\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n    }\n    \n    .connect-icon {\n        color: var(--color-content-content-primary);\n        margin-left: auto;\n        transform: scale(0);\n        transition: transform .2s;\n    }\n    \n    .connect-icon__connected {\n        transform: scale(1);\n        transition: color .2s;\n        color: var(--color-content-content-primary);\n    }\n    \n    .connect-icon__active {\n        transform: scale(1);\n        transition: color .2s;\n        color: var(--primary);\n    }\n    \n    .data-container {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n    }\n\n    .loader-icon {\n        height: 24px;\n        width: 24px;\n        margin-left: auto;\n    }\n    \n    .address-list {\n        display: flex;\n        flex-direction: column;\n    }\n\n    inch-wallet-view-address-balance {\n        transform: translate3d(24px, 0, 0);\n        transition: transform .2s;\n        will-change: transform;\n    }\n    \n    .add-connection {\n        transition: transform .2s;\n        transform: scale(0);\n    }\n\n    .address-container__active inch-wallet-view-address-balance {\n        transform: translate3d(0, 0, 0);\n    }\n    \n    .wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data {\n        transform: translate3d(36px, 0, 0);\n        transition: transform .2s;\n    }\n    \n    .sub-wallet-icon:dir(rtl) {\n        transform: scale(-1, 1);\n    }\n    \n    @media (hover: hover) {\n        .wallet-view-container:hover {\n            background-color: var(--color-background-bg-secondary);\n        }\n        .wallet-view-container:hover .connect-icon {\n            transform: scale(1);\n        }\n        .wallet-view-container:hover inch-wallet-view-address-balance {\n            transform: translate3d(0, 0, 0);\n        }\n        .wallet-view-container:hover .add-connection {\n            transform: scale(1);\n        }\n        .wallet-view-container:hover.wallet-view-container__wc.wallet-view-container__connected .right-data {\n            transform: translate3d(0, 0, 0);\n        }\n    }\n    \n    @media (hover: none) {\n        .wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data {\n            transform: translate3d(0, 0, 0);\n        }\n\n        .add-connection {\n            transform: scale(1);\n        }\n    }\n\n    @keyframes rainbow {\n        0% {\n            background-position: 0;\n        }\n        100% {\n            background-position: 100%;\n        }\n    }\n\n`;\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-view/wallet-view.element.ts\nimport { formatHex } from \"@one-inch-community/core/formatters\";\nimport { when } from \"lit/directives/when.js\";\nimport { classMap } from \"lit/directives/class-map.js\";\nimport { map as litMap } from \"lit/directives/map.js\";\nimport \"@one-inch-community/ui-components/icon\";\nimport \"@one-inch-community/ui-components/button\";\nimport { appendStyle, async, subscribe } from \"@one-inch-community/core/lit\";\nimport { tap } from \"rxjs\";\nimport { consume } from \"@lit/context\";\n\n// libs/widgets/src/lib/wallet-manage/context.ts\nimport { createContext } from \"@lit/context\";\nvar controllerContext = createContext(Symbol(\"controller context\"));\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-view-address-balance/wallet-view-address-balance.element.ts\nimport { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { Task } from \"@lit/task\";\nimport { formatUnits } from \"viem\";\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-view-address-balance/wallet-view-address-balance.style.ts\nimport { css as css3 } from \"lit\";\nvar walletViewAddressBalanceStyle = css3`\n\n    :host {\n        color: var(--color-content-content-primary);\n        text-align: right;\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 500;\n        line-height: 24px;\n    }\n\n    .loader {\n        will-change: filter;\n        height: 20px;\n        width: 60px;\n        background-color: var(--color-background-bg-secondary);\n        border-radius: 4px;\n        animation: stub-loader-animation 3s ease-in-out infinite;\n    }\n\n    @keyframes stub-loader-animation {\n        0%, 100% {\n            filter: opacity(1);\n        }\n        50% {\n            filter: opacity(0.5);\n        }\n    }\n\n`;\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-view-address-balance/wallet-view-address-balance.element.ts\nimport { LongTimeCache } from \"@one-inch-community/core/cache\";\nimport { getChainById, nativeTokenAddress } from \"@one-inch-community/sdk/chain\";\nimport { TokenController } from \"@one-inch-community/sdk/tokens\";\nimport { formatNumber } from \"@one-inch-community/core/formatters\";\nvar storage = new LongTimeCache(\"inch-wallet-view-address-balance\", 7);\nvar WalletViewAddressBalanceElement = class extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.task = new Task(\n      this,\n      async ([chainId, address]) => {\n        if (!chainId || !address) throw new Error(\"\");\n        const balanceRecord = await TokenController.getTokenBalance(chainId, nativeTokenAddress, address);\n        const balance = formatNumber(formatUnits(BigInt(balanceRecord?.amount ?? 0), 18), 6);\n        storage.set([this.chainId, this.address].join(\":\"), balance);\n        return balance;\n      },\n      () => [this.chainId, this.address]\n    );\n  }\n  render() {\n    return this.task.render({\n      pending: () => this.getLoader(),\n      error: () => this.getLoader(),\n      complete: (balance) => {\n        if (this.chainId === void 0) throw new Error(\"\");\n        const chain = getChainById(this.chainId);\n        return html`<span>${balance} ${chain.nativeCurrency.symbol}</span>`;\n      }\n    });\n  }\n  getLoader() {\n    const loader = () => html`<div class=\"loader\"></div>`;\n    if (!this.chainId || !this.address) return loader();\n    const balance = storage.get([this.chainId, this.address].join(\":\"));\n    const chain = getChainById(this.chainId);\n    if (balance) {\n      return html`<span>${balance} ${chain.nativeCurrency.symbol}</span>`;\n    }\n    return loader();\n  }\n};\nWalletViewAddressBalanceElement.tagName = \"inch-wallet-view-address-balance\";\nWalletViewAddressBalanceElement.styles = walletViewAddressBalanceStyle;\n__decorateClass([\n  property({ type: Number })\n], WalletViewAddressBalanceElement.prototype, \"chainId\", 2);\n__decorateClass([\n  property({ type: String })\n], WalletViewAddressBalanceElement.prototype, \"address\", 2);\nWalletViewAddressBalanceElement = __decorateClass([\n  customElement(WalletViewAddressBalanceElement.tagName)\n], WalletViewAddressBalanceElement);\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-view/wallet-view.element.ts\nvar WalletViewElement = class extends LitElement2 {\n  constructor() {\n    super(...arguments);\n    this.showLoader = false;\n    this.isWalletConnected = false;\n    this.addressList = null;\n    this.activeAddress = null;\n    this.showAddresses = false;\n    this.isActiveWallet = false;\n  }\n  firstUpdated() {\n    if (!this.info) {\n      throw new Error(\"\");\n    }\n    const providerDataAdapter = this.getController().getDataAdapter(this.info);\n    const globalDataAdapter = this.getController().data;\n    subscribe(this, [\n      providerDataAdapter.isConnected$.pipe(tap((state3) => this.isWalletConnected = state3)),\n      providerDataAdapter.activeAddress$.pipe(tap((state3) => this.activeAddress = state3)),\n      providerDataAdapter.addresses$.pipe(tap((state3) => this.addressList = !state3.length ? null : state3)),\n      globalDataAdapter.chainId$.pipe(tap((state3) => this.chainId = state3 ?? void 0)),\n      globalDataAdapter.isActiveWallet$(this.info).pipe(tap((state3) => this.isActiveWallet = state3))\n    ], { requestUpdate: false });\n  }\n  render() {\n    if (!this.info) {\n      throw new Error(\"\");\n    }\n    const addressListLength = this.addressList?.length ?? 0;\n    const height = (this.showAddresses && addressListLength > 1 ? addressListLength * 64 : 0) + 64;\n    appendStyle(this, {\n      height: `${height}px`\n    });\n    const isWalletConnect = this.info.uuid === \"walletConnect\";\n    const classes = {\n      \"wallet-view-container\": true,\n      \"wallet-view-container__wc\": isWalletConnect,\n      \"wallet-view-container__connected\": this.isWalletConnected,\n      \"wallet-view-container__loading\": this.showLoader\n    };\n    return html2`\n      <div class=\"${classMap(classes)}\" @click=\"${() => this.onClick()}\">\n        <div class=\"data-container left-data\">\n          <img class=\"wallet-icon\" alt=\"${this.info.name}\" src=\"${this.info.icon}\">\n          <span class=\"wallet-name\">${this.info.name}</span>\n        </div>\n        <div class=\"data-container right-data\">\n          ${when(this.activeAddress, (address) => html2`\n            <span>${formatHex(address)}</span>\n          `)}\n          ${when(\n      this.showLoader,\n      () => html2`\n              <inch-icon class=\"loader-icon\" icon=\"fire48\"></inch-icon>`,\n      () => {\n        const classes2 = {\n          \"connect-icon\": true,\n          \"connect-icon__connected\": this.isWalletConnected,\n          \"connect-icon__active\": this.isActiveWallet\n        };\n        return html2`\n                <inch-icon class=\"${classMap(classes2)}\" icon=\"connect16\"></inch-icon>\n                ${when(isWalletConnect && this.activeAddress, () => html2`\n                  <inch-button @click=\"${(event) => this.onConnect(event)}\" class=\"add-connection\" size=\"l\" type=\"tertiary\">\n                    <inch-icon icon=\"plusCircle16\"></inch-icon>\n                  </inch-button>\n                `)}\n              `;\n      }\n    )}\n        </div>\n      </div>\n\n\n      ${when(\n      this.addressList && this.addressList.length > 1,\n      () => html2`\n          <div class=\"address-list\">\n            ${litMap(this.addressList, (address) => {\n        return html2`\n                <div @click=\"${() => this.setActiveAddress(address)}\" class=\"wallet-view-container address-container ${async(this.isActiveAddress(address).then((state3) => state3 ? \"address-container__active\" : \"\"))}\">\n                  <div class=\"data-container left-data\">\n                    <inch-icon class=\"sub-wallet-icon\" icon=\"cornerDownRight16\"></inch-icon>\n                    <span>${formatHex(address, { width: this.offsetWidth })}</span>\n                  </div>\n                  <div class=\"data-container right-data\">\n                    <inch-wallet-view-address-balance chainId=\"${ifDefined(this.chainId)}\" address=\"${address}\"></inch-wallet-view-address-balance>\n                    <inch-icon class=\"connect-icon ${async(this.isActiveAddress(address).then((state3) => state3 ? \"connect-icon__active\" : \"\"))}\" icon=\"link16\"></inch-icon>\n                  </div>\n                </div>\n              `;\n      })}\n          </div>\n        `\n    )}\n    `;\n  }\n  async onClick() {\n    if (this.isWalletConnected) {\n      if (this.addressList && this.addressList.length === 1) {\n        await this.setActiveAddress(this.addressList[0]);\n        return;\n      }\n      this.showAddresses = !this.showAddresses;\n      return;\n    }\n    await this.onConnect();\n  }\n  async onConnect(event) {\n    if (!this.info || this.showLoader) return;\n    event?.preventDefault();\n    event?.stopPropagation();\n    this.showLoader = true;\n    const isWalletConnect = this.info.uuid === \"walletConnect\";\n    if (this.isWalletConnected && isWalletConnect) {\n      this.showAddresses = await this.getController().addConnection(this.info);\n    } else {\n      this.showAddresses = await this.getController().connect(this.info);\n    }\n    this.showLoader = false;\n  }\n  async setActiveAddress(address) {\n    if (!this.info) return;\n    await this.getController().setActiveAddress(this.info, address);\n  }\n  getController() {\n    if (!this.controller) {\n      throw new Error(\"\");\n    }\n    return this.controller;\n  }\n  isActiveAddress(address) {\n    if (!this.info) throw new Error(\"\");\n    return this.getController().data.isActiveAddress(this.info, address);\n  }\n};\nWalletViewElement.tagName = \"inch-wallet-view\";\nWalletViewElement.styles = walletViewStyle;\n__decorateClass([\n  property2({ type: Object })\n], WalletViewElement.prototype, \"info\", 2);\n__decorateClass([\n  state()\n], WalletViewElement.prototype, \"showLoader\", 2);\n__decorateClass([\n  state()\n], WalletViewElement.prototype, \"isWalletConnected\", 2);\n__decorateClass([\n  state()\n], WalletViewElement.prototype, \"addressList\", 2);\n__decorateClass([\n  state()\n], WalletViewElement.prototype, \"activeAddress\", 2);\n__decorateClass([\n  state()\n], WalletViewElement.prototype, \"showAddresses\", 2);\n__decorateClass([\n  state()\n], WalletViewElement.prototype, \"isActiveWallet\", 2);\n__decorateClass([\n  state()\n], WalletViewElement.prototype, \"chainId\", 2);\n__decorateClass([\n  consume({ context: controllerContext })\n], WalletViewElement.prototype, \"controller\", 2);\nWalletViewElement = __decorateClass([\n  customElement2(WalletViewElement.tagName)\n], WalletViewElement);\n\n// libs/widgets/src/lib/wallet-manage/elements/wallet-list/wallet-list.element.ts\nimport { consume as consume2 } from \"@lit/context\";\nimport \"@one-inch-community/ui-components/icon\";\nimport \"@one-inch-community/ui-components/scroll\";\nvar WalletListElement = class extends LitElement3 {\n  constructor() {\n    super(...arguments);\n    this.task = new Task2(\n      this,\n      async () => await this.getController().getSupportedWallets(),\n      () => []\n    );\n  }\n  render() {\n    return this.task.render({\n      pending: () => html3`<inch-icon icon=\"unicornRun\"></inch-icon>`,\n      complete: (infoList) => html3`\n        <inch-scroll-view-consumer>\n          ${map(infoList, (info) => html3`<inch-wallet-view .info=\"${info}\"></inch-wallet-view>`)}\n        </inch-scroll-view-consumer>\n      `\n    });\n  }\n  getController() {\n    if (!this.controller) {\n      throw new Error(\"\");\n    }\n    return this.controller;\n  }\n};\nWalletListElement.tagName = \"inch-wallet-list\";\n__decorateClass([\n  consume2({ context: controllerContext })\n], WalletListElement.prototype, \"controller\", 2);\nWalletListElement = __decorateClass([\n  customElement3(WalletListElement.tagName)\n], WalletListElement);\n\n// libs/widgets/src/lib/wallet-manage/wallet-manage.element.ts\nimport { ContextProvider } from \"@lit/context\";\nimport { getMobileMatchMedia, changeMobileMatchMedia } from \"@one-inch-community/core/lit\";\nimport { ifDefined as ifDefined2 } from \"lit/directives/if-defined.js\";\nvar WalletManageElement = class extends LitElement4 {\n  constructor() {\n    super(...arguments);\n    this.mobileMedia = getMobileMatchMedia();\n    this.context = new ContextProvider(this, { context: controllerContext });\n  }\n  firstUpdated() {\n    changeMobileMatchMedia(this);\n  }\n  render() {\n    if (!this.controller) {\n      throw new Error(\"For the inch-wallet-manage widget to work, you need to pass the controller corresponding to the interface in the controller field\");\n    }\n    if (!this.context.value) {\n      this.context.setValue(this.controller);\n    }\n    const headerText = this.controller.isConnected ? \"Wallet management\" : \"Connect wallet\";\n    return html4`\n      <inch-card showShadow=\"${ifDefined2(this.showShadow)}\" forMobileView=\"${ifDefined2(this.mobileMedia.matches ? \"\" : void 0)}\">\n        <inch-card-header closeButton headerText=\"${headerText}\"></inch-card-header>\n        <inch-wallet-list></inch-wallet-list>\n      </inch-card>\n    `;\n  }\n};\nWalletManageElement.tagName = \"inch-wallet-manage\";\nWalletManageElement.styles = walletManageStyle;\n__decorateClass([\n  property3({ type: Object, attribute: false })\n], WalletManageElement.prototype, \"controller\", 2);\n__decorateClass([\n  property3({ type: Boolean })\n], WalletManageElement.prototype, \"showShadow\", 2);\nWalletManageElement = __decorateClass([\n  customElement4(WalletManageElement.tagName)\n], WalletManageElement);\n\n// libs/widgets/src/lib/wallet-manage/connect-wallet-view.element.ts\nimport { html as html5, LitElement as LitElement5 } from \"lit\";\n\n// libs/widgets/src/lib/wallet-manage/connect-wallet-view.style.ts\nimport { css as css4 } from \"lit\";\nimport { mobileMediaCSS } from \"@one-inch-community/core/lit\";\nvar connectWalletViewStyle = css4`\n\n    .connect-wallet-view-container {\n        padding: 8px 5px 8px 8px;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        border-radius: 12px;\n        background: var(--color-background-bg-primary);\n        height: 40px;\n        box-sizing: border-box;\n    }\n\n    .connect-wallet-view-icon {\n        width: 24px;\n        height: 24px;\n    }\n    \n    ${mobileMediaCSS(css4`\n        .connect-wallet-view-container {\n            padding: 6px;\n            width: 36px;\n            height: 36px;\n        }\n    `)}\n\n`;\n\n// libs/widgets/src/lib/wallet-manage/connect-wallet-view.element.ts\nimport { customElement as customElement5, property as property4 } from \"lit/decorators.js\";\nimport { observe, getMobileMatchMediaAndSubscribe } from \"@one-inch-community/core/lit\";\nimport { OverlayController } from \"@one-inch-community/ui-components/overlay\";\nimport \"@one-inch-community/ui-components/button\";\nimport { defer, map as map2 } from \"rxjs\";\nimport { formatHex as formatHex2 } from \"@one-inch-community/core/formatters\";\nimport { CacheActivePromise } from \"@one-inch-community/core/decorators\";\nimport { when as when2 } from \"lit/directives/when.js\";\nvar ConnectWalletViewElement = class extends LitElement5 {\n  constructor() {\n    super(...arguments);\n    this.mobileMatchMedia = getMobileMatchMediaAndSubscribe(this);\n    this.overlay = new OverlayController(\n      \"#app-root\",\n      this\n    );\n    this.overlayId = null;\n    this.chainId$ = defer(() => this.getController().data.chainId$);\n    this.activeAddress$ = defer(() => this.getController().data.activeAddress$);\n    this.info$ = defer(() => this.getController().data.info$);\n    this.icon$ = this.info$.pipe(map2((item) => item.icon));\n    this.name$ = this.info$.pipe(map2((item) => item.name));\n    this.activeAddressView$ = this.activeAddress$.pipe(map2((address) => {\n      return address && formatHex2(address);\n    }));\n    this.view$ = defer(() => this.getController().data.isConnected$).pipe(\n      map2((isConnected) => {\n        return isConnected ? this.getConnectedView() : this.getConnectWalletButton();\n      })\n    );\n  }\n  render() {\n    return html5`${observe(this.view$)}`;\n  }\n  getConnectedView() {\n    return html5`\n      <div class=\"connect-wallet-view-container\" @click=\"${() => this.mobileMatchMedia.matches && this.onOpenConnectView()}\">\n        <img class=\"connect-wallet-view-icon\" alt=\"${observe(this.name$)}\" src=\"${observe(this.icon$)}\">\n        ${when2(!this.mobileMatchMedia.matches, () => html5`\n          <inch-wallet-view-address-balance address=\"${observe(this.activeAddress$)}\" chainId=\"${observe(this.chainId$)}\"></inch-wallet-view-address-balance>\n          <inch-button @click=\"${() => this.onOpenConnectView()}\" type=\"secondary\" size=\"m\">\n            ${observe(this.activeAddressView$)}\n          </inch-button>\n        `)}\n      </div>\n    `;\n  }\n  getConnectWalletButton() {\n    return html5`\n      <inch-button @click=\"${() => this.onOpenConnectView()}\" type=\"secondary\" >Connect wallet</inch-button>\n    `;\n  }\n  getController() {\n    if (!this.controller) {\n      throw new Error(\"\");\n    }\n    return this.controller;\n  }\n  async onOpenConnectView() {\n    if (this.overlay.isOpen) {\n      await this.overlay.close(this.overlayId ?? 0);\n      this.overlayId = null;\n      return;\n    }\n    this.overlayId = await this.overlay.open(html5`\n      <inch-wallet-manage @closeCard=\"${() => {\n      if (!this.overlayId) return;\n      this.overlay.close(this.overlayId);\n      this.overlayId = null;\n    }}\" .controller=\"${this.controller}\" ></inch-wallet-manage>\n    `);\n  }\n};\nConnectWalletViewElement.tagName = \"inch-connect-wallet-view\";\nConnectWalletViewElement.styles = connectWalletViewStyle;\n__decorateClass([\n  property4({ type: Object, attribute: false })\n], ConnectWalletViewElement.prototype, \"controller\", 2);\n__decorateClass([\n  CacheActivePromise()\n], ConnectWalletViewElement.prototype, \"onOpenConnectView\", 1);\nConnectWalletViewElement = __decorateClass([\n  customElement5(ConnectWalletViewElement.tagName)\n], ConnectWalletViewElement);\n\n// libs/widgets/src/lib/wallet-manage/chain-selector.element.ts\nimport { html as html8, LitElement as LitElement8 } from \"lit\";\nimport { customElement as customElement8, property as property7 } from \"lit/decorators.js\";\nimport \"@one-inch-community/ui-components/button\";\nimport \"@one-inch-community/ui-components/icon\";\nimport { observe as observe2, getMobileMatchMediaAndSubscribe as getMobileMatchMediaAndSubscribe4 } from \"@one-inch-community/core/lit\";\n\n// libs/widgets/src/lib/wallet-manage/chain-selector.style.ts\nimport { css as css5 } from \"lit\";\nvar chainSelectorStyle = css5`\n\n    .unsupported {\n        color: var(--color-core-red-critical);\n    }\n    \n`;\n\n// libs/widgets/src/lib/wallet-manage/chain-selector.element.ts\nimport { defer as defer2, filter, map as map3 } from \"rxjs\";\nimport { when as when4 } from \"lit/directives/when.js\";\nimport { OverlayController as OverlayController2 } from \"@one-inch-community/ui-components/overlay\";\n\n// libs/widgets/src/lib/wallet-manage/chain-view-config.ts\nimport { ChainId } from \"@one-inch-community/models\";\nimport { isL2Chain } from \"@one-inch-community/sdk/chain\";\nimport { isSupportFusion } from \"@one-inch-community/sdk/swap\";\nvar chainViewConfig = {\n  [ChainId.eth]: { name: \"Ethereum\", iconName: \"eth24\" },\n  [ChainId.arbitrum]: { name: \"Arbitrum\", iconName: \"arbitrum24\" },\n  [ChainId.op]: { name: \"Optimism\", iconName: \"op24\" },\n  [ChainId.zkSyncEra]: { name: \"zkSync Era\", iconName: \"zkSyncEra24\" },\n  [ChainId.bnb]: { name: \"BNB Smart Chain\", iconName: \"bnb24\", priority: 1 },\n  [ChainId.matic]: { name: \"Polygon\", iconName: \"matic24\", priority: 1 },\n  [ChainId.gnosis]: { name: \"Gnosis\", iconName: \"gnosis24\" },\n  [ChainId.avalanche]: { name: \"Avalanche\", iconName: \"avalanche24\" },\n  [ChainId.fantom]: { name: \"Fantom\", iconName: \"fantom24\" },\n  [ChainId.aurora]: { name: \"Aurora\", iconName: \"aurora24\" },\n  [ChainId.klaytn]: { name: \"Klaytn\", iconName: \"klaytn24\" }\n};\nvar chainList = Object.keys(chainViewConfig).filter((chainId) => isSupportFusion(+chainId)).map((chainId) => ({ ...chainViewConfig[chainId], chainId: Number(chainId) })).sort((info1, info2) => {\n  if (info1.chainId == ChainId.eth) return -1;\n  if (info2.chainId == ChainId.eth) return 1;\n  if (isL2Chain(info1.chainId)) return -1;\n  if (isL2Chain(info2.chainId)) return 1;\n  return (info2.priority ?? 0) - (info1.priority ?? 0);\n});\n\n// libs/widgets/src/lib/wallet-manage/elements/chain-selector-list/chain-selector-list.element.ts\nimport { html as html7, LitElement as LitElement7 } from \"lit\";\n\n// libs/widgets/src/lib/wallet-manage/elements/chain-selector-list/chain-selector-list.style.ts\nimport { css as css6 } from \"lit\";\nvar chainSelectorListStyle = css6`\n\n    .card {\n        height: 100%;\n    }\n\n    .scroll-container {\n        position: relative;\n        height: 100%;\n        overflow-y: auto;\n    }\n\n    .scroll-overlay {\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n    }\n\n`;\n\n// libs/widgets/src/lib/wallet-manage/elements/chain-selector-list/chain-selector-list.element.ts\nimport { customElement as customElement7, property as property6, state as state2 } from \"lit/decorators.js\";\nimport { ifDefined as ifDefined3 } from \"lit/directives/if-defined.js\";\nimport \"@one-inch-community/ui-components/card\";\nimport { getMobileMatchMediaAndSubscribe as getMobileMatchMediaAndSubscribe3, subscribe as subscribe2 } from \"@one-inch-community/core/lit\";\nimport \"@one-inch-community/ui-components/scroll\";\n\n// libs/widgets/src/lib/wallet-manage/elements/chain-selector-list-item/chain-selector-list-item.element.ts\nimport { html as html6, LitElement as LitElement6 } from \"lit\";\n\n// libs/widgets/src/lib/wallet-manage/elements/chain-selector-list-item/chain-selector-list-item.style.ts\nimport { mobileMediaCSS as mobileMediaCSS2 } from \"@one-inch-community/core/lit\";\nimport { css as css7 } from \"lit\";\nvar chainSelectorListItemStyle = css7`\n    \n    :host {\n        width: 100%;\n        height: 100%;\n    }\n\n    .container {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        height: 40px;\n        padding: 0 8px;\n        border-radius: 12px;\n        background-color: transparent;\n        transition: background-color .2s;\n        color: var(--color-content-content-primary);\n        font-size: 14px;\n    }\n    \n    .active .list-icon {\n        transform: scale(1);\n        color: var(--primary);\n    }\n    \n    .list-icon {\n        margin-left: auto;\n        transition: transform .2s;\n        transform: scale(0);\n    }\n    \n    @media (hover: hover) {\n        .container:hover {\n            background-color: var(--color-background-bg-secondary);\n        }\n        .container:hover .list-icon {\n            transform: scale(1);\n        }\n    }\n\n    .container:active {\n        background-color: var(--color-background-bg-secondary);\n    }\n\n    ${mobileMediaCSS2(css7`\n        .container {\n            height: 50px;\n            font-size: 16px;\n        }\n    `)}\n\n`;\n\n// libs/widgets/src/lib/wallet-manage/elements/chain-selector-list-item/chain-selector-list-item.element.ts\nimport { customElement as customElement6, property as property5 } from \"lit/decorators.js\";\nimport { classMap as classMap2 } from \"lit/directives/class-map.js\";\nimport \"@one-inch-community/ui-components/icon\";\nimport { isL2Chain as isL2Chain2 } from \"@one-inch-community/sdk/chain\";\nimport { dispatchEvent, getMobileMatchMediaAndSubscribe as getMobileMatchMediaAndSubscribe2, isRTLCurrentLocale } from \"@one-inch-community/core/lit\";\nimport { when as when3 } from \"lit/directives/when.js\";\nvar ChainSelectorListItemElement = class extends LitElement6 {\n  constructor() {\n    super(...arguments);\n    this.mobileMedia = getMobileMatchMediaAndSubscribe2(this);\n  }\n  render() {\n    if (!this.info) return;\n    const isL2 = isL2Chain2(this.info.chainId);\n    const isActiveChain = Number(this.info.chainId) === this.activeChainId;\n    const classes = {\n      container: true,\n      active: isActiveChain\n    };\n    const iconSize = this.mobileMedia.matches ? 26 : 24;\n    return html6`\n      <div class=\"${classMap2(classes)}\" @click=\"${() => this.setChainId()}\">\n        ${when3(isL2, () => html6`<inch-icon icon=\"${isRTLCurrentLocale() ? \"l2ChainRTL24\" : \"l2Chain24\"}\"></inch-icon>`)}\n        <inch-icon width=\"${iconSize}px\" height=\"${iconSize}px\" icon=\"${this.info.iconName}\"></inch-icon>\n        <span>${this.info.name}</span>\n        <inch-icon class=\"list-icon\" icon=\"link16\"></inch-icon>\n      </div>\n    `;\n  }\n  async setChainId() {\n    if (!this.info) throw new Error(\"\");\n    await this.controller?.changeChain(this.info.chainId);\n    dispatchEvent(this, \"closeCard\", null);\n  }\n};\nChainSelectorListItemElement.tagName = \"inch-chain-selector-list-item\";\nChainSelectorListItemElement.styles = chainSelectorListItemStyle;\n__decorateClass([\n  property5({ type: Object })\n], ChainSelectorListItemElement.prototype, \"info\", 2);\n__decorateClass([\n  property5({ type: Number })\n], ChainSelectorListItemElement.prototype, \"activeChainId\", 2);\n__decorateClass([\n  property5({ type: Object, attribute: false })\n], ChainSelectorListItemElement.prototype, \"controller\", 2);\nChainSelectorListItemElement = __decorateClass([\n  customElement6(ChainSelectorListItemElement.tagName)\n], ChainSelectorListItemElement);\n\n// libs/widgets/src/lib/wallet-manage/elements/chain-selector-list/chain-selector-list.element.ts\nimport { tap as tap2 } from \"rxjs\";\nvar ChainSelectorListElement = class extends LitElement7 {\n  constructor() {\n    super(...arguments);\n    this.mobileMedia = getMobileMatchMediaAndSubscribe3(this);\n  }\n  firstUpdated() {\n    if (!this.controller) throw new Error(\"\");\n    subscribe2(this, [\n      this.controller.data.chainId$.pipe(tap2((chainId) => this.activeChainId = chainId ?? void 0))\n    ], { requestUpdate: false });\n  }\n  render() {\n    return this.mobileMedia.matches ? this.getMobileList() : this.getDesktopList();\n  }\n  getList() {\n    return chainList.map((info) => html7`\n      <inch-chain-selector-list-item\n        .info=\"${info}\"\n        .controller=\"${this.controller}\"\n        activeChainId=\"${ifDefined3(this.activeChainId)}\"\n      ></inch-chain-selector-list-item>\n    `);\n  }\n  getMobileList() {\n    return html7`\n      <inch-card class=\"card\" forMobileView>\n        <inch-card-header closeButton headerText=\"Select chain\"></inch-card-header>\n        <inch-scroll-view-consumer >\n          ${this.getList()}\n        </inch-scroll-view-consumer>\n      </inch-card>\n    `;\n  }\n  getDesktopList() {\n    return html7`\n      <inch-card>\n        ${this.getList()}\n      </inch-card>\n    `;\n  }\n};\nChainSelectorListElement.tagName = \"inch-chain-selector-list\";\nChainSelectorListElement.styles = [\n  chainSelectorListStyle\n];\n__decorateClass([\n  property6({ type: Object, attribute: false })\n], ChainSelectorListElement.prototype, \"controller\", 2);\n__decorateClass([\n  state2()\n], ChainSelectorListElement.prototype, \"activeChainId\", 2);\nChainSelectorListElement = __decorateClass([\n  customElement7(ChainSelectorListElement.tagName)\n], ChainSelectorListElement);\n\n// libs/widgets/src/lib/wallet-manage/chain-selector.element.ts\nimport { CacheActivePromise as CacheActivePromise2 } from \"@one-inch-community/core/decorators\";\nvar ChainSelectorElement = class extends LitElement8 {\n  constructor() {\n    super(...arguments);\n    this.mobileMedia = getMobileMatchMediaAndSubscribe4(this);\n    this.overlay = new OverlayController2(\"#app-root\", this);\n    this.overlayId = null;\n    this.chainId$ = defer2(() => this.getController().data.chainId$);\n    this.unsupportedChainId$ = this.chainId$.pipe(\n      map3((chainId) => !!chainId && !!chainViewConfig[chainId] ? \"\" : \"unsupported\")\n    );\n    this.chainIdIconName$ = this.chainId$.pipe(\n      filter(Boolean),\n      map3((chainId) => {\n        if (!chainViewConfig[chainId]) return \"alert24\";\n        return chainViewConfig[chainId].iconName;\n      })\n    );\n    this.chainIdName$ = this.chainId$.pipe(\n      filter(Boolean),\n      map3((chainId) => {\n        if (!chainViewConfig[chainId]) return \"Unsupported chain\";\n        return chainViewConfig[chainId].name;\n      })\n    );\n  }\n  render() {\n    return html8`\n      <inch-button @click=\"${() => this.onClick()}\" size=\"l\" type=\"primary-gray\">\n        <inch-icon class=\"${observe2(this.unsupportedChainId$)}\" icon=\"${observe2(this.chainIdIconName$)}\"></inch-icon>\n        ${when4(!this.mobileMedia.matches, () => html8`\n          <span>${observe2(this.chainIdName$)}</span>\n          <inch-icon icon=\"chevronDown16\"></inch-icon>\n        `)}\n      </inch-button>\n    `;\n  }\n  async onClick() {\n    if (this.overlay.isOpenOverlay(this.overlayId ?? 0)) {\n      this.closeOverlay();\n      return;\n    }\n    this.overlayId = await this.overlay.open(html8`\n      <inch-chain-selector-list\n        .controller=\"${this.controller}\"\n        @closeCard=\"${() => this.closeOverlay()}\"\n      ></inch-chain-selector-list>\n    `);\n  }\n  closeOverlay() {\n    if (!this.overlayId) return;\n    this.overlay.close(this.overlayId);\n    this.overlayId = null;\n  }\n  getController() {\n    if (!this.controller) {\n      throw new Error(\"\");\n    }\n    return this.controller;\n  }\n};\nChainSelectorElement.tagName = \"inch-chain-selector\";\nChainSelectorElement.styles = chainSelectorStyle;\n__decorateClass([\n  property7({ type: Object, attribute: false })\n], ChainSelectorElement.prototype, \"controller\", 2);\n__decorateClass([\n  CacheActivePromise2()\n], ChainSelectorElement.prototype, \"onClick\", 1);\nChainSelectorElement = __decorateClass([\n  customElement8(ChainSelectorElement.tagName)\n], ChainSelectorElement);\nexport {\n  ChainSelectorElement,\n  ChainSelectorListElement,\n  ConnectWalletViewElement,\n  WalletManageElement\n};\n//# sourceMappingURL=index.esm.js.map\n","import { getMobileMatchMedia } from '@one-inch-community/core/lit';\n\nexport function getHeaderHeight() {\n  const mobileMedia = getMobileMatchMedia()\n  if (mobileMedia.matches) {\n    return 56\n  }\n  return 72\n}\n\nexport function getFooterHeight() {\n  const mobileMedia = getMobileMatchMedia()\n  if (mobileMedia.matches) {\n    return 56\n  }\n  return 72\n}\n","import { html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { headerStyle } from './header.style';\nimport { getMobileMatchMediaAndSubscribe } from '@one-inch-community/core/lit';\nimport '@one-inch-community/ui-components/icon';\nimport '@one-inch-community/widgets/wallet-manage';\nimport '@one-inch-community/widgets/notifications'\nimport { getHeaderHeight } from '../../platform/sizes';\nimport { styleMap } from 'lit/directives/style-map.js';\nimport { consume } from '@lit/context';\nimport { ApplicationContextToken } from '@one-inch-community/core/application-context';\nimport { IApplicationContext } from '@one-inch-community/models';\n\n@customElement(HeaderElement.tagName)\nexport class HeaderElement extends LitElement {\n  static tagName = 'inch-header' as const\n\n  static override styles = headerStyle\n\n  @consume({ context: ApplicationContextToken })\n  applicationContext!: IApplicationContext\n\n  private mobileMedia = getMobileMatchMediaAndSubscribe(this)\n\n  protected render() {\n    if (this.mobileMedia.matches) {\n      return this.getMobileHeader()\n    }\n\n    return this.getDesktopHeader()\n  }\n\n  private getDesktopHeader() {\n    const styles = {\n      height: `${getHeaderHeight()}px`\n    }\n    return html`\n      <div class=\"header-container\" style=\"${styleMap(styles)}\">\n        <div class=\"left-content\">\n          <inch-icon icon=\"logoFull\"></inch-icon>\n        </div>\n        <div class=\"right-content\">\n          <inch-chain-selector .controller=\"${this.applicationContext.connectWalletController}\"></inch-chain-selector>\n          <inch-connect-wallet-view .controller=\"${this.applicationContext.connectWalletController}\"></inch-connect-wallet-view>\n          <inch-notifications-open-button></inch-notifications-open-button>\n        </div>\n      </div>\n    `\n  }\n\n  private getMobileHeader() {\n    return html`\n      <div class=\"header-container mobile-header\">\n        <inch-icon icon=\"logoFull\"></inch-icon>\n      </div>\n    `\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'inch-header': HeaderElement\n  }\n}\n","import { css } from 'lit';\n\nexport const footerStyle = css`\n\n    .footer-container {\n        width: 100%;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        position: relative;\n        border-top: 1px solid var(--color-border-border-tertiary);\n        padding: 0 72px;\n        background-color: var(--color-background-bg-body);\n        gap: 8px;\n        margin-top: 32px;\n    }\n    \n    .mobile-footer {\n        height: 72px;\n        width: 100vw;\n        position: sticky;\n        padding: 16px 8px;\n        bottom: 0;\n        z-index: 9;\n        justify-content: space-between;\n    }\n    \n    .power-by {\n        color: var(--color-content-content-secondary);\n        font-size: 13px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 16px;\n    }\n    \n    .version {\n        color: var(--color-content-content-secondary);\n        font-size: 13px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 16px;\n        transform: translateX(-100%);\n        opacity: 0;\n        transition: transform .2s, opacity .2s;\n    }\n    \n    .version:dir(rtl) {\n        transform: translateX(100%);\n    }\n    \n    .footer-content-container {\n        display: flex;\n        gap: 8px;\n    }\n    \n    @media (hover: hover) {\n        .footer-container:hover .version {\n            transform: translateX(0);\n            opacity: 1;\n        }\n    }\n\n`\n","import { html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\nimport { footerStyle } from './footer.style';\nimport { getMobileMatchMedia, changeMobileMatchMedia } from '@one-inch-community/core/lit';\nimport { getEnvironmentValue } from '@one-inch-community/core/environment';\nimport { getFooterHeight } from '../../platform/sizes';\nimport { consume } from '@lit/context';\nimport { ApplicationContextToken } from '@one-inch-community/core/application-context';\nimport { IApplicationContext } from '@one-inch-community/models';\nimport '@one-inch-community/widgets/wallet-manage';\nimport '@one-inch-community/widgets/notifications'\n\n@customElement(FooterElement.tagName)\nexport class FooterElement extends LitElement {\n  static tagName = 'inch-footer' as const\n\n  static styles = footerStyle\n\n  @consume({ context: ApplicationContextToken })\n  applicationContext!: IApplicationContext\n\n  private mobileMedia = getMobileMatchMedia()\n\n  connectedCallback() {\n    super.connectedCallback();\n    changeMobileMatchMedia(this)\n  }\n\n  protected render() {\n    if (this.mobileMedia.matches) {\n      return this.getMobileFooter()\n    }\n\n    return this.getDesktopFooter()\n  }\n\n  private getDesktopFooter() {\n    const styles = {\n      height: `${getFooterHeight()}px`\n    }\n    return html`\n      <div class=\"footer-container\" style=\"${styleMap(styles)}\">\n        <span class=\"power-by\">© ${new Date().getFullYear()} Powered by 1inch</span>\n        <span class=\"version\">version: ${getEnvironmentValue('appVersion')}</span>\n      </div>\n    `\n  }\n\n  private getMobileFooter() {\n    return html`\n      <div class=\"footer-container mobile-footer\">\n        <div class=\"footer-content-container\">\n          <inch-notifications-open-button></inch-notifications-open-button>\n        </div>\n        <div class=\"footer-content-container\">\n          <inch-chain-selector .controller=\"${this.applicationContext.connectWalletController}\"></inch-chain-selector>\n          <inch-connect-wallet-view .controller=\"${this.applicationContext.connectWalletController}\"></inch-connect-wallet-view>\n        </div>\n      \n      </div>\n    `\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'inch-footer': FooterElement\n  }\n}\n","var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\n\nexport {\n  __decorateClass\n};\n//# sourceMappingURL=chunk-EUXUH3YW.js.map\n","var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\n\nexport {\n  __decorateClass\n};\n//# sourceMappingURL=chunk-EUXUH3YW.js.map\n","import {\n  __decorateClass\n} from \"./chunk-EUXUH3YW.js\";\n\n// libs/widgets/src/lib/token-icon/token-icon.element.ts\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { Task } from \"@lit/task\";\n\n// libs/widgets/src/lib/token-icon/repositories/index.ts\nvar repositories = [\n  () => import(\"./one-inch.repository-AF3TE4XT.js\").then((m) => m.oneInchRepository),\n  () => import(\"./uniswap.repository-MXTOGC4T.js\").then((m) => m.uniSwapRepository),\n  () => import(\"./trustwallet.repository-P6G45YEI.js\").then((m) => m.trustWalletRepository),\n  // () => import('./sushiswap.repository').then(m => m.sushiSwapRepository),\n  () => import(\"./pancakeswap.repository-LI7PUPCX.js\").then((m) => m.pancakeSwapRepository)\n];\n\n// libs/widgets/src/lib/token-icon/token-icon.element.ts\nimport { ChainId } from \"@one-inch-community/models\";\nimport { getWrapperNativeToken, isNativeToken } from \"@one-inch-community/sdk/chain\";\nimport { TokenController } from \"@one-inch-community/sdk/tokens\";\nvar TokenIconElement = class extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.size = 24;\n    this.task = new Task(this, {\n      task: ([symbol, address, chainId], { signal }) => {\n        return iconLoader(signal, chainId, symbol, address);\n      },\n      args: () => [this.symbol, this.address, this.chainId]\n    });\n  }\n  render() {\n    return this.task.render({\n      error: () => symbolView(this.size, this.symbol),\n      pending: () => symbolView(this.size, this.symbol, true),\n      initial: () => symbolView(this.size, this.symbol, true),\n      complete: (value) => {\n        value.width = this.size;\n        value.height = this.size;\n        value.ondragstart = () => false;\n        return html`${value}`;\n      }\n    });\n  }\n  updated() {\n    this.style.width = `${this.size}px`;\n    this.style.height = `${this.size}px`;\n  }\n};\nTokenIconElement.tagName = \"inch-token-icon\";\nTokenIconElement.styles = css`\n\n      :host {\n          user-select: none;\n          outline: none;\n          -webkit-user-select: none;\n          -webkit-tap-highlight-color: transparent;\n      }\n\n      .stub {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background-color: var(--color-background-bg-secondary);\n          border-radius: 50%;\n          color: var(--color-content-content-secondary);\n          position: relative;\n      }\n      .stub-loader {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n          border: 1px solid;\n          border-bottom-color: var(--secondary);\n          border-top-color: var(--secondary);\n          animation: spin 1s linear infinite;\n      }\n      \n      img {\n          user-select: none;\n          outline: none;\n          -webkit-user-select: none;\n          -webkit-tap-highlight-color: transparent;\n      }\n\n      @keyframes spin {\n          0% {\n              transform: rotate(0deg);\n          }\n\n          100% {\n              transform: rotate(360deg);\n          }\n      }\n  \n  `;\n__decorateClass([\n  property({ type: String, attribute: true })\n], TokenIconElement.prototype, \"symbol\", 2);\n__decorateClass([\n  property({ type: String, attribute: true })\n], TokenIconElement.prototype, \"address\", 2);\n__decorateClass([\n  property({ type: Number, attribute: true })\n], TokenIconElement.prototype, \"chainId\", 2);\n__decorateClass([\n  property({ type: Number, attribute: true })\n], TokenIconElement.prototype, \"size\", 2);\nTokenIconElement = __decorateClass([\n  customElement(TokenIconElement.tagName)\n], TokenIconElement);\nfunction symbolView(size, symbol, showLoader) {\n  return html`\n    <div style=\"width: ${size}px; height: ${size}px; font-size: ${size < 40 ? 13 : 16}px\" class=\"stub\">\n      <span>${symbol?.slice(0, size < 40 ? 1 : 2) ?? \"\"}</span>\n      ${showLoader ? html`<span class=\"stub-loader\"></span>` : \"\"}\n    </div>\n  `;\n}\nasync function iconLoader(signal, chainId, symbol, address) {\n  let result = await loadFromDatabase({ chainId, symbol, address, signal });\n  if (result === null) {\n    result = await loadFromRepository({ chainId, symbol, address, signal });\n  }\n  if (result === null) {\n    result = await loadIconFromMultiChain({ chainId, symbol, address, signal });\n  }\n  if (result === null) {\n    throw new Error(\"token icon not fount\");\n  }\n  return result;\n}\nasync function loadFromDatabase(data) {\n  if (!data.chainId || !data.address) {\n    return null;\n  }\n  const token = await TokenController.getToken(data.chainId, data.address);\n  if (!token || !token.logoURL) {\n    return null;\n  }\n  return await new Promise((resolve) => {\n    const img = new Image();\n    img.onerror = () => resolve(null);\n    img.onload = () => resolve(img);\n    img.src = token.logoURL;\n  });\n}\nasync function loadFromRepository(data, index = 0) {\n  const repositoryLoader = repositories[index];\n  if (!repositoryLoader) return null;\n  try {\n    const repository = await repositoryLoader();\n    return await repository(data);\n  } catch (error) {\n    return await loadFromRepository(data, index + 1);\n  }\n}\nasync function loadIconFromMultiChain(data) {\n  if (data.chainId === ChainId.eth || !data.symbol) return null;\n  const tokens = await TokenController.getTokenBySymbol(ChainId.eth, data.symbol);\n  if (data.chainId && data.address && isNativeToken(data.address)) {\n    const wrapToken = getWrapperNativeToken(data.chainId);\n    tokens.push(wrapToken);\n  }\n  for (const token of tokens) {\n    const result = await loadFromRepository({ ...data, chainId: token.chainId, address: token.address });\n    if (result) return result;\n  }\n  return null;\n}\nexport {\n  TokenIconElement\n};\n//# sourceMappingURL=index.esm.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst r=(r,o,t)=>{for(const t of o)if(t[0]===r)return(0,t[1])();return t?.()};export{r as choose};\n//# sourceMappingURL=choose.js.map\n","var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\n\n// libs/ui-components/src/lib/modules/segmented-control/segmented-control.element.ts\nimport { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n// libs/ui-components/src/lib/modules/segmented-control/segmented-control.style.ts\nimport { mobileMediaCSS } from \"@one-inch-community/core/lit\";\nimport { css } from \"lit\";\nvar segmentedControlContainerStyle = css`\n    :host {\n        display: block;\n    }\n    \n    .container {\n        position: relative;\n        background-color: var(--color-background-bg-secondary);\n        padding: 2px;\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n        user-select: none;\n        outline: none;\n        box-sizing: border-box;\n        width: 100%;\n    }\n    \n    .container-m {\n        border-radius: 10px;\n        height: 36px;\n    }\n    \n    .container-l {\n        border-radius: 12px;\n        height: 48px;\n    }\n    \n    .caret {\n        position: absolute;\n        background-color: var(--color-background-bg-active);\n        height: 32px;\n        border-radius: 8px;\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.12), 0 1px 4px 0 rgba(0, 0, 0, 0.12);\n        color: var(--primary);\n        width: 30px;\n        z-index: 0;\n    }\n\n    .caret-transition {\n        transition: transform .2s;\n    }\n    \n`;\nvar segmentedControlItemStyle = css`\n\n    .item {\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        justify-items: center;\n        padding: 6px 16px;\n        z-index: 1;\n        width: 100%;\n        font-size: 16px;\n        justify-content: center;\n        text-wrap: nowrap;\n        transition: color .2s, background-color .2s;\n        color: var(--color-content-content-primary);\n    }\n    \n    .select {\n        color: var(--primary);\n    }\n    \n    .item-input {\n        user-select: none;\n        outline: none;\n        border: none;\n        background-color: transparent;\n    }\n\n    ${mobileMediaCSS(css`\n        .item {\n            font-size: 13px;\n            padding: 6px 12px;\n        }\n    `)}\n\n`;\n\n// libs/ui-components/src/lib/modules/segmented-control/segmented-control.element.ts\nimport { classMap } from \"lit/directives/class-map.js\";\nimport { map } from \"lit/directives/map.js\";\nimport { buildEvent, isRTLCurrentLocale, localeChange$, subscribe } from \"@one-inch-community/core/lit\";\nimport { tap } from \"rxjs\";\nvar SegmentedControlElement = class extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.size = \"m\";\n    this.items = [];\n    this.itemRefList = [];\n    this.caretRef = null;\n  }\n  render() {\n    const classes = {\n      [`container-${this.size}`]: true\n    };\n    return html`\n      <div class=\"container ${classMap(classes)}\">\n        ${map(this.items || [], (item) => this.getItemView(item))}\n        <div class=\"caret\"></div>\n      </div>\n    `;\n  }\n  async firstUpdated() {\n    this.itemRefList = Array.from(this.renderRoot.querySelectorAll(\"div.item\"));\n    this.caretRef = this.renderRoot.querySelector(\".caret\");\n    await this.updateComplete;\n    this.requestUpdate();\n    await new Promise((resolve) => setTimeout(resolve, 60));\n    this.caretRef?.classList.add(\"caret-transition\");\n    this.requestUpdate();\n    subscribe(this, [\n      localeChange$.pipe(tap(() => this.updated()))\n    ]);\n  }\n  updated() {\n    if (!this.caretRef) return;\n    let offset = 0;\n    let width = 0;\n    for (const el of this.itemRefList) {\n      if (el.classList.contains(\"select\")) {\n        width = el.offsetWidth;\n        break;\n      }\n      offset += el.offsetWidth;\n    }\n    this.caretRef.style.width = `${width}px`;\n    this.caretRef.style.transform = `translateX(${offset * (isRTLCurrentLocale() ? -1 : 1)}px)`;\n  }\n  getItemView(item) {\n    const classes = {\n      [`item-${this.size}`]: true,\n      select: item.value === this.select?.value\n    };\n    let templateRef = html`${item.label}`;\n    if (item.template) {\n      templateRef = item.template(\n        item,\n        item.value === this.select?.value,\n        this.caretRef\n      );\n    }\n    return html`\n      <div @click=\"${(event) => this.onSelect(item, event)}\" class=\"item ${classMap(classes)}\">\n        ${templateRef}\n      </div>\n    `;\n  }\n  onSelect(item, event) {\n    this.select = item;\n    this.requestUpdate();\n    this.dispatchEvent(buildEvent(\"change\", item.value, event));\n  }\n};\nSegmentedControlElement.tagName = \"inch-segmented-control\";\nSegmentedControlElement.styles = [\n  segmentedControlContainerStyle,\n  segmentedControlItemStyle\n];\n__decorateClass([\n  property({ type: String })\n], SegmentedControlElement.prototype, \"size\", 2);\n__decorateClass([\n  property({ type: Array, attribute: false })\n], SegmentedControlElement.prototype, \"items\", 2);\n__decorateClass([\n  property({ type: Object, attribute: false })\n], SegmentedControlElement.prototype, \"select\", 2);\nSegmentedControlElement = __decorateClass([\n  customElement(SegmentedControlElement.tagName)\n], SegmentedControlElement);\nexport {\n  SegmentedControlElement\n};\n//# sourceMappingURL=index.esm.js.map\n","var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\n\n// libs/ui-components/src/lib/modules/scene/scene.controller.ts\nimport { html as html2, render } from \"lit\";\n\n// libs/ui-components/src/lib/modules/scene/scene.style.ts\nimport { css, unsafeCSS } from \"lit\";\nvar defaultConfig = {\n  sceneBackgroundColor: \"var(--color-background-bg-primary)\"\n};\nvar sceneStyle = (config) => {\n  const _config = { ...defaultConfig, ...config };\n  return css`\n\n      :host {\n          display: flex;\n          --scene-background-color: ${unsafeCSS(_config.sceneBackgroundColor)};\n      }\n\n      .scene-container {\n          min-height: 50px;\n          min-width: 50px;\n          position: relative;\n          overflow: hidden;\n          border-radius: 16px;\n          will-change: width, height, transform, filter;\n      }\n  `;\n};\n\n// libs/ui-components/src/lib/modules/scene/scene-wrapper.element.ts\nimport { css as css2, html, LitElement } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\nimport { ContextProvider } from \"@lit/context\";\n\n// libs/ui-components/src/lib/modules/scene/scene-context.token.ts\nimport { createContext } from \"@lit/context\";\nvar sceneContext = createContext(Symbol(\"scene context\"));\n\n// libs/ui-components/src/lib/modules/scene/scene-context.ts\nimport { firstValueFrom, Subject } from \"rxjs\";\nvar SceneContext = class {\n  constructor() {\n    this.animationInProgress = false;\n    this.animationInStart$ = new Subject();\n    this.animationInEnd$ = new Subject();\n    this.animationOutStart$ = new Subject();\n    this.animationOutEnd$ = new Subject();\n  }\n  get animationInStart() {\n    return firstValueFrom(this.animationInStart$);\n  }\n  get animationInEnd() {\n    return firstValueFrom(this.animationInEnd$);\n  }\n  get animationOutStart() {\n    return firstValueFrom(this.animationOutStart$);\n  }\n  get animationOutEnd() {\n    return firstValueFrom(this.animationOutEnd$);\n  }\n  animationInStartNext() {\n    this.animationInProgress = true;\n    this.animationInStart$.next();\n  }\n  animationInEndNext() {\n    this.animationInProgress = false;\n    this.animationInEnd$.next();\n  }\n  animationOutStartNext() {\n    this.animationInProgress = true;\n    this.animationOutStart$.next();\n  }\n  animationOutEndNext() {\n    this.animationInProgress = false;\n    this.animationOutEnd$.next();\n  }\n};\n\n// libs/ui-components/src/lib/modules/scene/scene-wrapper.element.ts\nvar SceneWrapperElement = class extends LitElement {\n  constructor() {\n    super();\n    this.context = new ContextProvider(this, { context: sceneContext });\n    this.context.setValue(new SceneContext());\n  }\n  animationInStart() {\n    const context = this.context.value;\n    context.animationInStartNext();\n  }\n  animationInEnd() {\n    const context = this.context.value;\n    context.animationInEndNext();\n  }\n  animationOutStart() {\n    const context = this.context.value;\n    context.animationOutStartNext();\n  }\n  animationOutEnd() {\n    const context = this.context.value;\n    context.animationOutEndNext();\n  }\n  render() {\n    return html`<slot></slot>`;\n  }\n};\nSceneWrapperElement.tagName = \"inch-scene-wrapper\";\nSceneWrapperElement.styles = css2`\n      :host {\n          background-color: var(--scene-background-color);\n          will-change: transform;\n          transform: translate3d(0, 0, 0);\n          padding: 1px;\n          height: fit-content;\n          box-sizing: border-box;\n          position: relative;\n          display: block;\n      }\n  `;\nSceneWrapperElement = __decorateClass([\n  customElement(SceneWrapperElement.tagName)\n], SceneWrapperElement);\n\n// libs/ui-components/src/lib/modules/scene/animations/shift.animation.ts\nimport { appendStyle, isSafari } from \"@one-inch-community/core/lit\";\nfunction shiftAnimation() {\n  const initStyle = {\n    position: \"absolute\",\n    top: \"0\",\n    left: \"0\",\n    bottom: \"0\",\n    right: \"0\",\n    zIndex: \"9\",\n    backfaceVisibility: \"hidden\",\n    height: isSafari() ? \"100%\" : \"\"\n  };\n  const resetStyle = {\n    position: \"\",\n    top: \"\",\n    left: \"\",\n    bottom: \"\",\n    right: \"\",\n    zIndex: \"\",\n    transform: \"\",\n    filter: \"\",\n    backfaceVisibility: \"\",\n    height: \"\"\n  };\n  const animationConfig = {\n    duration: 500,\n    easing: \"cubic-bezier(.2, .8, .2, 1)\"\n  };\n  return {\n    preparation: async (upLayer, downLayer, isBack) => {\n      appendStyle(upLayer, {\n        ...initStyle,\n        zIndex: \"9\",\n        transform: isBack ? \"translate3d(0, 0, 0)\" : \"translate3d(100%, 0, 0)\"\n      });\n      appendStyle(downLayer, {\n        ...initStyle,\n        zIndex: \"8\",\n        transform: isBack ? \"translate3d(-100%, 0, 0)\" : \"translate3d(0, 0, 0)\"\n      });\n    },\n    transition: async (upLayer, downLayer, isBack) => {\n      await Promise.all([\n        upLayer.animate([\n          { transform: isBack ? \"translate3d(0, 0, 0)\" : \"translate3d(100%, 0, 0)\" },\n          { transform: isBack ? \"translate3d(100%, 0, 0)\" : \"translate3d(0, 0, 0)\" }\n        ], animationConfig),\n        downLayer.animate([\n          {\n            transform: isBack ? \"translate3d(-100%, 0, 0)\" : \"translate3d(0, 0, 0)\"\n          },\n          {\n            transform: isBack ? \"translate3d(0, 0, 0)\" : \"translate3d(-100%, 0, 0)\"\n          }\n        ], animationConfig).finished\n      ]);\n      appendStyle(upLayer, { ...resetStyle });\n      appendStyle(downLayer, { ...resetStyle });\n    }\n  };\n}\n\n// libs/ui-components/src/lib/modules/scene/animations/slide.animation.ts\nimport { appendStyle as appendStyle2, isSafari as isSafari2 } from \"@one-inch-community/core/lit\";\nfunction slideAnimation() {\n  const initStyle = {\n    position: \"absolute\",\n    top: \"0\",\n    left: \"0\",\n    bottom: \"0\",\n    right: \"0\",\n    zIndex: \"9\",\n    backfaceVisibility: \"hidden\",\n    height: isSafari2() ? \"100%\" : \"\"\n  };\n  const resetStyle = {\n    position: \"\",\n    top: \"\",\n    left: \"\",\n    bottom: \"\",\n    right: \"\",\n    zIndex: \"\",\n    transform: \"\",\n    filter: \"\",\n    backfaceVisibility: \"\",\n    willChange: \"\",\n    height: \"\"\n  };\n  const animationConfig = {\n    duration: 800,\n    easing: \"cubic-bezier(.2, .8, .2, 1)\"\n  };\n  return {\n    preparation: async (upLayer, downLayer, isBack) => {\n      appendStyle2(upLayer, {\n        ...initStyle,\n        zIndex: \"9\",\n        transform: isBack ? \"translate3d(0, 0, 0)\" : \"translate3d(100%, 0, 0)\"\n      });\n      appendStyle2(downLayer, {\n        ...initStyle,\n        zIndex: \"8\",\n        willChange: \"transform, filter\",\n        transform: isBack ? \"translate3d(-50%, 0, 0) scale(.9)\" : \"translate3d(0, 0, 0) scale(1)\",\n        filter: isBack ? \"blur(3px)\" : \"blur(0)\"\n      });\n    },\n    transition: async (upLayer, downLayer, isBack) => {\n      await Promise.all([\n        upLayer.animate([\n          { transform: isBack ? \"translate3d(0, 0, 0)\" : \"translate3d(105%, 0, 0)\" },\n          { transform: isBack ? \"translate3d(105%, 0, 0)\" : \"translate3d(0, 0, 0)\" }\n        ], animationConfig),\n        downLayer.animate([\n          {\n            transform: isBack ? \"translate3d(-50%, 0, 0) scale(.9)\" : \"translate3d(0, 0, 0) scale(1)\",\n            filter: isBack ? \"blur(3px)\" : \"blur(0)\"\n          },\n          {\n            transform: isBack ? \"translate3d(0, 0, 0) scale(1)\" : \"translate3d(-50%, 0, 0) scale(.9)\",\n            filter: isBack ? \"blur(0)\" : \"blur(3px)\"\n          }\n        ], animationConfig).finished\n      ]);\n      appendStyle2(upLayer, { ...resetStyle });\n      appendStyle2(downLayer, { ...resetStyle });\n    }\n  };\n}\n\n// libs/ui-components/src/lib/modules/async/async-timeout.ts\nfunction asyncTimeout(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n// libs/ui-components/src/lib/modules/scene/animations/noop.animation.ts\nfunction noopAnimation() {\n  return {\n    preparation: async () => void 0,\n    transition: async () => {\n      await asyncTimeout(100);\n    }\n  };\n}\n\n// libs/ui-components/src/lib/modules/scene/scene.controller.ts\nimport { appendStyle as appendStyle3 } from \"@one-inch-community/core/lit\";\n\n// libs/ui-components/src/lib/modules/async/async-frame.ts\nfunction asyncFrame() {\n  return new Promise((resolve) => requestAnimationFrame(resolve));\n}\n\n// libs/ui-components/src/lib/modules/scene/scene.controller.ts\nimport { ScrollViewProviderElement } from \"@one-inch-community/ui-components/scroll\";\nvar SceneController = class {\n  constructor(rootSceneName, config, animation = slideAnimation()) {\n    this.rootSceneName = rootSceneName;\n    this.config = config;\n    this.animation = animation;\n    this.sceneStack = [];\n    this.sceneContainer = buildSceneContainer();\n    this.transitionInProgress = false;\n  }\n  static {\n    this.styles = sceneStyle;\n  }\n  render(config) {\n    if (this.transitionInProgress) {\n      return html2`${this.sceneContainer}`;\n    }\n    const isFirstRender = !this.currentScenes;\n    this.currentScenes = config;\n    const sceneName = this.getCurrentSceneName();\n    const currentSceneConfig = this.config[sceneName];\n    const isLazyRenderScene = currentSceneConfig.lazyRender ?? false;\n    if (!isLazyRenderScene || isFirstRender) {\n      const sceneFactory = this.getScene(sceneName);\n      if (!sceneFactory) {\n        throw new Error(`Scene not exist`);\n      }\n      const sceneWrapper = this.buildSceneWrapper(sceneFactory(), sceneName);\n      this.clearContainer();\n      this.sceneContainerAppendChild(sceneName, sceneWrapper);\n    }\n    return html2`${this.sceneContainer}`;\n  }\n  async nextTo(sceneName) {\n    if (this.transitionInProgress) return;\n    await this.transition(sceneName);\n    this.sceneStack.push(sceneName);\n  }\n  async back() {\n    if (this.transitionInProgress) return;\n    const sceneName = this.sceneStack[this.sceneStack.length - 2] ?? this.rootSceneName;\n    await this.transition(sceneName, true);\n    this.sceneStack.pop();\n  }\n  resetScene() {\n    this.sceneStack = [];\n  }\n  getCurrentSceneName() {\n    let currentScene = this.rootSceneName;\n    if (this.sceneContainer.firstChild) {\n      currentScene = this.sceneContainer.firstChild.id;\n    }\n    return currentScene;\n  }\n  getCurrentScene() {\n    if (!this.currentScenes) return null;\n    const currentScene = this.getCurrentSceneName();\n    return this.getScene(currentScene);\n  }\n  async transition(sceneName, isBack) {\n    this.transitionInProgress = true;\n    try {\n      const currentScene = this.getCurrentSceneName();\n      if (currentScene === sceneName) return;\n      const nextSceneFactory = this.getScene(sceneName);\n      if (!nextSceneFactory) throw new Error(`Scene ${sceneName} not exist`);\n      const nextSceneWrapper = this.buildSceneWrapper(nextSceneFactory(), sceneName);\n      const currentSceneWrapper = this.sceneContainer.firstChild;\n      const upScene = isBack ? currentSceneWrapper : nextSceneWrapper;\n      const downScene = !isBack ? currentSceneWrapper : nextSceneWrapper;\n      isBack ? upScene.animationOutStart() : upScene.animationInStart();\n      isBack ? downScene.animationOutStart() : downScene.animationInStart();\n      this.sceneContainerAppendChild(sceneName, nextSceneWrapper);\n      await asyncFrame();\n      const nextSceneWrapperRect = nextSceneWrapper.getBoundingClientRect();\n      const currentSceneWrapperRect = currentSceneWrapper.getBoundingClientRect();\n      await this.animation.preparation(upScene, downScene, isBack ?? false);\n      await Promise.all([\n        this.animation.transition(upScene, downScene, isBack ?? false),\n        this.resizeContainer(nextSceneWrapperRect, currentSceneWrapperRect)\n      ]);\n      appendStyle3(this.sceneContainer, {\n        width: \"\",\n        height: \"\"\n      });\n      this.sceneContainer.firstChild && this.sceneContainer.removeChild(this.sceneContainer.firstChild);\n      isBack ? upScene.animationOutEnd() : upScene.animationInEnd();\n      isBack ? downScene.animationOutEnd() : downScene.animationInEnd();\n    } finally {\n      this.transitionInProgress = false;\n    }\n  }\n  getScene(sceneName) {\n    if (!this.currentScenes) return null;\n    return this.currentScenes[sceneName] ?? null;\n  }\n  clearContainer() {\n    while (this.sceneContainer.firstChild) {\n      this.sceneContainer.removeChild(this.sceneContainer.firstChild);\n    }\n  }\n  buildSceneWrapper(content, name) {\n    const sceneWrapper = document.createElement(SceneWrapperElement.tagName);\n    sceneWrapper.id = name;\n    sceneWrapper.classList.add(\"scene-wrapper\", name);\n    render(content, sceneWrapper);\n    return sceneWrapper;\n  }\n  sceneContainerAppendChild(sceneName, sceneWrapper) {\n    this.sceneContainer.appendChild(sceneWrapper);\n    const config = this.config[sceneName];\n    this.applySceneConfig(config);\n  }\n  applySceneConfig(config) {\n    const formatValue = (value) => {\n      if (!value) return \"\";\n      return typeof value === \"number\" ? `${value}px` : value;\n    };\n    if (config.maxHeight) {\n      this.sceneContainer.maxHeight = parseInt(config.maxHeight.toString());\n    }\n    appendStyle3(this.sceneContainer, {\n      minWidth: formatValue(config.minWidth),\n      maxWidth: formatValue(config.maxWidth)\n    });\n  }\n  async resizeContainer(nextRect, currentRect) {\n    await this.sceneContainer.animate([\n      { height: `${currentRect.height}px`, width: `${currentRect.width}px` },\n      { height: `${nextRect.height}px`, width: `${nextRect.width}px` }\n    ], {\n      duration: 200,\n      easing: \"cubic-bezier(.2, .8, .2, 1)\"\n    }).finished;\n    appendStyle3(this.sceneContainer, {\n      width: `${nextRect.width}px`,\n      height: `${nextRect.height}px`\n    });\n  }\n};\nfunction buildSceneContainer() {\n  const sceneContainer = document.createElement(ScrollViewProviderElement.tagName);\n  sceneContainer.id = \"scene-container\";\n  sceneContainer.classList.add(\"scene-container\");\n  return sceneContainer;\n}\n\n// libs/ui-components/src/lib/modules/scene/scene-lazy-value.ts\nimport { directive } from \"lit/directive.js\";\nimport { AsyncDirective } from \"lit/async-directive.js\";\nvar SceneLazyValue = class extends AsyncDirective {\n  render(host, valueFactory) {\n    if (!this.controller) {\n      this.controller = new SceneLazyValueReactiveController(\n        valueFactory,\n        (value) => this.setValue(value)\n      );\n      host.addController(this.controller);\n    }\n    return valueFactory();\n  }\n};\nvar SceneLazyValueReactiveController = class {\n  constructor(valueFactory, update) {\n    this.valueFactory = valueFactory;\n    this.update = update;\n  }\n  hostUpdate() {\n    const nextValue = this.valueFactory();\n    if (nextValue !== this.lastValue) {\n      this.lastValue = nextValue;\n      this.update(nextValue);\n    }\n  }\n};\nvar sceneLazyValue = directive(SceneLazyValue);\nexport {\n  SceneController,\n  noopAnimation,\n  sceneContext,\n  sceneLazyValue,\n  shiftAnimation,\n  slideAnimation\n};\n//# sourceMappingURL=index.esm.js.map\n","import {\n  __decorateClass\n} from \"./chunk-EUXUH3YW.js\";\n\n// libs/widgets/src/lib/swap-form/i18n/index.ts\nimport { addTranslation, Locale } from \"@one-inch-community/core/lit\";\naddTranslation({\n  [Locale.en]: () => import(\"./en-ANTPJ7PG.js\").then((m) => m.default),\n  [Locale.ar]: () => import(\"./ar-EHVYY5BX.js\").then((m) => m.default)\n});\n\n// libs/widgets/src/lib/swap-form/swap-from.element.ts\nimport { html as html10, LitElement as LitElement10 } from \"lit\";\nimport { consume as consume8 } from \"@lit/context\";\nimport { customElement as customElement10 } from \"lit/decorators.js\";\nimport \"@one-inch-community/ui-components/card\";\nimport \"@one-inch-community/ui-components/icon\";\nimport \"@one-inch-community/ui-components/button\";\nimport { ApplicationContextToken as ApplicationContextToken2 } from \"@one-inch-community/core/application-context\";\nimport { SwapContextToken as SwapContextToken8 } from \"@one-inch-community/sdk/swap\";\nimport { combineLatest as combineLatest6, defer as defer7, distinctUntilChanged as distinctUntilChanged3, map as map7, startWith as startWith5 } from \"rxjs\";\nimport { observe as observe6, translate as translate6 } from \"@one-inch-community/core/lit\";\n\n// libs/widgets/src/lib/swap-form/swap-from.style.ts\nimport { css } from \"lit\";\nvar swapFromStyle = css`\n\n    .swap-form-container {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n        height: fit-content;\n        width: 100%;\n        min-width: 300px;\n    }\n\n    .input-container {\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n    }\n\n    .input-header {\n        height: 68px;\n        padding: 16px 0 16px 8px;\n        box-sizing: border-box;\n        color: var(--color-content-content-primary);\n        font-size: 20px;\n        font-weight: 600;\n        line-height: 28px;\n        margin-top: -16px;\n        letter-spacing: 0;\n        text-align: center;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n`;\n\n// libs/widgets/src/lib/swap-form/elements/input/input.element.ts\nimport { html as html3, LitElement as LitElement3 } from \"lit\";\nimport { customElement as customElement3, property as property3, state } from \"lit/decorators.js\";\nimport { consume as consume3 } from \"@lit/context\";\nimport { classMap } from \"lit/directives/class-map.js\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport {\n  combineLatest as combineLatest3,\n  defer as defer3,\n  filter as filter3,\n  from,\n  map as map3,\n  of,\n  shareReplay,\n  startWith as startWith2,\n  switchMap as switchMap3,\n  tap\n} from \"rxjs\";\n\n// node_modules/.pnpm/@maskito+core@2.5.0/node_modules/@maskito/core/index.esm.js\nvar MASKITO_DEFAULT_OPTIONS = {\n  mask: /^.*$/,\n  preprocessors: [],\n  postprocessors: [],\n  plugins: [],\n  overwriteMode: \"shift\"\n};\nvar MaskHistory = class {\n  constructor() {\n    this.now = null;\n    this.past = [];\n    this.future = [];\n  }\n  undo() {\n    const state4 = this.past.pop();\n    if (state4 && this.now) {\n      this.future.push(this.now);\n      this.updateElement(state4, \"historyUndo\");\n    }\n  }\n  redo() {\n    const state4 = this.future.pop();\n    if (state4 && this.now) {\n      this.past.push(this.now);\n      this.updateElement(state4, \"historyRedo\");\n    }\n  }\n  updateHistory(state4) {\n    if (!this.now) {\n      this.now = state4;\n      return;\n    }\n    const isValueChanged = this.now.value !== state4.value;\n    const isSelectionChanged = this.now.selection.some((item, index) => item !== state4.selection[index]);\n    if (!isValueChanged && !isSelectionChanged) {\n      return;\n    }\n    if (isValueChanged) {\n      this.past.push(this.now);\n      this.future = [];\n    }\n    this.now = state4;\n  }\n  updateElement(state4, inputType) {\n    this.now = state4;\n    this.updateElementState(state4, { inputType, data: null });\n  }\n};\nfunction areElementValuesEqual(sampleState, ...states) {\n  return states.every(({ value }) => value === sampleState.value);\n}\nfunction areElementStatesEqual(sampleState, ...states) {\n  return states.every(({ value, selection }) => value === sampleState.value && selection[0] === sampleState.selection[0] && selection[1] === sampleState.selection[1]);\n}\nfunction applyOverwriteMode({ value, selection }, newCharacters, mode) {\n  const [from2, to] = selection;\n  const computedMode = typeof mode === \"function\" ? mode({ value, selection }) : mode;\n  return {\n    value,\n    selection: computedMode === \"replace\" ? [from2, from2 + newCharacters.length] : [from2, to]\n  };\n}\nfunction isFixedCharacter(char) {\n  return typeof char === \"string\";\n}\nfunction getLeadingFixedCharacters(mask, validatedValuePart, newCharacter, initialElementState) {\n  let leadingFixedCharacters = \"\";\n  for (let i = validatedValuePart.length; i < mask.length; i++) {\n    const charConstraint = mask[i];\n    const isInitiallyExisted = (initialElementState === null || initialElementState === void 0 ? void 0 : initialElementState.value[i]) === charConstraint;\n    if (!isFixedCharacter(charConstraint) || charConstraint === newCharacter && !isInitiallyExisted) {\n      return leadingFixedCharacters;\n    }\n    leadingFixedCharacters += charConstraint;\n  }\n  return leadingFixedCharacters;\n}\nfunction validateValueWithMask(value, maskExpression) {\n  if (Array.isArray(maskExpression)) {\n    return value.length === maskExpression.length && Array.from(value).every((char, i) => {\n      const charConstraint = maskExpression[i];\n      return isFixedCharacter(charConstraint) ? char === charConstraint : char.match(charConstraint);\n    });\n  }\n  return maskExpression.test(value);\n}\nfunction guessValidValueByPattern(elementState, mask, initialElementState) {\n  let maskedFrom = null;\n  let maskedTo = null;\n  const maskedValue = Array.from(elementState.value).reduce((validatedCharacters, char, charIndex) => {\n    const leadingCharacters = getLeadingFixedCharacters(mask, validatedCharacters, char, initialElementState);\n    const newValidatedChars = validatedCharacters + leadingCharacters;\n    const charConstraint = mask[newValidatedChars.length];\n    if (isFixedCharacter(charConstraint)) {\n      return newValidatedChars + charConstraint;\n    }\n    if (!char.match(charConstraint)) {\n      return newValidatedChars;\n    }\n    if (maskedFrom === null && charIndex >= elementState.selection[0]) {\n      maskedFrom = newValidatedChars.length;\n    }\n    if (maskedTo === null && charIndex >= elementState.selection[1]) {\n      maskedTo = newValidatedChars.length;\n    }\n    return newValidatedChars + char;\n  }, \"\");\n  const trailingFixedCharacters = getLeadingFixedCharacters(mask, maskedValue, \"\", initialElementState);\n  return {\n    value: validateValueWithMask(maskedValue + trailingFixedCharacters, mask) ? maskedValue + trailingFixedCharacters : maskedValue,\n    selection: [maskedFrom !== null && maskedFrom !== void 0 ? maskedFrom : maskedValue.length, maskedTo !== null && maskedTo !== void 0 ? maskedTo : maskedValue.length]\n  };\n}\nfunction guessValidValueByRegExp({ value, selection }, maskRegExp) {\n  const [from2, to] = selection;\n  let newFrom = from2;\n  let newTo = to;\n  const validatedValue = Array.from(value).reduce((validatedValuePart, char, i) => {\n    const newPossibleValue = validatedValuePart + char;\n    if (from2 === i) {\n      newFrom = validatedValuePart.length;\n    }\n    if (to === i) {\n      newTo = validatedValuePart.length;\n    }\n    return newPossibleValue.match(maskRegExp) ? newPossibleValue : validatedValuePart;\n  }, \"\");\n  return { value: validatedValue, selection: [newFrom, newTo] };\n}\nfunction calibrateValueByMask(elementState, mask, initialElementState = null) {\n  if (validateValueWithMask(elementState.value, mask)) {\n    return elementState;\n  }\n  const { value, selection } = Array.isArray(mask) ? guessValidValueByPattern(elementState, mask, initialElementState) : guessValidValueByRegExp(elementState, mask);\n  return {\n    selection,\n    value: Array.isArray(mask) ? value.slice(0, mask.length) : value\n  };\n}\nfunction removeFixedMaskCharacters(initialElementState, mask) {\n  if (!Array.isArray(mask)) {\n    return initialElementState;\n  }\n  const [from2, to] = initialElementState.selection;\n  const selection = [];\n  const unmaskedValue = Array.from(initialElementState.value).reduce((rawValue, char, i) => {\n    const charConstraint = mask[i];\n    if (i === from2) {\n      selection.push(rawValue.length);\n    }\n    if (i === to) {\n      selection.push(rawValue.length);\n    }\n    return isFixedCharacter(charConstraint) && charConstraint === char ? rawValue : rawValue + char;\n  }, \"\");\n  if (selection.length < 2) {\n    selection.push(...new Array(2 - selection.length).fill(unmaskedValue.length));\n  }\n  return {\n    value: unmaskedValue,\n    selection: [selection[0], selection[1]]\n  };\n}\nvar MaskModel = class {\n  constructor(initialElementState, maskOptions) {\n    this.initialElementState = initialElementState;\n    this.maskOptions = maskOptions;\n    this.value = \"\";\n    this.selection = [0, 0];\n    const { value, selection } = calibrateValueByMask(this.initialElementState, this.getMaskExpression(this.initialElementState));\n    this.value = value;\n    this.selection = selection;\n  }\n  addCharacters([from2, to], newCharacters) {\n    const { value } = this;\n    const maskExpression = this.getMaskExpression({\n      value: value.slice(0, from2) + newCharacters + value.slice(to),\n      selection: [from2 + newCharacters.length, from2 + newCharacters.length]\n    });\n    const initialElementState = { value, selection: [from2, to] };\n    const unmaskedElementState = removeFixedMaskCharacters(initialElementState, maskExpression);\n    const [unmaskedFrom, unmaskedTo] = applyOverwriteMode(unmaskedElementState, newCharacters, this.maskOptions.overwriteMode).selection;\n    const newUnmaskedLeadingValuePart = unmaskedElementState.value.slice(0, unmaskedFrom) + newCharacters;\n    const newCaretIndex = newUnmaskedLeadingValuePart.length;\n    const maskedElementState = calibrateValueByMask({\n      value: newUnmaskedLeadingValuePart + unmaskedElementState.value.slice(unmaskedTo),\n      selection: [newCaretIndex, newCaretIndex]\n    }, maskExpression, initialElementState);\n    const isInvalidCharsInsertion = (\n      // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n      value.slice(0, unmaskedFrom) === calibrateValueByMask({\n        value: newUnmaskedLeadingValuePart,\n        selection: [newCaretIndex, newCaretIndex]\n      }, maskExpression, initialElementState).value\n    );\n    if (isInvalidCharsInsertion || areElementStatesEqual(this, maskedElementState)) {\n      throw new Error(\"Invalid mask value\");\n    }\n    this.value = maskedElementState.value;\n    this.selection = maskedElementState.selection;\n  }\n  deleteCharacters([from2, to]) {\n    if (from2 === to || !to) {\n      return;\n    }\n    const { value } = this;\n    const maskExpression = this.getMaskExpression({\n      value: value.slice(0, from2) + value.slice(to),\n      selection: [from2, from2]\n    });\n    const initialElementState = { value, selection: [from2, to] };\n    const unmaskedElementState = removeFixedMaskCharacters(initialElementState, maskExpression);\n    const [unmaskedFrom, unmaskedTo] = unmaskedElementState.selection;\n    const newUnmaskedValue = unmaskedElementState.value.slice(0, unmaskedFrom) + unmaskedElementState.value.slice(unmaskedTo);\n    const maskedElementState = calibrateValueByMask({ value: newUnmaskedValue, selection: [unmaskedFrom, unmaskedFrom] }, maskExpression, initialElementState);\n    this.value = maskedElementState.value;\n    this.selection = maskedElementState.selection;\n  }\n  getMaskExpression(elementState) {\n    const { mask } = this.maskOptions;\n    return typeof mask === \"function\" ? mask(elementState) : mask;\n  }\n};\nvar EventListener = class {\n  constructor(element) {\n    this.element = element;\n    this.listeners = [];\n  }\n  listen(eventType, fn, options) {\n    const untypedFn = fn;\n    this.element.addEventListener(eventType, untypedFn, options);\n    this.listeners.push(() => this.element.removeEventListener(eventType, untypedFn));\n  }\n  destroy() {\n    this.listeners.forEach((stopListen) => stopListen());\n  }\n};\nvar HotkeyModifier = {\n  CTRL: 1 << 0,\n  ALT: 1 << 1,\n  SHIFT: 1 << 2,\n  META: 1 << 3\n};\nvar HotkeyCode = {\n  Y: 89,\n  Z: 90\n};\nfunction isHotkey(event, modifiers, hotkeyCode) {\n  return event.ctrlKey === !!(modifiers & HotkeyModifier.CTRL) && event.altKey === !!(modifiers & HotkeyModifier.ALT) && event.shiftKey === !!(modifiers & HotkeyModifier.SHIFT) && event.metaKey === !!(modifiers & HotkeyModifier.META) && /**\n   * We intentionally use legacy {@link KeyboardEvent#keyCode `keyCode`} property. It is more\n   * \"keyboard-layout\"-independent than {@link KeyboardEvent#key `key`} or {@link KeyboardEvent#code `code`} properties.\n   * @see {@link https://github.com/taiga-family/maskito/issues/315 `KeyboardEvent#code` issue}\n   */\n  event.keyCode === hotkeyCode;\n}\nfunction isRedo(event) {\n  return isHotkey(event, HotkeyModifier.CTRL, HotkeyCode.Y) || // Windows\n  isHotkey(event, HotkeyModifier.CTRL | HotkeyModifier.SHIFT, HotkeyCode.Z) || // Windows & Android\n  isHotkey(event, HotkeyModifier.META | HotkeyModifier.SHIFT, HotkeyCode.Z);\n}\nfunction isUndo(event) {\n  return isHotkey(event, HotkeyModifier.CTRL, HotkeyCode.Z) || // Windows & Android\n  isHotkey(event, HotkeyModifier.META, HotkeyCode.Z);\n}\nfunction maskitoUpdateElement(element, valueOrElementState) {\n  var _a;\n  const initialValue = element.value;\n  if (typeof valueOrElementState === \"string\") {\n    element.value = valueOrElementState;\n  } else {\n    const [from2, to] = valueOrElementState.selection;\n    element.value = valueOrElementState.value;\n    if (element.matches(\":focus\")) {\n      (_a = element.setSelectionRange) === null || _a === void 0 ? void 0 : _a.call(element, from2, to);\n    }\n  }\n  if (element.value !== initialValue) {\n    element.dispatchEvent(new Event(\n      \"input\",\n      /**\n       * React handles this event only on bubbling phase\n       *\n       * here is the list of events that are processed in the capture stage, others are processed in the bubbling stage\n       * https://github.com/facebook/react/blob/cb2439624f43c510007f65aea5c50a8bb97917e4/packages/react-dom-bindings/src/events/DOMPluginEventSystem.js#L222\n       */\n      { bubbles: true }\n    ));\n  }\n}\nfunction getLineSelection({ value, selection }, isForward) {\n  const [from2, to] = selection;\n  if (from2 !== to) {\n    return [from2, to];\n  }\n  const nearestBreak = isForward ? value.slice(from2).indexOf(\"\\n\") + 1 || value.length : value.slice(0, to).lastIndexOf(\"\\n\") + 1;\n  const selectFrom = isForward ? from2 : nearestBreak;\n  const selectTo = isForward ? nearestBreak : to;\n  return [selectFrom, selectTo];\n}\nfunction getNotEmptySelection({ value, selection }, isForward) {\n  const [from2, to] = selection;\n  if (from2 !== to) {\n    return [from2, to];\n  }\n  const notEmptySelection = isForward ? [from2, to + 1] : [from2 - 1, to];\n  return notEmptySelection.map((x) => Math.min(Math.max(x, 0), value.length));\n}\nvar TRAILING_SPACES_REG = /\\s+$/g;\nvar LEADING_SPACES_REG = /^\\s+/g;\nvar SPACE_REG = /\\s/;\nfunction getWordSelection({ value, selection }, isForward) {\n  const [from2, to] = selection;\n  if (from2 !== to) {\n    return [from2, to];\n  }\n  if (isForward) {\n    const valueAfterSelectionStart = value.slice(from2);\n    const [leadingSpaces] = valueAfterSelectionStart.match(LEADING_SPACES_REG) || [\n      \"\"\n    ];\n    const nearestWordEndIndex = valueAfterSelectionStart.trimStart().search(SPACE_REG);\n    return [\n      from2,\n      nearestWordEndIndex !== -1 ? from2 + leadingSpaces.length + nearestWordEndIndex : value.length\n    ];\n  }\n  const valueBeforeSelectionEnd = value.slice(0, to);\n  const [trailingSpaces] = valueBeforeSelectionEnd.match(TRAILING_SPACES_REG) || [\"\"];\n  const selectedWordLength = valueBeforeSelectionEnd.trimEnd().split(\"\").reverse().findIndex((char) => char.match(SPACE_REG));\n  return [\n    selectedWordLength !== -1 ? to - trailingSpaces.length - selectedWordLength : 0,\n    to\n  ];\n}\nfunction maskitoPipe(processors = []) {\n  return (initialData, ...readonlyArgs) => processors.reduce((data, fn) => Object.assign(Object.assign({}, data), fn(data, ...readonlyArgs)), initialData);\n}\nfunction maskitoTransform(valueOrState, maskitoOptions) {\n  const options = Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), maskitoOptions);\n  const preprocessor = maskitoPipe(options.preprocessors);\n  const postprocessor = maskitoPipe(options.postprocessors);\n  const initialElementState = typeof valueOrState === \"string\" ? { value: valueOrState, selection: [0, 0] } : valueOrState;\n  const { elementState } = preprocessor({ elementState: initialElementState, data: \"\" }, \"validation\");\n  const maskModel = new MaskModel(elementState, options);\n  const { value, selection } = postprocessor(maskModel, initialElementState);\n  return typeof valueOrState === \"string\" ? value : { value, selection };\n}\nvar Maskito = class extends MaskHistory {\n  constructor(element, maskitoOptions) {\n    super();\n    this.element = element;\n    this.maskitoOptions = maskitoOptions;\n    this.isTextArea = this.element.nodeName === \"TEXTAREA\";\n    this.eventListener = new EventListener(this.element);\n    this.options = Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), this.maskitoOptions);\n    this.preprocessor = maskitoPipe(this.options.preprocessors);\n    this.postprocessor = maskitoPipe(this.options.postprocessors);\n    this.teardowns = this.options.plugins.map((plugin) => plugin(this.element, this.options));\n    this.updateHistory(this.elementState);\n    this.eventListener.listen(\"keydown\", (event) => {\n      if (isRedo(event)) {\n        event.preventDefault();\n        return this.redo();\n      }\n      if (isUndo(event)) {\n        event.preventDefault();\n        return this.undo();\n      }\n    });\n    this.eventListener.listen(\"beforeinput\", (event) => {\n      var _a;\n      const isForward = event.inputType.includes(\"Forward\");\n      this.updateHistory(this.elementState);\n      switch (event.inputType) {\n        case \"historyUndo\":\n          event.preventDefault();\n          return this.undo();\n        case \"historyRedo\":\n          event.preventDefault();\n          return this.redo();\n        case \"deleteByCut\":\n        case \"deleteContentBackward\":\n        case \"deleteContentForward\":\n          return this.handleDelete({\n            event,\n            isForward,\n            selection: getNotEmptySelection(this.elementState, isForward)\n          });\n        case \"deleteWordForward\":\n        case \"deleteWordBackward\":\n          return this.handleDelete({\n            event,\n            isForward,\n            selection: getWordSelection(this.elementState, isForward),\n            force: true\n          });\n        case \"deleteSoftLineBackward\":\n        case \"deleteSoftLineForward\":\n        case \"deleteHardLineBackward\":\n        case \"deleteHardLineForward\":\n          return this.handleDelete({\n            event,\n            isForward,\n            selection: getLineSelection(this.elementState, isForward),\n            force: true\n          });\n        case \"insertCompositionText\":\n          return;\n        case \"insertReplacementText\":\n          return;\n        case \"insertLineBreak\":\n        case \"insertParagraph\":\n          return this.handleEnter(event);\n        case \"insertFromPaste\":\n        case \"insertText\":\n        case \"insertFromDrop\":\n        default:\n          return this.handleInsert(event, event.data || // `event.data` for `contentEditable` is always `null` for paste/drop events\n          ((_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.getData(\"text/plain\")) || \"\");\n      }\n    });\n    this.eventListener.listen(\"input\", ({ inputType }) => {\n      if (inputType === \"insertCompositionText\") {\n        return;\n      }\n      this.ensureValueFitsMask();\n      this.updateHistory(this.elementState);\n    });\n    this.eventListener.listen(\"compositionend\", () => {\n      this.ensureValueFitsMask();\n      this.updateHistory(this.elementState);\n    });\n  }\n  get elementState() {\n    const { value, selectionStart, selectionEnd } = this.element;\n    return {\n      value,\n      selection: [selectionStart || 0, selectionEnd || 0]\n    };\n  }\n  get maxLength() {\n    const { maxLength } = this.element;\n    return maxLength === -1 ? Infinity : maxLength;\n  }\n  destroy() {\n    this.eventListener.destroy();\n    this.teardowns.forEach((teardown) => teardown === null || teardown === void 0 ? void 0 : teardown());\n  }\n  updateElementState({ value, selection }, eventInit = {\n    inputType: \"insertText\",\n    data: null\n  }) {\n    const initialValue = this.elementState.value;\n    this.updateValue(value);\n    this.updateSelectionRange(selection);\n    if (initialValue !== value) {\n      this.dispatchInputEvent(eventInit);\n    }\n  }\n  updateSelectionRange([from2, to]) {\n    var _a;\n    const { element } = this;\n    if (element.matches(\":focus\") && (element.selectionStart !== from2 || element.selectionEnd !== to)) {\n      (_a = element.setSelectionRange) === null || _a === void 0 ? void 0 : _a.call(element, from2, to);\n    }\n  }\n  updateValue(value) {\n    this.element.value = value;\n  }\n  ensureValueFitsMask() {\n    this.updateElementState(maskitoTransform(this.elementState, this.options));\n  }\n  dispatchInputEvent(eventInit = {\n    inputType: \"insertText\",\n    data: null\n  }) {\n    if (globalThis.InputEvent) {\n      this.element.dispatchEvent(new InputEvent(\"input\", Object.assign(Object.assign({}, eventInit), { bubbles: true, cancelable: false })));\n    }\n  }\n  handleDelete({ event, selection, isForward, force = false }) {\n    const initialState = {\n      value: this.elementState.value,\n      selection\n    };\n    const [initialFrom, initialTo] = initialState.selection;\n    const { elementState } = this.preprocessor({\n      elementState: initialState,\n      data: \"\"\n    }, isForward ? \"deleteForward\" : \"deleteBackward\");\n    const maskModel = new MaskModel(elementState, this.options);\n    const [from2, to] = elementState.selection;\n    maskModel.deleteCharacters([from2, to]);\n    const newElementState = this.postprocessor(maskModel, initialState);\n    const newPossibleValue = initialState.value.slice(0, initialFrom) + initialState.value.slice(initialTo);\n    if (newPossibleValue === newElementState.value && !force && !this.element.isContentEditable) {\n      return;\n    }\n    event.preventDefault();\n    if (areElementValuesEqual(initialState, elementState, maskModel, newElementState)) {\n      return this.updateSelectionRange(isForward ? [to, to] : [from2, from2]);\n    }\n    this.updateElementState(newElementState, {\n      inputType: event.inputType,\n      data: null\n    });\n    this.updateHistory(newElementState);\n  }\n  handleInsert(event, data) {\n    const initialElementState = this.elementState;\n    const { elementState, data: insertedText = data } = this.preprocessor({\n      data,\n      elementState: initialElementState\n    }, \"insert\");\n    const maskModel = new MaskModel(elementState, this.options);\n    try {\n      maskModel.addCharacters(elementState.selection, insertedText);\n    } catch (_a) {\n      return event.preventDefault();\n    }\n    const [from2, to] = elementState.selection;\n    const newPossibleValue = initialElementState.value.slice(0, from2) + data + initialElementState.value.slice(to);\n    const newElementState = this.postprocessor(maskModel, initialElementState);\n    if (newElementState.value.length > this.maxLength) {\n      return event.preventDefault();\n    }\n    if (newPossibleValue !== newElementState.value || this.element.isContentEditable) {\n      event.preventDefault();\n      this.updateElementState(newElementState, {\n        data,\n        inputType: event.inputType\n      });\n      this.updateHistory(newElementState);\n    }\n  }\n  handleEnter(event) {\n    if (this.isTextArea || this.element.isContentEditable) {\n      this.handleInsert(event, \"\\n\");\n    }\n  }\n};\n\n// node_modules/.pnpm/@maskito+kit@2.5.0_@maskito+core@2.5.0/node_modules/@maskito/kit/index.esm.js\nfunction clamp(value, min, max) {\n  const clampedValue = Math.min(Number(max), Math.max(Number(min), Number(value)));\n  return value instanceof Date ? new Date(clampedValue) : clampedValue;\n}\nvar DEFAULT_DECIMAL_PSEUDO_SEPARATORS = [\".\", \",\", \"\\u0431\", \"\\u044E\"];\nvar TIME_FIXED_CHARACTERS = [\":\", \".\"];\nvar CHAR_NO_BREAK_SPACE = \"\\xA0\";\nvar CHAR_ZERO_WIDTH_SPACE = \"\\u200B\";\nvar CHAR_EN_DASH = \"\\u2013\";\nvar CHAR_EM_DASH = \"\\u2014\";\nvar CHAR_HYPHEN = \"-\";\nvar CHAR_MINUS = \"\\u2212\";\nvar CHAR_JP_HYPHEN = \"\\u30FC\";\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nvar reHasRegExpChar = new RegExp(reRegExpChar.source);\nfunction escapeRegExp(str) {\n  return str && reHasRegExpChar.test(str) ? str.replaceAll(reRegExpChar, \"\\\\$&\") : str;\n}\nfunction extractAffixes(value, { prefix, postfix }) {\n  var _a, _b;\n  const prefixRegExp = new RegExp(`^${escapeRegExp(prefix)}`);\n  const postfixRegExp = new RegExp(`${escapeRegExp(postfix)}$`);\n  const [extractedPrefix = \"\"] = (_a = value.match(prefixRegExp)) !== null && _a !== void 0 ? _a : [];\n  const [extractedPostfix = \"\"] = (_b = value.match(postfixRegExp)) !== null && _b !== void 0 ? _b : [];\n  const cleanValue = value.replace(prefixRegExp, \"\").replace(postfixRegExp, \"\");\n  return { extractedPrefix, extractedPostfix, cleanValue };\n}\nfunction findCommonBeginningSubstr(a, b) {\n  let res = \"\";\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return res;\n    }\n    res += a[i];\n  }\n  return res;\n}\nfunction identity(x) {\n  return x;\n}\nfunction toHalfWidthNumber(fullWidthNumber) {\n  return fullWidthNumber.replaceAll(/[０-９]/g, (s) => String.fromCharCode(s.charCodeAt(0) - 65248));\n}\nfunction createFullWidthToHalfWidthPreprocessor() {\n  return ({ elementState, data }) => {\n    const { value, selection } = elementState;\n    return {\n      elementState: {\n        selection,\n        value: toHalfWidthNumber(value)\n      },\n      data: toHalfWidthNumber(data)\n    };\n  };\n}\nfunction maskitoPostfixPostprocessorGenerator(postfix) {\n  const postfixRE = new RegExp(`${escapeRegExp(postfix)}$`);\n  return postfix ? ({ value, selection }, initialElementState) => {\n    if (!value && !initialElementState.value.endsWith(postfix)) {\n      return { value, selection };\n    }\n    if (!value.endsWith(postfix) && !initialElementState.value.endsWith(postfix)) {\n      return { selection, value: value + postfix };\n    }\n    const initialValueBeforePostfix = initialElementState.value.replace(postfixRE, \"\");\n    const postfixWasModified = initialElementState.selection[1] >= initialValueBeforePostfix.length;\n    const alreadyExistedValueBeforePostfix = findCommonBeginningSubstr(initialValueBeforePostfix, value);\n    return {\n      selection,\n      value: Array.from(postfix).reverse().reduce((newValue, char, index) => {\n        const i = newValue.length - 1 - index;\n        const isInitiallyMirroredChar = alreadyExistedValueBeforePostfix[i] === char && postfixWasModified;\n        return newValue[i] !== char || isInitiallyMirroredChar ? newValue.slice(0, i + 1) + char + newValue.slice(i + 1) : newValue;\n      }, value)\n    };\n  } : identity;\n}\nfunction maskitoPrefixPostprocessorGenerator(prefix) {\n  return prefix ? ({ value, selection }, initialElementState) => {\n    if (value.startsWith(prefix) || // already valid\n    !value && !initialElementState.value.startsWith(prefix)) {\n      return { value, selection };\n    }\n    const [from2, to] = selection;\n    const prefixedValue = Array.from(prefix).reduce((modifiedValue, char, i) => modifiedValue[i] === char ? modifiedValue : modifiedValue.slice(0, i) + char + modifiedValue.slice(i), value);\n    const addedCharsCount = prefixedValue.length - value.length;\n    return {\n      selection: [from2 + addedCharsCount, to + addedCharsCount],\n      value: prefixedValue\n    };\n  } : identity;\n}\nfunction maskitoEventHandler(name, handler, eventListenerOptions) {\n  return (element, maskitoOptions) => {\n    const listener = () => handler(element, maskitoOptions);\n    element.addEventListener(name, listener, eventListenerOptions);\n    return () => element.removeEventListener(name, listener, eventListenerOptions);\n  };\n}\nvar TRAILING_TIME_SEGMENT_SEPARATOR_REG = new RegExp(`[${TIME_FIXED_CHARACTERS.map(escapeRegExp).join(\"\")}]$`);\nfunction createAffixesFilterPreprocessor({ prefix, postfix }) {\n  return ({ elementState, data }) => {\n    const { cleanValue: cleanData } = extractAffixes(data, {\n      prefix,\n      postfix\n    });\n    return {\n      elementState,\n      data: cleanData\n    };\n  };\n}\nfunction generateMaskExpression({ decimalSeparator, isNegativeAllowed, precision, thousandSeparator, prefix, postfix, decimalPseudoSeparators = [], pseudoMinuses = [], minusSign }) {\n  const computedPrefix = computeAllOptionalCharsRegExp(prefix);\n  const digit = \"\\\\d\";\n  const optionalMinus = isNegativeAllowed ? `[${minusSign}${pseudoMinuses.map((x) => `\\\\${x}`).join(\"\")}]?` : \"\";\n  const integerPart = thousandSeparator ? `[${digit}${escapeRegExp(thousandSeparator).replaceAll(/\\s/g, \"\\\\s\")}]*` : `[${digit}]*`;\n  const decimalPart = precision > 0 ? `([${escapeRegExp(decimalSeparator)}${decimalPseudoSeparators.map(escapeRegExp).join(\"\")}]${digit}{0,${Number.isFinite(precision) ? precision : \"\"}})?` : \"\";\n  const computedPostfix = computeAllOptionalCharsRegExp(postfix);\n  return new RegExp(`^${computedPrefix}${optionalMinus}${integerPart}${decimalPart}${computedPostfix}$`);\n}\nfunction computeAllOptionalCharsRegExp(str) {\n  return str ? `${str.split(\"\").map((char) => `${escapeRegExp(char)}?`).join(\"\")}` : \"\";\n}\nfunction maskitoParseNumber(maskedNumber, decimalSeparator = \".\") {\n  const hasNegativeSign = !!maskedNumber.match(new RegExp(`^\\\\D*[${CHAR_MINUS}\\\\${CHAR_HYPHEN}${CHAR_EN_DASH}${CHAR_EM_DASH}${CHAR_JP_HYPHEN}]`));\n  const escapedDecimalSeparator = escapeRegExp(decimalSeparator);\n  const unmaskedNumber = maskedNumber.replaceAll(new RegExp(`${escapedDecimalSeparator}(?!\\\\d)`, \"g\"), \"\").replaceAll(new RegExp(`[^\\\\d${escapedDecimalSeparator}]`, \"g\"), \"\").replace(decimalSeparator, \".\");\n  return unmaskedNumber ? Number((hasNegativeSign ? CHAR_HYPHEN : \"\") + unmaskedNumber) : NaN;\n}\nfunction stringifyNumberWithoutExp(value) {\n  const valueAsString = String(value);\n  const [numberPart, expPart] = valueAsString.split(\"e-\");\n  let valueWithoutExp = valueAsString;\n  if (expPart) {\n    const [, fractionalPart] = numberPart.split(\".\");\n    const decimalDigits = Number(expPart) + ((fractionalPart === null || fractionalPart === void 0 ? void 0 : fractionalPart.length) || 0);\n    valueWithoutExp = value.toFixed(decimalDigits);\n  }\n  return valueWithoutExp;\n}\nfunction toNumberParts(value, { decimalSeparator, thousandSeparator }) {\n  const [integerWithMinus = \"\", decimalPart = \"\"] = value.split(decimalSeparator);\n  const [, minus = \"\", integerPart = \"\"] = integerWithMinus.match(new RegExp(`([^\\\\d${escapeRegExp(thousandSeparator)}]+)?(.*)`)) || [];\n  return { minus, integerPart, decimalPart };\n}\nfunction validateDecimalPseudoSeparators({ decimalSeparator, thousandSeparator, decimalPseudoSeparators = DEFAULT_DECIMAL_PSEUDO_SEPARATORS }) {\n  return decimalPseudoSeparators.filter((char) => char !== thousandSeparator && char !== decimalSeparator);\n}\nfunction createDecimalZeroPaddingPostprocessor({ decimalSeparator, precision, decimalZeroPadding, prefix, postfix }) {\n  if (precision <= 0 || !decimalZeroPadding) {\n    return identity;\n  }\n  return ({ value, selection }) => {\n    const { cleanValue, extractedPrefix, extractedPostfix } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    if (Number.isNaN(maskitoParseNumber(cleanValue, decimalSeparator))) {\n      return { value, selection };\n    }\n    const [integerPart, decimalPart = \"\"] = cleanValue.split(decimalSeparator);\n    return {\n      value: extractedPrefix + integerPart + decimalSeparator + decimalPart.padEnd(precision, \"0\") + extractedPostfix,\n      selection\n    };\n  };\n}\nfunction emptyPostprocessor({ prefix, postfix, decimalSeparator, thousandSeparator }) {\n  return ({ value, selection }) => {\n    const [caretIndex] = selection;\n    const { cleanValue, extractedPrefix, extractedPostfix } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const { minus, integerPart, decimalPart } = toNumberParts(cleanValue, {\n      decimalSeparator,\n      thousandSeparator\n    });\n    const aloneDecimalSeparator = !integerPart && !decimalPart && cleanValue.includes(decimalSeparator);\n    if (!integerPart && !Number(decimalPart) && caretIndex === (minus + extractedPrefix).length || aloneDecimalSeparator) {\n      return {\n        selection,\n        value: extractedPrefix + minus + extractedPostfix\n      };\n    }\n    return { value, selection };\n  };\n}\nfunction createInitializationOnlyPreprocessor({ decimalSeparator, decimalPseudoSeparators, pseudoMinuses, prefix, postfix, minusSign }) {\n  let isInitializationPhase = true;\n  const cleanNumberMask = generateMaskExpression({\n    decimalSeparator,\n    decimalPseudoSeparators,\n    pseudoMinuses,\n    prefix: \"\",\n    postfix: \"\",\n    thousandSeparator: \"\",\n    precision: Infinity,\n    isNegativeAllowed: true,\n    minusSign\n  });\n  return ({ elementState, data }) => {\n    if (!isInitializationPhase) {\n      return { elementState, data };\n    }\n    isInitializationPhase = false;\n    const { value, selection } = elementState;\n    const [from2, to] = selection;\n    const { extractedPrefix, cleanValue, extractedPostfix } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const cleanState = maskitoTransform({\n      selection: [\n        Math.max(from2 - extractedPrefix.length, 0),\n        clamp(to - extractedPrefix.length, 0, cleanValue.length)\n      ],\n      value: cleanValue\n    }, {\n      mask: cleanNumberMask\n    });\n    const [cleanFrom, cleanTo] = cleanState.selection;\n    return {\n      elementState: {\n        selection: [\n          cleanFrom + extractedPrefix.length,\n          cleanTo + extractedPrefix.length\n        ],\n        value: extractedPrefix + cleanState.value + extractedPostfix\n      },\n      data\n    };\n  };\n}\nfunction createLeadingZeroesValidationPostprocessor({ decimalSeparator, thousandSeparator, prefix, postfix }) {\n  const trimLeadingZeroes = (value) => {\n    const escapedThousandSeparator = escapeRegExp(thousandSeparator);\n    return value.replace(\n      // all leading zeroes followed by another zero\n      new RegExp(`^(\\\\D+)?[0${escapedThousandSeparator}]+(?=0)`),\n      \"$1\"\n    ).replace(\n      // zero followed by not-zero digit\n      new RegExp(`^(\\\\D+)?[0${escapedThousandSeparator}]+(?=[1-9])`),\n      \"$1\"\n    );\n  };\n  const countTrimmedZeroesBefore = (value, index) => {\n    const valueBefore = value.slice(0, index);\n    const followedByZero = value.slice(index).startsWith(\"0\");\n    return valueBefore.length - trimLeadingZeroes(valueBefore).length + (followedByZero ? 1 : 0);\n  };\n  return ({ value, selection }) => {\n    const [from2, to] = selection;\n    const { cleanValue, extractedPrefix, extractedPostfix } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const hasDecimalSeparator = cleanValue.includes(decimalSeparator);\n    const [integerPart, decimalPart = \"\"] = cleanValue.split(decimalSeparator);\n    const zeroTrimmedIntegerPart = trimLeadingZeroes(integerPart);\n    if (integerPart === zeroTrimmedIntegerPart) {\n      return { value, selection };\n    }\n    const newFrom = from2 - countTrimmedZeroesBefore(value, from2);\n    const newTo = to - countTrimmedZeroesBefore(value, to);\n    return {\n      value: extractedPrefix + zeroTrimmedIntegerPart + (hasDecimalSeparator ? decimalSeparator : \"\") + decimalPart + extractedPostfix,\n      selection: [Math.max(newFrom, 0), Math.max(newTo, 0)]\n    };\n  };\n}\nfunction createMinMaxPostprocessor({ min, max, decimalSeparator, minusSign }) {\n  return ({ value, selection }) => {\n    const parsedNumber = maskitoParseNumber(value, decimalSeparator);\n    const limitedValue = (\n      /**\n       * We cannot limit lower bound if user enters positive number.\n       * The same for upper bound and negative number.\n       * ___\n       * @example (min = 5)\n       * Empty input => Without this condition user cannot type 42 (the first digit will be rejected)\n       * ___\n       * @example (max = -10)\n       * Value is -10 => Without this condition user cannot delete 0 to enter another digit\n       */\n      parsedNumber > 0 ? Math.min(parsedNumber, max) : Math.max(parsedNumber, min)\n    );\n    if (parsedNumber && limitedValue !== parsedNumber) {\n      const newValue = `${limitedValue}`.replace(\".\", decimalSeparator).replace(CHAR_HYPHEN, minusSign);\n      return {\n        value: newValue,\n        selection: [newValue.length, newValue.length]\n      };\n    }\n    return {\n      value,\n      selection\n    };\n  };\n}\nfunction createNonRemovableCharsDeletionPreprocessor({ decimalSeparator, thousandSeparator, decimalZeroPadding }) {\n  return ({ elementState, data }, actionType) => {\n    const { value, selection } = elementState;\n    const [from2, to] = selection;\n    const selectedCharacters = value.slice(from2, to);\n    const nonRemovableSeparators = decimalZeroPadding ? [decimalSeparator, thousandSeparator] : [thousandSeparator];\n    const areNonRemovableZeroesSelected = decimalZeroPadding && from2 > value.indexOf(decimalSeparator) && Boolean(selectedCharacters.match(/^0+$/gi));\n    if (actionType !== \"deleteBackward\" && actionType !== \"deleteForward\" || !nonRemovableSeparators.includes(selectedCharacters) && !areNonRemovableZeroesSelected) {\n      return {\n        elementState,\n        data\n      };\n    }\n    return {\n      elementState: {\n        value,\n        selection: actionType === \"deleteForward\" ? [to, to] : [from2, from2]\n      },\n      data\n    };\n  };\n}\nfunction createNotEmptyIntegerPartPreprocessor({ decimalSeparator, precision, prefix, postfix }) {\n  const startWithDecimalSepRegExp = new RegExp(`^\\\\D*${escapeRegExp(decimalSeparator)}`);\n  return ({ elementState, data }) => {\n    const { value, selection } = elementState;\n    const { cleanValue, extractedPrefix } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const [from2, to] = selection;\n    const cleanFrom = clamp(from2 - extractedPrefix.length, 0, cleanValue.length);\n    const cleanTo = clamp(to - extractedPrefix.length, 0, cleanValue.length);\n    if (precision <= 0 || cleanValue.slice(0, cleanFrom).includes(decimalSeparator) || cleanValue.slice(cleanTo).includes(decimalSeparator) || !data.match(startWithDecimalSepRegExp)) {\n      return { elementState, data };\n    }\n    const digitsBeforeCursor = cleanValue.slice(0, cleanFrom).match(/\\d+/);\n    return {\n      elementState,\n      data: digitsBeforeCursor ? data : `0${data}`\n    };\n  };\n}\nfunction createPseudoCharactersPreprocessor({ validCharacter, pseudoCharacters, prefix, postfix }) {\n  const pseudoCharactersRegExp = new RegExp(`[${pseudoCharacters.join(\"\")}]`, \"gi\");\n  return ({ elementState, data }) => {\n    const { value, selection } = elementState;\n    const { cleanValue, extractedPostfix, extractedPrefix } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    return {\n      elementState: {\n        selection,\n        value: extractedPrefix + cleanValue.replace(pseudoCharactersRegExp, validCharacter) + extractedPostfix\n      },\n      data: data.replace(pseudoCharactersRegExp, validCharacter)\n    };\n  };\n}\nfunction createRepeatedDecimalSeparatorPreprocessor({ decimalSeparator, prefix, postfix }) {\n  return ({ elementState, data }) => {\n    const { value, selection } = elementState;\n    const [from2, to] = selection;\n    const { cleanValue } = extractAffixes(value, { prefix, postfix });\n    return {\n      elementState,\n      data: !cleanValue.includes(decimalSeparator) || value.slice(from2, to + 1).includes(decimalSeparator) ? data : data.replaceAll(new RegExp(escapeRegExp(decimalSeparator), \"gi\"), \"\")\n    };\n  };\n}\nfunction createThousandSeparatorPostprocessor({ thousandSeparator, decimalSeparator, prefix, postfix }) {\n  if (!thousandSeparator) {\n    return identity;\n  }\n  const isAllSpaces = (...chars) => chars.every((x) => /\\s/.test(x));\n  return ({ value, selection }) => {\n    const { cleanValue, extractedPostfix, extractedPrefix } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const { minus, integerPart, decimalPart } = toNumberParts(cleanValue, {\n      decimalSeparator,\n      thousandSeparator\n    });\n    const [initialFrom, initialTo] = selection;\n    let [from2, to] = selection;\n    const processedIntegerPart = Array.from(integerPart).reduceRight((formattedValuePart, char, i) => {\n      const isLeadingThousandSeparator = !i && char === thousandSeparator;\n      const isPositionForSeparator = !isLeadingThousandSeparator && formattedValuePart.length && (formattedValuePart.length + 1) % 4 === 0;\n      if (isPositionForSeparator && (char === thousandSeparator || isAllSpaces(char, thousandSeparator))) {\n        return thousandSeparator + formattedValuePart;\n      }\n      if (char === thousandSeparator && !isPositionForSeparator) {\n        if (i && i <= initialFrom) {\n          from2--;\n        }\n        if (i && i <= initialTo) {\n          to--;\n        }\n        return formattedValuePart;\n      }\n      if (!isPositionForSeparator) {\n        return char + formattedValuePart;\n      }\n      if (i <= initialFrom) {\n        from2++;\n      }\n      if (i <= initialTo) {\n        to++;\n      }\n      return char + thousandSeparator + formattedValuePart;\n    }, \"\");\n    return {\n      value: extractedPrefix + minus + processedIntegerPart + (cleanValue.includes(decimalSeparator) ? decimalSeparator : \"\") + decimalPart + extractedPostfix,\n      selection: [from2, to]\n    };\n  };\n}\nfunction createZeroPrecisionPreprocessor({ precision, decimalSeparator, prefix, postfix }) {\n  if (precision > 0) {\n    return identity;\n  }\n  const decimalPartRegExp = new RegExp(`${escapeRegExp(decimalSeparator)}.*$`, \"g\");\n  return ({ elementState, data }) => {\n    const { value, selection } = elementState;\n    const { cleanValue, extractedPrefix, extractedPostfix } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const [from2, to] = selection;\n    const newValue = extractedPrefix + cleanValue.replace(decimalPartRegExp, \"\") + extractedPostfix;\n    return {\n      elementState: {\n        selection: [\n          Math.min(from2, newValue.length),\n          Math.min(to, newValue.length)\n        ],\n        value: newValue\n      },\n      data: data.replace(decimalPartRegExp, \"\")\n    };\n  };\n}\nvar DUMMY_SELECTION = [0, 0];\nfunction createLeadingZeroesValidationPlugin({ decimalSeparator, thousandSeparator, prefix, postfix }) {\n  const dropRepeatedLeadingZeroes = createLeadingZeroesValidationPostprocessor({\n    decimalSeparator,\n    thousandSeparator,\n    prefix,\n    postfix\n  });\n  return maskitoEventHandler(\"blur\", (element) => {\n    const newValue = dropRepeatedLeadingZeroes({\n      value: element.value,\n      selection: DUMMY_SELECTION\n    }, { value: \"\", selection: DUMMY_SELECTION }).value;\n    maskitoUpdateElement(element, newValue);\n  }, { capture: true });\n}\nfunction createMinMaxPlugin({ min, max, decimalSeparator }) {\n  return maskitoEventHandler(\"blur\", (element, options) => {\n    const parsedNumber = maskitoParseNumber(element.value, decimalSeparator);\n    const clampedNumber = clamp(parsedNumber, min, max);\n    if (!Number.isNaN(parsedNumber) && parsedNumber !== clampedNumber) {\n      maskitoUpdateElement(element, maskitoTransform(stringifyNumberWithoutExp(clampedNumber), options));\n    }\n  }, { capture: true });\n}\nfunction createNotEmptyIntegerPlugin({ decimalSeparator, prefix, postfix }) {\n  return maskitoEventHandler(\"blur\", (element) => {\n    const { cleanValue, extractedPostfix, extractedPrefix } = extractAffixes(element.value, { prefix, postfix });\n    const newValue = extractedPrefix + cleanValue.replace(new RegExp(`^(\\\\D+)?${escapeRegExp(decimalSeparator)}`), `$10${decimalSeparator}`) + extractedPostfix;\n    maskitoUpdateElement(element, newValue);\n  }, { capture: true });\n}\nfunction maskitoNumberOptionsGenerator({ max = Number.MAX_SAFE_INTEGER, min = Number.MIN_SAFE_INTEGER, precision = 0, thousandSeparator = CHAR_NO_BREAK_SPACE, decimalSeparator = \".\", decimalPseudoSeparators, decimalZeroPadding = false, prefix: unsafePrefix = \"\", postfix = \"\", minusSign = CHAR_MINUS } = {}) {\n  const pseudoMinuses = [\n    CHAR_HYPHEN,\n    CHAR_EN_DASH,\n    CHAR_EM_DASH,\n    CHAR_JP_HYPHEN,\n    CHAR_MINUS\n  ].filter((char) => char !== thousandSeparator && char !== decimalSeparator && char !== minusSign);\n  const validatedDecimalPseudoSeparators = validateDecimalPseudoSeparators({\n    decimalSeparator,\n    thousandSeparator,\n    decimalPseudoSeparators\n  });\n  const prefix = unsafePrefix.endsWith(decimalSeparator) && precision > 0 ? `${unsafePrefix}${CHAR_ZERO_WIDTH_SPACE}` : unsafePrefix;\n  return Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), { mask: generateMaskExpression({\n    decimalSeparator,\n    precision,\n    thousandSeparator,\n    prefix,\n    postfix,\n    isNegativeAllowed: min < 0,\n    minusSign\n  }), preprocessors: [\n    createFullWidthToHalfWidthPreprocessor(),\n    createInitializationOnlyPreprocessor({\n      decimalSeparator,\n      decimalPseudoSeparators: validatedDecimalPseudoSeparators,\n      pseudoMinuses,\n      prefix,\n      postfix,\n      minusSign\n    }),\n    createAffixesFilterPreprocessor({ prefix, postfix }),\n    createPseudoCharactersPreprocessor({\n      validCharacter: minusSign,\n      pseudoCharacters: pseudoMinuses,\n      prefix,\n      postfix\n    }),\n    createPseudoCharactersPreprocessor({\n      validCharacter: decimalSeparator,\n      pseudoCharacters: validatedDecimalPseudoSeparators,\n      prefix,\n      postfix\n    }),\n    createNotEmptyIntegerPartPreprocessor({\n      decimalSeparator,\n      precision,\n      prefix,\n      postfix\n    }),\n    createNonRemovableCharsDeletionPreprocessor({\n      decimalSeparator,\n      decimalZeroPadding,\n      thousandSeparator\n    }),\n    createZeroPrecisionPreprocessor({\n      precision,\n      decimalSeparator,\n      prefix,\n      postfix\n    }),\n    createRepeatedDecimalSeparatorPreprocessor({\n      decimalSeparator,\n      prefix,\n      postfix\n    })\n  ], postprocessors: [\n    createMinMaxPostprocessor({ decimalSeparator, min, max, minusSign }),\n    maskitoPrefixPostprocessorGenerator(prefix),\n    maskitoPostfixPostprocessorGenerator(postfix),\n    createThousandSeparatorPostprocessor({\n      decimalSeparator,\n      thousandSeparator,\n      prefix,\n      postfix\n    }),\n    createDecimalZeroPaddingPostprocessor({\n      decimalSeparator,\n      decimalZeroPadding,\n      precision,\n      prefix,\n      postfix\n    }),\n    emptyPostprocessor({ prefix, postfix, decimalSeparator, thousandSeparator })\n  ], plugins: [\n    createLeadingZeroesValidationPlugin({\n      decimalSeparator,\n      thousandSeparator,\n      prefix,\n      postfix\n    }),\n    createNotEmptyIntegerPlugin({\n      decimalSeparator,\n      prefix,\n      postfix\n    }),\n    createMinMaxPlugin({ min, max, decimalSeparator })\n  ], overwriteMode: decimalZeroPadding ? ({ value, selection: [from2] }) => from2 <= value.indexOf(decimalSeparator) ? \"shift\" : \"replace\" : \"shift\" });\n}\n\n// libs/widgets/src/lib/swap-form/elements/input/input.element.ts\nimport \"@one-inch-community/widgets/token-icon\";\nimport \"@one-inch-community/ui-components/icon\";\nimport \"@one-inch-community/ui-components/button\";\nimport { formatNumber as formatNumber2 } from \"@one-inch-community/core/formatters\";\n\n// libs/widgets/src/lib/swap-form/elements/balance/balance.element.ts\nimport { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { consume } from \"@lit/context\";\n\n// libs/widgets/src/lib/swap-form/elements/balance/balance.styles.ts\nimport { mobileMediaCSS } from \"@one-inch-community/core/lit\";\nimport { css as css2 } from \"lit\";\nvar balanceStyles = css2`\n\n    :host {\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 24px;\n        letter-spacing: 0;\n        text-align: right;\n        width: fit-content;\n        color: var(--color-content-content-secondary);\n    }\n\n    ${mobileMediaCSS(css2`\n        :host {\n            font-size: 13px;\n        }\n    `)}\n`;\n\n// libs/widgets/src/lib/swap-form/elements/balance/balance.element.ts\nimport { catchError, combineLatest, defer, filter, map, startWith, switchMap } from \"rxjs\";\nimport { formatUnits } from \"viem\";\nimport { observe, translate } from \"@one-inch-community/core/lit\";\nimport { TokenController } from \"@one-inch-community/sdk/tokens\";\nimport { getBlockEmitter } from \"@one-inch-community/sdk/chain\";\nimport { formatNumber } from \"@one-inch-community/core/formatters\";\nimport { SwapContextToken } from \"@one-inch-community/sdk/swap\";\nvar BalanceElement = class extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.balance$ = defer(() => {\n      if (!this.context) throw new Error(\"\");\n      if (!this.tokenType) throw new Error(\"\");\n      return combineLatest([\n        this.context.connectedWalletAddress$,\n        this.context.getTokenByType(this.tokenType),\n        this.context.chainId$,\n        this.context.chainId$.pipe(\n          switchMap((chainId) => chainId ? getBlockEmitter(chainId) : []),\n          startWith(null)\n        )\n      ]);\n    }).pipe(\n      filter(([address]) => !!address),\n      switchMap(([walletAddress, token, chainId]) => {\n        if (!walletAddress || !token || !chainId) return [html`<br>`];\n        return TokenController.liveQuery(() => TokenController.getTokenBalance(chainId, token.address, walletAddress)).pipe(\n          filter(Boolean),\n          map((balanceRecord) => {\n            return formatNumber(formatUnits(BigInt(balanceRecord.amount), token.decimals), 6);\n          }),\n          map((balance) => this.getBalanceView(balance)),\n          catchError(() => [html`<br>`])\n        );\n      })\n    );\n  }\n  render() {\n    return html`${observe(this.balance$, html`<br>`)}`;\n  }\n  getBalanceView(balance) {\n    return html`\n      <span>${translate(\"widgets.swap-form.input.balance.balance\")}: ${balance}</span>\n    `;\n  }\n};\nBalanceElement.tagName = \"inch-swap-balance\";\nBalanceElement.styles = balanceStyles;\n__decorateClass([\n  property({ type: String, attribute: true })\n], BalanceElement.prototype, \"tokenType\", 2);\n__decorateClass([\n  consume({ context: SwapContextToken })\n], BalanceElement.prototype, \"context\", 2);\nBalanceElement = __decorateClass([\n  customElement(BalanceElement.tagName)\n], BalanceElement);\n\n// libs/widgets/src/lib/swap-form/elements/fiat-balance/fiat-balance.element.ts\nimport { html as html2, LitElement as LitElement2 } from \"lit\";\nimport { customElement as customElement2, property as property2 } from \"lit/decorators.js\";\nimport { consume as consume2 } from \"@lit/context\";\nimport { observe as observe2 } from \"@one-inch-community/core/lit\";\nimport { catchError as catchError2, combineLatest as combineLatest2, defer as defer2, filter as filter2, map as map2, switchMap as switchMap2 } from \"rxjs\";\nimport { formatUnits as formatUnits2 } from \"viem\";\nimport { TokenController as TokenController2 } from \"@one-inch-community/sdk/tokens\";\nimport { smartFormatNumber } from \"@one-inch-community/core/formatters\";\n\n// libs/widgets/src/lib/swap-form/elements/fiat-balance/fiat-balance.styles.ts\nimport { mobileMediaCSS as mobileMediaCSS2 } from \"@one-inch-community/core/lit\";\nimport { css as css3 } from \"lit\";\nvar fiatBalanceStyles = css3`\n\n    :host {\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 24px;\n        letter-spacing: 0;\n        text-align: right;\n        color: var(--color-content-content-secondary);\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n\n    ${mobileMediaCSS2(css3`\n        :host {\n            font-size: 13px;\n        }\n    `)}\n\n`;\n\n// libs/widgets/src/lib/swap-form/elements/fiat-balance/fiat-balance.element.ts\nimport { SwapContextToken as SwapContextToken2 } from \"@one-inch-community/sdk/swap\";\nvar FiatBalanceElement = class extends LitElement2 {\n  constructor() {\n    super(...arguments);\n    this.balance$ = defer2(() => {\n      if (!this.context) throw new Error(\"\");\n      if (!this.tokenType) throw new Error(\"\");\n      return combineLatest2([\n        this.context.connectedWalletAddress$,\n        this.context.getTokenByType(this.tokenType),\n        this.context.chainId$\n      ]);\n    }).pipe(\n      filter2(([address]) => !!address),\n      switchMap2(([walletAddress, token, chainId]) => {\n        if (!walletAddress || !token || !chainId) return [html2`<br>`];\n        return combineLatest2([\n          TokenController2.liveQuery(() => TokenController2.getTokenUSDPrice(chainId, token.address)),\n          this.context.getTokenRawAmountByType(this.tokenType)\n        ]).pipe(\n          map2(([tokenPrice, amount]) => {\n            if (!amount) return html2`<br>`;\n            const balanceFormatted = formatUnits2(BigInt(amount), token.decimals);\n            const balanceUsd = Number(balanceFormatted) * Number(tokenPrice);\n            return this.getBalanceView(smartFormatNumber(balanceUsd.toString(), 1));\n          }),\n          catchError2(() => [html2`<br>`])\n        );\n      })\n    );\n  }\n  render() {\n    return html2`${observe2(this.balance$, html2`<br>`)}`;\n  }\n  getBalanceView(balance) {\n    return html2`\n      <span>~$${balance}</span>\n    `;\n  }\n};\nFiatBalanceElement.tagName = \"inch-fiat-balance\";\nFiatBalanceElement.styles = fiatBalanceStyles;\n__decorateClass([\n  property2({ type: String, attribute: true })\n], FiatBalanceElement.prototype, \"tokenType\", 2);\n__decorateClass([\n  consume2({ context: SwapContextToken2 })\n], FiatBalanceElement.prototype, \"context\", 2);\nFiatBalanceElement = __decorateClass([\n  customElement2(FiatBalanceElement.tagName)\n], FiatBalanceElement);\n\n// libs/widgets/src/lib/swap-form/elements/input/input.style.ts\nimport { mobileMediaCSS as mobileMediaCSS3 } from \"@one-inch-community/core/lit\";\nimport { css as css4 } from \"lit\";\nvar inputStyle = css4`\n\n    .input-container {\n        height: 128px;\n        border-radius: 16px;\n        background-color: var(--color-background-bg-secondary);\n        transition: box-shadow .2s;\n        padding: 16px;\n        box-sizing: border-box;\n        display: grid;\n        grid-template-columns: minmax(40%, auto) minmax(auto, 70%);\n        justify-content: space-between;\n    }\n\n    .input-container.disabled {\n        background-color: var(--color-background-bg-primary);\n        border: 1px solid var(--color-border-border-tertiary);\n    }\n    \n    .flex-container {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        height: 100%;\n    }\n    \n    .input-title {\n        font-size: 16px;\n        font-weight: 500;\n        line-height: 24px;\n        letter-spacing: 0;\n        text-align: left;\n        color: var(--color-content-content-secondary);\n        width: fit-content;\n    }\n\n    .symbol-container {\n        border: none;\n        background-color: transparent;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        cursor: pointer;\n        color: var(--color-content-content-primary);\n        border-radius: 16px;\n        padding: 8px;\n        margin-left: -8px;\n        transition: background-color .2s;\n        outline: none;\n        user-select: none;\n        width: fit-content;\n        -webkit-tap-highlight-color: transparent;\n    }\n    \n    .symbol {\n        font-size: 24px;\n        font-weight: 600;\n        line-height: 32px;\n        letter-spacing: 0;\n        text-align: left;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n    \n    .token-name {\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 24px;\n        letter-spacing: 0;\n        text-align: left;\n        color: var(--color-content-content-secondary);\n        font-style: normal;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n\n    .token-name:dir(rtl) {\n        text-align: right;\n    }\n    \n    .amount-input {\n        height: 48px;\n        padding: 0;\n        color: var(--color-content-content-primary);\n        box-sizing: border-box;\n        font-size: 24px;\n        font-weight: 600;\n        line-height: 32px;\n        letter-spacing: 0;\n        text-align: right;\n        border: none;\n        background-color: transparent;\n        outline: none;\n        user-select: none;\n        width: 100%;\n    }\n    \n    .input-rtl {\n        text-align: left; \n    }\n\n    .amount-input[type=\"number\"]::-webkit-inner-spin-button,\n    .amount-input[type=\"number\"]::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n    .amount-input[type=\"number\"] {\n        -moz-appearance: textfield;\n    }\n    .amount-input:disabled {\n        opacity: 1;\n        color: var(--color-content-content-primary);\n    }\n    \n    .balance-amount-fiat {\n        align-items: flex-end;\n    }\n    \n    .focus:not(.disabled) {\n        box-shadow: 0 0 0 1px var(--color-background-bg-positive-hover); \n    }\n    \n    .balance-and-max {\n        display: flex;\n        gap: 8px;\n        align-items: center;\n    }\n    \n    .loading {\n        will-change: opacity;\n        animation: stub-loader-animation 2s ease-in-out infinite;\n    }\n    \n    .input-rtl {\n        text-align: end;\n    }\n\n    @keyframes stub-loader-animation {\n        0%, 100% {\n            opacity: 1;\n        }\n        50% {\n            opacity: 0.5;\n        }\n    }\n    \n    @media (hover: hover) {\n        .input-container:not(.disabled):hover {\n            box-shadow: 0 0 0 1px var(--color-background-bg-positive-hover);\n        }\n        .symbol-container:hover {\n            background-color: var(--color-background-bg-positive-hover);\n        }\n    }\n\n    ${mobileMediaCSS3(css4`\n        .amount-input {\n            height: 40px;\n        }\n        .symbol, .amount-input {\n            font-size: 20px;\n        }\n        .input-title, .token-name {\n            font-size: 13px;\n        }\n        .input-container {\n            height: 116px;\n        }\n        .symbol-container {\n            padding: 4px 8px;\n        }\n    `)}\n    \n    .symbol-container:active {\n        transform: scale(.98);\n        background-color: var(--color-background-bg-positive-hover);\n    }\n    \n    .select-token-text {\n        word-wrap: break-word;\n        white-space: nowrap\n    }\n\n`;\n\n// libs/widgets/src/lib/swap-form/elements/input/input.element.ts\nimport { observe as observe3, subscribe, dispatchEvent, translate as translate2, isRTLCurrentLocale, localeChange$ } from \"@one-inch-community/core/lit\";\nimport { formatUnits as formatUnits3, parseUnits } from \"viem\";\nimport { when } from \"lit/directives/when.js\";\nimport { choose } from \"lit/directives/choose.js\";\nimport { SwapContextToken as SwapContextToken3 } from \"@one-inch-community/sdk/swap\";\nvar InputElement = class extends LitElement3 {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.isFocus = false;\n    this.connectedAddress = null;\n    this.setMaxInProgress = false;\n    this.token = null;\n    this.token$ = defer3(() => this.getTokenEventEmitter()).pipe(\n      shareReplay({ bufferSize: 1, refCount: true })\n    );\n    this.chainId$ = defer3(() => this.getChainEventEmitter());\n    this.connectedAddress$ = defer3(() => this.getConnectedWalletAddress());\n    this.amount$ = defer3(() => this.getTokenAmountStream());\n    this.loading$ = defer3(() => this.getLoadingStream());\n    this.loaderView$ = defer3(() => this.loading$.pipe(\n      // map(() => true),\n      map3((state4) => {\n        if (this.tokenType === \"source\") return html3`${this.input}`;\n        if (state4) return html3`<span class=\"loader\"></span>`;\n        return html3`${this.input}`;\n      }),\n      startWith2(html3`${this.input}`)\n    ));\n    this.input = document.createElement(\"input\");\n    this.maskedInput = this.buildMask(6);\n    this.tokenView$ = this.token$.pipe(\n      map3((token) => {\n        if (!token) return this.selectTokenView();\n        return this.tokenView(token);\n      })\n    );\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.input.classList.add(\"amount-input\");\n    this.input.inputMode = \"decimal\";\n    this.input.autocomplete = \"off\";\n    this.input.placeholder = this.tokenType === \"source\" ? \"0\" : \"\";\n    this.input.onfocus = () => this.onFocus();\n    this.input.onblur = () => this.onBlur();\n    this.input.oninput = (event) => this.onInput(event);\n    const updateMask$ = this.token$.pipe(\n      tap((token) => {\n        if (!token) return;\n        this.maskedInput.destroy();\n        this.maskedInput = this.buildMask(token.decimals);\n      })\n    );\n    const loading$ = this.loading$.pipe(\n      switchMap3((state4) => {\n        if (this.tokenType === \"source\") return of(void 0);\n        if (state4 && !this.input.classList.contains(\"loading\")) {\n          this.input.classList.add(\"loading\");\n          return of(void 0);\n        }\n        if (!state4 && this.input.classList.contains(\"loading\")) {\n          return from(this.input.animate([\n            {},\n            { opacity: 1 }\n          ], { duration: 2e3 }).finished.then(() => {\n            this.input.classList.remove(\"loading\");\n          }));\n        }\n        return of(void 0);\n      })\n    );\n    const updateInputValue$ = combineLatest3([\n      this.amount$,\n      this.token$\n    ]).pipe(\n      map3(([amount, token]) => {\n        if (!amount || !token) return \"0\";\n        return formatUnits3(amount, token.decimals);\n      }),\n      filter3((amount, index) => {\n        if (index === 0 && amount === \"0\") return false;\n        return amount !== this.input.value;\n      }),\n      tap((amount) => this.input.value = formatNumber2(amount, 6))\n    );\n    subscribe(this, [\n      updateMask$,\n      updateInputValue$,\n      loading$,\n      this.token$.pipe(tap((token) => this.token = token)),\n      this.connectedAddress$.pipe(tap((address) => this.connectedAddress = address))\n    ], { requestUpdate: false });\n    subscribe(this, [\n      localeChange$\n    ]);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.maskedInput.destroy();\n  }\n  render() {\n    const classes = {\n      disabled: this.disabled,\n      focus: this.isFocus\n    };\n    this.input.disabled = this.tokenType === \"destination\";\n    this.updateInputRtl();\n    return html3`\n      <div class=\"input-container ${classMap(classes)}\">\n        <div class=\"flex-container symbol-title-name\">\n          <div class=\"input-title\">${choose(this.tokenType, [\n      [\"source\", () => html3`${translate2(\"widgets.swap-form.input.title.you_pay\")}`],\n      [\"destination\", () => html3`${translate2(\"widgets.swap-form.input.title.you_receive\")}`]\n    ])}</div>\n          ${observe3(this.tokenView$)}\n        </div>\n        \n        <div class=\"flex-container balance-amount-fiat\">\n          <div class=\"balance-and-max\">\n            <inch-swap-balance tokenType=\"${ifDefined(this.tokenType)}\"></inch-swap-balance>\n            ${when(this.connectedAddress && this.token && this.tokenType === \"source\", () => html3`\n              <inch-button @click=\"${async () => {\n      this.setMaxInProgress = true;\n      await this.context?.setMaxAmount();\n      this.setMaxInProgress = false;\n    }}\" type=\"secondary\" size=\"xs\" loader=\"${ifDefined(this.setMaxInProgress ? \"\" : void 0)}\">MAX</inch-button>\n            `)}\n          </div>\n          ${this.input}\n          <inch-fiat-balance tokenType=\"${ifDefined(this.tokenType)}\"></inch-fiat-balance>\n        </div>\n      </div>\n    `;\n  }\n  selectTokenView() {\n    return html3`\n      <inch-button disabledSlotPointerEvent type=\"secondary\" size=\"l\" @click=\"${(event) => dispatchEvent(this, \"openTokenSelector\", this.tokenType, event)}\">\n        <span class=\"select-token-text\">Select token</span>\n        <inch-icon icon=\"chevronDown16\"></inch-icon>\n      </inch-button>\n      <br>\n    `;\n  }\n  onFocus() {\n    this.isFocus = true;\n    dispatchEvent(this, \"focusTokenInput\", this.tokenType);\n  }\n  onBlur() {\n    this.isFocus = false;\n    dispatchEvent(this, \"blurTokenInput\", this.tokenType);\n  }\n  tokenView(token) {\n    const { name, symbol, address } = token;\n    return html3`\n      <button @click=\"${(event) => dispatchEvent(this, \"openTokenSelector\", this.tokenType, event)}\"\n              class=\"symbol-container\">\n        <inch-token-icon symbol=\"${symbol}\" address=\"${address}\"\n                         chainId=\"${observe3(this.chainId$)}\"></inch-token-icon>\n        <span class=\"symbol\">${symbol}</span>\n        <inch-icon icon=\"chevronDown16\"></inch-icon>\n      </button>\n      <div class=\"token-name\">${name}</div>\n    `;\n  }\n  updateInputRtl() {\n    if (isRTLCurrentLocale() && !this.input.classList.contains(\"input-rtl\")) {\n      this.input.classList.add(\"input-rtl\");\n    }\n    if (!isRTLCurrentLocale() && this.input.classList.contains(\"input-rtl\")) {\n      this.input.classList.remove(\"input-rtl\");\n    }\n  }\n  getTokenEventEmitter() {\n    if (!this.context) throw new Error(\"\");\n    if (!this.tokenType) throw new Error(\"\");\n    return this.context.getTokenByType(this.tokenType);\n  }\n  getTokenAmountStream() {\n    if (!this.context) throw new Error(\"\");\n    if (!this.tokenType) throw new Error(\"\");\n    return this.context.getTokenAmountByType(this.tokenType);\n  }\n  getLoadingStream() {\n    if (!this.context) throw new Error(\"\");\n    if (!this.tokenType) throw new Error(\"\");\n    return this.context.loading$;\n  }\n  getChainEventEmitter() {\n    if (!this.context) throw new Error(\"\");\n    return this.context.chainId$;\n  }\n  getConnectedWalletAddress() {\n    if (!this.context) throw new Error(\"\");\n    return this.context.connectedWalletAddress$;\n  }\n  onInput(event) {\n    if (!this.tokenType) return;\n    const target = event.target;\n    const valueString = target?.value ?? \"\";\n    const token = this.token;\n    if (!token) return;\n    const amount = parseUnits(valueString.replaceAll(\"\\xA0\", \"\"), token.decimals);\n    this.context?.setTokenAmountByType(this.tokenType, amount);\n  }\n  buildMask(decimals) {\n    return new Maskito(this.input, maskitoNumberOptionsGenerator({\n      precision: decimals,\n      max: 9 * 10 ** 15,\n      min: 0\n    }));\n  }\n};\nInputElement.tagName = \"inch-swap-form-input\";\nInputElement.styles = inputStyle;\n__decorateClass([\n  property3({ type: Boolean, attribute: true, reflect: true })\n], InputElement.prototype, \"disabled\", 2);\n__decorateClass([\n  property3({ type: String, attribute: true, reflect: true })\n], InputElement.prototype, \"tokenType\", 2);\n__decorateClass([\n  state()\n], InputElement.prototype, \"isFocus\", 2);\n__decorateClass([\n  state()\n], InputElement.prototype, \"connectedAddress\", 2);\n__decorateClass([\n  state()\n], InputElement.prototype, \"setMaxInProgress\", 2);\n__decorateClass([\n  consume3({ context: SwapContextToken3 })\n], InputElement.prototype, \"context\", 2);\nInputElement = __decorateClass([\n  customElement3(InputElement.tagName)\n], InputElement);\n\n// libs/widgets/src/lib/swap-form/elements/token-pair-switch/token-pair-switch.element.ts\nimport { html as html4, LitElement as LitElement4 } from \"lit\";\nimport { customElement as customElement4 } from \"lit/decorators.js\";\nimport { ref, createRef } from \"lit/directives/ref.js\";\nimport { consume as consume4 } from \"@lit/context\";\nimport { combineLatest as combineLatest4, defer as defer4, fromEvent, map as map4, switchMap as switchMap4 } from \"rxjs\";\nimport \"@one-inch-community/ui-components/icon\";\nimport { observe as observe4, subscribe as subscribe2, appendStyle, getMobileMatchMedia } from \"@one-inch-community/core/lit\";\n\n// libs/widgets/src/lib/swap-form/elements/token-pair-switch/token-pair-switch.style.ts\nimport { css as css5 } from \"lit\";\nvar tokenPairSwitchStyle = css5`\n\n    :host {\n        height: 4px;\n        position: relative;\n        outline: none;\n        user-select: none;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        -webkit-tap-highlight-color: transparent;\n    }\n    \n    .switcher {\n        position: absolute;\n        border-radius: 50%;\n        border: none;\n        background-color: var(--color-background-bg-primary);\n        color: var(--color-content-content-primary);\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.12), 0 1px 4px 0 rgba(0, 0, 0, 0.12);\n        width: 32px;\n        height: 32px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        top: -13px;\n        cursor: pointer;\n        will-change: transform;\n    }\n    \n    .switcher:disabled {\n        cursor: not-allowed;\n        pointer-events: none;\n        color: var(--color-content-content-disabled);\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.12), 0 1px 4px 0 rgba(0, 0, 0, 0.12);\n    }\n    \n    @media (hover: hover) {\n        .switcher:not(:disabled):hover {\n            color: var(--color-content-content-secondary);\n        }\n    }\n`;\n\n// libs/widgets/src/lib/swap-form/elements/token-pair-switch/token-pair-switch.element.ts\nimport { SwapContextToken as SwapContextToken4 } from \"@one-inch-community/sdk/swap\";\nvar TokenPairSwitchElement = class extends LitElement4 {\n  constructor() {\n    super(...arguments);\n    this.iconRef = createRef();\n    this.buttonRef = createRef();\n    this.mobileMedia = getMobileMatchMedia();\n    this.isUp = false;\n    this.isDisabled$ = defer4(() => {\n      if (!this.context) throw new Error(\"\");\n      return combineLatest4([\n        this.context.getTokenByType(\"source\"),\n        this.context.getTokenByType(\"destination\")\n      ]);\n    }).pipe(\n      map4(([sourceToken, destinationToken]) => !sourceToken || !destinationToken)\n    );\n  }\n  firstUpdated() {\n    if (!this.buttonRef.value) return;\n    if (!this.mobileMedia.matches) {\n      const options = {\n        duration: 200,\n        easing: \"cubic-bezier(.1, .3, .6, 1)\"\n      };\n      subscribe2(this, [\n        fromEvent(this.buttonRef.value, \"mouseenter\").pipe(\n          switchMap4(async () => {\n            if (!this.iconRef.value || this.isUp) return;\n            this.isUp = true;\n            await this.iconRef.value.animate([\n              { transform: \"rotate(0deg)\" },\n              { transform: \"rotate(180deg)\" }\n            ], options).finished;\n            appendStyle(this.iconRef.value, {\n              transform: \"rotate(180deg)\"\n            });\n          })\n        ),\n        fromEvent(this.buttonRef.value, \"mouseleave\").pipe(\n          switchMap4(async () => {\n            if (!this.iconRef.value || !this.isUp) return;\n            this.isUp = false;\n            await this.iconRef.value.animate([\n              { transform: \"rotate(180deg)\" },\n              { transform: \"rotate(360deg)\" }\n            ], options).finished;\n            appendStyle(this.iconRef.value, {\n              transform: \"\"\n            });\n          })\n        )\n      ]);\n    }\n  }\n  render() {\n    return html4`\n      <button\n        ${ref(this.buttonRef)}\n        @click=\"${() => this.onClick()}\"\n        ?disabled=\"${observe4(this.isDisabled$, false)}\"\n        class=\"switcher\"\n      >\n        <inch-icon ${ref(this.iconRef)} class=\"switcher-icon\" icon=\"arrowDown24\"></inch-icon>\n      </button>\n    `;\n  }\n  async onClick() {\n    if (!this.iconRef.value || !this.isUp && !this.mobileMedia.matches) return;\n    this.context?.switchPair();\n    const options = {\n      duration: 200,\n      easing: \"cubic-bezier(.1, .3, .6, 1)\"\n    };\n    if (!this.mobileMedia.matches) {\n      await this.iconRef.value.animate([\n        { transform: \"rotate(180deg)\" },\n        { transform: \"rotate(360deg)\" }\n      ], options).finished;\n      appendStyle(this.iconRef.value, {\n        transform: \"\"\n      });\n      this.isUp = false;\n    }\n  }\n};\nTokenPairSwitchElement.tagName = \"inch-token-pair-switch\";\nTokenPairSwitchElement.styles = tokenPairSwitchStyle;\n__decorateClass([\n  consume4({ context: SwapContextToken4 })\n], TokenPairSwitchElement.prototype, \"context\", 2);\nTokenPairSwitchElement = __decorateClass([\n  customElement4(TokenPairSwitchElement.tagName)\n], TokenPairSwitchElement);\n\n// libs/widgets/src/lib/swap-form/elements/swap-button/swap-button.element.ts\nimport { html as html5, LitElement as LitElement5 } from \"lit\";\nimport { customElement as customElement5, state as state2 } from \"lit/decorators.js\";\nimport { ifDefined as ifDefined2 } from \"lit/directives/if-defined.js\";\nimport \"@one-inch-community/ui-components/button\";\nimport { consume as consume5 } from \"@lit/context\";\nimport {\n  combineLatest as combineLatest5,\n  debounceTime,\n  defer as defer5,\n  distinctUntilChanged,\n  firstValueFrom,\n  map as map5,\n  of as of2,\n  startWith as startWith3,\n  switchMap as switchMap5,\n  tap as tap3,\n  merge,\n  withLatestFrom,\n  Subject,\n  shareReplay as shareReplay2\n} from \"rxjs\";\nimport {\n  dispatchEvent as dispatchEvent3,\n  getMobileMatchMediaAndSubscribe,\n  subscribe as subscribe3,\n  translate as translate3\n} from \"@one-inch-community/core/lit\";\nimport {\n  getAllowance,\n  getBlockEmitter as getBlockEmitter2,\n  getOneInchRouterV6ContractAddress,\n  hasPermit,\n  isChainId,\n  isNativeToken,\n  isSupportPermit2\n} from \"@one-inch-community/sdk/chain\";\nimport { BrandColors, getThemeChange } from \"@one-inch-community/core/theme\";\n\n// libs/widgets/src/lib/swap-form/elements/swap-button/swap-button.style.ts\nimport { mobileMediaCSS as mobileMediaCSS4 } from \"@one-inch-community/core/lit\";\nimport { getRainbowGradient } from \"@one-inch-community/core/theme\";\nimport { css as css6 } from \"lit\";\nvar swapButtonStyle = css6`\n      :host {\n          height: 57px;\n      }\n\n      ${mobileMediaCSS4(css6`\n          :host {\n              height: 44px;\n          }\n      `)}\n      .smart-hover {\n          position: relative;\n          overflow: hidden;\n      }\n      .on-hover,\n      .off-hover {\n          position: absolute;\n          transition: transform .2s;\n      }\n      \n      .on-hover {\n          transform: translateY(-200%);\n      }\n\n      .rainbow {\n          --button-text-color-ext: #ffffff;\n          --button-text-color-ext-hover: #ffffff;\n          position: relative;\n      }\n\n      .rainbow:after, .rainbow:before {\n          content: '';\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          top: 0;\n          left: 0;\n          bottom: 0;\n          right: 0;\n          background: ${getRainbowGradient()};\n          background-size: 1000%;\n          animation: bg-rainbow 300s cubic-bezier(0.4, 0, 1, 1) infinite;\n          z-index: -1;\n      }\n\n      @keyframes bg-rainbow {\n          0% {\n              border-radius: 24px;\n              background-position: 0 0;\n          }\n          50% {\n              border-radius: 24px;\n              background-size: 800%;\n              background-position: 400% 0;\n          }\n          100% {\n              border-radius: 24px;\n              background-position: 0 0;\n          }\n      }\n      @media (hover: hover) {\n          .smart-hover:hover .on-hover {\n              transform: translateY(0);\n          }\n\n          .smart-hover:hover .off-hover {\n              transform: translateY(200%);\n          }\n      }\n      @media (hover: none) {\n          .smart-hover .on-hover {\n              transform: translateY(0);\n          }\n\n          .smart-hover .off-hover {\n              transform: translateY(200%);\n          }\n      }\n\n  `;\n\n// libs/widgets/src/lib/swap-form/elements/swap-button/swap-button.element.ts\nimport { when as when2 } from \"lit/directives/when.js\";\nimport { JsonParser, storage } from \"@one-inch-community/core/storage\";\nimport { CacheActivePromise } from \"@one-inch-community/core/decorators\";\nimport { SwapContextToken as SwapContextToken5 } from \"@one-inch-community/sdk/swap\";\nimport { ApplicationContextToken } from \"@one-inch-community/core/application-context\";\nvar showLoader = [\n  1 /* readyToSwapLoading */,\n  9 /* checkAllowance */,\n  13 /* permitInWallet */,\n  14 /* approveInWallet */\n];\nvar SwapButtonElement = class extends LitElement5 {\n  constructor() {\n    super(...arguments);\n    this.isRainbowTheme = false;\n    this.buttonState = storage.get(\"fusion_swap_button_state\", JsonParser) ?? 0 /* readyToSwap */;\n    this.chainId = null;\n    this.srcToken = null;\n    this.mobileMedia = getMobileMatchMediaAndSubscribe(this);\n    this.connectedWalletAddress$ = defer5(() => this.getConnectedWalletAddress());\n    this.sourceToken$ = defer5(() => this.getSourceToken());\n    this.destinationToken$ = defer5(() => this.getDestinationToken());\n    this.chainId$ = defer5(() => this.getChainId());\n    this.sourceTokenAmount$ = defer5(() => this.getSourceTokenAmount());\n    this.rate$ = defer5(() => this.getRate());\n    this.block$ = this.chainId$.pipe(\n      switchMap5((chainId) => chainId ? getBlockEmitter2(chainId) : [])\n    );\n    this.updateView$ = new Subject();\n    this.exceedingMaximumAmount$ = combineLatest5([\n      this.connectedWalletAddress$,\n      this.sourceToken$,\n      this.sourceTokenAmount$.pipe(startWith3(0n)),\n      merge(\n        this.chainId$,\n        this.block$\n      ).pipe(startWith3(null))\n    ]).pipe(\n      switchMap5(([wallet, sourceToken, amount]) => {\n        if (!wallet || !sourceToken || amount === 0n || !this.context) return of2(false);\n        return this.context.getMaxAmount().then((balance) => {\n          if (balance === 0n) return true;\n          return !amount || amount > balance;\n        });\n      }),\n      shareReplay2({ bufferSize: 1, refCount: true })\n    );\n    this.calculateStatus$ = combineLatest5([\n      this.connectedWalletAddress$,\n      this.sourceToken$,\n      this.destinationToken$,\n      this.exceedingMaximumAmount$,\n      this.sourceTokenAmount$.pipe(startWith3(0n)),\n      this.chainId$,\n      this.rate$.pipe(startWith3(null)),\n      this.block$.pipe(startWith3(null)),\n      this.updateView$.pipe(startWith3(null))\n    ]).pipe(\n      map5((params) => {\n        const [\n          walletAddress,\n          srcToken,\n          dstToken,\n          exceedingMaximumAmount,\n          amount,\n          chainId,\n          rate\n        ] = params;\n        this.chainId = chainId;\n        this.srcToken = srcToken;\n        if (!isChainId(chainId)) {\n          return 2 /* unsupportedChain */;\n        }\n        if (walletAddress === null) {\n          return 3 /* walletNotConnected */;\n        }\n        if (srcToken === null) {\n          return 4 /* unselectedSourceToken */;\n        }\n        if (dstToken === null) {\n          return 5 /* unselectedDestinationToken */;\n        }\n        if (!amount || amount === 0n) {\n          return 6 /* zeroAmount */;\n        }\n        if (exceedingMaximumAmount) {\n          return 7 /* exceedingMaximumAmount */;\n        }\n        if (rate === null) {\n          return 8 /* rateNotExist */;\n        }\n        if (isNativeToken(srcToken.address)) {\n          return 12 /* wrapNativeToken */;\n        }\n        return 0 /* readyToSwap */;\n      }),\n      distinctUntilChanged(),\n      debounceTime(0),\n      withLatestFrom(this.chainId$, this.connectedWalletAddress$, this.sourceToken$),\n      switchMap5(async ([state4, chainId, walletAddress, srcToken]) => {\n        if (state4 !== 0 /* readyToSwap */) {\n          return state4;\n        }\n        if (!chainId || !walletAddress || !srcToken) throw new Error(\"\");\n        this.buttonState = 9 /* checkAllowance */;\n        const contract = getOneInchRouterV6ContractAddress(chainId);\n        const allowance = await getAllowance(chainId, srcToken.address, walletAddress, contract);\n        const amount = await firstValueFrom(this.sourceTokenAmount$);\n        if (amount && allowance < amount) {\n          if (isSupportPermit2(chainId)) {\n            const isHasPermit = await hasPermit(chainId, srcToken.address, walletAddress, contract);\n            if (isHasPermit) return state4;\n            return 11 /* lowAllowanceNeedPermit */;\n          }\n          return 10 /* lowAllowanceNeedApprove */;\n        }\n        return state4;\n      }),\n      tap3((state4) => {\n        this.buttonState = state4;\n        storage.set(\"fusion_swap_button_state\", this.buttonState);\n      })\n    );\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    subscribe3(this, [\n      getThemeChange().pipe(\n        map5(({ brandColor }) => brandColor),\n        distinctUntilChanged(),\n        tap3((color) => this.isRainbowTheme = color === BrandColors.rainbow)\n      ),\n      this.sourceToken$.pipe(\n        tap3((token) => this.srcToken = token)\n      ),\n      this.calculateStatus$\n    ]);\n    this.updateView$.next();\n  }\n  render() {\n    const size = this.mobileMedia.matches ? \"xl\" : \"xxl\";\n    return html5`\n      <inch-button\n        class=\"smart-hover\"\n        @click=\"${(event) => this.onClickSwapButton(event)}\"\n        type=\"${this.getButtonType()}\"\n        size=\"${size}\"\n        loader=\"${ifDefined2(this.getLoaderState())}\"\n        fullSize\n      >\n        \n        ${when2(this.buttonState === 2 /* unsupportedChain */, () => html5`\n          <span class=\"off-hover\">Chain ${this.chainId} not supported</span>\n          <span class=\"on-hover\">Change chain</span>\n          <br>\n        `)}\n        ${when2(this.buttonState === 0 /* readyToSwap */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.confirm-swap\")}</span>`)}\n        ${when2(this.buttonState === 1 /* readyToSwapLoading */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.confirm-swap\")}</span>`)}\n        ${when2(this.buttonState === 9 /* checkAllowance */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.check-allowance\")}</span>`)}\n        ${when2(this.buttonState === 12 /* wrapNativeToken */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.native-token-not-supported\")}</span>`)}\n        ${when2(this.buttonState === 10 /* lowAllowanceNeedApprove */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.approve-and-swap\")}</span>`)}\n        ${when2(this.buttonState === 11 /* lowAllowanceNeedPermit */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.permit-and-swap\")}</span>`)}\n        ${when2(this.buttonState === 3 /* walletNotConnected */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.connect-wallet\")}</span>`)}\n        ${when2(this.buttonState === 4 /* unselectedSourceToken */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.select-source-token\")}</span>`)}\n        ${when2(this.buttonState === 5 /* unselectedDestinationToken */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.select-destination-token\")}</span>`)}\n        ${when2(this.buttonState === 6 /* zeroAmount */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.enter-amount-to-swap\")}</span>`)}\n        ${when2(this.buttonState === 8 /* rateNotExist */, () => html5`<span>${translate3(\"widgets.swap-form.swap-button.no-liquidity-for-swap\")}</span>`)}\n        ${when2(this.buttonState === 7 /* exceedingMaximumAmount */, () => html5`\n          <span class=\"off-hover\">${translate3(\"widgets.swap-form.swap-button.insufficient-balance\", { symbol: this.srcToken?.symbol })}</span>\n          <span class=\"on-hover\">${translate3(\"widgets.swap-form.swap-button.set-max\", { symbol: this.srcToken?.symbol })}</span>\n          <br>\n        `)}\n        ${when2(this.buttonState === 13 /* permitInWallet */, () => html5`\n          <span class=\"off-hover\">${translate3(\"widgets.swap-form.swap-button.wait-wallet-response\")}</span>\n          <span class=\"on-hover\">${translate3(\"widgets.swap-form.swap-button.permit-swap-in-wallet\")}</span>\n          <br>\n        `)}\n        ${when2(this.buttonState === 14 /* approveInWallet */, () => html5`\n          <span class=\"off-hover\">${translate3(\"widgets.swap-form.swap-button.wait-wallet-response\")}</span>\n          <span class=\"on-hover\">${translate3(\"widgets.swap-form.swap-button.allow-swap-in-wallet\")}</span>\n          <br>\n        `)}\n      </inch-button>\n    `;\n  }\n  async onClickSwapButton(event) {\n    if (!this.context) {\n      throw new Error(\"\");\n    }\n    const stateState = this.buttonState;\n    try {\n      if (this.buttonState === 2 /* unsupportedChain */) {\n        return dispatchEvent3(this, \"changeChain\", null);\n      }\n      if (this.buttonState === 3 /* walletNotConnected */) {\n        return dispatchEvent3(this, \"connectWallet\", null);\n      }\n      if (this.buttonState === 4 /* unselectedSourceToken */) {\n        return dispatchEvent3(this, \"openTokenSelector\", \"source\", event);\n      }\n      if (this.buttonState === 5 /* unselectedDestinationToken */) {\n        return dispatchEvent3(this, \"openTokenSelector\", \"destination\", event);\n      }\n      if (this.buttonState === 7 /* exceedingMaximumAmount */) {\n        return await this.context.setMaxAmount();\n      }\n      if (this.buttonState === 10 /* lowAllowanceNeedApprove */) {\n        this.buttonState = 14 /* approveInWallet */;\n        await this.context.getApprove();\n        this.buttonState = 0 /* readyToSwap */;\n      }\n      if (this.buttonState === 11 /* lowAllowanceNeedPermit */) {\n        this.buttonState = 13 /* permitInWallet */;\n        await this.context.getPermit();\n        this.buttonState = 0 /* readyToSwap */;\n      }\n      if (this.buttonState === 12 /* wrapNativeToken */) {\n        await this.applicationContext.notificationsController.warning(\n          html5`${translate3(\"widgets.swap-form.swap-button.native-token-not-supported\")}`\n        );\n      }\n      if (this.buttonState === 0 /* readyToSwap */) {\n        this.buttonState = 1 /* readyToSwapLoading */;\n        const snapshot = await this.context.getSnapshot();\n        if (snapshot) {\n          dispatchEvent3(this, \"confirmSwap\", snapshot, event);\n        }\n        this.buttonState = 0 /* readyToSwap */;\n        this.updateView$.next();\n      }\n    } catch (error) {\n      this.buttonState = stateState;\n    }\n  }\n  getButtonType() {\n    if (this.buttonState === 0 /* readyToSwap */) return \"primary\";\n    if (this.buttonState === 10 /* lowAllowanceNeedApprove */) return \"primary\";\n    if (this.buttonState === 11 /* lowAllowanceNeedPermit */) return \"primary\";\n    return \"secondary\";\n  }\n  getLoaderState() {\n    if (showLoader.includes(this.buttonState)) {\n      return true;\n    }\n    return;\n  }\n  async onSwap() {\n  }\n  getConnectedWalletAddress() {\n    if (!this.context) throw new Error(\"\");\n    return this.context.connectedWalletAddress$;\n  }\n  getChainId() {\n    if (!this.context) throw new Error(\"\");\n    return this.context.chainId$;\n  }\n  getSourceToken() {\n    if (!this.context) throw new Error(\"\");\n    return this.context.getTokenByType(\"source\");\n  }\n  getDestinationToken() {\n    if (!this.context) throw new Error(\"\");\n    return this.context.getTokenByType(\"destination\");\n  }\n  getSourceTokenAmount() {\n    if (!this.context) throw new Error(\"\");\n    return this.context.getTokenRawAmountByType(\"source\");\n  }\n  getRate() {\n    if (!this.context) throw new Error(\"\");\n    return this.context.rate$;\n  }\n};\nSwapButtonElement.tagName = \"inch-swap-button\";\nSwapButtonElement.styles = swapButtonStyle;\n__decorateClass([\n  consume5({ context: SwapContextToken5 })\n], SwapButtonElement.prototype, \"context\", 2);\n__decorateClass([\n  consume5({ context: ApplicationContextToken })\n], SwapButtonElement.prototype, \"applicationContext\", 2);\n__decorateClass([\n  state2()\n], SwapButtonElement.prototype, \"isRainbowTheme\", 2);\n__decorateClass([\n  state2()\n], SwapButtonElement.prototype, \"buttonState\", 2);\n__decorateClass([\n  state2()\n], SwapButtonElement.prototype, \"chainId\", 2);\n__decorateClass([\n  state2()\n], SwapButtonElement.prototype, \"srcToken\", 2);\n__decorateClass([\n  CacheActivePromise()\n], SwapButtonElement.prototype, \"onClickSwapButton\", 1);\nSwapButtonElement = __decorateClass([\n  customElement5(SwapButtonElement.tagName)\n], SwapButtonElement);\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info/fusion-swap-info.element.ts\nimport { html as html9, LitElement as LitElement9 } from \"lit\";\nimport { customElement as customElement9 } from \"lit/decorators.js\";\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info/fusion-swap-info.style.ts\nimport { css as css7 } from \"lit\";\nvar fusionSwapInfoStyle = css7`\n  :host {\n      display: flex;\n      flex-direction: column;\n  }\n`;\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info/fusion-swap-info.element.ts\nimport \"@one-inch-community/ui-components/icon\";\nimport \"@one-inch-community/ui-components/button\";\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-slippage/fusion-swap-info-slippage.element.ts\nimport { LitElement as LitElement6, html as html6 } from \"lit\";\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-slippage/fusion-swap-info-slippage.style.ts\nimport { mobileMediaCSS as mobileMediaCSS5 } from \"@one-inch-community/core/lit\";\nimport { css as css8 } from \"lit\";\nvar fusionSwapInfoSlippageStyle = css8`\n\n    .slippage-title {\n        display: flex;\n        padding: 8px;\n        gap: 8px;\n        color: var(--color-content-content-primary);\n        align-items: center;\n        margin-bottom: 8px;\n        cursor: pointer;\n        font-size: 16px;\n    }\n    \n    .back-icon {\n        transform: rotate(90deg);\n    }\n    \n    ${mobileMediaCSS5(css8`\n        .slippage-title {\n            font-size: 13px;\n        }\n    `)}\n\n`;\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-slippage/fusion-swap-info-slippage.element.ts\nimport { customElement as customElement6, property as property4 } from \"lit/decorators.js\";\nimport \"@one-inch-community/ui-components/segmented-control\";\nimport \"@one-inch-community/ui-components/icon\";\nimport {\n  dispatchEvent as dispatchEvent4,\n  appendStyle as appendStyle2,\n  subscribe as subscribe4,\n  getMobileMatchMediaAndSubscribe as getMobileMatchMediaAndSubscribe2,\n  translate as translate4\n} from \"@one-inch-community/core/lit\";\nimport { fromEvent as fromEvent2, tap as tap4 } from \"rxjs\";\nvar FusionSwapInfoSlippageElement = class extends LitElement6 {\n  constructor() {\n    super(...arguments);\n    this.mobileMedia = getMobileMatchMediaAndSubscribe2(this);\n    this.segmentsCustom = { label: \"Custom\", value: \"custom\", template: () => html6`${this.customSlippageInput}` };\n    this.segments = [\n      { label: \"Auto\", value: \"auto\" },\n      { label: \"0.1%\", value: 0.1 },\n      { label: \"0.5%\", value: 0.5 },\n      { label: \"1%\", value: 1 },\n      this.segmentsCustom\n    ];\n    this.postfix = \"%\";\n    this.customSlippageInput = document.createElement(\"input\");\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.buildMask();\n    this.settings?.startChangingValue();\n    this.customSlippageInput.placeholder = \"Custom %\";\n    this.customSlippageInput.inputMode = \"decimal\";\n    this.customSlippageInput.autocomplete = \"off\";\n    appendStyle2(this.customSlippageInput, {\n      backgroundColor: \"transparent\",\n      border: \"none\",\n      outline: \"none\",\n      padding: \"0\",\n      color: \"var(--color-content-content-primary)\",\n      width: \"80px\",\n      fontSize: \"16px\",\n      textAlign: \"center\"\n    });\n    subscribe4(this, [\n      fromEvent2(this.customSlippageInput, \"input\").pipe(\n        tap4(() => {\n          if (this.customSlippageInput.value.length === 1) {\n            this.customSlippageInput.value = \"\";\n          }\n          const inputValue = parseFloat(this.customSlippageInput.value.replace(this.postfix, \"\"));\n          this.settings?.setValue([inputValue, \"custom\"]);\n        })\n      )\n    ], { requestUpdate: false });\n  }\n  render() {\n    appendStyle2(this.customSlippageInput, {\n      fontSize: this.mobileMedia.matches ? \"13px\" : \"16px\"\n    });\n    return html6`\n      <div @click=\"${() => this.onBack()}\" class=\"slippage-title\">\n        <inch-icon class=\"back-icon\" icon=\"chevronDown16\"></inch-icon>\n        <span>${translate4(\"widgets.swap-form.fusion-info.slippage-tolerance\")}</span>\n      </div>\n      <inch-segmented-control\n        .items=\"${this.segments}\"\n        .select=\"${this.getStartSection()}\"\n        @change=\"${(event) => this.onChange(event)}\"\n      ></inch-segmented-control>\n    `;\n  }\n  buildMask() {\n    return new Maskito(this.customSlippageInput, maskitoNumberOptionsGenerator({\n      max: 99,\n      min: 1,\n      precision: 2,\n      postfix: this.postfix\n    }));\n  }\n  onBack() {\n    const value = this.settings?.value ?? null;\n    if (value && value[1] === \"custom\" && (value[0] === null || isNaN(value[0]))) {\n      this.settings?.resetValue();\n    }\n    this.settings?.endChangingValue();\n    dispatchEvent4(this, \"back\", null);\n  }\n  onChange({ detail }) {\n    const value = detail.value;\n    if (value === \"auto\") {\n      this.settings?.cleanValue();\n      return;\n    }\n    if (value === \"custom\") {\n      const inputValue = parseFloat(this.customSlippageInput.value.replace(this.postfix, \"\"));\n      this.settings?.setValue([inputValue, \"custom\"]);\n      return;\n    }\n    this.settings?.setValue([detail.value, \"preset\"]);\n  }\n  getStartSection() {\n    if (!this.settings || this.settings.value === null) return this.segments[0];\n    const [value, type] = this.settings.value;\n    if (type === \"custom\") {\n      if (isNaN(parseFloat(value))) return this.segments[0];\n      this.customSlippageInput.value = `${value}%`;\n      return this.segmentsCustom;\n    }\n    if (type === \"preset\") {\n      const preset = this.segments.find((item) => item.value === value);\n      if (!preset) return this.segments[0];\n      return preset;\n    }\n    throw new Error(\"Invalid slippage type\");\n  }\n};\nFusionSwapInfoSlippageElement.tagName = \"inch-fusion-swap-info-slippage\";\nFusionSwapInfoSlippageElement.styles = fusionSwapInfoSlippageStyle;\n__decorateClass([\n  property4({ type: Object })\n], FusionSwapInfoSlippageElement.prototype, \"settings\", 2);\nFusionSwapInfoSlippageElement = __decorateClass([\n  customElement6(FusionSwapInfoSlippageElement.tagName)\n], FusionSwapInfoSlippageElement);\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-auction-time/fusion-swap-info-auction-time.element.ts\nimport { LitElement as LitElement7, html as html7 } from \"lit\";\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-auction-time/fusion-swap-info-auction-time.style.ts\nimport { mobileMediaCSS as mobileMediaCSS6 } from \"@one-inch-community/core/lit\";\nimport { css as css9 } from \"lit\";\nvar fusionSwapInfoAuctionTimeStyle = css9`\n\n    .slippage-title {\n        display: flex;\n        padding: 8px;\n        gap: 8px;\n        color: var(--color-content-content-primary);\n        align-items: center;\n        margin-bottom: 8px;\n        cursor: pointer;\n        font-size: 16px;\n    }\n    \n    .back-icon {\n        transform: rotate(90deg);\n    }\n    \n    ${mobileMediaCSS6(css9`\n        .slippage-title {\n            font-size: 13px;\n        }\n    `)}\n\n`;\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-auction-time/fusion-swap-info-auction-time.element.ts\nimport { customElement as customElement7, property as property5 } from \"lit/decorators.js\";\nimport \"@one-inch-community/ui-components/segmented-control\";\nimport \"@one-inch-community/ui-components/icon\";\nimport { dispatchEvent as dispatchEvent5, appendStyle as appendStyle3, subscribe as subscribe5, getMobileMatchMediaAndSubscribe as getMobileMatchMediaAndSubscribe3 } from \"@one-inch-community/core/lit\";\nimport { fromEvent as fromEvent3, tap as tap5 } from \"rxjs\";\nvar FusionSwapInfoAuctionTimeElement = class extends LitElement7 {\n  constructor() {\n    super(...arguments);\n    this.mobileMedia = getMobileMatchMediaAndSubscribe3(this);\n    this.segmentsCustom = { label: \"Custom\", value: \"custom\", template: () => html7`${this.customAuctionTimeInput}` };\n    this.segments = [\n      { label: \"Auto\", value: \"auto\" },\n      { label: \"3m\", value: 60 * 3 },\n      { label: \"5m\", value: 60 * 5 },\n      { label: \"10m\", value: 60 * 10 },\n      { label: \"30m\", value: 60 * 30 },\n      this.mobileMedia.matches ? null : { label: \"1H\", value: 60 * 60 },\n      this.mobileMedia.matches ? null : { label: \"2H\", value: 60 * 60 * 2 },\n      this.segmentsCustom\n    ].filter(Boolean);\n    this.postfix = \"s\";\n    this.customAuctionTimeInput = document.createElement(\"input\");\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.buildMask();\n    this.settings?.startChangingValue();\n    this.customAuctionTimeInput.placeholder = \"Custom s\";\n    this.customAuctionTimeInput.inputMode = \"decimal\";\n    this.customAuctionTimeInput.autocomplete = \"off\";\n    appendStyle3(this.customAuctionTimeInput, {\n      backgroundColor: \"transparent\",\n      border: \"none\",\n      outline: \"none\",\n      padding: \"0\",\n      color: \"var(--color-content-content-primary)\",\n      width: \"80px\",\n      fontSize: \"16px\",\n      textAlign: \"center\"\n    });\n    subscribe5(this, [\n      fromEvent3(this.customAuctionTimeInput, \"input\").pipe(\n        tap5(() => {\n          if (this.customAuctionTimeInput.value.length === 1) {\n            this.customAuctionTimeInput.value = \"\";\n          }\n          const inputValue = this.getValue();\n          this.settings?.setValue([inputValue, \"custom\"]);\n        })\n      )\n    ], { requestUpdate: false });\n  }\n  render() {\n    appendStyle3(this.customAuctionTimeInput, {\n      fontSize: this.mobileMedia.matches ? \"13px\" : \"16px\"\n    });\n    return html7`\n      <div @click=\"${() => this.onBack()}\" class=\"slippage-title\">\n        <inch-icon class=\"back-icon\" icon=\"chevronDown16\"></inch-icon>\n        <span>Auction time</span>\n      </div>\n      <inch-segmented-control\n        .items=\"${this.segments}\"\n        .select=\"${this.getStartSection()}\"\n        @change=\"${(event) => this.onChange(event)}\"\n      ></inch-segmented-control>\n    `;\n  }\n  buildMask() {\n    return new Maskito(this.customAuctionTimeInput, maskitoNumberOptionsGenerator({\n      max: 60 * 60 * 30,\n      min: 60 * 3,\n      postfix: this.postfix\n    }));\n  }\n  onBack() {\n    const value = this.settings?.value ?? null;\n    if (value && value[1] === \"custom\" && (value[0] === null || isNaN(value[0]))) {\n      this.settings?.resetValue();\n    }\n    this.settings?.endChangingValue();\n    dispatchEvent5(this, \"back\", null);\n  }\n  onChange({ detail }) {\n    const value = detail.value;\n    if (value === \"auto\") {\n      this.settings?.cleanValue();\n      return;\n    }\n    if (value === \"custom\") {\n      const inputValue = this.getValue();\n      this.settings?.setValue([inputValue, \"custom\"]);\n      return;\n    }\n    this.settings?.setValue([detail.value, \"preset\"]);\n  }\n  getStartSection() {\n    if (!this.settings || this.settings.value === null) return this.segments[0];\n    const [value, type] = this.settings.value;\n    if (type === \"custom\") {\n      if (isNaN(parseFloat(value))) return this.segments[0];\n      this.customAuctionTimeInput.value = `${value}s`;\n      return this.segmentsCustom;\n    }\n    if (type === \"preset\") {\n      const preset = this.segments.find((item) => item.value === value);\n      if (!preset) return this.segments[0];\n      return preset;\n    }\n    throw new Error(\"Invalid auction time type\");\n  }\n  getValue() {\n    const strValue = this.customAuctionTimeInput.value.replaceAll(\"\\xA0\", \"\").replace(this.postfix, \"\");\n    return parseInt(strValue, 10);\n  }\n};\nFusionSwapInfoAuctionTimeElement.tagName = \"inch-fusion-swap-info-auction-time\";\nFusionSwapInfoAuctionTimeElement.styles = fusionSwapInfoAuctionTimeStyle;\n__decorateClass([\n  property5({ type: Object })\n], FusionSwapInfoAuctionTimeElement.prototype, \"settings\", 2);\nFusionSwapInfoAuctionTimeElement = __decorateClass([\n  customElement7(FusionSwapInfoAuctionTimeElement.tagName)\n], FusionSwapInfoAuctionTimeElement);\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-main/fusion-swap-info-main.element.ts\nimport { html as html8, LitElement as LitElement8 } from \"lit\";\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-main/fusion-swap-info-main.style.ts\nimport { mobileMediaCSS as mobileMediaCSS7 } from \"@one-inch-community/core/lit\";\nimport { css as css10 } from \"lit\";\nvar fusionSwapInfoMainStyle = css10`\n    \n    :host {\n        --font-size: 16px;\n    }\n    \n    .container {\n        height: 56px;\n        padding: 16px;\n        box-sizing: border-box;\n        transition: height .2s, background-color .2s;\n        display: grid;\n        grid-template-columns: 1fr auto;\n        align-items: flex-start;\n        justify-content: space-between;\n        border-radius: 16px;\n        color: var(--color-content-content-primary);\n        cursor: pointer;\n    }\n\n    .open {\n        height: 236px;\n        grid-template-rows: min-content 1fr;\n        grid-row-gap: 16px;\n        cursor: auto;\n    }\n\n    .icon {\n        transition: transform .2s;\n        will-change: transform;\n    }\n\n    .open-icon {\n        transform: rotate(180deg);\n    }\n\n    .fusion-info {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n    }\n\n    .fusion-icon {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n        color: var(--primary);\n        text-align: right;\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n        transition: opacity .2s, transform .2s;\n        will-change: opacity;\n    }\n\n    .fusion-icon-open {\n        opacity: 0;\n        transform: translate3d(20px, 0, 0);\n    }\n\n    .fusion-icon-open:dir(rtl) {\n        transform: translate3d(-20px, 0, 0);\n    }\n\n    .rate-container {\n        width: 100%;\n        display: flex;\n        align-content: flex-start;\n    }\n\n    .rate-view {\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n    }\n\n    .rate-view:dir(rtl) {\n        direction: ltr;\n    }\n\n    .rate-loader {\n        background-color: var(--color-background-bg-secondary);\n        height: 24px;\n        width: 50%;\n        border-radius: 8px;\n        will-change: filter;\n        transition: background-color .2s;\n        animation: stub-loader-animation 3s ease-in-out infinite;\n    }\n\n    @keyframes stub-loader-animation {\n        0%, 100% {\n            filter: opacity(1);\n        }\n        50% {\n            filter: opacity(0.5);\n        }\n    }\n\n    .dst-token-rate-usd-price {\n        color: var(--color-content-content-secondary);\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n        margin-left: 4px;\n    }\n    \n    .content-container {\n        display: flex;\n        grid-row-start: 2;\n        grid-row-end: 3;\n        height: 100%;\n        grid-column-start: 1;\n        grid-column-end: 3;\n        flex-direction: column;\n        visibility: hidden;\n        transform: translate3d(0, -15px, 0);\n        transition: transform .2s, opacity .2s;\n    }\n    \n    .open .content-container {\n        visibility: visible;\n        transform: translate3d(0, 0, 0);\n    }\n    \n    .content-row {\n        height: 40px;\n        padding: 8px 0;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    \n    .row-slippage {\n        color: var(--primary);\n        text-align: right;\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 500;\n        line-height: 24px;\n        cursor: pointer;\n        transition: color .2s;\n    }\n    \n    .row-title {\n        color: var(--color-content-content-secondary);\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n    }\n    \n    .row-content {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n        color: var(--primary);\n        text-align: right;\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n        transition: opacity .2s, transform .2s;\n        will-change: opacity;\n    }\n    \n    .min-receive {\n        color: var(--color-content-content-primary);\n    }\n\n    @media (hover: hover) {\n        .container:not(.open):hover {\n            background-color: var(--color-background-bg-secondary);\n        }\n\n        .container:not(.open):hover .rate-loader {\n            background-color: var(--color-background-bg-positive-hover);\n        }\n        \n        .row-slippage:hover {\n            color: var(--primary-hover);\n        }\n    }\n    \n    ${mobileMediaCSS7(css10`\n        :host {\n            --font-size: 13px\n        }\n        \n        .container {\n            padding: 16px 8px;\n        }\n        \n        .open {\n            grid-row-gap: 0;\n            height: 180px;\n        }\n\n        .content-row {\n            height: 30px;\n        }\n    `)}\n`;\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info-main/fusion-swap-info-main.element.ts\nimport { customElement as customElement8, property as property6 } from \"lit/decorators.js\";\nimport { classMap as classMap2 } from \"lit/directives/class-map.js\";\nimport { observe as observe5, dispatchEvent as dispatchEvent6, translate as translate5 } from \"@one-inch-community/core/lit\";\nimport { consume as consume6 } from \"@lit/context\";\nimport {\n  debounceTime as debounceTime2,\n  defer as defer6,\n  distinctUntilChanged as distinctUntilChanged2,\n  map as map6,\n  shareReplay as shareReplay3,\n  startWith as startWith4,\n  switchMap as switchMap6,\n  withLatestFrom as withLatestFrom2\n} from \"rxjs\";\nimport { formatUnits as formatUnits4, parseUnits as parseUnits2 } from \"viem\";\nimport \"@one-inch-community/ui-components/button\";\nimport \"@one-inch-community/ui-components/icon\";\nimport { when as when3 } from \"lit/directives/when.js\";\nimport { isRateEqual, isTokensEqual, TokenController as TokenController3 } from \"@one-inch-community/sdk/tokens\";\nimport { formatSeconds, smartFormatAndShorteningNumber, smartFormatNumber as smartFormatNumber2 } from \"@one-inch-community/core/formatters\";\nimport { getSymbolFromWrapToken } from \"@one-inch-community/sdk/chain\";\nimport { BigMath } from \"@one-inch-community/core/math\";\nimport { SwapContextToken as SwapContextToken6 } from \"@one-inch-community/sdk/swap\";\nvar FusionSwapInfoMainElement = class extends LitElement8 {\n  constructor() {\n    super(...arguments);\n    this.isOpen = false;\n    this.rate$ = defer6(() => this.getContext().rate$);\n    this.minReceive$ = defer6(() => this.getContext().minReceive$);\n    this.chainId$ = defer6(() => this.getContext().chainId$);\n    this.destinationToken$ = defer6(() => this.getContext().getTokenByType(\"destination\"));\n    this.slippage$ = defer6(() => this.getContext().slippage$).pipe(\n      map6((slippage) => {\n        return html8`\n        ${slippage.value === null ? \"\" : html8`<span>${slippage.value}% · </span>`}\n        <span>\n          ${when3(slippage.type === \"auto\", () => \"Auto\")}\n          ${when3(slippage.type === \"custom\", () => \"Custom\")}\n          ${when3(slippage.type === \"preset\", () => \"Manual\")}\n        </span>\n      `;\n      })\n    );\n    this.auctionTime$ = defer6(() => this.getContext().auctionTime$).pipe(\n      map6((auctionTime) => {\n        return html8`\n        ${auctionTime.value === null ? \"\" : html8`<span>${formatSeconds(auctionTime.value)} · </span>`}\n        <span>\n          ${when3(auctionTime.type === \"auto\", () => \"Auto\")}\n          ${when3(auctionTime.type === \"custom\", () => \"Custom\")}\n          ${when3(auctionTime.type === \"preset\", () => \"Manual\")}\n        </span>\n      `;\n      })\n    );\n    this.rateView$ = this.rate$.pipe(\n      debounceTime2(0),\n      distinctUntilChanged2(rateViewDistinctUntilChangedHandler),\n      switchMap6(async (rateData) => {\n        if (rateData === null) return this.getLoadRateView();\n        const { chainId, rate, revertedRate, sourceToken, destinationToken } = rateData;\n        const primaryToken = await TokenController3.getPriorityToken(chainId, [\n          sourceToken.address,\n          destinationToken.address\n        ]);\n        const secondaryToken = isTokensEqual(primaryToken, sourceToken) ? destinationToken : sourceToken;\n        const isRevertedRate = isTokensEqual(primaryToken, sourceToken);\n        const targetRate = isRevertedRate ? revertedRate : rate;\n        const rateFormated = smartFormatNumber2(formatUnits4(targetRate, secondaryToken.decimals), 2);\n        const tokenPrice = await TokenController3.getTokenUSDPrice(chainId, secondaryToken.address);\n        const rateUsd = parseUnits2(tokenPrice, secondaryToken.decimals);\n        const rateUsdFormated = smartFormatNumber2(formatUnits4(rateUsd, secondaryToken.decimals), 2);\n        return html8`\n        <span class=\"rate-view\">1 ${getSymbolFromWrapToken(secondaryToken)} = ${rateFormated} ${primaryToken.symbol}  <span\n          class=\"dst-token-rate-usd-price\">~$${rateUsdFormated}</span></span>\n      `;\n      }),\n      startWith4(this.getLoadRateView()),\n      shareReplay3({ bufferSize: 1, refCount: true })\n    );\n    this.minReceiveView$ = this.minReceive$.pipe(\n      withLatestFrom2(this.destinationToken$, this.chainId$),\n      switchMap6(async ([minReceive, dstToken, chainId]) => {\n        if (!dstToken || !chainId) return html8``;\n        const tokenPrice = await TokenController3.getTokenUSDPrice(chainId, dstToken.address);\n        const rateUsd = parseUnits2(tokenPrice, dstToken.decimals);\n        const amountUsd = BigMath.mul(\n          minReceive,\n          rateUsd,\n          dstToken.decimals,\n          dstToken.decimals\n        );\n        const amountUsdFormated = smartFormatAndShorteningNumber(formatUnits4(amountUsd, dstToken.decimals), 2);\n        return html8`\n        <span>~$${amountUsdFormated}</span>\n        <span class=\"min-receive\">${smartFormatAndShorteningNumber(formatUnits4(minReceive, dstToken.decimals), 6)} ${dstToken.symbol}</span>\n      `;\n      })\n    );\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    dispatchEvent6(this, \"changeFusionInfoOpenState\", this.isOpen);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    dispatchEvent6(this, \"changeFusionInfoOpenState\", false);\n  }\n  render() {\n    const classes = {\n      container: true,\n      open: this.isOpen\n    };\n    const iconClasses = {\n      icon: true,\n      \"open-icon\": this.isOpen\n    };\n    const fusionIconClass = {\n      \"fusion-icon\": true,\n      \"fusion-icon-open\": this.isOpen\n    };\n    return html8`\n      <div class=\"${classMap2(classes)}\" @click=\"${() => {\n      if (this.isOpen) return;\n      this.isOpen = true;\n      dispatchEvent6(this, \"changeFusionInfoOpenState\", this.isOpen);\n    }}\">\n        <div class=\"rate-container\">\n          ${observe5(this.rateView$)}\n        </div>\n        <div class=\"fusion-info\">\n          <div class=\"${classMap2(fusionIconClass)}\">\n            <inch-icon icon=\"fusion16\"></inch-icon>\n            <span>Free</span>\n          </div>\n          <inch-button @click=\"${(event) => this.onChangeOpen(event)}\" size=\"l\" type=\"tertiary\">\n            <inch-icon class=\"${classMap2(iconClasses)}\" icon=\"chevronDown16\"></inch-icon>\n          </inch-button>\n        </div>\n        <div class=\"content-container\">\n          <div class=\"content-row\">\n            <span class=\"row-title\">${translate5(\"widgets.swap-form.fusion-info.slippage-tolerance\")}</span>\n            <div @click=\"${() => dispatchEvent6(this, \"openSlippageSettings\", null)}\" class=\"row-content row-slippage\">\n              ${observe5(this.slippage$)}\n            </div>\n          </div>\n          <div class=\"content-row\">\n            <span class=\"row-title\">${translate5(\"widgets.swap-form.fusion-info.auction-time\")}</span>\n            <div @click=\"${() => dispatchEvent6(this, \"openAuctionTimeSettings\", null)}\" class=\"row-content row-slippage\">\n              ${observe5(this.auctionTime$)}\n            </div>\n          </div>\n          <div class=\"content-row\">\n            <span class=\"row-title\">${translate5(\"widgets.swap-form.fusion-info.min-receive\")}</span>\n            <div class=\"row-content\">\n              ${observe5(this.minReceiveView$)}\n            </div>\n          </div>\n          <div class=\"content-row\">\n            <span class=\"row-title\">${translate5(\"widgets.swap-form.fusion-info.net-fee\")}</span>\n            <div class=\"row-content\">\n              <inch-icon icon=\"fusion16\"></inch-icon>\n              <span>Free</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n  getLoadRateView() {\n    return html8`\n      <div class=\"rate-loader\"></div>\n    `;\n  }\n  onChangeOpen(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.isOpen = !this.isOpen;\n    dispatchEvent6(this, \"changeFusionInfoOpenState\", this.isOpen);\n  }\n  getContext() {\n    if (!this.context) throw new Error(\"\");\n    return this.context;\n  }\n};\nFusionSwapInfoMainElement.tagName = \"inch-fusion-swap-info-main\";\nFusionSwapInfoMainElement.styles = fusionSwapInfoMainStyle;\n__decorateClass([\n  property6({ type: Boolean })\n], FusionSwapInfoMainElement.prototype, \"isOpen\", 2);\n__decorateClass([\n  consume6({ context: SwapContextToken6 })\n], FusionSwapInfoMainElement.prototype, \"context\", 2);\nFusionSwapInfoMainElement = __decorateClass([\n  customElement8(FusionSwapInfoMainElement.tagName)\n], FusionSwapInfoMainElement);\nfunction rateViewDistinctUntilChangedHandler(rate1, rate2) {\n  if (rate1 === null || rate2 === null) {\n    return false;\n  }\n  return isRateEqual(rate1, rate2);\n}\n\n// libs/widgets/src/lib/swap-form/elements/fusion-swap-info/fusion-swap-info.element.ts\nimport { SceneController, shiftAnimation } from \"@one-inch-community/ui-components/scene\";\nimport { consume as consume7 } from \"@lit/context\";\nimport { SwapContextToken as SwapContextToken7 } from \"@one-inch-community/sdk/swap\";\nvar FusionSwapInfoElement = class extends LitElement9 {\n  constructor() {\n    super(...arguments);\n    this.isOpenFusionInfo = false;\n    this.scene = new SceneController(\"main\", {\n      main: { lazyRender: true, minHeight: 178 },\n      slippage: { minHeight: 79.5 },\n      auctionTime: { minHeight: 79.5 }\n    }, shiftAnimation());\n  }\n  render() {\n    return this.scene.render({\n      main: () => html9`\n        <inch-fusion-swap-info-main\n          .isOpen=\"${this.isOpenFusionInfo}\"\n          @openSlippageSettings=\"${() => this.scene.nextTo(\"slippage\")}\"\n          @openAuctionTimeSettings=\"${() => this.scene.nextTo(\"auctionTime\")}\"\n        ></inch-fusion-swap-info-main>\n      `,\n      slippage: () => html9`\n        <inch-fusion-swap-info-slippage\n          .settings=\"${this.context?.getSettingsController(\"slippage\")}\"\n          @back=\"${() => {\n        this.isOpenFusionInfo = true;\n        this.scene.back();\n      }}\"\n        ></inch-fusion-swap-info-slippage>\n      `,\n      auctionTime: () => html9`\n        <inch-fusion-swap-info-auction-time\n          .settings=\"${this.context?.getSettingsController(\"auctionTime\")}\"\n          @back=\"${() => {\n        this.isOpenFusionInfo = true;\n        this.scene.back();\n      }}\"\n        ></inch-fusion-swap-info-auction-time>\n      `\n    });\n  }\n};\nFusionSwapInfoElement.tagName = \"inch-fusion-swap-info\";\nFusionSwapInfoElement.styles = [\n  fusionSwapInfoStyle,\n  SceneController.styles()\n];\n__decorateClass([\n  consume7({ context: SwapContextToken7 })\n], FusionSwapInfoElement.prototype, \"context\", 2);\nFusionSwapInfoElement = __decorateClass([\n  customElement9(FusionSwapInfoElement.tagName)\n], FusionSwapInfoElement);\n\n// libs/widgets/src/lib/swap-form/swap-from.element.ts\nvar SwapFromElement = class extends LitElement10 {\n  constructor() {\n    super(...arguments);\n    this.fusionView$ = combineLatest6([\n      defer7(() => this.getWalletController().data.activeAddress$),\n      defer7(() => this.swapContext.getTokenByType(\"source\")),\n      defer7(() => this.swapContext.getTokenByType(\"destination\"))\n    ]).pipe(\n      map7(([address, sourceToken, destinationToken]) => !address || !sourceToken || !destinationToken),\n      startWith5(SwapFromElement.lastFusionRenderIsEmptyState),\n      distinctUntilChanged3(),\n      map7((isEmpty) => {\n        SwapFromElement.lastFusionRenderIsEmptyState = isEmpty;\n        if (isEmpty) return html10``;\n        return html10`<inch-fusion-swap-info></inch-fusion-swap-info>`;\n      })\n    );\n  }\n  render() {\n    if (!this.swapContext) return;\n    return html10`\n      <div class=\"swap-form-container\">\n        <inch-card-header headerText=\"${translate6(\"widgets.swap-form.header.swap\")}\" headerTextPosition=\"left\">\n        </inch-card-header>\n        \n        <div class=\"input-container\">\n          <inch-swap-form-input tokenType=\"source\"></inch-swap-form-input>\n          <inch-token-pair-switch></inch-token-pair-switch>\n          <inch-swap-form-input disabled tokenType=\"destination\"></inch-swap-form-input>\n        </div>\n        \n        ${observe6(this.fusionView$)}\n        \n        <inch-swap-button></inch-swap-button>\n      </div>\n    `;\n  }\n  getWalletController() {\n    if (!this.applicationContext.connectWalletController) throw new Error(\"\");\n    return this.applicationContext.connectWalletController;\n  }\n};\nSwapFromElement.tagName = \"inch-swap-form\";\nSwapFromElement.styles = swapFromStyle;\nSwapFromElement.lastFusionRenderIsEmptyState = true;\n__decorateClass([\n  consume8({ context: ApplicationContextToken2 })\n], SwapFromElement.prototype, \"applicationContext\", 2);\n__decorateClass([\n  consume8({ context: SwapContextToken8, subscribe: true })\n], SwapFromElement.prototype, \"swapContext\", 2);\nSwapFromElement = __decorateClass([\n  customElement10(SwapFromElement.tagName)\n], SwapFromElement);\n\n// libs/widgets/src/lib/swap-form/elements/confirm-swap/confirm-swap.element.ts\nimport { html as html11, LitElement as LitElement11 } from \"lit\";\nimport { customElement as customElement11, property as property7, state as state3 } from \"lit/decorators.js\";\nimport { choose as choose2 } from \"lit/directives/choose.js\";\n\n// libs/widgets/src/lib/swap-form/elements/confirm-swap/confirm-swap.style.ts\nimport { css as css11 } from \"lit\";\nimport { mobileMediaCSS as mobileMediaCSS8 } from \"@one-inch-community/core/lit\";\nvar confirmSwapStyle = css11`\n\n    :host {\n        --font-size: 16px;\n    }\n    \n    .confirm-swap-view {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n    }\n\n    .token-view-container {\n        background-color: var(--color-background-bg-secondary);\n        border-radius: 16px;\n        padding: 16px;\n    }\n\n    .token-view {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n    }\n\n    .token-view-row {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    .token-view-top {\n        color: var(--color-content-content-secondary);\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n    }\n    \n    .primary-text {\n        color: var(--color-content-content-primary);\n        font-size: 24px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: 32px;\n    }\n    \n    .symbol-view {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n    }\n    \n    .separator {\n        position: relative;\n        color: var(--color-content-content-primary);\n    }\n    \n    .separator-arrow-container {\n        border-radius: 50%;\n        background-color: var(--color-background-bg-primary);\n        width: 32px;\n        height: 32px;\n        margin-left: auto;\n        margin-right: auto;\n        position: relative;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: 2;\n    }\n    \n    .separator-arrow-container-loader:before {\n        content: \"\";\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        border: 1px solid transparent;\n        border-radius: 50%;\n        border-bottom-color: var(--primary);\n        border-top-color: var(--primary);\n        animation: spin 2s linear infinite;\n    }\n    \n    .detail-info {\n        padding: 8px 0;\n    }\n    \n    .detail-info-row {\n        padding: 8px 16px;\n        display: flex;\n        justify-content: space-between;\n    }\n    \n    .detail-info-row-title {\n        color: var(--color-content-content-secondary);\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n    }\n    \n    .detail-info-raw-value {\n        color: var(--color-content-content-primary);\n        text-align: right;\n        font-size: var(--font-size);\n        font-style: normal;\n        font-weight: 500;\n        line-height: 24px;\n        transition: color .2s;\n        display: flex;\n        gap: 8px;\n        align-items: center;\n    }\n    \n    .detail-info-raw-settings-value {\n        color: var(--primary);\n    }\n\n    @keyframes spin {\n        0% {\n            transform: rotate(0deg);\n        }\n\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n    \n    .separator-view {\n        position: absolute;\n        background-color: var(--color-background-bg-primary);\n        height: 2px;\n        width: 100%;\n        border-radius: 2px;\n        top: 50%;\n        z-index: 1;\n    }\n\n    ${mobileMediaCSS8(css11`\n        :host {\n            --font-size: 13px\n        }\n\n        .primary-text {\n            font-size: 20px;\n        }\n\n        .detail-info-row {\n            padding: 4px 8px;\n        }\n\n        .token-view {\n            gap: 4px;\n        }\n\n        .separator-arrow-container {\n            width: 28px;\n            height: 28px;\n        }\n\n        .token-view-container {\n            padding: 8px 16px;\n        }\n    `)}\n`;\n\n// libs/widgets/src/lib/swap-form/elements/confirm-swap/confirm-swap.element.ts\nimport \"@one-inch-community/widgets/token-icon\";\nimport \"@one-inch-community/ui-components/card\";\nimport \"@one-inch-community/ui-components/button\";\nimport \"@one-inch-community/ui-components/icon\";\nimport { formatUnits as formatUnits5, UserRejectedRequestError } from \"viem\";\nimport {\n  async,\n  dispatchEvent as dispatchEvent7,\n  getMobileMatchMediaAndSubscribe as getMobileMatchMediaAndSubscribe4,\n  observe as observe7,\n  translate as translate7\n} from \"@one-inch-community/core/lit\";\nimport { shareReplay as shareReplay4, switchMap as switchMap7 } from \"rxjs\";\nimport { when as when4 } from \"lit/directives/when.js\";\nimport { ifDefined as ifDefined3 } from \"lit/directives/if-defined.js\";\nimport { isTokensEqual as isTokensEqual2, TokenController as TokenController4 } from \"@one-inch-community/sdk/tokens\";\nimport { formatSeconds as formatSeconds2, smartFormatNumber as smartFormatNumber3 } from \"@one-inch-community/core/formatters\";\nimport { getBlockEmitter as getBlockEmitter3, getSymbolFromWrapToken as getSymbolFromWrapToken2, getWrapperNativeToken, isNativeToken as isNativeToken2 } from \"@one-inch-community/sdk/chain\";\nimport { consume as consume9 } from \"@lit/context\";\nimport { SwapContextToken as SwapContextToken9 } from \"@one-inch-community/sdk/swap\";\nimport { ApplicationContextToken as ApplicationContextToken3 } from \"@one-inch-community/core/application-context\";\nvar ConfirmSwapElement = class extends LitElement11 {\n  constructor() {\n    super(...arguments);\n    this.state = null;\n    this.swapInProgress = false;\n    this.fiatAmountMap = /* @__PURE__ */ new Map();\n    this.mobileMedia = getMobileMatchMediaAndSubscribe4(this);\n  }\n  get needWrap() {\n    return isNativeToken2(this.swapSnapshot.sourceToken.address);\n  }\n  render() {\n    const size = this.mobileMedia.matches ? \"xl\" : \"xxl\";\n    return html11`\n      <div class=\"confirm-swap-view\">\n        <inch-card-header backButton headerTextPosition=\"center\" headerText=\"Confirm swap\" headerTextPosition=\"left\">\n        </inch-card-header>\n        \n        ${this.getTokenViewContainer()}\n\n        ${this.getDetailInfo()}\n\n        <inch-button loader=\"${ifDefined3(this.swapInProgress ? \"\" : void 0)}\" @click=\"${() => this.onSwap()}\" fullSize size=\"${size}\" type=\"${this.swapInProgress ? \"secondary\" : \"primary\"}\">\n          ${when4(\n      this.swapInProgress,\n      () => html11`<span>Confirm swap in wallet</span>`,\n      () => html11`<span>Swap</span>`\n    )}\n        </inch-button>\n      </div>\n    `;\n  }\n  async onSwap() {\n    if (this.swapInProgress) return;\n    try {\n      this.swapInProgress = true;\n      await this.swapContext?.fusionSwap(this.swapSnapshot);\n      dispatchEvent7(this, \"backCard\", null);\n    } catch (error) {\n      const errorText = parseError(error);\n      await this.applicationContext.notificationsController.error(\n        html11`${translate7(errorText)}`\n      );\n      console.error(error);\n    }\n    this.swapInProgress = false;\n  }\n  getTokenViewContainer() {\n    return html11`\n      <div class=\"token-view-container\">\n        ${this.getTokenView(this.swapSnapshot.sourceToken, this.swapSnapshot.sourceTokenAmount, \"source\")}\n        ${this.getSeparatorView(this.needWrap ? \"wrap\" : \"swap\")}\n        ${this.getTokenWrapView()}\n        ${this.getTokenView(this.swapSnapshot.destinationToken, this.swapSnapshot.destinationTokenAmount, \"destination\")}\n      </div>\n    `;\n  }\n  getDetailInfo() {\n    return html11`\n      <div class=\"detail-info\">\n        ${this.getDetailInfoRow(\"Price\", html11`${async(this.getRateView())}`)}\n        ${this.getDetailInfoRow(\"Slippage tolerance\", this.getSlippageView())}\n        ${this.getDetailInfoRow(\"Auction time\", this.getAuctionTimeView())}\n        ${this.getDetailInfoRow(\"Minimum receive\", this.getMinReceive())}\n        ${this.getDetailInfoRow(\"Network Fee\", html11`\n          <div class=\"detail-info-raw-value detail-info-raw-settings-value\">\n            <inch-icon icon=\"fusion16\"></inch-icon>\n            <span>Free</span>\n          </div>\n        `)}\n      </div>\n    `;\n  }\n  async getRateView() {\n    const { chainId, rate, revertedRate, sourceToken, destinationToken } = this.swapSnapshot.rate;\n    const primaryToken = await TokenController4.getPriorityToken(chainId, [\n      sourceToken.address,\n      destinationToken.address\n    ]);\n    const secondaryToken = isTokensEqual2(primaryToken, sourceToken) ? destinationToken : sourceToken;\n    const isRevertedRate = isTokensEqual2(primaryToken, sourceToken);\n    const targetRate = isRevertedRate ? revertedRate : rate;\n    const rateFormated = smartFormatNumber3(formatUnits5(targetRate, secondaryToken.decimals), 2);\n    return html11`\n      <div class=\"detail-info-raw-value\">\n        <span class=\"rate-view\">1 ${getSymbolFromWrapToken2(secondaryToken)} = ${rateFormated} ${primaryToken.symbol}</span>\n      </div>\n    `;\n  }\n  getSlippageView() {\n    const slippage = this.swapSnapshot.slippage;\n    return html11`\n      <div class=\"detail-info-raw-value detail-info-raw-settings-value\">\n        ${slippage.value === null ? \"\" : html11`<span>${slippage.value}% · </span>`}\n        <span>\n          ${when4(slippage.type === \"auto\", () => \"Auto\")}\n          ${when4(slippage.type === \"custom\", () => \"Custom\")}\n          ${when4(slippage.type === \"preset\", () => \"Manual\")}\n        </span>\n      </div>\n      `;\n  }\n  getAuctionTimeView() {\n    const auctionTime = this.swapSnapshot.auctionTime;\n    return html11`\n      <div class=\"detail-info-raw-value detail-info-raw-settings-value\">\n        ${auctionTime.value === null ? \"\" : html11`<span>${formatSeconds2(auctionTime.value)} · </span>`}\n        <span>\n          ${when4(auctionTime.type === \"auto\", () => \"Auto\")}\n          ${when4(auctionTime.type === \"custom\", () => \"Custom\")}\n          ${when4(auctionTime.type === \"preset\", () => \"Manual\")}\n      </span>\n      </div>\n    `;\n  }\n  getMinReceive() {\n    const amountView = formatUnits5(this.swapSnapshot.minReceive, this.swapSnapshot.destinationToken.decimals);\n    return html11`\n      <div class=\"detail-info-raw-value\">\n        ${smartFormatNumber3(amountView, 6)} ${this.swapSnapshot.destinationToken.symbol}\n      </div>\n    `;\n  }\n  getDetailInfoRow(title, data) {\n    return html11`\n      <div class=\"detail-info-row\">\n        <span class=\"detail-info-row-title\">${title}</span>\n        <span>${data}</span>\n      </div>\n    `;\n  }\n  getTokenView(token, amount, type) {\n    const amountView = formatUnits5(amount, token.decimals);\n    return html11`\n      <div class=\"token-view\">\n        <div class=\"token-view-row token-view-top\">\n          <span>\n            ${choose2(type, [\n      [\"source\", () => html11`You pay`],\n      [\"wrap\", () => html11`You wrap`],\n      [\"destination\", () => html11`You receive`]\n    ])}\n          </span>\n          \n          <span>${observe7(this.getFiatAmountStream(token, amount))}</span>\n        </div>\n        <div class=\"token-view-row\">\n          <div class=\"symbol-view\">\n            <inch-token-icon\n              chainId=\"${this.swapSnapshot.chainId}\"\n              symbol=\"${token.symbol}\"\n              address=\"${token.address}\"\n            ></inch-token-icon>\n            <span class=\"primary-text\">${token.symbol}</span>\n          </div>\n          <span class=\"primary-text\">${smartFormatNumber3(amountView, 6)}</span>\n        </div>\n      </div>\n    `;\n  }\n  getTokenWrapView() {\n    if (this.needWrap) {\n      return html11`\n        ${this.getTokenView(getWrapperNativeToken(this.swapSnapshot.chainId), this.swapSnapshot.sourceTokenAmount, \"wrap\")}\n        ${this.getSeparatorView(\"swap\")}\n      `;\n    }\n    return html11``;\n  }\n  getSeparatorView(state4) {\n    return html11`\n      <div class=\"separator\">\n        <div class=\"separator-view\"></div>\n        <div class=\"separator-arrow-container ${this.state === state4 && this.needWrap ? \"separator-arrow-container-loader\" : \"\"}\">\n          <inch-icon icon=\"arrowDown24\"></inch-icon>\n        </div>\n      </div>\n    `;\n  }\n  getFiatAmountStream(token, amount) {\n    if (this.fiatAmountMap.has(token.address)) {\n      return this.fiatAmountMap.get(token.address);\n    }\n    const stream = getBlockEmitter3(this.swapSnapshot.chainId).pipe(\n      switchMap7(async () => {\n        const usdPrice = await TokenController4.getTokenUSDPrice(this.swapSnapshot.chainId, token.address);\n        const balanceFormatted = formatUnits5(amount, token.decimals);\n        const balanceUsd = Number(balanceFormatted) * Number(usdPrice);\n        return `~$${smartFormatNumber3(balanceUsd.toString(), 2)}`;\n      }),\n      shareReplay4({ bufferSize: 1, refCount: true })\n    );\n    this.fiatAmountMap.set(token.address, stream);\n    return stream;\n  }\n};\nConfirmSwapElement.tagName = \"inch-confirm-swap\";\nConfirmSwapElement.styles = confirmSwapStyle;\n__decorateClass([\n  property7({ type: Object })\n], ConfirmSwapElement.prototype, \"swapSnapshot\", 2);\n__decorateClass([\n  consume9({ context: ApplicationContextToken3 })\n], ConfirmSwapElement.prototype, \"applicationContext\", 2);\n__decorateClass([\n  consume9({ context: SwapContextToken9, subscribe: true }),\n  property7({ type: Object, attribute: false })\n], ConfirmSwapElement.prototype, \"swapContext\", 2);\n__decorateClass([\n  state3()\n], ConfirmSwapElement.prototype, \"state\", 2);\n__decorateClass([\n  state3()\n], ConfirmSwapElement.prototype, \"swapInProgress\", 2);\nConfirmSwapElement = __decorateClass([\n  customElement11(ConfirmSwapElement.tagName)\n], ConfirmSwapElement);\nfunction parseError(error) {\n  if (error instanceof UserRejectedRequestError) {\n    return \"widgets.swap-form.swap-button.wallet-rejected\";\n  }\n  return \"widgets.swap-form.swap-button.swap-error-message\";\n}\nexport {\n  ConfirmSwapElement,\n  SwapFromElement\n};\n//# sourceMappingURL=index.esm.js.map\n","import { html, LitElement } from 'lit';\nimport { consume, provide } from '@lit/context';\nimport { customElement } from 'lit/decorators.js';\nimport '@one-inch-community/ui-components/card';\nimport '@one-inch-community/widgets/swap-form';\nimport { getMobileMatchMedia, getMobileMatchMediaAndSubscribe } from '@one-inch-community/core/lit';\nimport { ISwapContext, IApplicationContext } from '@one-inch-community/models';\nimport { SwapContextToken } from '@one-inch-community/sdk/swap';\nimport { ApplicationContextToken } from '@one-inch-community/core/application-context';\n\n@customElement(SwapFormElement.tagName)\nexport class SwapFormElement extends LitElement {\n  static tagName = 'inch-swap-form-container' as const;\n\n  @provide({ context: SwapContextToken })\n  swapContext!: ISwapContext\n\n  @consume({ context: ApplicationContextToken })\n  applicationContext!: IApplicationContext\n\n  private mobileMedia = getMobileMatchMediaAndSubscribe(this);\n\n  async connectedCallback() {\n    await this.preloadForm(getMobileMatchMedia().matches)\n    super.connectedCallback();\n    this.swapContext = await this.applicationContext.makeSwapContext()\n    this.requestUpdate()\n    this.preloadForm(!this.mobileMedia.matches).catch(console.error)\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.swapContext.destroy()\n  }\n\n  protected render() {\n    if (!this.swapContext) return\n    if (this.mobileMedia.matches) {\n      return html`<inch-swap-form-mobile></inch-swap-form-mobile>`\n    }\n    return html`<inch-swap-form-desktop></inch-swap-form-desktop>`\n  }\n\n  private async preloadForm(isMobile: boolean) {\n    if (isMobile) {\n      await import('./swap-form-mobile.element')\n    } else {\n      await import('./swap-form-desktop.element')\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'inch-swap-form-container': SwapFormElement;\n  }\n}\n","import { html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { appStyle } from './app.style';\nimport './elements/header'\nimport './elements/footer'\nimport './elements/swap-form'\nimport { scrollbarStyle } from '@one-inch-community/core/theme';\nimport { consume } from '@lit/context';\nimport { IApplicationContext } from '@one-inch-community/models';\nimport { ApplicationContextToken } from '@one-inch-community/core/application-context';\n\n\n@customElement('app-root')\nexport class AppElement extends LitElement {\n\n  static override styles = [\n    appStyle,\n    scrollbarStyle,\n  ]\n\n  @consume({ context: ApplicationContextToken })\n  applicationContext!: IApplicationContext\n\n  protected render() {\n    return html`\n      <inch-header></inch-header>\n      <div id=\"outlet\" class=\"content\">\n        <inch-swap-form-container></inch-swap-form-container>\n      </div>\n      <inch-footer></inch-footer>\n    `\n  }\n}\n"],"file":"assets/app.element-CeOOpwp6.js"}