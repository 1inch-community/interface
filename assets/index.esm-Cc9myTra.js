const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-C7iH5wKQ.js","assets/index-BNjDdafE.js","assets/index.esm-DhwY4kHm.js","assets/index.esm-COc-PyqV.js","assets/import-wrapper-HJ5SAZKK-adp5dKOt.js"])))=>i.map(i=>d[i]);
import{_ as bn}from"./index-BNjDdafE.js";import{p as rc,A as sc,O as Wn,v as qo,b as Vo,y as oc,z as ic,i as Wo,D as ac,o as ds,c as jn,r as cc,C as T,a as Zo,f as yr,s as uc,m as lc}from"./index.esm-DhwY4kHm.js";import{storage as Qs,JsonParser as dc}from"./index.esm-COc-PyqV.js";var fs=new rc(sc),fc=fs,pc=new Wn(function(e){return e.complete()});function hc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=qo(e);return Vo(e,n)}function mc(e){return e instanceof Date&&!isNaN(e)}function yc(e,t,n){e===void 0&&(e=0),n===void 0&&(n=fc);var r=-1;return t!=null&&(oc(t)?n=t:r=t),new Wn(function(s){var i=mc(e)?+e-n.now():e;i<0&&(i=0);var o=0;return n.schedule(function(){s.closed||(s.next(o++),0<=r?this.schedule(void 0,r):s.complete())},i)})}function bc(e,t){return t===void 0&&(t=fs),yc(e,e,t)}function gc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=qo(e),r=ic(e,1/0),s=e;return s.length?s.length===1?Wo(s[0]):ac(r)(Vo(s,n)):pc}function wc(e,t){return t===void 0&&(t=fs),ds(function(n,r){var s=null,i=null,o=null,c=function(){if(s){s.unsubscribe(),s=null;var d=i;i=null,r.next(d)}};function l(){var d=o+e,f=t.now();if(f<d){s=this.schedule(void 0,d-f),r.add(s);return}c()}n.subscribe(jn(r,function(d){i=d,o=t.now(),s||(s=t.schedule(l,e),r.add(s))},function(){c(),r.complete()},void 0,function(){i=s=null}))})}function xc(e,t){return t===void 0&&(t=cc),e=e??vc,ds(function(n,r){var s,i=!0;n.subscribe(jn(r,function(o){var c=t(o);(i||!e(s,c))&&(i=!1,s=c,r.next(o))}))})}function vc(e,t){return e===t}function Ko(e,t){return ds(function(n,r){var s=null,i=0,o=!1,c=function(){return o&&!s&&r.complete()};n.subscribe(jn(r,function(l){s==null||s.unsubscribe();var d=0,f=i++;Wo(e(l,f)).subscribe(s=jn(r,function(p){return r.next(t?t(l,p,f,d++):p)},function(){s=null,c()}))},function(){o=!0,c()}))})}const Ec="1.0.6";let xe=class _r extends Error{constructor(t,n={}){var o;const r=n.cause instanceof _r?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof _r&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Ec}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function it(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Yo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Jo=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Xo=/^\(.+?\).*?$/,eo=/^tuple(?<array>(\[(\d*)\])*)$/;function Fr(e){let t=e.type;if(eo.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Fr(i),s<n-1&&(t+=", ")}const r=it(eo,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Fr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Gt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Fr(s),r!==n-1&&(t+=", ")}return t}function Bc(e){return e.type==="function"?`function ${e.name}(${Gt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${Gt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Gt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Gt(e.inputs)})`:e.type==="constructor"?`constructor(${Gt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Qo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Pc(e){return Qo.test(e)}function Ic(e){return it(Qo,e)}const ei=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ac(e){return ei.test(e)}function Sc(e){return it(ei,e)}const ti=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function $c(e){return ti.test(e)}function kc(e){return it(ti,e)}const ni=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function ri(e){return ni.test(e)}function Tc(e){return it(ni,e)}const si=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Cc(e){return si.test(e)}function Nc(e){return it(si,e)}const Rc=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function _c(e){return Rc.test(e)}const Fc=/^receive\(\) external payable$/;function Mc(e){return Fc.test(e)}const Oc=new Set(["indexed"]),Mr=new Set(["calldata","memory","storage"]);class zc extends xe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Lc extends xe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Uc extends xe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Dc extends xe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class jc extends xe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Gc extends xe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Hc extends xe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Wt extends xe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qc extends xe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Vc extends xe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Wc extends xe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Zc extends xe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Kc(e,t){return t?`${t}:${e}`:e}const br=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Yc(e,t={}){if($c(e)){const n=kc(e);if(!n)throw new Wt({signature:e,type:"function"});const r=Ae(n.parameters),s=[],i=r.length;for(let c=0;c<i;c++)s.push(ct(r[c],{modifiers:Mr,structs:t,type:"function"}));const o=[];if(n.returns){const c=Ae(n.returns),l=c.length;for(let d=0;d<l;d++)o.push(ct(c[d],{modifiers:Mr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}if(Ac(e)){const n=Sc(e);if(!n)throw new Wt({signature:e,type:"event"});const r=Ae(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ct(r[o],{modifiers:Oc,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(Pc(e)){const n=Ic(e);if(!n)throw new Wt({signature:e,type:"error"});const r=Ae(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ct(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(Cc(e)){const n=Nc(e);if(!n)throw new Wt({signature:e,type:"constructor"});const r=Ae(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ct(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(_c(e))return{type:"fallback"};if(Mc(e))return{type:"receive",stateMutability:"payable"};throw new qc({signature:e})}const Jc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Xc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Qc=/^u?int$/;function ct(e,t){var p,m;const n=Kc(e,t==null?void 0:t.type);if(br.has(n))return br.get(n);const r=Xo.test(e),s=it(r?Xc:Jc,e);if(!s)throw new Uc({param:e});if(s.name&&tu(s.name))throw new Dc({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},c=(t==null?void 0:t.structs)??{};let l,d={};if(r){l="tuple";const b=Ae(s.type),w=[],g=b.length;for(let x=0;x<g;x++)w.push(ct(b[x],{structs:c}));d={components:w}}else if(s.type in c)l="tuple",d={components:c[s.type]};else if(Qc.test(s.type))l=`${s.type}256`;else if(l=s.type,(t==null?void 0:t.type)!=="struct"&&!oi(l))throw new Lc({type:l});if(s.modifier){if(!((m=(p=t==null?void 0:t.modifiers)==null?void 0:p.has)!=null&&m.call(p,s.modifier)))throw new jc({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Mr.has(s.modifier)&&!nu(l,!!s.array))throw new Gc({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${l}${s.array??""}`,...i,...o,...d};return br.set(n,f),f}function Ae(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],c=e.slice(i+1);switch(o){case",":return r===0?Ae(c,[...t,n.trim()]):Ae(c,t,`${n}${o}`,r);case"(":return Ae(c,t,`${n}${o}`,r+1);case")":return Ae(c,t,`${n}${o}`,r-1);default:return Ae(c,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Zc({current:n,depth:r});return t.push(n.trim()),t}function oi(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Yo.test(e)||Jo.test(e)}const eu=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function tu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Yo.test(e)||Jo.test(e)||eu.test(e)}function nu(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ru(e){const t={},n=e.length;for(let o=0;o<n;o++){const c=e[o];if(!ri(c))continue;const l=Tc(c);if(!l)throw new Wt({signature:c,type:"struct"});const d=l.properties.split(";"),f=[],p=d.length;for(let m=0;m<p;m++){const w=d[m].trim();if(!w)continue;const g=ct(w,{type:"struct"});f.push(g)}if(!f.length)throw new Vc({signature:c});t[l.name]=f}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[c,l]=s[o];r[c]=ii(l,t)}return r}const su=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ii(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(Xo.test(o.type))r.push(o);else{const l=it(su,o.type);if(!(l!=null&&l.type))throw new Hc({abiParameter:o});const{array:d,type:f}=l;if(f in t){if(n.has(f))throw new Wc({type:f});r.push({...o,type:`tuple${d??""}`,components:ii(t[f]??[],t,new Set([...n,f]))})}else if(oi(f))r.push(o);else throw new zc({type:f})}}return r}function ve(e){const t=ru(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];ri(i)||n.push(Yc(i,t))}return n}function G(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}function Ve(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new bu(e.type);return`${e.name}(${Zn(e.inputs,{includeName:t})})`}function Zn(e,{includeName:t=!1}={}){return e?e.map(n=>ou(n,{includeName:t})).join(t?", ":","):""}function ou(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Zn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Me(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ne(e){return Me(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const ai="2.21.28";let Fn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:ai};class C extends Error{constructor(t,n={}){var c;const r=(()=>{var l;return n.cause instanceof C?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),s=n.cause instanceof C&&n.cause.docsPath||n.docsPath,i=(c=Fn.getDocsUrl)==null?void 0:c.call(Fn,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],`Version: ${Fn.version}`].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=ai}walk(t){return ci(this,t)}}function ci(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?ci(e.cause,t):t?null:e}class iu extends C{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class to extends C{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ui extends C{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Zn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Kn extends C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class au extends C{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class cu extends C{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class uu extends C{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class li extends C{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class lu extends C{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class di extends C{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class no extends C{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Gn extends C{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class du extends C{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class fu extends C{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ve(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ve(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class pu extends C{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class Yt extends C{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Zn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Yn extends C{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ve(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class hu extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class mu extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class yu extends C{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class bu extends C{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class qh extends C{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class gu extends C{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}class fi extends C{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class pi extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class ro extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function gt(e,{dir:t,size:n=32}={}){return typeof e=="string"?st(e,{dir:t,size:n}):wu(e,{dir:t,size:n})}function st(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new pi({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function wu(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new pi({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class xu extends C{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class vu extends C{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Eu extends C{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class Bu extends C{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Se(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ke(e,{size:t}){if(ne(e)>t)throw new Bu({givenSize:ne(e),maxSize:t})}function X(e,t={}){const{signed:n}=t;t.size&&ke(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Pu(e,t={}){let n=e;if(t.size&&(ke(n,{size:t.size}),n=Se(n)),Se(n)==="0x00")return!1;if(Se(n)==="0x01")return!0;throw new Eu(n)}function $e(e,t={}){return Number(X(e,t))}const Iu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function z(e,t={}){return typeof e=="number"||typeof e=="bigint"?U(e,t):typeof e=="string"?Jt(e,t):typeof e=="boolean"?hi(e,t):oe(e,t)}function hi(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ke(n,{size:t.size}),gt(n,{size:t.size})):n}function oe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Iu[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ke(r,{size:t.size}),gt(r,{dir:"right",size:t.size})):r}function U(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof e=="bigint"?"n":"";throw new xu({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?gt(c,{size:r}):c}const Au=new TextEncoder;function Jt(e,t={}){const n=Au.encode(e);return oe(n,t)}const Su=new TextEncoder;function Fe(e,t={}){return typeof e=="number"||typeof e=="bigint"?ku(e,t):typeof e=="boolean"?$u(e,t):Me(e)?me(e,t):lt(e,t)}function $u(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ke(n,{size:t.size}),gt(n,{size:t.size})):n}const Ue={zero:48,nine:57,A:65,F:70,a:97,f:102};function so(e){if(e>=Ue.zero&&e<=Ue.nine)return e-Ue.zero;if(e>=Ue.A&&e<=Ue.F)return e-(Ue.A-10);if(e>=Ue.a&&e<=Ue.f)return e-(Ue.a-10)}function me(e,t={}){let n=e;t.size&&(ke(n,{size:t.size}),n=gt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,c=0;o<s;o++){const l=so(r.charCodeAt(c++)),d=so(r.charCodeAt(c++));if(l===void 0||d===void 0)throw new C(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);i[o]=l*16+d}return i}function ku(e,t){const n=U(e,t);return me(n)}function lt(e,t={}){const n=Su.encode(e);return typeof t.size=="number"?(ke(n,{size:t.size}),gt(n,{dir:"right",size:t.size})):n}function Hn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Tu(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function gn(e,...t){if(!Tu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Cu(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Hn(e.outputLen),Hn(e.blockLen)}function Ct(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mi(e,t){gn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Mn=BigInt(2**32-1),oo=BigInt(32);function Nu(e,t=!1){return t?{h:Number(e&Mn),l:Number(e>>oo&Mn)}:{h:Number(e>>oo&Mn)|0,l:Number(e&Mn)|0}}function Ru(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=Nu(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const _u=(e,t,n)=>e<<n|t>>>32-n,Fu=(e,t,n)=>t<<n|e>>>32-n,Mu=(e,t,n)=>t<<n-32|e>>>64-n,Ou=(e,t,n)=>e<<n-32|t>>>64-n,It=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const zu=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),gr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_e=(e,t)=>e<<32-t|e>>>t,io=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Lu=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function ao(e){for(let t=0;t<e.length;t++)e[t]=Lu(e[t])}function Uu(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Jn(e){return typeof e=="string"&&(e=Uu(e)),gn(e),e}function Du(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];gn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class ps{clone(){return this._cloneInto()}}function yi(e){const t=r=>e().update(Jn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ju(e=32){if(It&&typeof It.getRandomValues=="function")return It.getRandomValues(new Uint8Array(e));if(It&&typeof It.randomBytes=="function")return It.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const bi=[],gi=[],wi=[],Gu=BigInt(0),Ht=BigInt(1),Hu=BigInt(2),qu=BigInt(7),Vu=BigInt(256),Wu=BigInt(113);for(let e=0,t=Ht,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],bi.push(2*(5*r+n)),gi.push((e+1)*(e+2)/2%64);let s=Gu;for(let i=0;i<7;i++)t=(t<<Ht^(t>>qu)*Wu)%Vu,t&Hu&&(s^=Ht<<(Ht<<BigInt(i))-Ht);wi.push(s)}const[Zu,Ku]=Ru(wi,!0),co=(e,t,n)=>n>32?Mu(e,t,n):_u(e,t,n),uo=(e,t,n)=>n>32?Ou(e,t,n):Fu(e,t,n);function Yu(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,l=(o+2)%10,d=n[l],f=n[l+1],p=co(d,f,1)^n[c],m=uo(d,f,1)^n[c+1];for(let b=0;b<50;b+=10)e[o+b]^=p,e[o+b+1]^=m}let s=e[2],i=e[3];for(let o=0;o<24;o++){const c=gi[o],l=co(s,i,c),d=uo(s,i,c),f=bi[o];s=e[f],i=e[f+1],e[f]=l,e[f+1]=d}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=Zu[r],e[1]^=Ku[r]}n.fill(0)}class hs extends ps{constructor(t,n,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Hn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=zu(this.state)}keccak(){io||ao(this.state32),Yu(this.state32,this.rounds),io||ao(this.state32),this.posOut=0,this.pos=0}update(t){Ct(this);const{blockLen:n,state:r}=this;t=Jn(t);const s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let c=0;c<o;c++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Ct(this,!1),gn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Hn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(mi(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new hs(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Ju=(e,t,n)=>yi(()=>new hs(t,e,n)),Xu=Ju(1,136,256/8);function ce(e,t){const n=t||"hex",r=Xu(Me(e,{strict:!1})?Fe(e):e);return n==="bytes"?r:z(r)}const Qu=e=>ce(Fe(e));function el(e){return Qu(e)}function tl(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const c=e[o];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function",""].includes(s))s="";else if(s+=c,c===")"){i=!0;break}continue}if(c===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!i)throw new C("Unable to normalize signature.");return s}const nl=e=>{const t=typeof e=="string"?e:Bc(e);return tl(t)};function xi(e){return el(nl(e))}const Xn=xi;class le extends C{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class ms extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const wr=new ms(8192);function Qn(e,t){if(wr.has(`${e}.${t}`))return wr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ce(lt(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return wr.set(`${e}.${t}`,i),i}function rl(e,t){if(!se(e,{strict:!1}))throw new le({address:e});return Qn(e,t)}const sl=/^0x[a-fA-F0-9]{40}$/,xr=new ms(8192);function se(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(xr.has(r))return xr.get(r);const s=sl.test(e)?e.toLowerCase()===e?!0:n?Qn(e)===e:!0:!1;return xr.set(r,s),s}function We(e){return typeof e[0]=="string"?Te(e):ol(e)}function ol(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Te(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Xt(e,t,n,{strict:r}={}){return Me(e,{strict:!1})?Pi(e,t,n,{strict:r}):Bi(e,t,n,{strict:r})}function vi(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new fi({offset:t,position:"start",size:ne(e)})}function Ei(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new fi({offset:n,position:"end",size:ne(e)})}function Bi(e,t,n,{strict:r}={}){vi(e,t);const s=e.slice(t,n);return r&&Ei(s,t,n),s}function Pi(e,t,n,{strict:r}={}){vi(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Ei(s,t,n),s}function wt(e,t){if(e.length!==t.length)throw new uu({expectedLength:e.length,givenLength:t.length});const n=il({params:e,values:t}),r=bs(n);return r.length===0?"0x":r}function il({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(ys({param:e[r],value:t[r]}));return n}function ys({param:e,value:t}){const n=gs(e.type);if(n){const[r,s]=n;return cl(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return pl(t,{param:e});if(e.type==="address")return al(t);if(e.type==="bool")return ll(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return dl(t,{signed:r})}if(e.type.startsWith("bytes"))return ul(t,{param:e});if(e.type==="string")return fl(t);throw new hu(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function bs(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:c}=e[i];o?t+=32:t+=ne(c)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:c}=e[i];o?(n.push(U(t+s,{size:32})),r.push(c),s+=ne(c)):n.push(c)}return We([...n,...r])}function al(e){if(!se(e))throw new le({address:e});return{dynamic:!1,encoded:st(e.toLowerCase())}}function cl(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new yu(e);if(!r&&e.length!==t)throw new au({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const c=ys({param:n,value:e[o]});c.dynamic&&(s=!0),i.push(c)}if(r||s){const o=bs(i);if(r){const c=U(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?We([c,o]):c}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:We(i.map(({encoded:o})=>o))}}function ul(e,{param:t}){const[,n]=t.type.split("bytes"),r=ne(e);if(!n){let s=e;return r%32!==0&&(s=st(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:We([st(U(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new cu({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:st(e,{dir:"right"})}}function ll(e){if(typeof e!="boolean")throw new C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:st(hi(e))}}function dl(e,{signed:t}){return{dynamic:!1,encoded:U(e,{size:32,signed:t})}}function fl(e){const t=Jt(e),n=Math.ceil(ne(t)/32),r=[];for(let s=0;s<n;s++)r.push(st(Xt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:We([st(U(ne(t),{size:32})),...r])}}function pl(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,c=ys({param:i,value:e[o]});r.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?bs(r):We(r.map(({encoded:s})=>s))}}function gs(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const xt=e=>Xt(xi(e),0,4);function wn(e){const{abi:t,args:n=[],name:r}=e,s=Me(r,{strict:!1}),i=t.filter(c=>s?c.type==="function"?xt(c)===r:c.type==="event"?Xn(c)===r:!1:"name"in c&&c.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const c of i){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((d,f)=>{const p="inputs"in c&&c.inputs[f];return p?Or(d,p):!1})){if(o&&"inputs"in o&&o.inputs){const d=Ii(c.inputs,o.inputs,n);if(d)throw new fu({abiItem:c,type:d[0]},{abiItem:o,type:d[1]})}o=c}}return o||i[0]}function Or(e,t){const n=typeof e,r=t.type;switch(r){case"address":return se(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>Or(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Or(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ii(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Ii(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?se(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?se(n[r],{strict:!1}):!1)return o}}const lo="/docs/contract/encodeEventTopics";function xn(e){var l;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const d=wn({abi:t,name:n});if(!d)throw new no(n,{docsPath:lo});s=d}if(s.type!=="event")throw new no(void 0,{docsPath:lo});const i=Ve(s),o=Xn(i);let c=[];if(r&&"inputs"in s){const d=(l=s.inputs)==null?void 0:l.filter(p=>"indexed"in p&&p.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(d==null?void 0:d.map(p=>r[p.name]))??[]:[];f.length>0&&(c=(d==null?void 0:d.map((p,m)=>Array.isArray(f[m])?f[m].map((b,w)=>fo({param:p,value:f[m][w]})):f[m]?fo({param:p,value:f[m]}):null))??[])}return[o,...c]}function fo({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ce(Fe(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new gu(e.type);return wt([e],[t])}function er(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:c,transport:l})=>{c==="success"&&t===i&&(n[o]=l.request)})),i=>n[i]||e.request}async function Ai(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:c,toBlock:l}=t,d=er(e,{method:"eth_newFilter"}),f=i?xn({abi:r,args:s,eventName:i}):void 0,p=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?U(o):o,toBlock:typeof l=="bigint"?U(l):l,topics:f}]});return{abi:r,args:s,eventName:i,id:p,request:d(p),strict:!!c,type:"event"}}function at(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const po="/docs/contract/encodeFunctionData";function hl(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=wn({abi:t,args:n,name:r});if(!i)throw new Gn(r,{docsPath:po});s=i}if(s.type!=="function")throw new Gn(void 0,{docsPath:po});return{abi:[s],functionName:xt(Ve(s))}}function Je(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var c;return e.abi.length===1&&((c=e.functionName)!=null&&c.startsWith("0x"))?e:hl(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?wt(s.inputs,t??[]):void 0;return Te([i,o??"0x"])}const Si={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ml={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},yl={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class ho extends C{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class $i extends C{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class bl extends C{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const gl={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new bl({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new $i({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ho({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ho({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function ws(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(gl);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function wl(e,t={}){typeof t.size<"u"&&ke(e,{size:t.size});const n=oe(e,t);return X(n,t)}function xl(e,t={}){let n=e;if(typeof t.size<"u"&&(ke(n,{size:t.size}),n=Se(n)),n.length>1||n[0]>1)throw new vu(n);return!!n[0]}function He(e,t={}){typeof t.size<"u"&&ke(e,{size:t.size});const n=oe(e,t);return $e(n,t)}function vl(e,t={}){let n=e;return typeof t.size<"u"&&(ke(n,{size:t.size}),n=Se(n,{dir:"right"})),new TextDecoder().decode(n)}function vn(e,t){const n=typeof t=="string"?me(t):t,r=ws(n);if(ne(n)===0&&e.length>0)throw new Kn;if(ne(t)&&ne(t)<32)throw new ui({data:typeof t=="string"?t:oe(t),params:e,size:ne(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const c=e[o];r.setPosition(s);const[l,d]=Tt(r,c,{staticPosition:0});s+=d,i.push(l)}return i}function Tt(e,t,{staticPosition:n}){const r=gs(t.type);if(r){const[s,i]=r;return Bl(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return Sl(e,t,{staticPosition:n});if(t.type==="address")return El(e);if(t.type==="bool")return Pl(e);if(t.type.startsWith("bytes"))return Il(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Al(e,t);if(t.type==="string")return $l(e,{staticPosition:n});throw new mu(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const mo=32,zr=32;function El(e){const t=e.readBytes(32);return[Qn(oe(Bi(t,-20))),32]}function Bl(e,t,{length:n,staticPosition:r}){if(!n){const o=He(e.readBytes(zr)),c=r+o,l=c+mo;e.setPosition(c);const d=He(e.readBytes(mo)),f=Qt(t);let p=0;const m=[];for(let b=0;b<d;++b){e.setPosition(l+(f?b*32:p));const[w,g]=Tt(e,t,{staticPosition:l});p+=g,m.push(w)}return e.setPosition(r+32),[m,32]}if(Qt(t)){const o=He(e.readBytes(zr)),c=r+o,l=[];for(let d=0;d<n;++d){e.setPosition(c+d*32);const[f]=Tt(e,t,{staticPosition:c});l.push(f)}return e.setPosition(r+32),[l,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[c,l]=Tt(e,t,{staticPosition:r+s});s+=l,i.push(c)}return[i,s]}function Pl(e){return[xl(e.readBytes(32),{size:32}),32]}function Il(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=He(e.readBytes(32));e.setPosition(n+o);const c=He(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(c);return e.setPosition(n+32),[oe(l),32]}return[oe(e.readBytes(Number.parseInt(s),32)),32]}function Al(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?wl(s,{signed:n}):He(s,{signed:n}),32]}function Sl(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Qt(t)){const o=He(e.readBytes(zr)),c=n+o;for(let l=0;l<t.components.length;++l){const d=t.components[l];e.setPosition(c+i);const[f,p]=Tt(e,d,{staticPosition:c});i+=p,s[r?l:d==null?void 0:d.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const c=t.components[o],[l,d]=Tt(e,c,{staticPosition:n});s[r?o:c==null?void 0:c.name]=l,i+=d}return[s,i]}function $l(e,{staticPosition:t}){const n=He(e.readBytes(32)),r=t+n;e.setPosition(r);const s=He(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=vl(Se(i));return e.setPosition(t+32),[o,32]}function Qt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Qt);const n=gs(e.type);return!!(n&&Qt({...e,type:n[1]}))}function kl(e){const{abi:t,data:n}=e,r=Xt(n,0,4);if(r==="0x")throw new Kn;const i=[...t||[],ml,yl].find(o=>o.type==="error"&&r===xt(Ve(o)));if(!i)throw new li(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?vn(i.inputs,Xt(n,4)):void 0,errorName:i.name}}const de=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function ki({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?de(t[i]):t[i]}`).join(", ")})`}const Tl={gwei:9,wei:18},Cl={ether:-9,wei:9};function Ti(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function xs(e,t="wei"){return Ti(e,Tl[t])}function ye(e,t="wei"){return Ti(e,Cl[t])}class Nl extends C{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Rl extends C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function yo(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function _l(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=yo(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=yo(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function En(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Fl extends C{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Ml extends C{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Ol extends C{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",En(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class zl extends C{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Vh extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:p,value:m}){var w;const b=En({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:p,value:typeof m<"u"&&`${xs(m)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof c<"u"&&`${ye(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ye(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${ye(d)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",b].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ci extends C{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Ni extends C{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Ll extends C{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Ul=e=>e,Bn=e=>e;class Ri extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:p,value:m,stateOverride:b}){var x;const w=n?at(n):void 0;let g=En({from:w==null?void 0:w.address,to:p,value:typeof m<"u"&&`${xs(m)} ${((x=s==null?void 0:s.nativeCurrency)==null?void 0:x.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof c<"u"&&`${ye(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ye(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${ye(d)} gwei`,nonce:f});b&&(g+=`
${_l(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Dl extends C{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:c}){const l=wn({abi:n,args:r,name:o}),d=l?ki({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=l?Ve(l,{includeName:!0}):void 0,p=En({address:s&&Ul(s),function:f,args:d&&d!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=c}}class Lr extends C{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,c,l;if(n&&n!=="0x")try{o=kl({abi:t,data:n});const{abiItem:f,errorName:p,args:m}=o;if(p==="Error")l=m[0];else if(p==="Panic"){const[b]=m;l=Si[b]}else{const b=f?Ve(f,{includeName:!0}):void 0,w=f&&m?ki({abiItem:f,args:m,includeFunctionName:!1,includeName:!1}):void 0;c=[b?`Error: ${b}`:"",w&&w!=="()"?`       ${[...Array((p==null?void 0:p.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(f){i=f}else s&&(l=s);let d;i instanceof li&&(d=i.signature,c=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(l&&l!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,l||d].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=l,this.signature=d}}class jl extends C{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Gl extends C{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class vs extends C{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Kt extends C{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Bn(o)}`,t&&`Request body: ${de(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class bo extends C{constructor({body:t,cause:n,details:r,url:s}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${Bn(s)}`,t&&`Request body: ${de(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}class tr extends C{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Bn(r)}`,`Request body: ${de(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class qn extends C{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${Bn(t)}`].filter(Boolean),name:"SocketClosedError"})}}class Ur extends C{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Bn(n)}`,`Request body: ${de(t)}`],name:"TimeoutError"})}}const Hl=-1;class be extends C{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof tr?t.code:n??Hl}}class Lt extends be{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class en extends be{constructor(t){super(t,{code:en.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class tn extends be{constructor(t){super(t,{code:tn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class nn extends be{constructor(t,{method:n}={}){super(t,{code:nn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class rn extends be{constructor(t){super(t,{code:rn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ht extends be{constructor(t){super(t,{code:ht.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class mt extends be{constructor(t){super(t,{code:mt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class sn extends be{constructor(t){super(t,{code:sn.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class on extends be{constructor(t){super(t,{code:on.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(on,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Nt extends be{constructor(t){super(t,{code:Nt.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class an extends be{constructor(t,{method:n}={}){super(t,{code:an.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not implemented.`})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Rt extends be{constructor(t){super(t,{code:Rt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class cn extends be{constructor(t){super(t,{code:cn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class dt extends Lt{constructor(t){super(t,{code:dt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class un extends Lt{constructor(t){super(t,{code:un.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(un,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ln extends Lt{constructor(t,{method:n}={}){super(t,{code:ln.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class dn extends Lt{constructor(t){super(t,{code:dn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class fn extends Lt{constructor(t){super(t,{code:fn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class pn extends Lt{constructor(t){super(t,{code:pn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class ql extends be{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Vl=3;function hn(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const{code:c,data:l,message:d,shortMessage:f}=e instanceof vs?e:e instanceof C?e.walk(m=>"data"in m)||e.walk():{},p=e instanceof Kn?new jl({functionName:i}):[Vl,ht.code].includes(c)&&(l||d||f)?new Lr({abi:t,data:typeof l=="object"?l.data:l,functionName:i,message:f??d}):e;return new Dl(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function Wl(e){const t=ce(`0x${e.substring(4)}`).substring(26);return Qn(`0x${t}`)}async function Zl({hash:e,signature:t}){const n=Me(e)?e:z(e),{secp256k1:r}=await bn(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>L0);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:f,v:p,yParity:m}=t,b=Number(m??p),w=go(b);return new r.Signature(X(d),X(f)).addRecoveryBit(w)}const o=Me(t)?t:z(t),c=$e(`0x${o.slice(130)}`),l=go(c);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function go(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function _i({hash:e,signature:t}){return Wl(await Zl({hash:e,signature:t}))}function Ze(e,t="hex"){const n=Fi(e),r=ws(new Uint8Array(n.length));return n.encode(r),t==="hex"?oe(r.bytes):r.bytes}function Fi(e){return Array.isArray(e)?Kl(e.map(t=>Fi(t))):Yl(e)}function Kl(e){const t=e.reduce((s,i)=>s+i.length,0),n=Mi(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function Yl(e){const t=typeof e=="string"?me(e):e,n=Mi(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Mi(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new C("Length is too large.")}function Jl(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,i=ce(Te(["0x05",Ze([U(t),n,r?U(r):"0x"])]));return s==="bytes"?me(i):i}async function Xl(e){const{authorization:t,signature:n}=e;return _i({hash:Jl(t),signature:n??t})}class Ql extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:p,value:m}){var w;const b=En({from:n==null?void 0:n.address,to:p,value:typeof m<"u"&&`${xs(m)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof c<"u"&&`${ye(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ye(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${ye(d)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class $t extends C{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty($t,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class yt extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ye(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Dr extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ye(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Dr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class jr extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Gr extends C{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Gr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Hr extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Hr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class qr extends C{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(qr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Vr extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Vr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Wr extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Wr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Zr extends C{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Zr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class mn extends C{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ye(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ye(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(mn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Es extends C{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Oi(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof C?e.walk(s=>(s==null?void 0:s.code)===$t.code):e;return r instanceof C?new $t({cause:e,message:r.details}):$t.nodeMessage.test(n)?new $t({cause:e,message:e.details}):yt.nodeMessage.test(n)?new yt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Dr.nodeMessage.test(n)?new Dr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):jr.nodeMessage.test(n)?new jr({cause:e,nonce:t==null?void 0:t.nonce}):Gr.nodeMessage.test(n)?new Gr({cause:e,nonce:t==null?void 0:t.nonce}):Hr.nodeMessage.test(n)?new Hr({cause:e,nonce:t==null?void 0:t.nonce}):qr.nodeMessage.test(n)?new qr({cause:e}):Vr.nodeMessage.test(n)?new Vr({cause:e,gas:t==null?void 0:t.gas}):Wr.nodeMessage.test(n)?new Wr({cause:e,gas:t==null?void 0:t.gas}):Zr.nodeMessage.test(n)?new Zr({cause:e}):mn.nodeMessage.test(n)?new mn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Es({cause:e})}function ed(e,{docsPath:t,...n}){const r=(()=>{const s=Oi(e,n);return s instanceof Es?e:s})();return new Ql(r,{docsPath:t,...n})}function zi(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const c of o)c in e&&(n[c]=e[c]),i[c]&&typeof i[c]=="object"&&!Array.isArray(i[c])&&r(i[c])}const s=t(e||{});return r(s),n}function nr(e,t){return({exclude:n,format:r})=>({exclude:n,format:s=>{const i=t(s);if(n)for(const o of n)delete i[o];return{...i,...r(s)}},type:e})}const td={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Bs(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=rd(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>oe(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=U(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=U(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=U(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=U(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=U(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=U(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=td[e.type]),typeof e.value<"u"&&(t.value=U(e.value)),t}const nd=nr("transactionRequest",Bs);function rd(e){return e.map(t=>({address:t.contractAddress,r:t.r,s:t.s,chainId:U(t.chainId),nonce:U(t.nonce),...typeof t.yParity<"u"?{yParity:U(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:U(t.v)}:{}}))}function wo(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new ro({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new ro({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function sd(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=U(t)),n!==void 0&&(o.nonce=U(n)),r!==void 0&&(o.state=wo(r)),s!==void 0){if(o.state)throw new Rl;o.stateDiff=wo(s)}return o}function Li(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!se(n,{strict:!1}))throw new le({address:n});if(t[n])throw new Nl({address:n});t[n]=sd(r)}return t}const od=2n**16n-1n,_t=2n**48n-1n,id=2n**160n-1n,Pn=2n**256n-1n;function Ps(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?at(t):void 0;if(o&&!se(o.address))throw new le({address:o.address});if(i&&!se(i))throw new le({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Fl;if(r&&r>Pn)throw new yt({maxFeePerGas:r});if(s&&r&&s>r)throw new mn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class ad extends C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Is extends C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class cd extends C{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ye(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Ui extends C{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Di={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function rr(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?$e(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?$e(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Di[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=ud(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const ji=nr("transaction",rr);function ud(e){return e.map(t=>({contractAddress:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function As(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:rr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Gi=nr("block",As);async function qe(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var f,p,m;const i=r??"latest",o=s??!1,c=n!==void 0?U(n):void 0;let l=null;if(t?l=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):l=await e.request({method:"eth_getBlockByNumber",params:[c||i,o]},{dedupe:!!c}),!l)throw new Ui({blockHash:t,blockNumber:n});return(((m=(p=(f=e.chain)==null?void 0:f.formatters)==null?void 0:p.block)==null?void 0:m.format)||As)(l)}async function Ss(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function ld(e,t){return Hi(e,t)}async function Hi(e,t){var i,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof c=="function"){const d=n||await G(e,qe,"getBlock")({}),f=await c({block:d,client:e,request:s});if(f===null)throw new Error;return f}if(typeof c<"u")return c;const l=await e.request({method:"eth_maxPriorityFeePerGas"});return X(l)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):G(e,qe,"getBlock")({}),G(e,Ss,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Is;const d=l-c.baseFeePerGas;return d<0n?0n:d}}async function dd(e,t){return Kr(e,t)}async function Kr(e,t){var m,b;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var w,g;return typeof((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new ad;const l=10**(((m=o.toString().split(".")[1])==null?void 0:m.length)??0),d=w=>w*BigInt(Math.ceil(o*l))/BigInt(l),f=n||await G(e,qe,"getBlock")({});if(typeof((b=r==null?void 0:r.fees)==null?void 0:b.estimateFeesPerGas)=="function"){const w=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:d,request:s,type:i});if(w!==null)return w}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Is;const w=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Hi(e,{block:f,chain:r,request:s}),g=d(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+w,maxPriorityFeePerGas:w}}return{gasPrice:(s==null?void 0:s.gasPrice)??d(await G(e,Ss,"getGasPrice")({}))}}async function qi(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?U(r):n]},{dedupe:!!r});return $e(s)}function $s(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>me(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>oe(i))}function ks(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>me(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>me(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const c=r[o],l=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(c,l)))}return n==="bytes"?i:i.map(o=>oe(o))}function fd(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),c=Number(n&i),l=r?4:0,d=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+d,c,r)}const pd=(e,t,n)=>e&t^~e&n,hd=(e,t,n)=>e&t^e&n^t&n;class md extends ps{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=gr(this.buffer)}update(t){Ct(this);const{view:n,buffer:r,blockLen:s}=this;t=Jn(t);const i=t.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const l=gr(t);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ct(this),mi(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let p=o;p<s;p++)n[p]=0;fd(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=gr(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,f[p],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:c}=this;return t.length=s,t.pos=c,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const yd=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),et=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tt=new Uint32Array(64);class bd extends md{constructor(){super(64,32,8,!1),this.A=et[0]|0,this.B=et[1]|0,this.C=et[2]|0,this.D=et[3]|0,this.E=et[4]|0,this.F=et[5]|0,this.G=et[6]|0,this.H=et[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:c,H:l}=this;return[t,n,r,s,i,o,c,l]}set(t,n,r,s,i,o,c,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=l|0}process(t,n){for(let p=0;p<16;p++,n+=4)tt[p]=t.getUint32(n,!1);for(let p=16;p<64;p++){const m=tt[p-15],b=tt[p-2],w=_e(m,7)^_e(m,18)^m>>>3,g=_e(b,17)^_e(b,19)^b>>>10;tt[p]=g+tt[p-7]+w+tt[p-16]|0}let{A:r,B:s,C:i,D:o,E:c,F:l,G:d,H:f}=this;for(let p=0;p<64;p++){const m=_e(c,6)^_e(c,11)^_e(c,25),b=f+m+pd(c,l,d)+yd[p]+tt[p]|0,g=(_e(r,2)^_e(r,13)^_e(r,22))+hd(r,s,i)|0;f=d,d=l,l=c,c=o+b|0,o=i,i=s,s=r,r=b+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(r,s,i,o,c,l,d,f)}roundClean(){tt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Vi=yi(()=>new bd);function Wi(e,t){const n=t||"hex",r=Vi(Me(e,{strict:!1})?Fe(e):e);return n==="bytes"?r:z(r)}function gd(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Wi(t,"bytes");return s.set([n],0),r==="bytes"?s:oe(s)}function Zi(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(gd({commitment:i,to:r,version:n}));return s}const xo=6,Ki=32,Ts=4096,Yi=Ki*Ts,vo=Yi*xo-1-1*Ts*xo,Ji=1;class wd extends C{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Xi extends C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class xd extends C{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class vd extends C{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Ji}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Ed(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?me(e.data):e.data,r=ne(n);if(!r)throw new Xi;if(r>vo)throw new wd({maxSize:vo,size:r});const s=[];let i=!0,o=0;for(;i;){const c=ws(new Uint8Array(Yi));let l=0;for(;l<Ts;){const d=n.slice(o,o+(Ki-1));if(c.pushByte(0),c.pushBytes(d),d.length<31){c.pushByte(128),i=!1;break}l++,o+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>oe(c.bytes))}function Qi(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Ed({data:t,to:r}),i=e.commitments??$s({blobs:s,kzg:n,to:r}),o=e.proofs??ks({blobs:s,commitments:i,kzg:n,to:r}),c=[];for(let l=0;l<s.length;l++)c.push({blob:s[l],commitment:i[l],proof:o[l]});return c}function ea(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ol({transaction:e})}async function ta(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return $e(t)}const Bd=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function na(e,t){const{account:n=e.account,blobs:r,chain:s,gas:i,kzg:o,nonce:c,nonceManager:l,parameters:d=Bd,type:f}=t,p=n?at(n):void 0,m={...t,...p?{from:p==null?void 0:p.address}:{}};let b;async function w(){return b||(b=await G(e,qe,"getBlock")({blockTag:"latest"}),b)}let g;async function x(){return g||(s?s.id:typeof t.chainId<"u"?t.chainId:(g=await G(e,ta,"getChainId")({}),g))}if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&r&&o){const v=$s({blobs:r,kzg:o});if(d.includes("blobVersionedHashes")){const B=Zi({commitments:v,to:"hex"});m.blobVersionedHashes=B}if(d.includes("sidecars")){const B=ks({blobs:r,commitments:v,kzg:o}),P=Qi({blobs:r,commitments:v,proofs:B,to:"hex"});m.sidecars=P}}if(d.includes("chainId")&&(m.chainId=await x()),d.includes("nonce")&&typeof c>"u"&&p)if(l){const v=await x();m.nonce=await l.consume({address:p.address,chainId:v,client:e})}else m.nonce=await G(e,qi,"getTransactionCount")({address:p.address,blockTag:"pending"});if((d.includes("fees")||d.includes("type"))&&typeof f>"u")try{m.type=ea(m)}catch{const v=await w();m.type=typeof(v==null?void 0:v.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(d.includes("fees"))if(m.type!=="legacy"&&m.type!=="eip2930"){if(typeof m.maxFeePerGas>"u"||typeof m.maxPriorityFeePerGas>"u"){const v=await w(),{maxFeePerGas:B,maxPriorityFeePerGas:P}=await Kr(e,{block:v,chain:s,request:m});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<P)throw new cd({maxPriorityFeePerGas:P});m.maxPriorityFeePerGas=P,m.maxFeePerGas=B}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Is;const v=await w(),{gasPrice:B}=await Kr(e,{block:v,chain:s,request:m,type:"legacy"});m.gasPrice=B}return d.includes("gas")&&typeof i>"u"&&(m.gas=await G(e,Cs,"estimateGas")({...m,account:p?{address:p.address,type:"json-rpc"}:void 0})),Ps(m),delete m.parameters,m}async function ra(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?U(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function Cs(e,t){var s,i,o;const n=t.account??e.account,r=n?at(n):void 0;try{let F=function(M){const{block:L,request:H,rpcStateOverride:Y}=M;return e.request({method:"eth_estimateGas",params:Y?[H,L??"latest",Y]:L?[H,L]:[H]})};const{accessList:c,authorizationList:l,blobs:d,blobVersionedHashes:f,blockNumber:p,blockTag:m,data:b,gas:w,gasPrice:g,maxFeePerBlobGas:x,maxFeePerGas:v,maxPriorityFeePerGas:B,nonce:P,value:A,stateOverride:S,...N}=await na(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),_=(p?U(p):void 0)||m,R=Li(S),V=await(async()=>{if(N.to)return N.to;if(l&&l.length>0)return await Xl({authorization:l[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`")})})();Ps(t);const D=(o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,Z=(D||Bs)({...zi(N,{format:D}),from:r==null?void 0:r.address,accessList:c,authorizationList:l,blobs:d,blobVersionedHashes:f,data:b,gas:w,gasPrice:g,maxFeePerBlobGas:x,maxFeePerGas:v,maxPriorityFeePerGas:B,nonce:P,to:V,value:A});let O=BigInt(await F({block:_,request:Z,rpcStateOverride:R}));if(l){const M=await ra(e,{address:Z.from}),L=await Promise.all(l.map(async H=>{const{contractAddress:Y}=H,q=await F({block:_,request:{authorizationList:void 0,data:b,from:r==null?void 0:r.address,to:Y,value:U(M)},rpcStateOverride:R}).catch(()=>100000n);return 2n*BigInt(q)}));O+=L.reduce((H,Y)=>H+Y,0n)}return O}catch(c){throw ed(c,{...t,account:r,chain:e.chain})}}async function Pd(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,c=Je({abi:n,args:s,functionName:i});try{return await G(e,Cs,"estimateGas")({data:c,to:r,...o})}catch(l){const d=o.account?at(o.account):void 0;throw hn(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:d==null?void 0:d.address})}}function sr(e,t){if(!se(e,{strict:!1}))throw new le({address:e});if(!se(t,{strict:!1}))throw new le({address:t});return e.toLowerCase()===t.toLowerCase()}const Eo="/docs/contract/decodeEventLog";function Ns(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...c]=s;if(!o)throw new lu({docsPath:Eo});const l=t.length===1?t[0]:t.find(g=>g.type==="event"&&o===Xn(Ve(g)));if(!(l&&"name"in l)||l.type!=="event")throw new di(o,{docsPath:Eo});const{name:d,inputs:f}=l,p=f==null?void 0:f.some(g=>!("name"in g&&g.name));let m=p?[]:{};const b=f.filter(g=>"indexed"in g&&g.indexed);for(let g=0;g<b.length;g++){const x=b[g],v=c[g];if(!v)throw new Yn({abiItem:l,param:x});m[p?g:x.name||g]=Id({param:x,value:v})}const w=f.filter(g=>!("indexed"in g&&g.indexed));if(w.length>0){if(n&&n!=="0x")try{const g=vn(w,n);if(g)if(p)m=[...m,...g];else for(let x=0;x<w.length;x++)m[w[x].name]=g[x]}catch(g){if(i)throw g instanceof ui||g instanceof $i?new Yt({abiItem:l,data:n,params:w,size:ne(n)}):g}else if(i)throw new Yt({abiItem:l,data:"0x",params:w,size:0})}return{eventName:d,args:Object.values(m).length>0?m:void 0}}function Id({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(vn([e],t)||[])[0]}function Rs(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var c;try{const l=t.find(f=>f.type==="event"&&o.topics[0]===Xn(f));if(!l)return null;const d=Ns({...o,abi:[l],strict:s});return i&&!i.includes(d.eventName)||!Ad({args:d.args,inputs:l.inputs,matchArgs:n})?null:{...d,...o}}catch(l){let d,f;if(l instanceof di)return null;if(l instanceof Yt||l instanceof Yn){if(s)return null;d=l.abiItem.name,f=(c=l.abiItem.inputs)==null?void 0:c.some(p=>!("name"in p&&p.name))}return{...o,args:f?[]:{},eventName:d}}}).filter(Boolean)}function Ad(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,c){try{return i.type==="address"?sr(o,c):i.type==="string"||i.type==="bytes"?ce(Fe(o))===c:o===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const c=n[o];return c?(Array.isArray(i)?i:[i]).some(d=>s(c,d,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const c=n.find(d=>d.name===i);return c?(Array.isArray(o)?o:[o]).some(d=>s(c,d,t[i])):!1}):!1}function Ke(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function _s(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:c,strict:l}={}){const d=l??!1,f=o??(i?[i]:void 0);let p=[];f&&(p=[f.flatMap(g=>xn({abi:[g],eventName:g.name,args:o?void 0:c}))],i&&(p=p[0]));let m;n?m=await e.request({method:"eth_getLogs",params:[{address:t,topics:p,blockHash:n}]}):m=await e.request({method:"eth_getLogs",params:[{address:t,topics:p,fromBlock:typeof r=="bigint"?U(r):r,toBlock:typeof s=="bigint"?U(s):s}]});const b=m.map(w=>Ke(w));return f?Rs({abi:f,args:c,logs:b,strict:d}):b}async function sa(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:c,toBlock:l,strict:d}=t,f=o?wn({abi:n,name:o}):void 0,p=f?void 0:n.filter(m=>m.type==="event");return G(e,_s,"getLogs")({address:r,args:s,blockHash:i,event:f,events:p,fromBlock:c,toBlock:l,strict:d})}const vr="/docs/contract/decodeFunctionResult";function Ut(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const c=wn({abi:t,args:n,name:r});if(!c)throw new Gn(r,{docsPath:vr});i=c}if(i.type!=="function")throw new Gn(void 0,{docsPath:vr});if(!i.outputs)throw new du(i.name,{docsPath:vr});const o=vn(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Yr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],oa=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],ia=[...oa,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Sd=[...oa,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Bo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Po=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Io=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],$d="0x82ad56cb",kd="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Td="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Cd="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class Jr extends C{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Wh extends C{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Zh extends C{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class aa extends C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class In extends C{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Er="/docs/contract/encodeDeployData";function Fs(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new iu({docsPath:Er});if(!("inputs"in s))throw new to({docsPath:Er});if(!s.inputs||s.inputs.length===0)throw new to({docsPath:Er});const i=wt(s.inputs,n);return Te([r,i])}function Dt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Jr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Jr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Nd(e,{docsPath:t,...n}){const r=(()=>{const s=Oi(e,n);return s instanceof Es?e:s})();return new Ri(r,{docsPath:t,...n})}const Br=new Map;function Ms({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const f=l();o();const p=f.map(({args:m})=>m);p.length!==0&&e(p).then(m=>{var b;s&&Array.isArray(m)&&m.sort(s);for(let w=0;w<f.length;w++){const{pendingPromise:g}=f[w];(b=g.resolve)==null||b.call(g,[m[w],m])}}).catch(m=>{var b;for(let w=0;w<f.length;w++){const{pendingPromise:g}=f[w];(b=g.reject)==null||b.call(g,m)}})},o=()=>Br.delete(t),c=()=>l().map(({args:f})=>f),l=()=>Br.get(t)||[],d=f=>Br.set(t,[...l(),f]);return{flush:o,async schedule(f){const p={},m=new Promise((g,x)=>{p.resolve=g,p.reject=x});return(n==null?void 0:n([...c(),f]))&&i(),l().length>0?(d({args:f,pendingPromise:p}),m):(d({args:f,pendingPromise:p}),setTimeout(i,r),m)}}}async function or(e,t){var D,j,Z,F;const{account:n=e.account,batch:r=!!((D=e.batch)!=null&&D.multicall),blockNumber:s,blockTag:i="latest",accessList:o,blobs:c,code:l,data:d,factory:f,factoryData:p,gas:m,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:g,maxPriorityFeePerGas:x,nonce:v,to:B,value:P,stateOverride:A,...S}=t,N=n?at(n):void 0;if(l&&(f||p))throw new C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&B)throw new C("Cannot provide both `code` & `to` as parameters.");const $=l&&d,_=f&&p&&B&&d,R=$||_,V=$?Fd({code:l,data:d}):_?Md({data:d,factory:f,factoryData:p,to:B}):d;try{Ps(t);const M=(s?U(s):void 0)||i,L=Li(A),H=(F=(Z=(j=e.chain)==null?void 0:j.formatters)==null?void 0:Z.transactionRequest)==null?void 0:F.format,q=(H||Bs)({...zi(S,{format:H}),from:N==null?void 0:N.address,accessList:o,blobs:c,data:V,gas:m,gasPrice:b,maxFeePerBlobGas:w,maxFeePerGas:g,maxPriorityFeePerGas:x,nonce:v,to:R?void 0:B,value:P});if(r&&Rd({request:q})&&!L)try{return await _d(e,{...q,blockNumber:s,blockTag:i})}catch(fe){if(!(fe instanceof aa)&&!(fe instanceof Jr))throw fe}const K=await e.request({method:"eth_call",params:L?[q,M,L]:[q,M]});return K==="0x"?{data:void 0}:{data:K}}catch(O){const M=Od(O),{offchainLookup:L,offchainLookupSignature:H}=await bn(async()=>{const{offchainLookup:Y,offchainLookupSignature:q}=await import("./ccip-C7iH5wKQ.js");return{offchainLookup:Y,offchainLookupSignature:q}},__vite__mapDeps([0,1,2,3]));if(e.ccipRead!==!1&&(M==null?void 0:M.slice(0,10))===H&&B)return{data:await L(e,{data:M,to:B})};throw R&&(M==null?void 0:M.slice(0,10))==="0x101bb98d"?new Gl({factory:f}):Nd(O,{...t,account:N,chain:e.chain})}}function Rd({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith($d)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function _d(e,t){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=e.batch)==null?void 0:g.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:c,to:l}=t;let d=c;if(!d){if(!e.chain)throw new aa;d=Dt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const p=(s?U(s):void 0)||i,{schedule:m}=Ms({id:`${e.uid}.${p}`,wait:r,shouldSplitBatch(x){return x.reduce((B,{data:P})=>B+(P.length-2),0)>n*2},fn:async x=>{const v=x.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),B=Je({abi:Yr,args:[v],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{data:B,to:d},p]});return Ut({abi:Yr,args:[v],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:b,success:w}]=await m({data:o,to:l});if(!w)throw new vs({data:b});return b==="0x"?{data:void 0}:{data:b}}function Fd(e){const{code:t,data:n}=e;return Fs({abi:ve(["constructor(bytes, bytes)"]),bytecode:kd,args:[t,n]})}function Md(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Fs({abi:ve(["constructor(address, bytes, address, bytes)"]),bytecode:Td,args:[s,t,n,r]})}function Od(e){var n;if(!(e instanceof C))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Ye(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,c=Je({abi:n,args:s,functionName:i});try{const{data:l}=await G(e,or,"call")({...o,data:c,to:r});return Ut({abi:n,args:s,functionName:i,data:l||"0x"})}catch(l){throw hn(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function zd(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...c}=t,l=c.account?at(c.account):e.account,d=Je({abi:n,args:s,functionName:o});try{const{data:f}=await G(e,or,"call")({batch:!1,data:`${d}${i?i.replace("0x",""):""}`,to:r,...c,account:l}),p=Ut({abi:n,args:s,functionName:o,data:f||"0x"}),m=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:p,request:{abi:m,address:r,args:s,dataSuffix:i,functionName:o,...c,account:l}}}catch(f){throw hn(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l==null?void 0:l.address})}}const Pr=new Map,Ao=new Map;let Ld=0;function ot(e,t,n){const r=++Ld,s=()=>Pr.get(e)||[],i=()=>{const f=s();Pr.set(e,f.filter(p=>p.id!==r))},o=()=>{const f=Ao.get(e);s().length===1&&f&&f(),i()},c=s();if(Pr.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return o;const l={};for(const f in t)l[f]=(...p)=>{var b,w;const m=s();if(m.length!==0)for(const g of m)(w=(b=g.fns)[f])==null||w.call(b,...p)};const d=n(l);return typeof d=="function"&&Ao.set(e,d),o}async function Vn(e){return new Promise(t=>setTimeout(t,e))}function An(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:i}));const l=await(n==null?void 0:n(c))??r;await Vn(l);const d=async()=>{s&&(await e({unpoll:i}),await Vn(r),d())};d()})(),i}const Ud=new Map,Dd=new Map;function jd(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,Ud),r=t(e,Dd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Gd(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=jd(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Hd=e=>`blockNumber.${e}`;async function Sn(e,{cacheTime:t=e.cacheTime}={}){const n=await Gd(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Hd(e.uid),cacheTime:t});return BigInt(n)}async function ir(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>Ke(i));return!("abi"in t)||!t.abi?s:Rs({abi:t.abi,logs:s,strict:n})}async function ar(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function qd(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:c,onError:l,onLogs:d,poll:f,pollingInterval:p=e.pollingInterval,strict:m}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const x=m??!1,v=de(["watchContractEvent",r,s,i,e.uid,o,p,x,c]);return ot(v,{onLogs:d,onError:l},B=>{let P;c!==void 0&&(P=c-1n);let A,S=!1;const N=An(async()=>{var $;if(!S){try{A=await G(e,Ai,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:x,fromBlock:c})}catch{}S=!0;return}try{let _;if(A)_=await G(e,ir,"getFilterChanges")({filter:A});else{const R=await G(e,Sn,"getBlockNumber")({});P&&P<R?_=await G(e,sa,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:P+1n,toBlock:R,strict:x}):_=[],P=R}if(_.length===0)return;if(i)B.onLogs(_);else for(const R of _)B.onLogs([R])}catch(_){A&&_ instanceof mt&&(S=!1),($=B.onError)==null||$.call(B,_)}},{emitOnBegin:!0,interval:p});return async()=>{A&&await G(e,ar,"uninstallFilter")({filter:A}),N()}})})():(()=>{const x=m??!1,v=de(["watchContractEvent",r,s,i,e.uid,o,p,x]);let B=!0,P=()=>B=!1;return ot(v,{onLogs:d,onError:l},A=>((async()=>{try{const S=(()=>{if(e.transport.type==="fallback"){const _=e.transport.transports.find(R=>R.config.type==="webSocket");return _?_.value:e.transport}return e.transport})(),N=o?xn({abi:n,eventName:o,args:s}):[],{unsubscribe:$}=await S.subscribe({params:["logs",{address:r,topics:N}],onData(_){var V;if(!B)return;const R=_.result;try{const{eventName:D,args:j}=Ns({abi:n,data:R.data,topics:R.topics,strict:m}),Z=Ke(R,{args:j,eventName:D});A.onLogs([Z])}catch(D){let j,Z;if(D instanceof Yt||D instanceof Yn){if(m)return;j=D.abiItem.name,Z=(V=D.abiItem.inputs)==null?void 0:V.some(O=>!("name"in O&&O.name))}const F=Ke(R,{args:Z?[]:{},eventName:j});A.onLogs([F])}},onError(_){var R;(R=A.onError)==null||R.call(A,_)}});P=$,B||P()}catch(S){l==null||l(S)}})(),()=>P()))})()}async function Vd(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class Wd extends C{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Zd(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,c,l,d,f,p]=await G(e,Ye,"readContract")({abi:Kd,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:c,chainId:Number(l),verifyingContract:d,salt:f},extensions:p,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Wd({address:n}):o}}const Kd=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}],Xr=256;let On=Xr,zn;function ca(e=11){if(!zn||On+e>Xr*2){zn="",On=0;for(let t=0;t<Xr;t++)zn+=(256+Math.random()*256|0).toString(16).substring(1)}return zn.substring(On,On+++e)}function Yd(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:i="Base Client",pollingInterval:o=4e3,type:c="base"}=e,l=e.chain,d=e.account?at(e.account):void 0,{config:f,request:p,value:m}=e.transport({chain:l,pollingInterval:o}),b={...f,...m},w={account:d,batch:t,cacheTime:n,ccipRead:r,chain:l,key:s,name:i,pollingInterval:o,request:p,transport:b,type:c,uid:ca()};function g(x){return v=>{const B=v(x);for(const A in w)delete B[A];const P={...x,...B};return Object.assign(P,{extend:g(P)})}}return Object.assign(w,{extend:g(w)})}const Ln=new ms(8192);function Jd(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Ln.get(n))return Ln.get(n);const r=e().finally(()=>Ln.delete(n));return Ln.set(n,r),r}function Qr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:c=0}={})=>{const l=async({error:d})=>{const f=typeof t=="function"?t({count:c,error:d}):t;f&&await Vn(f),o({count:c+1})};try{const d=await e();s(d)}catch(d){if(c<n&&await r({count:c,error:d}))return l({error:d});i(d)}};o()})}function Xd(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,retryDelay:i=150,retryCount:o=3,uid:c}={...t,...r},l=s?ce(Jt(`${c}.${de(n)}`)):void 0;return Jd(()=>Qr(async()=>{try{return await e(n)}catch(d){const f=d;switch(f.code){case en.code:throw new en(f);case tn.code:throw new tn(f);case nn.code:throw new nn(f,{method:n.method});case rn.code:throw new rn(f);case ht.code:throw new ht(f);case mt.code:throw new mt(f);case sn.code:throw new sn(f);case on.code:throw new on(f);case Nt.code:throw new Nt(f);case an.code:throw new an(f,{method:n.method});case Rt.code:throw new Rt(f);case cn.code:throw new cn(f);case dt.code:throw new dt(f);case un.code:throw new un(f);case ln.code:throw new ln(f);case dn.code:throw new dn(f);case fn.code:throw new fn(f);case pn.code:throw new pn(f);case 5e3:throw new dt(f);default:throw d instanceof C?d:new ql(f)}}},{delay:({count:d,error:f})=>{var p;if(f&&f instanceof Kt){const m=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<d)*i},retryCount:o,shouldRetry:({error:d})=>Qd(d)}),{enabled:s,id:l})}}function Qd(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Rt.code||e.code===ht.code:e instanceof Kt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function cr({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:i,type:o},c){const l=ca();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:i,type:o},request:Xd(n,{retryCount:r,retryDelay:s,uid:l}),value:c}}function ef(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:i,retryDelay:o}=t;return({chain:c,pollingInterval:l=4e3,timeout:d,...f})=>{let p=e,m=()=>{};const b=cr({key:n,name:r,async request({method:w,params:g}){const x=async(v=0)=>{const B=p[v]({...f,chain:c,retryCount:0,timeout:d});try{const P=await B.request({method:w,params:g});return m({method:w,params:g,response:P,transport:B,status:"success"}),P}catch(P){if(m({error:P,method:w,params:g,transport:B,status:"error"}),tf(P)||v===p.length-1)throw P;return x(v+1)}};return x()},retryCount:i,retryDelay:o,type:"fallback"},{onResponse:w=>m=w,transports:p.map(w=>w({chain:c,retryCount:0}))});if(s){const w=typeof s=="object"?s:{};nf({chain:c,interval:w.interval??l,onTransports:g=>p=g,sampleCount:w.sampleCount,timeout:w.timeout,transports:p,weights:w.weights})}return b}}function tf(e){return"code"in e&&typeof e.code=="number"&&(e.code===Nt.code||e.code===dt.code||e.code===5e3)}function nf({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:i,weights:o={}}){const{stability:c=.7,latency:l=.3}=o,d=[],f=async()=>{const p=await Promise.all(i.map(async w=>{const g=w({chain:e,retryCount:0,timeout:s}),x=Date.now();let v,B;try{await g.request({method:"net_listening"}),B=1}catch{B=0}finally{v=Date.now()}return{latency:v-x,success:B}}));d.push(p),d.length>r&&d.shift();const m=Math.max(...d.map(w=>Math.max(...w.map(({latency:g})=>g)))),b=i.map((w,g)=>{const x=d.map(S=>S[g].latency),B=1-x.reduce((S,N)=>S+N,0)/x.length/m,P=d.map(S=>S[g].success),A=P.reduce((S,N)=>S+N,0)/P.length;return A===0?[0,g]:[l*B+c*A,g]}).sort((w,g)=>g[0]-w[0]);n(b.map(([,w])=>i[w])),await Vn(t),f()};f()}class Os extends C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function ua(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const c=new AbortController;n>0&&(o=setTimeout(()=>{r?c.abort():i(t)},n)),s(await e({signal:(c==null?void 0:c.signal)||null}))}catch(c){(c==null?void 0:c.name)==="AbortError"&&i(t),i(c)}finally{clearTimeout(o)}})()})}function rf(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const es=rf();function la(e,t={}){return{async request(n){var p;const{body:r,onRequest:s=t.onRequest,onResponse:i=t.onResponse,timeout:o=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:d,signal:f}=c;try{const m=await ua(async({signal:w})=>{const g={...c,body:Array.isArray(r)?de(r.map(P=>({jsonrpc:"2.0",id:P.id??es.take(),...P}))):de({jsonrpc:"2.0",id:r.id??es.take(),...r}),headers:{"Content-Type":"application/json",...l},method:d||"POST",signal:f||(o>0?w:null)},x=new Request(e,g),v=await(s==null?void 0:s(x,g))??{...g,url:e};return await fetch(v.url??e,v)},{errorInstance:new Ur({body:r,url:e}),timeout:o,signal:!0});i&&await i(m);let b;if((p=m.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))b=await m.json();else{b=await m.text();try{b=JSON.parse(b||"{}")}catch(w){if(m.ok)throw w;b={error:b}}}if(!m.ok)throw new Kt({body:r,details:de(b.error)||m.statusText,headers:m.headers,status:m.status,url:e});return b}catch(m){throw m instanceof Kt||m instanceof Ur?m:new Kt({body:r,cause:m,url:e})}}}}function sf(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:l}=t;return({chain:d,retryCount:f,timeout:p})=>{const{batchSize:m=1e3,wait:b=0}=typeof n=="object"?n:{},w=t.retryCount??f,g=p??t.timeout??1e4,x=e||(d==null?void 0:d.rpcUrls.default.http[0]);if(!x)throw new Os;const v=la(x,{fetchOptions:r,onRequest:o,onResponse:c,timeout:g});return cr({key:s,name:i,async request({method:B,params:P}){const A={method:B,params:P},{schedule:S}=Ms({id:x,wait:b,shouldSplitBatch(R){return R.length>m},fn:R=>v.request({body:R}),sort:(R,V)=>R.id-V.id}),N=async R=>n?S(R):[await v.request({body:R})],[{error:$,result:_}]=await N(A);if($)throw new tr({body:A,error:$,url:x});return _},retryCount:w,retryDelay:l,timeout:g,type:"http"},{fetchOptions:r,url:x})}}function zs(e,t){var r,s,i,o,c,l;if(!(e instanceof C))return!1;const n=e.walk(d=>d instanceof Lr);return n instanceof Lr?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((c=n.data)==null?void 0:c.errorName)==="HttpError"||(l=n.reason)!=null&&l.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Si[50]):!1}function da(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Me(t)?t:null}function Un(e){let t=new Uint8Array(32).fill(0);if(!e)return oe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=da(n[r]),i=s?Fe(s):ce(lt(n[r]),"bytes");t=ce(We([t,i]),"bytes")}return oe(t)}function of(e){return`[${e.slice(2)}]`}function af(e){const t=new Uint8Array(32).fill(0);return e?da(e)||ce(lt(e)):oe(t)}function ur(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(lt(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=lt(s[i]);o.byteLength>255&&(o=lt(of(af(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function cf(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:c}){let l=c;if(!l){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");l=Dt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const d=Je({abi:Po,functionName:"addr",...r!=null?{args:[Un(s),BigInt(r)]}:{args:[Un(s)]}}),f={address:l,abi:ia,functionName:"resolve",args:[z(ur(s)),d],blockNumber:t,blockTag:n},p=G(e,Ye,"readContract"),m=i?await p({...f,args:[...f.args,i]}):await p(f);if(m[0]==="0x")return null;const b=Ut({abi:Po,args:r!=null?[Un(s),BigInt(r)]:void 0,functionName:"addr",data:m[0]});return b==="0x"||Se(b)==="0x00"?null:b}catch(d){if(o)throw d;if(zs(d,"resolve"))return null;throw d}}class uf extends C{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class qt extends C{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ls extends C{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class lf extends C{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const df=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ff=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,pf=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,hf=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function mf(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function So(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function fa({uri:e,gatewayUrls:t}){const n=pf.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=So(t==null?void 0:t.ipfs,"https://ipfs.io"),s=So(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(df),{protocol:o,subpath:c,target:l,subtarget:d=""}=(i==null?void 0:i.groups)||{},f=o==="ipns:/"||c==="ipns/",p=o==="ipfs:/"||c==="ipfs/"||ff.test(e);if(e.startsWith("http")&&!f&&!p){let b=e;return t!=null&&t.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||p)&&l)return{uri:`${r}/${f?"ipns":"ipfs"}/${l}${d}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${s}/${l}${d||""}`,isOnChain:!1,isEncoded:!1};let m=e.replace(hf,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new Ls({uri:e})}function pa(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new uf({data:e});return e.image||e.image_url||e.image_data}async function yf({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Us({gatewayUrls:e,uri:pa(n)})}catch{throw new Ls({uri:t})}}async function Us({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=fa({uri:t,gatewayUrls:e});if(r||await mf(n))return n;throw new Ls({uri:t})}function bf(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[c,l]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new qt({reason:"Only EIP-155 supported"});if(!o)throw new qt({reason:"Chain ID not found"});if(!l)throw new qt({reason:"Contract address not found"});if(!s)throw new qt({reason:"Token ID not found"});if(!c)throw new qt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:c.toLowerCase(),contractAddress:l,tokenID:s}}async function gf(e,{nft:t}){if(t.namespace==="erc721")return Ye(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ye(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new lf({namespace:t.namespace})}async function wf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?xf(e,{gatewayUrls:t,record:n}):Us({uri:n,gatewayUrls:t})}async function xf(e,{gatewayUrls:t,record:n}){const r=bf(n),s=await gf(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:c}=fa({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const d=c?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(d);return Us({uri:pa(f),gatewayUrls:t})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),yf({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,l)})}async function ha(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:i,strict:o,universalResolverAddress:c}){let l=c;if(!l){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");l=Dt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const d={address:l,abi:ia,functionName:"resolve",args:[z(ur(r)),Je({abi:Bo,functionName:"text",args:[Un(r),s]})],blockNumber:t,blockTag:n},f=G(e,Ye,"readContract"),p=i?await f({...d,args:[...d.args,i]}):await f(d);if(p[0]==="0x")return null;const m=Ut({abi:Bo,functionName:"text",data:p[0]});return m===""?null:m}catch(d){if(o)throw d;if(zs(d,"resolve"))return null;throw d}}async function vf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:c}){const l=await G(e,ha,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:i,strict:o});if(!l)return null;try{return await wf(e,{record:l,gatewayUrls:r})}catch{return null}}async function Ef(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Dt({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const l=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const d={address:c,abi:Sd,functionName:"reverse",args:[z(ur(l))],blockNumber:n,blockTag:r},f=G(e,Ye,"readContract"),[p,m]=s?await f({...d,args:[...d.args,s]}):await f(d);return t.toLowerCase()!==m.toLowerCase()?null:p}catch(d){if(i)throw d;if(zs(d,"reverse"))return null;throw d}}async function Bf(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Dt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await G(e,Ye,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[z(ur(r))],blockNumber:t,blockTag:n});return o}async function Pf(e){const t=er(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function ma(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:c}={}){const l=s??(r?[r]:void 0),d=er(e,{method:"eth_newFilter"});let f=[];l&&(f=[l.flatMap(b=>xn({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const p=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?U(i):i,toBlock:typeof c=="bigint"?U(c):c,...f.length?{topics:f}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:i,id:p,request:d(p),strict:!!o,toBlock:c,type:"event"}}async function ya(e){const t=er(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function If(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Af(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?U(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),$e(i)}async function $o(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?U(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}function Sf(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function $f(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?U(n):void 0,o=await e.request({method:"eth_feeHistory",params:[U(t),i||r,s]},{dedupe:!!i});return Sf(o)}async function kf(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>Ke(i));return t.abi?Rs({abi:t.abi,logs:s,strict:n}):s}function Ce(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Kh=/^(.*)\[([0-9]*)\]$/,Tf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Cf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ir=new Map;async function Nf(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:i}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:c=5,delay:l=2e3}=typeof s=="object"?s:{};let d=Ir.get(`${r}:${i}`);if(d)return d;let f=0;const{schedule:p}=Ms({id:`${r}:${i}`,fn:async()=>{const w=new Map,g=new Map;let x,v,B;async function P(){const A=await t({onClose(){var S,N;for(const $ of w.values())(S=$.onError)==null||S.call($,new qn({url:i}));for(const $ of g.values())(N=$.onError)==null||N.call($,new qn({url:i}));w.clear(),g.clear(),s&&f<c&&setTimeout(async()=>{f++,await P().catch(console.error)},l)},onError(S){var N,$;x=S;for(const _ of w.values())(N=_.onError)==null||N.call(_,x);for(const _ of g.values())($=_.onError)==null||$.call(_,x);w.clear(),g.clear(),s&&f<c&&setTimeout(async()=>{f++,await P().catch(console.error)},l)},onOpen(){x=void 0,f=0},onResponse(S){const N=S.method==="eth_subscription",$=N?S.params.subscription:S.id,_=N?g:w,R=_.get($);R&&R.onResponse(S),N||_.delete($)}});return v=A,n&&(B&&clearInterval(B),B=setInterval(()=>{var S;return(S=v.ping)==null?void 0:S.call(v)},o)),A}return await P(),x=void 0,d={close(){B&&clearInterval(B),v.close(),Ir.delete(`${r}:${i}`)},get socket(){return v},request({body:A,onError:S,onResponse:N}){x&&S&&S(x);const $=A.id??es.take(),_=R=>{var V;typeof R.id=="number"&&$!==R.id||(A.method==="eth_subscribe"&&typeof R.result=="string"&&g.set(R.result,{onResponse:_,onError:S}),A.method==="eth_unsubscribe"&&g.delete((V=A.params)==null?void 0:V[0]),N(R))};w.set($,{onResponse:_,onError:S});try{v.request({body:{jsonrpc:"2.0",id:$,...A}})}catch(R){S==null||S(R)}},requestAsync({body:A,timeout:S=1e4}){return ua(()=>new Promise((N,$)=>this.request({body:A,onError:$,onResponse:N})),{errorInstance:new Ur({body:A,url:i}),timeout:S})},requests:w,subscriptions:g,url:i},Ir.set(`${r}:${i}`,d),[d]}}),[m,[b]]=await p();return b}async function Dn(e,t={}){const{keepAlive:n,reconnect:r}=t;return Nf({async getSocket({onClose:s,onError:i,onOpen:o,onResponse:c}){const l=await bn(()=>import("./native-DCTjMhwz.js"),[]).then(b=>b.WebSocket),d=new l(e);function f(){s(),d.removeEventListener("close",f),d.removeEventListener("message",p),d.removeEventListener("error",i),d.removeEventListener("open",o)}function p({data:b}){c(JSON.parse(b))}d.addEventListener("close",f),d.addEventListener("message",p),d.addEventListener("error",i),d.addEventListener("open",o),d.readyState===l.CONNECTING&&await new Promise((b,w)=>{d&&(d.onopen=b,d.onerror=w)});const{close:m}=d;return Object.assign(d,{close(){m.bind(d)(),s()},ping(){try{if(d.readyState===d.CLOSED||d.readyState===d.CLOSING)throw new bo({url:d.url,cause:new qn({url:d.url})});const b={jsonrpc:"2.0",method:"net_version",params:[]};d.send(JSON.stringify(b))}catch(b){i(b)}},request({body:b}){if(d.readyState===d.CLOSED||d.readyState===d.CLOSING)throw new bo({body:b,url:d.url,cause:new qn({url:d.url})});return d.send(JSON.stringify(b))}})},keepAlive:n,reconnect:r,url:e})}async function Rf(e){const t=await Dn(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function _f(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Lf({domain:t}),...e.types};zf({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(Ff({domain:t,types:s})),r!=="EIP712Domain"&&i.push(ba({data:n,primaryType:r,types:s})),ce(We(i))}function Ff({domain:e,types:t}){return ba({data:e,primaryType:"EIP712Domain",types:t})}function ba({data:e,primaryType:t,types:n}){const r=ga({data:e,primaryType:t,types:n});return ce(r)}function ga({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Mf({primaryType:t,types:n})];for(const i of n[t]){const[o,c]=xa({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(c)}return wt(r,s)}function Mf({primaryType:e,types:t}){const n=z(Of({primaryType:e,types:t}));return ce(n)}function Of({primaryType:e,types:t}){let n="";const r=wa({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:c})=>`${c} ${o}`).join(",")})`;return n}function wa({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])wa({primaryType:i.type,types:t},n);return n}function xa({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ce(ga({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ce(r)];if(n==="string")return[{type:"bytes32"},ce(z(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>xa({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},ce(wt(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}function Yh(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(l,d)=>{const f={...d};for(const p of l){const{name:m,type:b}=p;b==="address"&&(f[m]=f[m].toLowerCase())}return f},o=s.EIP712Domain?t?i(s.EIP712Domain,t):{}:{},c=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return de({domain:o,message:c,primaryType:r,types:s})}function zf(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,c)=>{for(const l of o){const{name:d,type:f}=l,p=c[d],m=f.match(Cf);if(m&&(typeof p=="number"||typeof p=="bigint")){const[g,x,v]=m;U(p,{signed:x==="int",size:Number.parseInt(v)/8})}if(f==="address"&&typeof p=="string"&&!se(p))throw new le({address:p});const b=f.match(Tf);if(b){const[g,x]=b;if(x&&ne(p)!==Number.parseInt(x))throw new pu({expectedSize:Number.parseInt(x),givenSize:ne(p)})}const w=s[f];w&&i(w,p)}};s.EIP712Domain&&t&&i(s.EIP712Domain,t),r!=="EIP712Domain"&&i(s[r],n)}function Lf({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Uf={"0x0":"reverted","0x1":"success"};function va(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Ke(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?$e(e.transactionIndex):null,status:e.status?Uf[e.status]:null,type:e.type?Di[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Ea=nr("transactionReceipt",va),Df=`Ethereum Signed Message:
`;function jf(e){const t=typeof e=="string"?Jt(e):typeof e.raw=="string"?e.raw:oe(e.raw),n=Jt(`${Df}${ne(t)}`);return We([n,t])}function Ba(e,t){return ce(jf(e),t)}const Pa="0x6492649264926492649264926492649264926492649264926492649264926492";function Gf(e){return Pi(e,-32)===Pa}function Hf(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=Te([wt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Pa]);return s==="hex"?i:me(i)}function qf(e){const{authorizationList:t}=e;if(t)for(const n of t){const{contractAddress:r,chainId:s}=n;if(!se(r))throw new le({address:r});if(s<=0)throw new In({chainId:s})}Ds(e)}function Vf(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Xi;for(const n of t){const r=ne(n),s=$e(Xt(n,0,1));if(r!==32)throw new xd({hash:n,size:r});if(s!==Ji)throw new vd({hash:n,version:s})}}Ds(e)}function Ds(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new In({chainId:t});if(s&&!se(s))throw new le({address:s});if(r&&r>Pn)throw new yt({maxFeePerGas:r});if(n&&r&&n>r)throw new mn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Wf(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new In({chainId:t});if(i&&!se(i))throw new le({address:i});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Pn)throw new yt({maxFeePerGas:r})}function Zf(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!se(i))throw new le({address:i});if(typeof t<"u"&&t<=0)throw new In({chainId:t});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Pn)throw new yt({maxFeePerGas:r})}function Kf(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{contractAddress:r,chainId:s,nonce:i,...o}=n;t.push([z(s),r,i?z(i):"0x",...$n({},o)])}return t}function lr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new zl({storageKey:s[i]});if(!se(r,{strict:!1}))throw new le({address:r});t.push([r,s])}return t}function Ia(e,t){const n=ea(e);return n==="eip1559"?Xf(e,t):n==="eip2930"?Qf(e,t):n==="eip4844"?Jf(e,t):n==="eip7702"?Yf(e,t):e0(e,t)}function Yf(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:c,maxFeePerGas:l,maxPriorityFeePerGas:d,accessList:f,data:p}=e;qf(e);const m=lr(f),b=Kf(n);return Te(["0x04",Ze([z(r),i?z(i):"0x",d?z(d):"0x",l?z(l):"0x",s?z(s):"0x",o??"0x",c?z(c):"0x",p??"0x",m,b,...$n(e,t)])])}function Jf(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:d,accessList:f,data:p}=e;Vf(e);let m=e.blobVersionedHashes,b=e.sidecars;if(e.blobs&&(typeof m>"u"||typeof b>"u")){const P=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(N=>oe(N)),A=e.kzg,S=$s({blobs:P,kzg:A});if(typeof m>"u"&&(m=Zi({commitments:S})),typeof b>"u"){const N=ks({blobs:P,commitments:S,kzg:A});b=Qi({blobs:P,commitments:S,proofs:N})}}const w=lr(f),g=[z(n),s?z(s):"0x",d?z(d):"0x",l?z(l):"0x",r?z(r):"0x",i??"0x",o?z(o):"0x",p??"0x",w,c?z(c):"0x",m??[],...$n(e,t)],x=[],v=[],B=[];if(b)for(let P=0;P<b.length;P++){const{blob:A,commitment:S,proof:N}=b[P];x.push(A),v.push(S),B.push(N)}return Te(["0x03",Ze(b?[g,x,v,B]:g)])}function Xf(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:f}=e;Ds(e);const p=lr(d),m=[z(n),s?z(s):"0x",l?z(l):"0x",c?z(c):"0x",r?z(r):"0x",i??"0x",o?z(o):"0x",f??"0x",p,...$n(e,t)];return Te(["0x02",Ze(m)])}function Qf(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:c,accessList:l,gasPrice:d}=e;Wf(e);const f=lr(l),p=[z(n),i?z(i):"0x",d?z(d):"0x",r?z(r):"0x",o??"0x",c?z(c):"0x",s??"0x",f,...$n(e,t)];return Te(["0x01",Ze(p)])}function e0(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:c,gasPrice:l}=e;Zf(e);let d=[i?z(i):"0x",l?z(l):"0x",r?z(r):"0x",o??"0x",c?z(c):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const b=27n+(t.v===27n?0n:1n);if(t.v!==b)throw new Ml({v:t.v});return b})(),p=Se(t.r),m=Se(t.s);d=[...d,z(f),p==="0x00"?"0x":p,m==="0x00"?"0x":m]}else n>0&&(d=[...d,z(n),"0x","0x"]);return Ze(d)}function $n(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=Se(n.r),o=Se(n.s);return[typeof s=="number"?s?z(1):"0x":r===0n?"0x":r===1n?z(1):r===27n?"0x":z(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function t0(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function n0(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?$e(e.nonce):void 0,storageProof:e.storageProof?t0(e.storageProof):void 0}}async function r0(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?U(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,o||i]});return n0(c)}async function s0(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?U(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function js(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){var f,p,m;const o=r||"latest",c=n!==void 0?U(n):void 0;let l=null;if(s?l=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,U(i)]},{dedupe:!0}):(c||o)&&(l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||o,U(i)]},{dedupe:!!c})),!l)throw new Ci({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(((m=(p=(f=e.chain)==null?void 0:f.formatters)==null?void 0:p.transaction)==null?void 0:m.format)||rr)(l)}async function o0(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([G(e,Sn,"getBlockNumber")({}),t?G(e,js,"getTransaction")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function ts(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Ni({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||va)(n)}async function i0(e,t){var x;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,multicallAddress:o,stateOverride:c}=t,l=t.contracts,d=r??(typeof((x=e.batch)==null?void 0:x.multicall)=="object"&&e.batch.multicall.batchSize||1024);let f=o;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Dt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const p=[[]];let m=0,b=0;for(let v=0;v<l.length;v++){const{abi:B,address:P,args:A,functionName:S}=l[v];try{const N=Je({abi:B,args:A,functionName:S});b+=(N.length-2)/2,d>0&&b>d&&p[m].length>0&&(m++,b=(N.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:N,target:P}]}catch(N){const $=hn(N,{abi:B,address:P,args:A,docsPath:"/docs/contract/multicall",functionName:S});if(!n)throw $;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:P}]}}const w=await Promise.allSettled(p.map(v=>G(e,Ye,"readContract")({abi:Yr,address:f,args:[v],blockNumber:s,blockTag:i,functionName:"aggregate3",stateOverride:c}))),g=[];for(let v=0;v<w.length;v++){const B=w[v];if(B.status==="rejected"){if(!n)throw B.reason;for(let A=0;A<p[v].length;A++)g.push({status:"failure",error:B.reason,result:void 0});continue}const P=B.value;for(let A=0;A<P.length;A++){const{returnData:S,success:N}=P[A],{callData:$}=p[v][A],{abi:_,address:R,functionName:V,args:D}=l[g.length];try{if($==="0x")throw new Kn;if(!N)throw new vs({data:S});const j=Ut({abi:_,args:D,data:S,functionName:V});g.push(n?{result:j,status:"success"}:j)}catch(j){const Z=hn(j,{abi:_,address:R,args:D,docsPath:"/docs/contract/multicall",functionName:V});if(!n)throw Z;g.push({error:Z,result:void 0,status:"failure"})}}}if(g.length!==l.length)throw new C("multicall results mismatch");return g}class Aa extends ps{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Cu(t);const r=Jn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ct(this),this.iHash.update(t),this}digestInto(t){Ct(this),gn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Sa=(e,t,n)=>new Aa(e,t).update(n).digest();Sa.create=(e,t)=>new Aa(e,t);const Gs=BigInt(0),dr=BigInt(1),a0=BigInt(2);function bt(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function kn(e){if(!bt(e))throw new Error("Uint8Array expected")}function Ft(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}const c0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Mt(e){kn(e);let t="";for(let n=0;n<e.length;n++)t+=c0[e[n]];return t}function kt(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Hs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const De={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ko(e){if(e>=De._0&&e<=De._9)return e-De._0;if(e>=De._A&&e<=De._F)return e-(De._A-10);if(e>=De._a&&e<=De._f)return e-(De._a-10)}function Ot(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=ko(e.charCodeAt(i)),c=ko(e.charCodeAt(i+1));if(o===void 0||c===void 0){const l=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+c}return r}function ft(e){return Hs(Mt(e))}function qs(e){return kn(e),Hs(Mt(Uint8Array.from(e).reverse()))}function zt(e,t){return Ot(e.toString(16).padStart(t*2,"0"))}function Vs(e,t){return zt(e,t).reverse()}function u0(e){return Ot(kt(e))}function Ie(e,t,n){let r;if(typeof t=="string")try{r=Ot(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(bt(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function yn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];kn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function l0(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function d0(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const Ar=e=>typeof e=="bigint"&&Gs<=e;function fr(e,t,n){return Ar(e)&&Ar(t)&&Ar(n)&&t<=e&&e<n}function pt(e,t,n,r){if(!fr(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function $a(e){let t;for(t=0;e>Gs;e>>=dr,t+=1);return t}function f0(e,t){return e>>BigInt(t)&dr}function p0(e,t,n){return e|(n?dr:Gs)<<BigInt(t)}const Ws=e=>(a0<<BigInt(e-1))-dr,Sr=e=>new Uint8Array(e),To=e=>Uint8Array.from(e);function ka(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Sr(e),s=Sr(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},c=(...p)=>n(s,r,...p),l=(p=Sr())=>{s=c(To([0]),p),r=c(),p.length!==0&&(s=c(To([1]),p),r=c())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<t;){r=c();const b=r.slice();m.push(b),p+=r.length}return yn(...m)};return(p,m)=>{o(),l(p);let b;for(;!(b=m(d()));)l();return o(),b}}const h0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||bt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Tn(e,t,n={}){const r=(s,i,o)=>{const c=h0[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=e[s];if(!(o&&l===void 0)&&!c(l,e))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}const m0=()=>{throw new Error("not implemented")};function ns(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const y0=Object.freeze(Object.defineProperty({__proto__:null,aInRange:pt,abool:Ft,abytes:kn,bitGet:f0,bitLen:$a,bitMask:Ws,bitSet:p0,bytesToHex:Mt,bytesToNumberBE:ft,bytesToNumberLE:qs,concatBytes:yn,createHmacDrbg:ka,ensureBytes:Ie,equalBytes:l0,hexToBytes:Ot,hexToNumber:Hs,inRange:fr,isBytes:bt,memoized:ns,notImplemented:m0,numberToBytesBE:zt,numberToBytesLE:Vs,numberToHexUnpadded:kt,numberToVarBytesBE:u0,utf8ToBytes:d0,validateObject:Tn},Symbol.toStringTag,{value:"Module"}));const ue=BigInt(0),re=BigInt(1),ut=BigInt(2),b0=BigInt(3),rs=BigInt(4),Co=BigInt(5),No=BigInt(8);BigInt(9);BigInt(16);function he(e,t){const n=e%t;return n>=ue?n:t+n}function g0(e,t,n){if(n<=ue||t<ue)throw new Error("Expected power/modulo > 0");if(n===re)return ue;let r=re;for(;t>ue;)t&re&&(r=r*e%n),e=e*e%n,t>>=re;return r}function we(e,t,n){let r=e;for(;t-- >ue;)r*=r,r%=n;return r}function ss(e,t){if(e===ue||t<=ue)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=he(e,t),r=t,s=ue,i=re;for(;n!==ue;){const c=r/n,l=r%n,d=s-i*c;r=n,n=l,s=i,i=d}if(r!==re)throw new Error("invert: does not exist");return he(s,t)}function w0(e){const t=(e-re)/ut;let n,r,s;for(n=e-re,r=0;n%ut===ue;n/=ut,r++);for(s=ut;s<e&&g0(s,t,e)!==e-re;s++);if(r===1){const o=(e+re)/rs;return function(l,d){const f=l.pow(d,o);if(!l.eql(l.sqr(f),d))throw new Error("Cannot find square root");return f}}const i=(n+re)/ut;return function(c,l){if(c.pow(l,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=r,f=c.pow(c.mul(c.ONE,s),n),p=c.pow(l,i),m=c.pow(l,n);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let b=1;for(let g=c.sqr(m);b<d&&!c.eql(g,c.ONE);b++)g=c.sqr(g);const w=c.pow(f,re<<BigInt(d-b-1));f=c.sqr(w),p=c.mul(p,w),m=c.mul(m,f),d=b}return p}}function x0(e){if(e%rs===b0){const t=(e+re)/rs;return function(r,s){const i=r.pow(s,t);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(e%No===Co){const t=(e-Co)/No;return function(r,s){const i=r.mul(s,ut),o=r.pow(i,t),c=r.mul(s,o),l=r.mul(r.mul(c,ut),o),d=r.mul(c,r.sub(l,r.ONE));if(!r.eql(r.sqr(d),s))throw new Error("Cannot find square root");return d}}return w0(e)}const v0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function E0(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=v0.reduce((r,s)=>(r[s]="function",r),t);return Tn(e,n)}function B0(e,t,n){if(n<ue)throw new Error("Expected power > 0");if(n===ue)return e.ONE;if(n===re)return t;let r=e.ONE,s=t;for(;n>ue;)n&re&&(r=e.mul(r,s)),s=e.sqr(s),n>>=re;return r}function P0(e,t){const n=new Array(t.length),r=t.reduce((i,o,c)=>e.is0(o)?i:(n[c]=i,e.mul(i,o)),e.ONE),s=e.inv(r);return t.reduceRight((i,o,c)=>e.is0(o)?i:(n[c]=e.mul(i,n[c]),e.mul(i,o)),s),n}function Ta(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ca(e,t,n=!1,r={}){if(e<=ue)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:i}=Ta(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=x0(e),c=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:Ws(s),ZERO:ue,ONE:re,create:l=>he(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return ue<=l&&l<e},is0:l=>l===ue,isOdd:l=>(l&re)===re,neg:l=>he(-l,e),eql:(l,d)=>l===d,sqr:l=>he(l*l,e),add:(l,d)=>he(l+d,e),sub:(l,d)=>he(l-d,e),mul:(l,d)=>he(l*d,e),pow:(l,d)=>B0(c,l,d),div:(l,d)=>he(l*ss(d,e),e),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>ss(l,e),sqrt:r.sqrt||(l=>o(c,l)),invertBatch:l=>P0(c,l),cmov:(l,d,f)=>f?d:l,toBytes:l=>n?Vs(l,i):zt(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return n?qs(l):ft(l)}});return Object.freeze(c)}function Na(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ra(e){const t=Na(e);return t+Math.ceil(t/2)}function I0(e,t,n=!1){const r=e.length,s=Na(t),i=Ra(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?ft(e):qs(e),c=he(o,t-re)+re;return n?Vs(c,s):zt(c,s)}const A0=BigInt(0),$r=BigInt(1),kr=new WeakMap,Ro=new WeakMap;function S0(e,t){const n=(i,o)=>{const c=o.negate();return i?c:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>t)throw new Error(`Wrong window size=${i}, should be [1..${t}]`)},s=i=>{r(i);const o=Math.ceil(t/i)+1,c=2**(i-1);return{windows:o,windowSize:c}};return{constTimeNegate:n,unsafeLadder(i,o){let c=e.ZERO,l=i;for(;o>A0;)o&$r&&(c=c.add(l)),l=l.double(),o>>=$r;return c},precomputeWindow(i,o){const{windows:c,windowSize:l}=s(o),d=[];let f=i,p=f;for(let m=0;m<c;m++){p=f,d.push(p);for(let b=1;b<l;b++)p=p.add(f),d.push(p);f=p.double()}return d},wNAF(i,o,c){const{windows:l,windowSize:d}=s(i);let f=e.ZERO,p=e.BASE;const m=BigInt(2**i-1),b=2**i,w=BigInt(i);for(let g=0;g<l;g++){const x=g*d;let v=Number(c&m);c>>=w,v>d&&(v-=b,c+=$r);const B=x,P=x+Math.abs(v)-1,A=g%2!==0,S=v<0;v===0?p=p.add(n(A,o[B])):f=f.add(n(S,o[P]))}return{p:f,f:p}},wNAFCached(i,o,c){const l=Ro.get(i)||1;let d=kr.get(i);return d||(d=this.precomputeWindow(i,l),l!==1&&kr.set(i,c(d))),this.wNAF(l,d,o)},setWindowSize(i,o){r(o),Ro.set(i,o),kr.delete(i)}}}function $0(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((f,p)=>{if(!t.isValid(f))throw new Error(`wrong scalar at index ${p}`)}),n.forEach((f,p)=>{if(!(f instanceof e))throw new Error(`wrong point at index ${p}`)});const s=$a(BigInt(n.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,c=new Array(o+1).fill(e.ZERO),l=Math.floor((t.BITS-1)/i)*i;let d=e.ZERO;for(let f=l;f>=0;f-=i){c.fill(e.ZERO);for(let m=0;m<r.length;m++){const b=r[m],w=Number(b>>BigInt(f)&BigInt(o));c[w]=c[w].add(n[m])}let p=e.ZERO;for(let m=c.length-1,b=e.ZERO;m>0;m--)b=b.add(c[m]),p=p.add(b);if(d=d.add(p),f!==0)for(let m=0;m<i;m++)d=d.double()}return d}function _a(e){return E0(e.Fp),Tn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ta(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function _o(e){e.lowS!==void 0&&Ft("lowS",e.lowS),e.prehash!==void 0&&Ft("prehash",e.prehash)}function k0(e){const t=_a(e);Tn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:T0,hexToBytes:C0}=y0,je={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:n}=je;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=kt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?kt(s.length/2|128):"";return`${kt(e)}${i}${s}${t}`},decode(e,t){const{Err:n}=je;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+l);if(d.length!==l)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of d)o=o<<8|f;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+o);if(c.length!==o)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=je;if(e<Ge)throw new t("integer: negative integers are not allowed");let n=kt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=je;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return T0(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=je,s=typeof e=="string"?C0(e):e;kn(s);const{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("Invalid signature: left bytes after parsing");const{v:c,l}=r.decode(2,i),{v:d,l:f}=r.decode(2,l);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=je,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},Ge=BigInt(0),ae=BigInt(1);BigInt(2);const Fo=BigInt(3);BigInt(4);function N0(e){const t=k0(e),{Fp:n}=t,r=Ca(t.n,t.nBitLength),s=t.toBytes||((g,x,v)=>{const B=x.toAffine();return yn(Uint8Array.from([4]),n.toBytes(B.x),n.toBytes(B.y))}),i=t.fromBytes||(g=>{const x=g.subarray(1),v=n.fromBytes(x.subarray(0,n.BYTES)),B=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:v,y:B}});function o(g){const{a:x,b:v}=t,B=n.sqr(g),P=n.mul(B,g);return n.add(n.add(P,n.mul(g,x)),v)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function c(g){return fr(g,ae,t.n)}function l(g){const{allowedPrivateKeyLengths:x,nByteLength:v,wrapPrivateKey:B,n:P}=t;if(x&&typeof g!="bigint"){if(bt(g)&&(g=Mt(g)),typeof g!="string"||!x.includes(g.length))throw new Error("Invalid key");g=g.padStart(v*2,"0")}let A;try{A=typeof g=="bigint"?g:ft(Ie("private key",g,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof g}`)}return B&&(A=he(A,P)),pt("private key",A,ae,P),A}function d(g){if(!(g instanceof m))throw new Error("ProjectivePoint expected")}const f=ns((g,x)=>{const{px:v,py:B,pz:P}=g;if(n.eql(P,n.ONE))return{x:v,y:B};const A=g.is0();x==null&&(x=A?n.ONE:n.inv(P));const S=n.mul(v,x),N=n.mul(B,x),$=n.mul(P,x);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:S,y:N}}),p=ns(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x,y:v}=g.toAffine();if(!n.isValid(x)||!n.isValid(v))throw new Error("bad point: x or y not FE");const B=n.sqr(v),P=o(x);if(!n.eql(B,P))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(x,v,B){if(this.px=x,this.py=v,this.pz=B,x==null||!n.isValid(x))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(B==null||!n.isValid(B))throw new Error("z required");Object.freeze(this)}static fromAffine(x){const{x:v,y:B}=x||{};if(!x||!n.isValid(v)||!n.isValid(B))throw new Error("invalid affine point");if(x instanceof m)throw new Error("projective point not allowed");const P=A=>n.eql(A,n.ZERO);return P(v)&&P(B)?m.ZERO:new m(v,B,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const v=n.invertBatch(x.map(B=>B.pz));return x.map((B,P)=>B.toAffine(v[P])).map(m.fromAffine)}static fromHex(x){const v=m.fromAffine(i(Ie("pointHex",x)));return v.assertValidity(),v}static fromPrivateKey(x){return m.BASE.multiply(l(x))}static msm(x,v){return $0(m,r,x,v)}_setWindowSize(x){w.setWindowSize(this,x)}assertValidity(){p(this)}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);const{px:v,py:B,pz:P}=this,{px:A,py:S,pz:N}=x,$=n.eql(n.mul(v,N),n.mul(A,P)),_=n.eql(n.mul(B,N),n.mul(S,P));return $&&_}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:v}=t,B=n.mul(v,Fo),{px:P,py:A,pz:S}=this;let N=n.ZERO,$=n.ZERO,_=n.ZERO,R=n.mul(P,P),V=n.mul(A,A),D=n.mul(S,S),j=n.mul(P,A);return j=n.add(j,j),_=n.mul(P,S),_=n.add(_,_),N=n.mul(x,_),$=n.mul(B,D),$=n.add(N,$),N=n.sub(V,$),$=n.add(V,$),$=n.mul(N,$),N=n.mul(j,N),_=n.mul(B,_),D=n.mul(x,D),j=n.sub(R,D),j=n.mul(x,j),j=n.add(j,_),_=n.add(R,R),R=n.add(_,R),R=n.add(R,D),R=n.mul(R,j),$=n.add($,R),D=n.mul(A,S),D=n.add(D,D),R=n.mul(D,j),N=n.sub(N,R),_=n.mul(D,V),_=n.add(_,_),_=n.add(_,_),new m(N,$,_)}add(x){d(x);const{px:v,py:B,pz:P}=this,{px:A,py:S,pz:N}=x;let $=n.ZERO,_=n.ZERO,R=n.ZERO;const V=t.a,D=n.mul(t.b,Fo);let j=n.mul(v,A),Z=n.mul(B,S),F=n.mul(P,N),O=n.add(v,B),M=n.add(A,S);O=n.mul(O,M),M=n.add(j,Z),O=n.sub(O,M),M=n.add(v,P);let L=n.add(A,N);return M=n.mul(M,L),L=n.add(j,F),M=n.sub(M,L),L=n.add(B,P),$=n.add(S,N),L=n.mul(L,$),$=n.add(Z,F),L=n.sub(L,$),R=n.mul(V,M),$=n.mul(D,F),R=n.add($,R),$=n.sub(Z,R),R=n.add(Z,R),_=n.mul($,R),Z=n.add(j,j),Z=n.add(Z,j),F=n.mul(V,F),M=n.mul(D,M),Z=n.add(Z,F),F=n.sub(j,F),F=n.mul(V,F),M=n.add(M,F),j=n.mul(Z,M),_=n.add(_,j),j=n.mul(L,M),$=n.mul(O,$),$=n.sub($,j),j=n.mul(O,Z),R=n.mul(L,R),R=n.add(R,j),new m($,_,R)}subtract(x){return this.add(x.negate())}is0(){return this.equals(m.ZERO)}wNAF(x){return w.wNAFCached(this,x,m.normalizeZ)}multiplyUnsafe(x){pt("scalar",x,Ge,t.n);const v=m.ZERO;if(x===Ge)return v;if(x===ae)return this;const{endo:B}=t;if(!B)return w.unsafeLadder(this,x);let{k1neg:P,k1:A,k2neg:S,k2:N}=B.splitScalar(x),$=v,_=v,R=this;for(;A>Ge||N>Ge;)A&ae&&($=$.add(R)),N&ae&&(_=_.add(R)),R=R.double(),A>>=ae,N>>=ae;return P&&($=$.negate()),S&&(_=_.negate()),_=new m(n.mul(_.px,B.beta),_.py,_.pz),$.add(_)}multiply(x){const{endo:v,n:B}=t;pt("scalar",x,ae,B);let P,A;if(v){const{k1neg:S,k1:N,k2neg:$,k2:_}=v.splitScalar(x);let{p:R,f:V}=this.wNAF(N),{p:D,f:j}=this.wNAF(_);R=w.constTimeNegate(S,R),D=w.constTimeNegate($,D),D=new m(n.mul(D.px,v.beta),D.py,D.pz),P=R.add(D),A=V.add(j)}else{const{p:S,f:N}=this.wNAF(x);P=S,A=N}return m.normalizeZ([P,A])[0]}multiplyAndAddUnsafe(x,v,B){const P=m.BASE,A=(N,$)=>$===Ge||$===ae||!N.equals(P)?N.multiplyUnsafe($):N.multiply($),S=A(this,v).add(A(x,B));return S.is0()?void 0:S}toAffine(x){return f(this,x)}isTorsionFree(){const{h:x,isTorsionFree:v}=t;if(x===ae)return!0;if(v)return v(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:v}=t;return x===ae?this:v?v(m,this):this.multiplyUnsafe(t.h)}toRawBytes(x=!0){return Ft("isCompressed",x),this.assertValidity(),s(m,this,x)}toHex(x=!0){return Ft("isCompressed",x),Mt(this.toRawBytes(x))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,w=S0(m,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:c}}function R0(e){const t=_a(e);return Tn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function _0(e){const t=R0(e),{Fp:n,n:r}=t,s=n.BYTES+1,i=2*n.BYTES+1;function o(F){return he(F,r)}function c(F){return ss(F,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:p}=N0({...t,toBytes(F,O,M){const L=O.toAffine(),H=n.toBytes(L.x),Y=yn;return Ft("isCompressed",M),M?Y(Uint8Array.from([O.hasEvenY()?2:3]),H):Y(Uint8Array.from([4]),H,n.toBytes(L.y))},fromBytes(F){const O=F.length,M=F[0],L=F.subarray(1);if(O===s&&(M===2||M===3)){const H=ft(L);if(!fr(H,ae,n.ORDER))throw new Error("Point is not on curve");const Y=f(H);let q;try{q=n.sqrt(Y)}catch(pe){const Ee=pe instanceof Error?": "+pe.message:"";throw new Error("Point is not on curve"+Ee)}const K=(q&ae)===ae;return(M&1)===1!==K&&(q=n.neg(q)),{x:H,y:q}}else if(O===i&&M===4){const H=n.fromBytes(L.subarray(0,n.BYTES)),Y=n.fromBytes(L.subarray(n.BYTES,2*n.BYTES));return{x:H,y:Y}}else throw new Error(`Point of length ${O} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),m=F=>Mt(zt(F,t.nByteLength));function b(F){const O=r>>ae;return F>O}function w(F){return b(F)?o(-F):F}const g=(F,O,M)=>ft(F.slice(O,M));class x{constructor(O,M,L){this.r=O,this.s=M,this.recovery=L,this.assertValidity()}static fromCompact(O){const M=t.nByteLength;return O=Ie("compactSignature",O,M*2),new x(g(O,0,M),g(O,M,2*M))}static fromDER(O){const{r:M,s:L}=je.toSig(Ie("DER",O));return new x(M,L)}assertValidity(){pt("r",this.r,ae,r),pt("s",this.s,ae,r)}addRecoveryBit(O){return new x(this.r,this.s,O)}recoverPublicKey(O){const{r:M,s:L,recovery:H}=this,Y=N(Ie("msgHash",O));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const q=H===2||H===3?M+t.n:M;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=H&1?"03":"02",fe=l.fromHex(K+m(q)),pe=c(q),Ee=o(-Y*pe),Xe=o(L*pe),Be=l.BASE.multiplyAndAddUnsafe(fe,Ee,Xe);if(!Be)throw new Error("point at infinify");return Be.assertValidity(),Be}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Ot(this.toDERHex())}toDERHex(){return je.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ot(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const v={isValidPrivateKey(F){try{return d(F),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const F=Ra(t.n);return I0(t.randomBytes(F),t.n)},precompute(F=8,O=l.BASE){return O._setWindowSize(F),O.multiply(BigInt(3)),O}};function B(F,O=!0){return l.fromPrivateKey(F).toRawBytes(O)}function P(F){const O=bt(F),M=typeof F=="string",L=(O||M)&&F.length;return O?L===s||L===i:M?L===2*s||L===2*i:F instanceof l}function A(F,O,M=!0){if(P(F))throw new Error("first arg must be private key");if(!P(O))throw new Error("second arg must be public key");return l.fromHex(O).multiply(d(F)).toRawBytes(M)}const S=t.bits2int||function(F){const O=ft(F),M=F.length*8-t.nBitLength;return M>0?O>>BigInt(M):O},N=t.bits2int_modN||function(F){return o(S(F))},$=Ws(t.nBitLength);function _(F){return pt(`num < 2^${t.nBitLength}`,F,Ge,$),zt(F,t.nByteLength)}function R(F,O,M=V){if(["recovered","canonical"].some(Pe=>Pe in M))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:H}=t;let{lowS:Y,prehash:q,extraEntropy:K}=M;Y==null&&(Y=!0),F=Ie("msgHash",F),_o(M),q&&(F=Ie("prehashed msgHash",L(F)));const fe=N(F),pe=d(O),Ee=[_(pe),_(fe)];if(K!=null&&K!==!1){const Pe=K===!0?H(n.BYTES):K;Ee.push(Ie("extraEntropy",Pe))}const Xe=yn(...Ee),Be=fe;function Ne(Pe){const ze=S(Pe);if(!p(ze))return;const Cn=c(ze),Le=l.BASE.multiply(ze).toAffine(),ie=o(Le.x);if(ie===Ge)return;const ge=o(Cn*o(Be+ie*pe));if(ge===Ge)return;let Nn=(Le.x===ie?0:2)|Number(Le.y&ae),Rn=ge;return Y&&b(ge)&&(Rn=w(ge),Nn^=1),new x(ie,Rn,Nn)}return{seed:Xe,k2sig:Ne}}const V={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function j(F,O,M=V){const{seed:L,k2sig:H}=R(F,O,M),Y=t;return ka(Y.hash.outputLen,Y.nByteLength,Y.hmac)(L,H)}l.BASE._setWindowSize(8);function Z(F,O,M,L=D){var Le;const H=F;if(O=Ie("msgHash",O),M=Ie("publicKey",M),"strict"in L)throw new Error("options.strict was renamed to lowS");_o(L);const{lowS:Y,prehash:q}=L;let K,fe;try{if(typeof H=="string"||bt(H))try{K=x.fromDER(H)}catch(ie){if(!(ie instanceof je.Err))throw ie;K=x.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:ie,s:ge}=H;K=new x(ie,ge)}else throw new Error("PARSE");fe=l.fromHex(M)}catch(ie){if(ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Y&&K.hasHighS())return!1;q&&(O=t.hash(O));const{r:pe,s:Ee}=K,Xe=N(O),Be=c(Ee),Ne=o(Xe*Be),Pe=o(pe*Be),ze=(Le=l.BASE.multiplyAndAddUnsafe(fe,Ne,Pe))==null?void 0:Le.toAffine();return ze?o(ze.x)===pe:!1}return{CURVE:t,getPublicKey:B,getSharedSecret:A,sign:j,verify:Z,ProjectivePoint:l,Signature:x,utils:v}}function F0(e){return{hash:e,hmac:(t,...n)=>Sa(e,t,Du(...n)),randomBytes:ju}}function M0(e,t){const n=r=>_0({...e,...F0(r)});return Object.freeze({...n(t),create:n})}const Fa=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Mo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),O0=BigInt(1),os=BigInt(2),Oo=(e,t)=>(e+t/os)/t;function z0(e){const t=Fa,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),l=BigInt(88),d=e*e*e%t,f=d*d*e%t,p=we(f,n,t)*f%t,m=we(p,n,t)*f%t,b=we(m,os,t)*d%t,w=we(b,s,t)*b%t,g=we(w,i,t)*w%t,x=we(g,c,t)*g%t,v=we(x,l,t)*x%t,B=we(v,c,t)*g%t,P=we(B,n,t)*f%t,A=we(P,o,t)*w%t,S=we(A,r,t)*d%t,N=we(S,os,t);if(!is.eql(is.sqr(N),e))throw new Error("Cannot find square root");return N}const is=Ca(Fa,void 0,void 0,{sqrt:z0}),pr=M0({a:BigInt(0),b:BigInt(7),Fp:is,n:Mo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Mo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-O0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),c=Oo(i*e,t),l=Oo(-r*e,t);let d=he(e-c*n-l*s,t),f=he(-c*r-l*i,t);const p=d>o,m=f>o;if(p&&(d=t-d),m&&(f=t-f),d>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:p,k1:d,k2neg:m,k2:f}}}},Vi);BigInt(0);pr.ProjectivePoint;const L0=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:pr},Symbol.toStringTag,{value:"Module"}));function U0({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new pr.Signature(X(e),X(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:me(o)}async function Zs(e,t){var p,m,b;const{address:n,factory:r,factoryData:s,hash:i,signature:o,universalSignatureVerifierAddress:c=(b=(m=(p=e.chain)==null?void 0:p.contracts)==null?void 0:m.universalSignatureVerifier)==null?void 0:b.address,...l}=t,d=Me(o)?o:typeof o=="object"&&"r"in o&&"s"in o?U0(o):oe(o),f=await(async()=>!r&&!s||Gf(d)?d:Hf({address:r,data:s,signature:d}))();try{const w=c?{to:c,data:Je({abi:Io,functionName:"isValidSig",args:[n,i,f]}),...l}:{data:Fs({abi:Io,args:[n,i,f],bytecode:Cd}),...l},{data:g}=await G(e,or,"call")(w);return Pu(g??"0x0")}catch(w){try{if(sr(rl(n),await _i({hash:i,signature:o})))return!0}catch{}if(w instanceof Ri)return!1;throw w}}async function D0(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const c=Ba(n);return Zs(e,{address:t,factory:r,factoryData:s,hash:c,signature:i,...o})}async function j0(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:c,types:l,domain:d,...f}=t,p=_f({message:o,primaryType:c,types:l,domain:d});return Zs(e,{address:n,factory:r,factoryData:s,hash:p,signature:i,...f})}function Ma(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const c=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let l;return c?(()=>{const p=de(["watchBlockNumber",e.uid,t,n,o]);return ot(p,{onBlockNumber:r,onError:s},m=>An(async()=>{var b;try{const w=await G(e,Sn,"getBlockNumber")({cacheTime:0});if(l){if(w===l)return;if(w-l>1&&n)for(let g=l+1n;g<w;g++)m.onBlockNumber(g,l),l=g}(!l||w>l)&&(m.onBlockNumber(w,l),l=w)}catch(w){(b=m.onError)==null||b.call(m,w)}},{emitOnBegin:t,interval:o}))})():(()=>{const p=de(["watchBlockNumber",e.uid,t,n]);return ot(p,{onBlockNumber:r,onError:s},m=>{let b=!0,w=()=>b=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(B=>B.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),{unsubscribe:x}=await g.subscribe({params:["newHeads"],onData(v){var P;if(!b)return;const B=X((P=v.result)==null?void 0:P.number);m.onBlockNumber(B,l),l=B},onError(v){var B;(B=m.onError)==null||B.call(m,v)}});w=x,b||w()}catch(g){s==null||s(g)}})(),()=>w()})})()}async function G0(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:i=6,retryDelay:o=({count:l})=>~~(1<<l)*200,timeout:c=18e4}){const l=de(["waitForTransactionReceipt",e.uid,n]);let d,f,p,m=!1;return new Promise((b,w)=>{c&&setTimeout(()=>w(new Ll({hash:n})),c);const g=ot(l,{onReplaced:r,resolve:b,reject:w},x=>{const v=G(e,Ma,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(B){const P=S=>{v(),S(),g()};let A=B;if(!m)try{if(p){if(t>1&&(!p.blockNumber||A-p.blockNumber+1n<t))return;P(()=>x.resolve(p));return}if(d||(m=!0,await Qr(async()=>{d=await G(e,js,"getTransaction")({hash:n}),d.blockNumber&&(A=d.blockNumber)},{delay:o,retryCount:i}),m=!1),p=await G(e,ts,"getTransactionReceipt")({hash:n}),t>1&&(!p.blockNumber||A-p.blockNumber+1n<t))return;P(()=>x.resolve(p))}catch(S){if(S instanceof Ci||S instanceof Ni){if(!d){m=!1;return}try{f=d,m=!0;const N=await Qr(()=>G(e,qe,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:R})=>R instanceof Ui});m=!1;const $=N.transactions.find(({from:R,nonce:V})=>R===f.from&&V===f.nonce);if(!$||(p=await G(e,ts,"getTransactionReceipt")({hash:$.hash}),t>1&&(!p.blockNumber||A-p.blockNumber+1n<t)))return;let _="replaced";$.to===f.to&&$.value===f.value?_="repriced":$.from===$.to&&$.value===0n&&(_="cancelled"),P(()=>{var R;(R=x.onReplaced)==null||R.call(x,{reason:_,replacedTransaction:f,transaction:$,transactionReceipt:p}),x.resolve(p)})}catch(N){P(()=>x.reject(N))}}else P(()=>x.reject(S))}}})})})}function H0(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:c,pollingInterval:l=e.pollingInterval}){const d=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),f=o??!1;let p;return d?(()=>{const w=de(["watchBlocks",e.uid,t,n,r,f,l]);return ot(w,{onBlock:s,onError:i},g=>An(async()=>{var x;try{const v=await G(e,qe,"getBlock")({blockTag:t,includeTransactions:f});if(v.number&&(p!=null&&p.number)){if(v.number===p.number)return;if(v.number-p.number>1&&n)for(let B=(p==null?void 0:p.number)+1n;B<v.number;B++){const P=await G(e,qe,"getBlock")({blockNumber:B,includeTransactions:f});g.onBlock(P,p),p=P}}(!(p!=null&&p.number)||t==="pending"&&!(v!=null&&v.number)||v.number&&v.number>p.number)&&(g.onBlock(v,p),p=v)}catch(v){(x=g.onError)==null||x.call(g,v)}},{emitOnBegin:r,interval:l}))})():(()=>{let w=!0,g=!0,x=()=>w=!1;return(async()=>{try{r&&G(e,qe,"getBlock")({blockTag:t,includeTransactions:f}).then(P=>{w&&g&&(s(P,void 0),g=!1)});const v=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(A=>A.config.type==="webSocket");return P?P.value:e.transport}return e.transport})(),{unsubscribe:B}=await v.subscribe({params:["newHeads"],onData(P){var N,$,_;if(!w)return;const S=(((_=($=(N=e.chain)==null?void 0:N.formatters)==null?void 0:$.block)==null?void 0:_.format)||As)(P.result);s(S,p),g=!1,p=S},onError(P){i==null||i(P)}});x=B,w||x()}catch(v){i==null||i(v)}})(),()=>x()})()}function q0(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:c,onLogs:l,poll:d,pollingInterval:f=e.pollingInterval,strict:p}){const m=typeof d<"u"?d:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),b=p??!1;return m?(()=>{const x=de(["watchEvent",t,n,r,e.uid,s,f,o]);return ot(x,{onLogs:l,onError:c},v=>{let B;o!==void 0&&(B=o-1n);let P,A=!1;const S=An(async()=>{var N;if(!A){try{P=await G(e,ma,"createEventFilter")({address:t,args:n,event:s,events:i,strict:b,fromBlock:o})}catch{}A=!0;return}try{let $;if(P)$=await G(e,ir,"getFilterChanges")({filter:P});else{const _=await G(e,Sn,"getBlockNumber")({});B&&B!==_?$=await G(e,_s,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:B+1n,toBlock:_}):$=[],B=_}if($.length===0)return;if(r)v.onLogs($);else for(const _ of $)v.onLogs([_])}catch($){P&&$ instanceof mt&&(A=!1),(N=v.onError)==null||N.call(v,$)}},{emitOnBegin:!0,interval:f});return async()=>{P&&await G(e,ar,"uninstallFilter")({filter:P}),S()}})})():(()=>{let x=!0,v=()=>x=!1;return(async()=>{try{const B=(()=>{if(e.transport.type==="fallback"){const N=e.transport.transports.find($=>$.config.type==="webSocket");return N?N.value:e.transport}return e.transport})(),P=i??(s?[s]:void 0);let A=[];P&&(A=[P.flatMap($=>xn({abi:[$],eventName:$.name,args:n}))],s&&(A=A[0]));const{unsubscribe:S}=await B.subscribe({params:["logs",{address:t,topics:A}],onData(N){var _;if(!x)return;const $=N.result;try{const{eventName:R,args:V}=Ns({abi:P??[],data:$.data,topics:$.topics,strict:b}),D=Ke($,{args:V,eventName:R});l([D])}catch(R){let V,D;if(R instanceof Yt||R instanceof Yn){if(p)return;V=R.abiItem.name,D=(_=R.abiItem.inputs)==null?void 0:_.some(Z=>!("name"in Z&&Z.name))}const j=Ke($,{args:D?[]:{},eventName:V});l([j])}},onError(N){c==null||c(N)}});v=S,x||v()}catch(B){c==null||c(B)}})(),()=>v()})()}function V0(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const d=de(["watchPendingTransactions",e.uid,t,i]);return ot(d,{onTransactions:r,onError:n},f=>{let p;const m=An(async()=>{var b;try{if(!p)try{p=await G(e,ya,"createPendingTransactionFilter")({});return}catch(g){throw m(),g}const w=await G(e,ir,"getFilterChanges")({filter:p});if(w.length===0)return;if(t)f.onTransactions(w);else for(const g of w)f.onTransactions([g])}catch(w){(b=f.onError)==null||b.call(f,w)}},{emitOnBegin:!0,interval:i});return async()=>{p&&await G(e,ar,"uninstallFilter")({filter:p}),m()}})})():(()=>{let d=!0,f=()=>d=!1;return(async()=>{try{const{unsubscribe:p}=await e.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!d)return;const b=m.result;r([b])},onError(m){n==null||n(m)}});f=p,d||f()}catch(p){n==null||n(p)}})(),()=>f()})()}function W0(e){var p,m,b;const{scheme:t,statement:n,...r}=((p=e.match(Z0))==null?void 0:p.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:c,requestId:l,...d}=((m=e.match(K0))==null?void 0:m.groups)??{},f=(b=e.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...d,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...l?{requestId:l}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Z0=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,K0=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Y0(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||t&&!sr(r.address,t))return!1}catch{return!1}return!0}async function J0(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:c,time:l=new Date,...d}=t,f=W0(s);if(!f.address||!Y0({address:n,domain:r,message:f,nonce:i,scheme:o,time:l}))return!1;const m=Ba(s);return Zs(e,{address:f.address,hash:m,signature:c,...d})}function X0(e){return{call:t=>or(e,t),createBlockFilter:()=>Pf(e),createContractEventFilter:t=>Ai(e,t),createEventFilter:t=>ma(e,t),createPendingTransactionFilter:()=>ya(e),estimateContractGas:t=>Pd(e,t),estimateGas:t=>Cs(e,t),getBalance:t=>ra(e,t),getBlobBaseFee:()=>If(e),getBlock:t=>qe(e,t),getBlockNumber:t=>Sn(e,t),getBlockTransactionCount:t=>Af(e,t),getBytecode:t=>$o(e,t),getChainId:()=>ta(e),getCode:t=>$o(e,t),getContractEvents:t=>sa(e,t),getEip712Domain:t=>Zd(e,t),getEnsAddress:t=>cf(e,t),getEnsAvatar:t=>vf(e,t),getEnsName:t=>Ef(e,t),getEnsResolver:t=>Bf(e,t),getEnsText:t=>ha(e,t),getFeeHistory:t=>$f(e,t),estimateFeesPerGas:t=>dd(e,t),getFilterChanges:t=>ir(e,t),getFilterLogs:t=>kf(e,t),getGasPrice:()=>Ss(e),getLogs:t=>_s(e,t),getProof:t=>r0(e,t),estimateMaxPriorityFeePerGas:t=>ld(e,t),getStorageAt:t=>s0(e,t),getTransaction:t=>js(e,t),getTransactionConfirmations:t=>o0(e,t),getTransactionCount:t=>qi(e,t),getTransactionReceipt:t=>ts(e,t),multicall:t=>i0(e,t),prepareTransactionRequest:t=>na(e,t),readContract:t=>Ye(e,t),sendRawTransaction:t=>Vd(e,t),simulateContract:t=>zd(e,t),verifyMessage:t=>D0(e,t),verifySiweMessage:t=>J0(e,t),verifyTypedData:t=>j0(e,t),uninstallFilter:t=>ar(e,t),waitForTransactionReceipt:t=>G0(e,t),watchBlocks:t=>H0(e,t),watchBlockNumber:t=>Ma(e,t),watchContractEvent:t=>qd(e,t),watchEvent:t=>q0(e,t),watchPendingTransactions:t=>V0(e,t)}}function Q0(e){const{key:t="public",name:n="Public Client"}=e;return Yd({...e,key:t,name:n,type:"publicClient"}).extend(X0)}function ep(e,t={}){const{keepAlive:n,key:r="webSocket",name:s="WebSocket JSON-RPC",reconnect:i,retryDelay:o}=t;return({chain:c,retryCount:l,timeout:d})=>{var b;const f=t.retryCount??l,p=d??t.timeout??1e4,m=e||((b=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:b[0]);if(!m)throw new Os;return cr({key:r,name:s,async request({method:w,params:g}){const x={method:w,params:g},v=await Dn(m,{keepAlive:n,reconnect:i}),{error:B,result:P}=await v.requestAsync({body:x,timeout:p});if(B)throw new tr({body:x,error:B,url:m});return P},retryCount:f,retryDelay:o,timeout:p,type:"webSocket"},{getSocket(){return Rf(m)},getRpcClient(){return Dn(m)},async subscribe({params:w,onData:g,onError:x}){const v=await Dn(m),{result:B}=await new Promise((P,A)=>v.request({body:{method:"eth_subscribe",params:w},onError(S){A(S),x==null||x(S)},onResponse(S){if(S.error){A(S.error),x==null||x(S.error);return}if(typeof S.id=="number"){P(S);return}S.method==="eth_subscription"&&g(S.params)}}));return{subscriptionId:B,async unsubscribe(){return new Promise(P=>v.request({body:{method:"eth_unsubscribe",params:[B]},onResponse:P}))}}}})}}function tp(e){const{r:t,s:n}=pr.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:U(t,{size:32}),s:U(n,{size:32}),v:s,yParity:i}:{r:U(t,{size:32}),s:U(n,{size:32}),yParity:i}}var np={oneInchDevPortalHost:"https://oyster-app-gc4jn.ondigitalocean.app",walletConnectProjectId:"2dd59e55b1b7bbfb98ddf9266f813b3b",baseHref:"",infuraApiKey:"",appVersion:"1.0.0-dev.50"},rp={oneInchDevPortalHost:"https://api.1inch.dev"};function sp(e){return np[e]??rp[e]}const Ks=50000n,zo=od*32n,Oa={block:Gi({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var i;if(typeof r=="string")return r;const s=(i=Oa.transaction)==null?void 0:i.format(r);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:e.l1BatchNumber?X(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?X(e.l1BatchTimestamp):null,transactions:t}}}),transaction:ji({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?X(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?X(e.l1BatchTxIndex):null}}}),transactionReceipt:Ea({format(e){return{l1BatchNumber:e.l1BatchNumber?X(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?X(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...Ke(t),l1BatchNumber:t.l1BatchNumber?X(t.l1BatchNumber):null,transactionLogIndex:$e(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:X(t.blockHash),blockHash:t.blockHash,l1BatchNumber:X(t.l1BatchNumber),transactionIndex:X(t.transactionIndex),shardId:X(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:X(t.logIndex)}))}}}),transactionRequest:nd({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:z(e.gasPerPubdata)}:{gasPerPubdata:z(Ks)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(me(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(me(t)))}:{},...e.customSignature?{customSignature:Array.from(me(e.customSignature))}:{}},type:"0x71"}:{}}})};class op extends C{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function za(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function La(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:i}=e;if(!za(e))throw new op;if(!t||t<=0)throw new In({chainId:t});if(n&&!se(n))throw new le({address:n});if(r&&!se(r))throw new le({address:r});if(s&&!se(s))throw new le({address:s});if(s&&!i)throw new C("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&i)throw new C("`paymaster` must be provided when `paymasterInput` is defined")}function ip(e,t){return za(e)?cp(e):Ia(e,t)}const ap={transaction:ip};function cp(e){const{chainId:t,gas:n,nonce:r,to:s,from:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,customSignature:d,factoryDeps:f,paymaster:p,paymasterInput:m,gasPerPubdata:b,data:w}=e;La(e);const g=[r?z(r):"0x",l?z(l):"0x",c?z(c):"0x",n?z(n):"0x",s??"0x",o?z(o):"0x",w??"0x0",z(t),z(""),z(""),z(t),i??"0x",z(b||Ks),f??[],d??"0x",p&&m?[p,m]:[]];return Te(["0x71",Ze(g)])}class up extends C{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class lp extends C{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class dp extends C{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function fp(e){const t=Fe(e);if(t.length%32!==0)throw new dp({givenLength:t.length});if(t.length>zo)throw new up({givenLength:t.length,maxBytecodeSize:zo});const n=Wi(t),r=Fe(n),s=t.length/32;if(s%2===0)throw new lp({givenLengthInWords:s});const i=Fe(s),o=gt(i,{size:2}),c=new Uint8Array([1,0]);return r.set(c,0),r.set(o,2),r}const pp=e=>{La(e);const t=hp(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function hp(e){const{gas:t,nonce:n,to:r,from:s,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,factoryDeps:l,paymaster:d,paymasterInput:f,gasPerPubdata:p,data:m}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:p??Ks,maxFeePerGas:o??0n,maxPriorityFeePerGas:c??0n,paymaster:d?BigInt(d):0n,nonce:n?BigInt(n):0n,value:i??0n,data:m||"0x0",factoryDeps:(l==null?void 0:l.map(b=>z(fp(b))))??[],paymasterInput:f||"0x"}}const mp={formatters:Oa,serializers:ap,custom:{getEip712Domain:pp}},yp={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},bp={block:Gi({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=rr(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?X(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:ji({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?X(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Ea({format(e){return{l1GasPrice:e.l1GasPrice?X(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?X(e.l1GasUsed):null,l1Fee:e.l1Fee?X(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function gp(e,t){return vp(e)?xp(e):Ia(e,t)}const wp={transaction:gp};function xp(e){Ep(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:c,value:l}=e,d=[t,r,c??"0x",o?z(o):"0x",l?z(l):"0x",s?z(s):"0x",i?"0x1":"0x",n??"0x"];return Te(["0x7e",Ze(d)])}function vp(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function Ep(e){const{from:t,to:n}=e;if(t&&!se(t))throw new le({address:t});if(n&&!se(n))throw new le({address:n})}const Lo={contracts:yp,formatters:bp,serializers:wp},Bp=Ce({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Pp=Ce({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),Ip=Ce({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Ap=Ce({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Sp=Ce({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),$p=Ce({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),kp=Ce({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),Tp=Ce({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Vt=1,Cp=Ce({...Lo,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Lo.contracts,disputeGameFactory:{[Vt]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Vt]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Vt]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Vt]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Vt}),Np=Ce({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),Rp=Ce({...mp,id:324,name:"ZKsync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://explorer.zksync.io/",apiUrl:"https://block-explorer-api.mainnet.zksync.io/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:45659388}}});var _p=Object.create,Ua=Object.defineProperty,Fp=Object.getOwnPropertyDescriptor,Ys=Object.getOwnPropertyNames,Mp=Object.getPrototypeOf,Op=Object.prototype.hasOwnProperty,jt=(e,t)=>function(){return e&&(t=(0,e[Ys(e)[0]])(e=0)),t},Xh=(e,t)=>function(){return t||(0,e[Ys(e)[0]])((t={exports:{}}).exports,t),t.exports},zp=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ys(t))!Op.call(e,s)&&s!==n&&Ua(e,s,{get:()=>t[s],enumerable:!(r=Fp(t,s))||r.enumerable});return e},Qh=(e,t,n)=>(n=e!=null?_p(Mp(e)):{},zp(Ua(n,"default",{value:e,enumerable:!0}),e)),vt=jt({"<define:__environment__>"(){}}),Et=jt({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.24.0/node_modules/esbuild-plugin-polyfill-node/polyfills/__dirname.js"(){}});function Lp(){if(as)return St;as=!0,St.byteLength=c,St.toByteArray=d,St.fromByteArray=m;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)e[s]=r[s],t[r.charCodeAt(s)]=s;t[45]=62,t[95]=63;function o(b){var w=b.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=b.indexOf("=");g===-1&&(g=w);var x=g===w?0:4-g%4;return[g,x]}function c(b){var w=o(b),g=w[0],x=w[1];return(g+x)*3/4-x}function l(b,w,g){return(w+g)*3/4-g}function d(b){var w,g=o(b),x=g[0],v=g[1],B=new n(l(b,x,v)),P=0,A=v>0?x-4:x,S;for(S=0;S<A;S+=4)w=t[b.charCodeAt(S)]<<18|t[b.charCodeAt(S+1)]<<12|t[b.charCodeAt(S+2)]<<6|t[b.charCodeAt(S+3)],B[P++]=w>>16&255,B[P++]=w>>8&255,B[P++]=w&255;return v===2&&(w=t[b.charCodeAt(S)]<<2|t[b.charCodeAt(S+1)]>>4,B[P++]=w&255),v===1&&(w=t[b.charCodeAt(S)]<<10|t[b.charCodeAt(S+1)]<<4|t[b.charCodeAt(S+2)]>>2,B[P++]=w>>8&255,B[P++]=w&255),B}function f(b){return e[b>>18&63]+e[b>>12&63]+e[b>>6&63]+e[b&63]}function p(b,w,g){for(var x,v=[],B=w;B<g;B+=3)x=(b[B]<<16&16711680)+(b[B+1]<<8&65280)+(b[B+2]&255),v.push(f(x));return v.join("")}function m(b){for(var w,g=b.length,x=g%3,v=[],B=16383,P=0,A=g-x;P<A;P+=B)v.push(p(b,P,P+B>A?A:P+B));return x===1?(w=b[g-1],v.push(e[w>>2]+e[w<<4&63]+"==")):x===2&&(w=(b[g-2]<<8)+b[g-1],v.push(e[w>>10]+e[w>>4&63]+e[w<<2&63]+"=")),v.join("")}return St}function Up(){return cs||(cs=!0,Zt.read=function(e,t,n,r,s){var i,o,c=s*8-r-1,l=(1<<c)-1,d=l>>1,f=-7,p=n?s-1:0,m=n?-1:1,b=e[t+p];for(p+=m,i=b&(1<<-f)-1,b>>=-f,f+=c;f>0;i=i*256+e[t+p],p+=m,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=r;f>0;o=o*256+e[t+p],p+=m,f-=8);if(i===0)i=1-d;else{if(i===l)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-d}return(b?-1:1)*o*Math.pow(2,i-r)},Zt.write=function(e,t,n,r,s,i){var o,c,l,d=i*8-s-1,f=(1<<d)-1,p=f>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=r?0:i-1,w=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+p>=1?t+=m/l:t+=m*Math.pow(2,1-p),t*l>=2&&(o++,l/=2),o+p>=f?(c=0,o=f):o+p>=1?(c=(t*l-1)*Math.pow(2,s),o=o+p):(c=t*Math.pow(2,p-1)*Math.pow(2,s),o=0));s>=8;e[n+b]=c&255,b+=w,c/=256,s-=8);for(o=o<<s|c,d+=s;d>0;e[n+b]=o&255,b+=w,o/=256,d-=8);e[n+b-w]|=g*128}),Zt}function Dp(){if(us)return rt;us=!0;const e=Lp(),t=Up(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;rt.Buffer=o,rt.SlowBuffer=v,rt.INSPECT_MAX_BYTES=50;const r=2147483647;rt.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const h=new Uint8Array(1),a={foo:function(){return 42}};return Object.setPrototypeOf(a,Uint8Array.prototype),Object.setPrototypeOf(h,a),h.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(h){if(h>r)throw new RangeError('The value "'+h+'" is invalid for option "size"');const a=new Uint8Array(h);return Object.setPrototypeOf(a,o.prototype),a}function o(h,a,u){if(typeof h=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(h)}return c(h,a,u)}o.poolSize=8192;function c(h,a,u){if(typeof h=="string")return p(h,a);if(ArrayBuffer.isView(h))return b(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(Re(h,ArrayBuffer)||h&&Re(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Re(h,SharedArrayBuffer)||h&&Re(h.buffer,SharedArrayBuffer)))return w(h,a,u);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=h.valueOf&&h.valueOf();if(y!=null&&y!==h)return o.from(y,a,u);const E=g(h);if(E)return E;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return o.from(h[Symbol.toPrimitive]("string"),a,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}o.from=function(h,a,u){return c(h,a,u)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function d(h,a,u){return l(h),h<=0?i(h):a!==void 0?typeof u=="string"?i(h).fill(a,u):i(h).fill(a):i(h)}o.alloc=function(h,a,u){return d(h,a,u)};function f(h){return l(h),i(h<0?0:x(h)|0)}o.allocUnsafe=function(h){return f(h)},o.allocUnsafeSlow=function(h){return f(h)};function p(h,a){if((typeof a!="string"||a==="")&&(a="utf8"),!o.isEncoding(a))throw new TypeError("Unknown encoding: "+a);const u=B(h,a)|0;let y=i(u);const E=y.write(h,a);return E!==u&&(y=y.slice(0,E)),y}function m(h){const a=h.length<0?0:x(h.length)|0,u=i(a);for(let y=0;y<a;y+=1)u[y]=h[y]&255;return u}function b(h){if(Re(h,Uint8Array)){const a=new Uint8Array(h);return w(a.buffer,a.byteOffset,a.byteLength)}return m(h)}function w(h,a,u){if(a<0||h.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<a+(u||0))throw new RangeError('"length" is outside of buffer bounds');let y;return a===void 0&&u===void 0?y=new Uint8Array(h):u===void 0?y=new Uint8Array(h,a):y=new Uint8Array(h,a,u),Object.setPrototypeOf(y,o.prototype),y}function g(h){if(o.isBuffer(h)){const a=x(h.length)|0,u=i(a);return u.length===0||h.copy(u,0,0,a),u}if(h.length!==void 0)return typeof h.length!="number"||mr(h.length)?i(0):m(h);if(h.type==="Buffer"&&Array.isArray(h.data))return m(h.data)}function x(h){if(h>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return h|0}function v(h){return+h!=h&&(h=0),o.alloc(+h)}o.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==o.prototype},o.compare=function(a,u){if(Re(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),Re(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(a)||!o.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===u)return 0;let y=a.length,E=u.length;for(let I=0,k=Math.min(y,E);I<k;++I)if(a[I]!==u[I]){y=a[I],E=u[I];break}return y<E?-1:E<y?1:0},o.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(a,u){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return o.alloc(0);let y;if(u===void 0)for(u=0,y=0;y<a.length;++y)u+=a[y].length;const E=o.allocUnsafe(u);let I=0;for(y=0;y<a.length;++y){let k=a[y];if(Re(k,Uint8Array))I+k.length>E.length?(o.isBuffer(k)||(k=o.from(k)),k.copy(E,I)):Uint8Array.prototype.set.call(E,k,I);else if(o.isBuffer(k))k.copy(E,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=k.length}return E};function B(h,a){if(o.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||Re(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);const u=h.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&u===0)return 0;let E=!1;for(;;)switch(a){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return hr(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return Xs(h).length;default:if(E)return y?-1:hr(h).length;a=(""+a).toLowerCase(),E=!0}}o.byteLength=B;function P(h,a,u){let y=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,a>>>=0,u<=a))return"";for(h||(h="utf8");;)switch(h){case"hex":return H(this,a,u);case"utf8":case"utf-8":return Z(this,a,u);case"ascii":return M(this,a,u);case"latin1":case"binary":return L(this,a,u);case"base64":return j(this,a,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,a,u);default:if(y)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),y=!0}}o.prototype._isBuffer=!0;function A(h,a,u){const y=h[a];h[a]=h[u],h[u]=y}o.prototype.swap16=function(){const a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<a;u+=2)A(this,u,u+1);return this},o.prototype.swap32=function(){const a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<a;u+=4)A(this,u,u+3),A(this,u+1,u+2);return this},o.prototype.swap64=function(){const a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<a;u+=8)A(this,u,u+7),A(this,u+1,u+6),A(this,u+2,u+5),A(this,u+3,u+4);return this},o.prototype.toString=function(){const a=this.length;return a===0?"":arguments.length===0?Z(this,0,a):P.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(a){if(!o.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:o.compare(this,a)===0},o.prototype.inspect=function(){let a="";const u=rt.INSPECT_MAX_BYTES;return a=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(a+=" ... "),"<Buffer "+a+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(a,u,y,E,I){if(Re(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),!o.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(u===void 0&&(u=0),y===void 0&&(y=a?a.length:0),E===void 0&&(E=0),I===void 0&&(I=this.length),u<0||y>a.length||E<0||I>this.length)throw new RangeError("out of range index");if(E>=I&&u>=y)return 0;if(E>=I)return-1;if(u>=y)return 1;if(u>>>=0,y>>>=0,E>>>=0,I>>>=0,this===a)return 0;let k=I-E,W=y-u;const ee=Math.min(k,W),Q=this.slice(E,I),te=a.slice(u,y);for(let J=0;J<ee;++J)if(Q[J]!==te[J]){k=Q[J],W=te[J];break}return k<W?-1:W<k?1:0};function S(h,a,u,y,E){if(h.length===0)return-1;if(typeof u=="string"?(y=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,mr(u)&&(u=E?0:h.length-1),u<0&&(u=h.length+u),u>=h.length){if(E)return-1;u=h.length-1}else if(u<0)if(E)u=0;else return-1;if(typeof a=="string"&&(a=o.from(a,y)),o.isBuffer(a))return a.length===0?-1:N(h,a,u,y,E);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(h,a,u):Uint8Array.prototype.lastIndexOf.call(h,a,u):N(h,[a],u,y,E);throw new TypeError("val must be string, number or Buffer")}function N(h,a,u,y,E){let I=1,k=h.length,W=a.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(h.length<2||a.length<2)return-1;I=2,k/=2,W/=2,u/=2}function ee(te,J){return I===1?te[J]:te.readUInt16BE(J*I)}let Q;if(E){let te=-1;for(Q=u;Q<k;Q++)if(ee(h,Q)===ee(a,te===-1?0:Q-te)){if(te===-1&&(te=Q),Q-te+1===W)return te*I}else te!==-1&&(Q-=Q-te),te=-1}else for(u+W>k&&(u=k-W),Q=u;Q>=0;Q--){let te=!0;for(let J=0;J<W;J++)if(ee(h,Q+J)!==ee(a,J)){te=!1;break}if(te)return Q}return-1}o.prototype.includes=function(a,u,y){return this.indexOf(a,u,y)!==-1},o.prototype.indexOf=function(a,u,y){return S(this,a,u,y,!0)},o.prototype.lastIndexOf=function(a,u,y){return S(this,a,u,y,!1)};function $(h,a,u,y){u=Number(u)||0;const E=h.length-u;y?(y=Number(y),y>E&&(y=E)):y=E;const I=a.length;y>I/2&&(y=I/2);let k;for(k=0;k<y;++k){const W=parseInt(a.substr(k*2,2),16);if(mr(W))return k;h[u+k]=W}return k}function _(h,a,u,y){return _n(hr(a,h.length-u),h,u,y)}function R(h,a,u,y){return _n(Qa(a),h,u,y)}function V(h,a,u,y){return _n(Xs(a),h,u,y)}function D(h,a,u,y){return _n(ec(a,h.length-u),h,u,y)}o.prototype.write=function(a,u,y,E){if(u===void 0)E="utf8",y=this.length,u=0;else if(y===void 0&&typeof u=="string")E=u,y=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(y)?(y=y>>>0,E===void 0&&(E="utf8")):(E=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-u;if((y===void 0||y>I)&&(y=I),a.length>0&&(y<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");let k=!1;for(;;)switch(E){case"hex":return $(this,a,u,y);case"utf8":case"utf-8":return _(this,a,u,y);case"ascii":case"latin1":case"binary":return R(this,a,u,y);case"base64":return V(this,a,u,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,a,u,y);default:if(k)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),k=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(h,a,u){return a===0&&u===h.length?e.fromByteArray(h):e.fromByteArray(h.slice(a,u))}function Z(h,a,u){u=Math.min(h.length,u);const y=[];let E=a;for(;E<u;){const I=h[E];let k=null,W=I>239?4:I>223?3:I>191?2:1;if(E+W<=u){let ee,Q,te,J;switch(W){case 1:I<128&&(k=I);break;case 2:ee=h[E+1],(ee&192)===128&&(J=(I&31)<<6|ee&63,J>127&&(k=J));break;case 3:ee=h[E+1],Q=h[E+2],(ee&192)===128&&(Q&192)===128&&(J=(I&15)<<12|(ee&63)<<6|Q&63,J>2047&&(J<55296||J>57343)&&(k=J));break;case 4:ee=h[E+1],Q=h[E+2],te=h[E+3],(ee&192)===128&&(Q&192)===128&&(te&192)===128&&(J=(I&15)<<18|(ee&63)<<12|(Q&63)<<6|te&63,J>65535&&J<1114112&&(k=J))}}k===null?(k=65533,W=1):k>65535&&(k-=65536,y.push(k>>>10&1023|55296),k=56320|k&1023),y.push(k),E+=W}return O(y)}const F=4096;function O(h){const a=h.length;if(a<=F)return String.fromCharCode.apply(String,h);let u="",y=0;for(;y<a;)u+=String.fromCharCode.apply(String,h.slice(y,y+=F));return u}function M(h,a,u){let y="";u=Math.min(h.length,u);for(let E=a;E<u;++E)y+=String.fromCharCode(h[E]&127);return y}function L(h,a,u){let y="";u=Math.min(h.length,u);for(let E=a;E<u;++E)y+=String.fromCharCode(h[E]);return y}function H(h,a,u){const y=h.length;(!a||a<0)&&(a=0),(!u||u<0||u>y)&&(u=y);let E="";for(let I=a;I<u;++I)E+=tc[h[I]];return E}function Y(h,a,u){const y=h.slice(a,u);let E="";for(let I=0;I<y.length-1;I+=2)E+=String.fromCharCode(y[I]+y[I+1]*256);return E}o.prototype.slice=function(a,u){const y=this.length;a=~~a,u=u===void 0?y:~~u,a<0?(a+=y,a<0&&(a=0)):a>y&&(a=y),u<0?(u+=y,u<0&&(u=0)):u>y&&(u=y),u<a&&(u=a);const E=this.subarray(a,u);return Object.setPrototypeOf(E,o.prototype),E};function q(h,a,u){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+a>u)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(a,u,y){a=a>>>0,u=u>>>0,y||q(a,u,this.length);let E=this[a],I=1,k=0;for(;++k<u&&(I*=256);)E+=this[a+k]*I;return E},o.prototype.readUintBE=o.prototype.readUIntBE=function(a,u,y){a=a>>>0,u=u>>>0,y||q(a,u,this.length);let E=this[a+--u],I=1;for(;u>0&&(I*=256);)E+=this[a+--u]*I;return E},o.prototype.readUint8=o.prototype.readUInt8=function(a,u){return a=a>>>0,u||q(a,1,this.length),this[a]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(a,u){return a=a>>>0,u||q(a,2,this.length),this[a]|this[a+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(a,u){return a=a>>>0,u||q(a,2,this.length),this[a]<<8|this[a+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(a,u){return a=a>>>0,u||q(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(a,u){return a=a>>>0,u||q(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},o.prototype.readBigUInt64LE=Qe(function(a){a=a>>>0,ie(a,"offset");const u=this[a],y=this[a+7];(u===void 0||y===void 0)&&ge(a,this.length-8);const E=u+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24,I=this[++a]+this[++a]*2**8+this[++a]*2**16+y*2**24;return BigInt(E)+(BigInt(I)<<BigInt(32))}),o.prototype.readBigUInt64BE=Qe(function(a){a=a>>>0,ie(a,"offset");const u=this[a],y=this[a+7];(u===void 0||y===void 0)&&ge(a,this.length-8);const E=u*2**24+this[++a]*2**16+this[++a]*2**8+this[++a],I=this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+y;return(BigInt(E)<<BigInt(32))+BigInt(I)}),o.prototype.readIntLE=function(a,u,y){a=a>>>0,u=u>>>0,y||q(a,u,this.length);let E=this[a],I=1,k=0;for(;++k<u&&(I*=256);)E+=this[a+k]*I;return I*=128,E>=I&&(E-=Math.pow(2,8*u)),E},o.prototype.readIntBE=function(a,u,y){a=a>>>0,u=u>>>0,y||q(a,u,this.length);let E=u,I=1,k=this[a+--E];for(;E>0&&(I*=256);)k+=this[a+--E]*I;return I*=128,k>=I&&(k-=Math.pow(2,8*u)),k},o.prototype.readInt8=function(a,u){return a=a>>>0,u||q(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},o.prototype.readInt16LE=function(a,u){a=a>>>0,u||q(a,2,this.length);const y=this[a]|this[a+1]<<8;return y&32768?y|4294901760:y},o.prototype.readInt16BE=function(a,u){a=a>>>0,u||q(a,2,this.length);const y=this[a+1]|this[a]<<8;return y&32768?y|4294901760:y},o.prototype.readInt32LE=function(a,u){return a=a>>>0,u||q(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},o.prototype.readInt32BE=function(a,u){return a=a>>>0,u||q(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},o.prototype.readBigInt64LE=Qe(function(a){a=a>>>0,ie(a,"offset");const u=this[a],y=this[a+7];(u===void 0||y===void 0)&&ge(a,this.length-8);const E=this[a+4]+this[a+5]*2**8+this[a+6]*2**16+(y<<24);return(BigInt(E)<<BigInt(32))+BigInt(u+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24)}),o.prototype.readBigInt64BE=Qe(function(a){a=a>>>0,ie(a,"offset");const u=this[a],y=this[a+7];(u===void 0||y===void 0)&&ge(a,this.length-8);const E=(u<<24)+this[++a]*2**16+this[++a]*2**8+this[++a];return(BigInt(E)<<BigInt(32))+BigInt(this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+y)}),o.prototype.readFloatLE=function(a,u){return a=a>>>0,u||q(a,4,this.length),t.read(this,a,!0,23,4)},o.prototype.readFloatBE=function(a,u){return a=a>>>0,u||q(a,4,this.length),t.read(this,a,!1,23,4)},o.prototype.readDoubleLE=function(a,u){return a=a>>>0,u||q(a,8,this.length),t.read(this,a,!0,52,8)},o.prototype.readDoubleBE=function(a,u){return a=a>>>0,u||q(a,8,this.length),t.read(this,a,!1,52,8)};function K(h,a,u,y,E,I){if(!o.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>E||a<I)throw new RangeError('"value" argument is out of bounds');if(u+y>h.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(a,u,y,E){if(a=+a,u=u>>>0,y=y>>>0,!E){const W=Math.pow(2,8*y)-1;K(this,a,u,y,W,0)}let I=1,k=0;for(this[u]=a&255;++k<y&&(I*=256);)this[u+k]=a/I&255;return u+y},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(a,u,y,E){if(a=+a,u=u>>>0,y=y>>>0,!E){const W=Math.pow(2,8*y)-1;K(this,a,u,y,W,0)}let I=y-1,k=1;for(this[u+I]=a&255;--I>=0&&(k*=256);)this[u+I]=a/k&255;return u+y},o.prototype.writeUint8=o.prototype.writeUInt8=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,1,255,0),this[u]=a&255,u+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,2,65535,0),this[u]=a&255,this[u+1]=a>>>8,u+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,2,65535,0),this[u]=a>>>8,this[u+1]=a&255,u+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,4,4294967295,0),this[u+3]=a>>>24,this[u+2]=a>>>16,this[u+1]=a>>>8,this[u]=a&255,u+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,4,4294967295,0),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=a&255,u+4};function fe(h,a,u,y,E){Le(a,y,E,h,u,7);let I=Number(a&BigInt(4294967295));h[u++]=I,I=I>>8,h[u++]=I,I=I>>8,h[u++]=I,I=I>>8,h[u++]=I;let k=Number(a>>BigInt(32)&BigInt(4294967295));return h[u++]=k,k=k>>8,h[u++]=k,k=k>>8,h[u++]=k,k=k>>8,h[u++]=k,u}function pe(h,a,u,y,E){Le(a,y,E,h,u,7);let I=Number(a&BigInt(4294967295));h[u+7]=I,I=I>>8,h[u+6]=I,I=I>>8,h[u+5]=I,I=I>>8,h[u+4]=I;let k=Number(a>>BigInt(32)&BigInt(4294967295));return h[u+3]=k,k=k>>8,h[u+2]=k,k=k>>8,h[u+1]=k,k=k>>8,h[u]=k,u+8}o.prototype.writeBigUInt64LE=Qe(function(a,u=0){return fe(this,a,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Qe(function(a,u=0){return pe(this,a,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(a,u,y,E){if(a=+a,u=u>>>0,!E){const ee=Math.pow(2,8*y-1);K(this,a,u,y,ee-1,-ee)}let I=0,k=1,W=0;for(this[u]=a&255;++I<y&&(k*=256);)a<0&&W===0&&this[u+I-1]!==0&&(W=1),this[u+I]=(a/k>>0)-W&255;return u+y},o.prototype.writeIntBE=function(a,u,y,E){if(a=+a,u=u>>>0,!E){const ee=Math.pow(2,8*y-1);K(this,a,u,y,ee-1,-ee)}let I=y-1,k=1,W=0;for(this[u+I]=a&255;--I>=0&&(k*=256);)a<0&&W===0&&this[u+I+1]!==0&&(W=1),this[u+I]=(a/k>>0)-W&255;return u+y},o.prototype.writeInt8=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,1,127,-128),a<0&&(a=255+a+1),this[u]=a&255,u+1},o.prototype.writeInt16LE=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,2,32767,-32768),this[u]=a&255,this[u+1]=a>>>8,u+2},o.prototype.writeInt16BE=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,2,32767,-32768),this[u]=a>>>8,this[u+1]=a&255,u+2},o.prototype.writeInt32LE=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,4,2147483647,-2147483648),this[u]=a&255,this[u+1]=a>>>8,this[u+2]=a>>>16,this[u+3]=a>>>24,u+4},o.prototype.writeInt32BE=function(a,u,y){return a=+a,u=u>>>0,y||K(this,a,u,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=a&255,u+4},o.prototype.writeBigInt64LE=Qe(function(a,u=0){return fe(this,a,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Qe(function(a,u=0){return pe(this,a,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(h,a,u,y,E,I){if(u+y>h.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Xe(h,a,u,y,E){return a=+a,u=u>>>0,E||Ee(h,a,u,4),t.write(h,a,u,y,23,4),u+4}o.prototype.writeFloatLE=function(a,u,y){return Xe(this,a,u,!0,y)},o.prototype.writeFloatBE=function(a,u,y){return Xe(this,a,u,!1,y)};function Be(h,a,u,y,E){return a=+a,u=u>>>0,E||Ee(h,a,u,8),t.write(h,a,u,y,52,8),u+8}o.prototype.writeDoubleLE=function(a,u,y){return Be(this,a,u,!0,y)},o.prototype.writeDoubleBE=function(a,u,y){return Be(this,a,u,!1,y)},o.prototype.copy=function(a,u,y,E){if(!o.isBuffer(a))throw new TypeError("argument should be a Buffer");if(y||(y=0),!E&&E!==0&&(E=this.length),u>=a.length&&(u=a.length),u||(u=0),E>0&&E<y&&(E=y),E===y||a.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),a.length-u<E-y&&(E=a.length-u+y);const I=E-y;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,y,E):Uint8Array.prototype.set.call(a,this.subarray(y,E),u),I},o.prototype.fill=function(a,u,y,E){if(typeof a=="string"){if(typeof u=="string"?(E=u,u=0,y=this.length):typeof y=="string"&&(E=y,y=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!o.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(a.length===1){const k=a.charCodeAt(0);(E==="utf8"&&k<128||E==="latin1")&&(a=k)}}else typeof a=="number"?a=a&255:typeof a=="boolean"&&(a=Number(a));if(u<0||this.length<u||this.length<y)throw new RangeError("Out of range index");if(y<=u)return this;u=u>>>0,y=y===void 0?this.length:y>>>0,a||(a=0);let I;if(typeof a=="number")for(I=u;I<y;++I)this[I]=a;else{const k=o.isBuffer(a)?a:o.from(a,E),W=k.length;if(W===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(I=0;I<y-u;++I)this[I+u]=k[I%W]}return this};const Ne={};function Pe(h,a,u){Ne[h]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:a.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(E){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:E,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}Pe("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Pe("ERR_INVALID_ARG_TYPE",function(h,a){return`The "${h}" argument must be of type number. Received type ${typeof a}`},TypeError),Pe("ERR_OUT_OF_RANGE",function(h,a,u){let y=`The value of "${h}" is out of range.`,E=u;return Number.isInteger(u)&&Math.abs(u)>2**32?E=ze(String(u)):typeof u=="bigint"&&(E=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(E=ze(E)),E+="n"),y+=` It must be ${a}. Received ${E}`,y},RangeError);function ze(h){let a="",u=h.length;const y=h[0]==="-"?1:0;for(;u>=y+4;u-=3)a=`_${h.slice(u-3,u)}${a}`;return`${h.slice(0,u)}${a}`}function Cn(h,a,u){ie(a,"offset"),(h[a]===void 0||h[a+u]===void 0)&&ge(a,h.length-(u+1))}function Le(h,a,u,y,E,I){if(h>u||h<a){const k=typeof a=="bigint"?"n":"";let W;throw a===0||a===BigInt(0)?W=`>= 0${k} and < 2${k} ** ${(I+1)*8}${k}`:W=`>= -(2${k} ** ${(I+1)*8-1}${k}) and < 2 ** ${(I+1)*8-1}${k}`,new Ne.ERR_OUT_OF_RANGE("value",W,h)}Cn(y,E,I)}function ie(h,a){if(typeof h!="number")throw new Ne.ERR_INVALID_ARG_TYPE(a,"number",h)}function ge(h,a,u){throw Math.floor(h)!==h?(ie(h,u),new Ne.ERR_OUT_OF_RANGE("offset","an integer",h)):a<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${a}`,h)}const Nn=/[^+/0-9A-Za-z-_]/g;function Rn(h){if(h=h.split("=")[0],h=h.trim().replace(Nn,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function hr(h,a){a=a||1/0;let u;const y=h.length;let E=null;const I=[];for(let k=0;k<y;++k){if(u=h.charCodeAt(k),u>55295&&u<57344){if(!E){if(u>56319){(a-=3)>-1&&I.push(239,191,189);continue}else if(k+1===y){(a-=3)>-1&&I.push(239,191,189);continue}E=u;continue}if(u<56320){(a-=3)>-1&&I.push(239,191,189),E=u;continue}u=(E-55296<<10|u-56320)+65536}else E&&(a-=3)>-1&&I.push(239,191,189);if(E=null,u<128){if((a-=1)<0)break;I.push(u)}else if(u<2048){if((a-=2)<0)break;I.push(u>>6|192,u&63|128)}else if(u<65536){if((a-=3)<0)break;I.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((a-=4)<0)break;I.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return I}function Qa(h){const a=[];for(let u=0;u<h.length;++u)a.push(h.charCodeAt(u)&255);return a}function ec(h,a){let u,y,E;const I=[];for(let k=0;k<h.length&&!((a-=2)<0);++k)u=h.charCodeAt(k),y=u>>8,E=u%256,I.push(E),I.push(y);return I}function Xs(h){return e.toByteArray(Rn(h))}function _n(h,a,u,y){let E;for(E=0;E<y&&!(E+u>=a.length||E>=h.length);++E)a[E+u]=h[E];return E}function Re(h,a){return h instanceof a||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===a.name}function mr(h){return h!==h}const tc=function(){const h="0123456789abcdef",a=new Array(256);for(let u=0;u<16;++u){const y=u*16;for(let E=0;E<16;++E)a[y+E]=h[u]+h[E]}return a}();function Qe(h){return typeof BigInt>"u"?nc:h}function nc(){throw new Error("BigInt not supported")}return rt}var St,as,Zt,cs,rt,us,nt,jp=jt({"node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/buffer.js"(){vt(),Et(),Bt(),Pt(),St={},as=!1,Zt={},cs=!1,rt={},us=!1,nt=Dp(),nt.Buffer,nt.SlowBuffer,nt.INSPECT_MAX_BYTES,nt.kMaxLength,nt.Buffer,nt.INSPECT_MAX_BYTES,nt.kMaxLength}}),Bt=jt({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.24.0/node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){jp()}}),At,Tr,Gp=jt({"node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/process.js"(){vt(),Et(),Bt(),Pt(),At={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},At.now===void 0&&(Tr=Date.now(),At.timing&&At.timing.navigationStart&&(Tr=At.timing.navigationStart),At.now=()=>Date.now()-Tr)}}),Pt=jt({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.24.0/node_modules/esbuild-plugin-polyfill-node/polyfills/process.js"(){Gp()}});vt();Et();Bt();Pt();vt();Et();Bt();Pt();var Hp=class{constructor(e,t=!1){this.ttlMs=e,this.autoClean=t,this.cache=new Map,this.enabledAutoClean()}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()})}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),null):t.value:null}has(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),!1):!0:!1}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.autoCleanTimer&&clearInterval(this.autoCleanTimer)}size(){return 0}enabledAutoClean(){this.autoClean&&(this.autoCleanTimer=setInterval(()=>{for(const e of[...this.cache.keys()])this.get(e)},this.ttlMs))}};vt();Et();Bt();Pt();var qp=class{constructor(e){this.bufferSize=e,this.cache=new Map,this.indexes=new Map,this.lastIndex=0}set(e,t){if(this.has(e))return;if(this.cache.size>=this.bufferSize){const r=Math.min(...this.indexes.keys()),s=this.indexes.get(r);this.indexes.delete(r),this.cache.delete(s);return}const n=this.lastIndex++;this.indexes.set(n,e),this.cache.set(e,t)}get(e){return this.cache.get(e)??null}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.indexes.clear(),this.lastIndex=0}size(){return this.cache.size}};vt();Et();Bt();Pt();var tm=class{constructor(e,t){this.storageKey=e,this.ttlDays=t,this.cache=new Map;const n=Qs.get(this.storageKeyAndVersion,dc);this.cache=new Map(n)}get storageKeyAndVersion(){return[this.storageKey,"v2"].join(":")}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()}),this.updatePersistence()}get(e){var t;return this.checkCacheData(e),((t=this.cache.get(e))==null?void 0:t.value)??null}has(e){return this.checkCacheData(e),this.cache.has(e)}delete(e){const t=this.cache.delete(e);return this.updatePersistence(),t}clear(){this.cache.clear(),this.updatePersistence()}size(){let e=!1;return this.cache.forEach((t,n)=>{this.checkCacheData(n,!0)&&!e&&(e=!0)}),e&&this.updatePersistence(),this.cache.size}checkCacheData(e,t){const n=this.cache.get(e);if(!n)return!1;let r=!1;return Date.now()-n.timestamp>this.ttlDays*864e5&&(this.cache.delete(e),r=!0,(t??!1)||this.updatePersistence()),r}updatePersistence(){Qs.set(this.storageKeyAndVersion,Array.from(this.cache.entries()))}};vt();Et();Bt();Pt();var Vp=1;async function Wp(e){const t=await bn(()=>import("./import-wrapper-HJ5SAZKK-adp5dKOt.js"),__vite__mapDeps([4,1,2,3])).then(r=>r.Dexie),n=new t("one-inch-long-time-async-cache_"+e);return n.version(Vp).stores({cache:["key","value","timestamp"].join(", ")}),Reflect.get(n,"cache")}var Zp=class{constructor(e,t){this.storageKey=e,this.ttlDays=t}async set(e,t){await(await this.getDexie(this.storageKey)).put({key:e.toLowerCase(),value:t,timestamp:Date.now()}),this.cleanOldRecords().catch(console.error)}async get(e){const t=e.toLowerCase(),r=await(await this.getDexie(this.storageKey)).filter(s=>Date.now()-s.timestamp<this.ttlDays*864e5&&s.key===t).first();return this.cleanOldRecords().catch(console.error),(r==null?void 0:r.value)??null}async getAll(){const t=await(await this.getDexie(this.storageKey)).filter(n=>Date.now()-n.timestamp<this.ttlDays*864e5).toArray();return this.cleanOldRecords().catch(console.error),t.map(n=>n.value)}async has(e){return await this.get(e)!==null}async delete(e){try{return await(await this.getDexie(this.storageKey)).delete(e),this.cleanOldRecords().catch(console.error),!0}catch{return!1}}async clear(){(await this.getDexie(this.storageKey)).clear()}async size(){return await this.cleanOldRecords().catch(console.error),(await this.getDexie(this.storageKey)).count()}async cleanOldRecords(){await(await this.getDexie(this.storageKey)).where("timestamp").below(Date.now()-this.ttlDays*864e5).delete()}async getDexie(e){return this.storage!==void 0?this.storage:(this.storage=await Wp(e),this.storage)}},Cr=new Map;function Kp({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const f=l();o();const p=f.map(({args:m})=>m);p.length!==0&&e(p).then(m=>{var b;s&&Array.isArray(m)&&m.sort(s);for(let w=0;w<f.length;w++){const{pendingPromise:g}=f[w];(b=g.resolve)==null||b.call(g,[m[w],m])}}).catch(m=>{var b;for(let w=0;w<f.length;w++){const{pendingPromise:g}=f[w];(b=g.reject)==null||b.call(g,m)}})},o=()=>Cr.delete(t),c=()=>l().map(({args:f})=>f),l=()=>Cr.get(t)||[],d=f=>Cr.set(t,[...l(),f]);return{flush:o,async schedule(f){const p={},m=new Promise((g,x)=>{p.resolve=g,p.reject=x});return(n==null?void 0:n([...c(),f]))&&i(),l().length>0?(d({args:f,pendingPromise:p}),m):(d({args:f,pendingPromise:p}),setTimeout(i,r),m)}}}function Yp(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:l}=t;return({chain:d,retryCount:f,timeout:p})=>{const{batchSize:m=1e3,wait:b=0}=typeof n=="object"?n:{},w=t.retryCount??f,g=p??t.timeout??1e4,x=e||(d==null?void 0:d.rpcUrls.default.http[0]);if(!x)throw new Os;const v=la(x,{fetchOptions:r,onRequest:o,onResponse:c,timeout:g});return cr({key:s,name:i,async request({method:B,params:P}){if(Uo[B])return Uo[B]();const A={method:B,params:P},{schedule:S}=Kp({id:x,wait:b,shouldSplitBatch(R){return R.length>m},fn:R=>v.request({body:R}),sort:(R,V)=>R.id-V.id}),N=async R=>n?S(R):[await v.request({body:R})],[{error:$,result:_}]=await N(A);if($)throw new tr({body:A,error:$,url:x});return _},retryCount:w,retryDelay:l,timeout:g,type:"http"},{fetchOptions:r,url:x})}}var Uo={net_listening:()=>!0},ls={wait:50,batchSize:50};function Jp(e){const t=eh[e],n=th[e],r=[...n.map(i=>ep(i,{reconnect:{attempts:5,delay:5e3}})),...t.map(i=>sf(i,{batch:ls}))],s=Xp(e);return s&&r.push(Yp(s,{batch:ls,key:"infura"})),ef(r,{retryCount:10,retryDelay:3e4,rank:{interval:6e4*5,sampleCount:t.length+n.length,timeout:500,weights:{latency:.4,stability:.7}}})}function Xp(e){const t=sp("infuraApiKey"),n=Qp[e];return!t||n===""?null:`${n}${t}`}var Qp={[T.eth]:"https://mainnet.infura.io/v3/",[T.bnb]:"",[T.matic]:"https://polygon-mainnet.infura.io/v3/",[T.op]:"https://optimism-mainnet.infura.io/v3/",[T.arbitrum]:"https://arbitrum-mainnet.infura.io/v3/",[T.gnosis]:"",[T.avalanche]:"https://avalanche-mainnet.infura.io/v3/",[T.fantom]:"",[T.aurora]:"",[T.klaytn]:"",[T.zkSyncEra]:""},eh={[T.eth]:["https://ethereum-rpc.publicnode.com","https://ethereum.publicnode.com","https://rpc.mevblocker.io","https://eth.merkle.io","https://1rpc.io/eth","https://eth-pokt.nodies.app","https://eth.meowrpc.com","https://eth.drpc.org","https://eth.llamarpc.com","https://eth-mainnet.public.blastapi.io","https://rpc.ankr.com/eth","https://cloudflare-eth.com","https://endpoints.omniatech.io/v1/eth/mainnet/public"],[T.bnb]:["https://bsc.publicnode.com","https://bsc-rpc.publicnode.com","https://endpoints.omniatech.io/v1/bsc/mainnet/public","https://bsc-pokt.nodies.app","https://bsc.meowrpc.com","https://bsc.drpc.org"],[T.matic]:["https://polygon-bor-rpc.publicnode.com","https://polygon-rpc.com","https://polygon-pokt.nodies.app","https://polygon-heimdall-rpc.publicnode.com:443","https://polygon-bor.publicnode.com","https://polygon.drpc.org","https://polygon.meowrpc.com","https://polygon.llamarpc.com"],[T.op]:["https://optimism-rpc.publicnode.com","https://optimism.llamarpc.com","https://optimism.publicnode.com","https://op-pokt.nodies.app","https://optimism.meowrpc.com","https://optimism.drpc.org","https://endpoints.omniatech.io/v1/op/mainnet/public"],[T.arbitrum]:["https://arbitrum-one.publicnode.com","https://arb-pokt.nodies.app","https://arbitrum.meowrpc.com","https://arbitrum.drpc.org"],[T.gnosis]:["https://gnosis.publicnode.com","https://gnosis-rpc.publicnode.com","https://rpc.gnosischain.com","https://gnosis.drpc.org"],[T.avalanche]:["https://avalanche-c-chain.publicnode.com","https://1rpc.io/avax/c","https://endpoints.omniatech.io/v1/avax/mainnet/public","https://avax.meowrpc.com","https://avalanche.drpc.org"],[T.fantom]:["https://fantom.publicnode.com","https://fantom-pokt.nodies.app","https://1rpc.io/ftm","https://fantom.drpc.org"],[T.aurora]:["https://mainnet.aurora.dev","https://endpoints.omniatech.io/v1/aurora/mainnet/public","https://1rpc.io/aurora","https://aurora.drpc.org"],[T.klaytn]:["https://klaytn.drpc.org","https://rpc.ankr.com/klaytn","https://klaytn.blockpi.network/v1/rpc/public"],[T.zkSyncEra]:["https://mainnet.era.zksync.io","https://zksync-era.blockpi.network/v1/rpc/public","https://zksync.meowrpc.com","https://zksync.drpc.org"]},th={[T.eth]:["wss://ethereum-rpc.publicnode.com","wss://ethereum.publicnode.com","wss://eth.drpc.org"],[T.bnb]:["wss://bsc.publicnode.com","wss://bsc-rpc.publicnode.com"],[T.matic]:["wss://polygon.drpc.org","wss://polygon-bor-rpc.publicnode.com","wss://polygon-bor.publicnode.com","wss://polygon-heimdall-rpc.publicnode.com:443/websocket"],[T.op]:["wss://optimism.publicnode.com"],[T.arbitrum]:["wss://arbitrum-one.publicnode.com"],[T.gnosis]:["wss://rpc.gnosischain.com/wss","wss://gnosis-rpc.publicnode.com","wss://gnosis.publicnode.com"],[T.avalanche]:["wss://avalanche-c-chain.publicnode.com"],[T.fantom]:["wss://gnosis.publicnode.com"],[T.aurora]:["wss://mainnet.aurora.dev"],[T.klaytn]:["wss://public-en-cypress.klaytn.net/ws"],[T.zkSyncEra]:["wss://mainnet.era.zksync.io/ws"]},nh={[T.eth]:Tp,[T.bnb]:Ap,[T.matic]:Np,[T.op]:Cp,[T.arbitrum]:Bp,[T.gnosis]:$p,[T.avalanche]:Ip,[T.fantom]:Sp,[T.aurora]:Pp,[T.klaytn]:kp,[T.zkSyncEra]:Rp};function Da(e){return nh[e]}var Nr={[T.eth]:null,[T.bnb]:null,[T.matic]:null,[T.op]:null,[T.arbitrum]:null,[T.gnosis]:null,[T.avalanche]:null,[T.fantom]:null,[T.aurora]:null,[T.klaytn]:null,[T.zkSyncEra]:null};function rh(e){const t=Da(e),n=Jp(e);return Q0({batch:{multicall:ls},chain:t,transport:n})}function Oe(e){return Nr[e]||(Nr[e]=rh(e)),Nr[e]}var sh={[T.eth]:!1,[T.bnb]:!1,[T.matic]:!1,[T.op]:!0,[T.arbitrum]:!0,[T.gnosis]:!1,[T.avalanche]:!1,[T.fantom]:!1,[T.aurora]:!1,[T.klaytn]:!1,[T.zkSyncEra]:!0};function nm(e){return sh[e]}var ja={[T.eth]:11e3,[T.bnb]:3e3,[T.matic]:3e3,[T.op]:3e3,[T.arbitrum]:3e3,[T.gnosis]:5e3,[T.avalanche]:3e3,[T.fantom]:3e3,[T.aurora]:3e3,[T.klaytn]:3e3,[T.zkSyncEra]:3e3},Rr={[T.eth]:null,[T.bnb]:null,[T.matic]:null,[T.op]:null,[T.arbitrum]:null,[T.gnosis]:null,[T.avalanche]:null,[T.fantom]:null,[T.aurora]:null,[T.klaytn]:null,[T.zkSyncEra]:null},Ga=Date.now();document.addEventListener("mousemove",()=>Ga=Date.now());function oh(e){let t,n=!1;const r=()=>Date.now()-Ga>60*1e3;return new Wn(s=>{const i=o=>{s.next(o);const c=r();c&&!n?(n=!0,t==null||t.unsubscribe(),t=ih(e).subscribe(i),console.log("slow block loader")):!c&&n&&(n=!1,t==null||t.unsubscribe(),t=Do(e).subscribe(i),console.log("regular block loader"))};return t=Do(e).subscribe(i),()=>{t==null||t.unsubscribe()}})}function Do(e){return new Wn(t=>Oe(e).watchBlocks({onBlock:r=>t.next(r)})).pipe(Zo({bufferSize:1,refCount:!0}))}function ih(e){const t=Oe(e);return bc(30*1e3).pipe(Ko(()=>t.getBlock()))}function ah(){const e=document.hasFocus(),t=document.visibilityState==="visible";return e&&t}function ch(){let e=!0;return gc(yr(window,"focus"),yr(window,"blur"),yr(document,"visibilitychange")).pipe(uc(null),lc(()=>e?(e=!1,!0):ah()),xc())}function rm(e){return Rr[e]===null&&(Rr[e]=ch().pipe(Ko(t=>t?oh(e):hc()),wc(ja[e]/2),Zo({bufferSize:1,refCount:!0}))),Rr[e]}var uh="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function Js(e){return sr(uh,e)}var Ha=class{constructor(){this.timeCacheStorage={}}set(e,t,n){let r=this.timeCacheStorage[e];r||(r=new Hp(ja[e]),this.timeCacheStorage[e]=r),r.set(t,n)}get(e,t){const n=this.timeCacheStorage[e];return n?n.get(t):null}},lh=ve(["function balanceOf(address _owner) public view returns (uint256 balance)"]),jo=new Ha;async function dh(e,t,n){const r=[t,n].join(":"),s=jo.get(e,r);if(s!==null)return s;const i=Oe(e);if(Js(n))return await i.getBalance({address:t});const o=await i.readContract({abi:lh,functionName:"balanceOf",args:[t],address:n});return jo.set(e,r,o),o}async function sm(e,t,n){const r={};return await Promise.all(n.map(s=>dh(e,t,s).then(i=>r[s]=i.toString()))),r}var fh=ve(["function allowance(address owner, address spender) public view returns (uint256)"]),Go=new Ha;async function om(e,t,n,r){const s=[e,t,n,r].join(":"),i=Go.get(e,s);if(i!==null)return i;const o=Oe(e);if(Js(t))return Pn;const c=await o.readContract({abi:fh,functionName:"allowance",args:[n,r],address:t});return Go.set(e,s,c),c}var ph="function permit(address owner, address spender, uint value, uint deadline, uint8 v, bytes32 r, bytes32 s) external",hh="function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s) external",qa=()=>ve([ph,hh]),mh=()=>ve(["function nonces(address owner) external view returns (uint)","function nonce(address owner) external view returns (uint)","function getNonce(address owner) external view returns (uint)","function _nonces(address owner) external view returns (uint)"]),yh=ve(["function DOMAIN_SEPARATOR() external view returns (bytes32)"]);ve(["function version() view returns (string)"]);ve(["function name() view returns (string)"]);var bh=()=>xt(qa()[0]),gh=()=>xt(qa()[0]),wh=()=>xt(yh[0]),xh=()=>mh().map(e=>xt(e)),Ho=new qp(5);async function vh(e,t){const n=[e,t].join(":"),r=Ho.get(n);if(r)return r;const i=await Oe(e).getBytecode({address:t});if(!i)throw new Error(`Contract not found: ${t}`);return Ho.set(n,i),i}function Eh(e){return e.includes(wh().replace("0x","").toLowerCase())}function Bh(e){return xh().some(t=>e.includes(t.replace("0x","").toLowerCase()))}function Ph(e){const t=bh().replace("0x","").toLowerCase();return e.includes(t)||Ih(e)}function Ih(e){const t=gh().replace("0x","").toLowerCase();return e.includes(t)}async function im(e,t){try{const r=(await vh(e,t)).toLowerCase();let s=!0;return s&&(s=Ph(r)),s&&(s=Eh(r)),s&&(s=Bh(r)),s}catch{return!1}}function Ah(e){return T[e]!==void 0}function Va(e){if(!Ah(e))throw new Error(`chain ${e} not supported`)}function Sh(e){return Va(e),e===T.zkSyncEra?"0x6fd4383cb451173d5f9304f041c7bcbf27d561ff":"0x111111125421ca6dc452d289314280a0f8842a65"}function Wa(e){return Va(e),e===T.zkSyncEra?"0x0000000000225e31D15943971F47aD3022F714Fa":"0x000000000022D473030F116dDEE9F6B43aC78BA3"}var Za=new Zp("permit2",29),$h={[T.eth]:!1,[T.bnb]:!1,[T.matic]:!1,[T.op]:!1,[T.arbitrum]:!1,[T.gnosis]:!1,[T.avalanche]:!1,[T.fantom]:!1,[T.aurora]:!1,[T.klaytn]:!1,[T.zkSyncEra]:!0},Ka=()=>bn(()=>import("./permit2_abi-TSO4Q6OK-5IYTefWS.js"),[]).then(e=>e.default);function Ya(e){return $h[e]??!1}async function am(e,t,n,r){if(!Ya(e))throw new Error(`chain ${e} not supported Permit2`);const{nonce:s}=await kh(e,t,n,r),i={details:{token:t,amount:id,expiration:Number(_t),nonce:s},spender:r,sigDeadline:Number(_t)};return{domain:{chainId:e,name:"Permit2",verifyingContract:Wa(e)},account:n,primaryType:"PermitSingle",types:Oh,message:i}}async function kh(e,t,n,r){if(!Ya(e))throw new Error(`chain ${e} not supported Permit2`);const i=await Oe(e).readContract({address:Wa(e),abi:await Ka(),functionName:"allowance",args:[t,n,r]}),[o,c,l]=i;return{amount:o,expiration:c,nonce:l}}async function cm(e,t,n,r,s,i){const o=[e,t,n,r].join(":");await Za.set(o,{permitSingle:i,signature:s})}async function Th(e,t,n,r){const s=[e,t,n,r].join(":");return await Za.get(s)}async function um(e,t,n,r){return await Th(e,t,n,r)!==null}async function lm(e,t,n,r){const s=tp(n),i=Je({abi:await Ka(),functionName:"permit",args:[t,r,`${s.r}${Ja(Ch(s.s,s.v===27n?0:1))}`]}),o=Nh(i),c=r.details.token,l=r.spender;return _h(Rh(o),c,t,l)}function Ch(e,t){const n=Fe(e);return t===1&&(n[0]|=128),z(n)}function Nh(e){const t="0x";return t+e.substring(t.length+8)}function Ja(e){const t=e.toString();return t.startsWith("0x")?t.substring(2):t}function Rh(e){if(e.length!==706)throw new Error("");const[t,n,r,s,i,o,c,l]=vn([{name:"owner",type:"address"},{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"},{name:"signature",type:"bytes"}],e);return`0x${[r.toString(16).padStart(40,"0"),s.toString()===_t.toString()?"00000000":(BigInt(s)+1n).toString(16).padStart(8,"0"),i.toString(16).padStart(8,"0"),c.toString()===_t.toString()?"00000000":(c+1n).toString(16).padStart(8,"0"),BigInt(l).toString(16).padStart(128,"0")].join("")}`}function _h(e,t,n,r){if(e.length!==194)throw new Error("");const s={amount:BigInt(e.slice(0,42)),expiration:+("0x"+e.slice(42,50)),nonce:+("0x"+e.slice(50,58)),sigDeadline:BigInt("0x"+e.slice(58,66)),r:"0x"+e.slice(66,130),vs:"0x"+e.slice(130,194)};return wt([{name:"owner",type:"address"},{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"},{name:"signature",type:"bytes"}],[n,t,s.amount,s.expiration===0?Number(_t):s.expiration-1,s.nonce,r,s.sigDeadline===0n?_t:s.sigDeadline-1n,s.r+Ja(s.vs)])}var Fh=[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],Mh=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Oh={PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:Fh,EIP712Domain:Mh},Xa={[T.eth]:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",[T.bnb]:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",[T.matic]:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",[T.op]:"0x4200000000000000000000000000000000000006",[T.arbitrum]:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",[T.gnosis]:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",[T.avalanche]:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",[T.fantom]:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",[T.aurora]:"0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb",[T.klaytn]:"0xe4f05a66ec68b54a58b17c22107b02e0232cc817",[T.zkSyncEra]:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91"},zh=ve(["function deposit() public payable"]);function Lh(e){return Xa[e]}function dm(e){const t=Da(e);return{chainId:e,symbol:`W${t.nativeCurrency.symbol}`,name:`W${t.nativeCurrency.symbol}`,decimals:t.nativeCurrency.decimals,address:Xa[e],isInternalWrapToken:!0}}function fm(e){return e.isInternalWrapToken?e.symbol.slice(1):e.symbol}async function pm(e,t){const n=Oe(e),r=Lh(e);return await n.estimateContractGas({abi:zh,address:r,value:t,functionName:"deposit"})}function hm(e,t,n="latest"){const r=Oe(e);return new Promise(s=>{const i=async()=>{try{(await r.getTransaction({hash:t,blockTag:n})).blockNumber&&(o(),s())}catch{}},o=r.watchBlocks({onBlock:i});i().catch()})}var Uh=ve(["function approve(address _spender, uint256 _value) public returns (bool success)"]);async function mm(e,t,n,r,s){const i=Oe(e);if(Js(t))throw new Error("");return await i.simulateContract({abi:Uh,account:n,functionName:"approve",args:[r,s],address:t})}var Dh=ve(["function cancelOrder(uint256 makerTraits, bytes32 orderHash) public"]);async function ym(e,t,n,r){const s=Oe(e),i=Sh(e);return await s.simulateContract({abi:Dh,account:t,functionName:"cancelOrder",args:[BigInt(n),r],address:i})}export{pu as $,G as A,C as B,Zh as C,ta as D,pc as E,Bs as F,zi as G,na as H,Bd as I,Vd as J,at as K,tm as L,Je as M,hn as N,U as O,cr as P,uu as Q,Te as R,se as S,Vh as T,dt as U,le as V,gt as W,Jt as X,hi as Y,Cf as Z,Tf as _,sp as a,Kh as a0,qh as a1,Fs as a2,Qn as a3,rl as a4,z as a5,Lf as a6,zf as a7,Yh as a8,Yd as a9,de as aA,kl as aB,or as aC,We as aD,wt as aE,Kt as aF,Me as aG,sr as aa,yc as ab,Zp as ac,mm as ad,Th as ae,am as af,cm as ag,pm as ah,lm as ai,fs as aj,Pn as ak,ve as al,qp as am,Oe as an,Ha as ao,im as ap,sm as aq,Hp as ar,ym as as,vt as at,Et as au,Bt as av,Pt as aw,Qh as ax,Xh as ay,Bn as az,wc as b,Js as c,xc as d,fm as e,Ti as f,Da as g,dm as h,nm as i,rm as j,Ah as k,Sh as l,gc as m,uh as n,hc as o,om as p,Ya as q,um as r,Ko as s,Wh as t,Oi as u,Es as v,hm as w,ms as x,Ps as y,Xl as z};
//# sourceMappingURL=index.esm-Cc9myTra.js.map
