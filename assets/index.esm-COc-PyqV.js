var a=class{constructor(t){this.config=t,this.storage=c()}get prefix(){return this.config.storagePrefix??""}get separator(){return this.config.storageSeparator??":"}set(t,e){if(this.storage)try{const r=this.key(t),s=typeof e!="string"?JSON.stringify(e):e;this.storage.setItem(r,s)}catch(r){console.warn(r)}}get(t,e){if(!this.storage)return null;try{const r=this.key(t),s=this.storage.getItem(r);return s===null?null:e(s)}catch(r){return console.warn(r),null}}remove(t){if(this.storage)try{const e=this.key(t);this.storage.removeItem(e)}catch(e){console.warn(e)}}update(t,e){const r=this.get(t,n),s=e(r);return this.set(t,s),s}updateEntity(t,e,r){const i={...this.get(t,n)??{},[e]:r};this.set(t,i)}key(t){return[this.prefix,t].join(this.separator)}};function c(){return o(window.localStorage)?window.localStorage:o(window.sessionStorage)?window.sessionStorage:null}function o(t){if(window!=null&&window.localStorage)try{t.setItem("@__test__@","1");const e=window.localStorage.getItem("@__test__@");t.removeItem("@__test__@");const r=t.getItem("@__test__@");return e==="1"&&r===null}catch{return!1}return!1}function n(t){return JSON.parse(t)}var g=new a({storagePrefix:"one-inch",storageSeparator:":"});export{n as JsonParser,a as Storage,g as storage};
//# sourceMappingURL=index.esm-COc-PyqV.js.map
