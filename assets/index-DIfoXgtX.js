(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Lp="modulepreload",zp=function(e){return"/interface/"+e},$u={},C=function(t,n,r){let s=Promise.resolve();return n&&n.length>0&&(document.getElementsByTagName("link"),s=Promise.all(n.map(i=>{if(i=zp(i),i in $u)return;$u[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Lp,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,l)=>{c.addEventListener("load",u),c.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})}))),s.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};const ei=globalThis,nc=ei.ShadowRoot&&(ei.ShadyCSS===void 0||ei.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,rc=Symbol(),ku=new WeakMap;let Ql=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==rc)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(nc&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=ku.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&ku.set(n,t))}return t}toString(){return this.cssText}};const qr=e=>new Ql(typeof e=="string"?e:e+"",void 0,rc),F=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[i+1],e[0]);return new Ql(n,e,rc)},Up=(e,t)=>{if(nc)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),s=ei.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},Pu=nc?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return qr(n)})(e):e;const{is:Vp,defineProperty:qp,getOwnPropertyDescriptor:Hp,getOwnPropertyNames:Wp,getOwnPropertySymbols:Gp,getPrototypeOf:Kp}=Object,Dt=globalThis,Au=Dt.trustedTypes,Zp=Au?Au.emptyScript:"",ho=Dt.reactiveElementPolyfillSupport,Er=(e,t)=>e,hi={toAttribute(e,t){switch(t){case Boolean:e=e?Zp:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},Bi=(e,t)=>!Vp(e,t),Eu={attribute:!0,type:String,converter:hi,reflect:!1,hasChanged:Bi};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Dt.litPropertyMetadata??(Dt.litPropertyMetadata=new WeakMap);let Ln=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=Eu){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,n);s!==void 0&&qp(this.prototype,t,s)}}static getPropertyDescriptor(t,n,r){const{get:s,set:i}=Hp(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get(){return s==null?void 0:s.call(this)},set(o){const a=s==null?void 0:s.call(this);i.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Eu}static _$Ei(){if(this.hasOwnProperty(Er("elementProperties")))return;const t=Kp(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Er("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Er("properties"))){const n=this.properties,r=[...Wp(n),...Gp(n)];for(const s of r)this.createProperty(s,n[s])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)n.unshift(Pu(s))}else t!==void 0&&n.push(Pu(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Up(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var i;const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:hi).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(t,n){var i;const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const o=r.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((i=o.converter)==null?void 0:i.fromAttribute)!==void 0?o.converter:hi;this._$Em=s,this[s]=a.fromAttribute(n,o.type),this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){if(r??(r=this.constructor.getPropertyOptions(t)),!(r.hasChanged??Bi)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s)o.wrapped!==!0||this._$AL.has(i)||this[i]===void 0||this.P(i,this[i],o)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}};Ln.elementStyles=[],Ln.shadowRootOptions={mode:"open"},Ln[Er("elementProperties")]=new Map,Ln[Er("finalized")]=new Map,ho==null||ho({ReactiveElement:Ln}),(Dt.reactiveElementVersions??(Dt.reactiveElementVersions=[])).push("2.0.4");const Sr=globalThis,fi=Sr.trustedTypes,Su=fi?fi.createPolicy("lit-html",{createHTML:e=>e}):void 0,sc="$lit$",dt=`lit$${Math.random().toFixed(9).slice(2)}$`,ic="?"+dt,Yp=`<${ic}>`,wn=document,Hr=()=>wn.createComment(""),Wr=e=>e===null||typeof e!="object"&&typeof e!="function",Xl=Array.isArray,ed=e=>Xl(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",fo=`[ 	
\f\r]`,yr=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Iu=/-->/g,Cu=/>/g,nn=RegExp(`>|${fo}(?:([^\\s"'>=/]+)(${fo}*=${fo}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Tu=/'/g,Ou=/"/g,td=/^(?:script|style|textarea|title)$/i,nd=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),E=nd(1),Z$=nd(2),Ut=Symbol.for("lit-noChange"),ee=Symbol.for("lit-nothing"),Bu=new WeakMap,an=wn.createTreeWalker(wn,129);function rd(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Su!==void 0?Su.createHTML(t):t}const sd=(e,t)=>{const n=e.length-1,r=[];let s,i=t===2?"<svg>":"",o=yr;for(let a=0;a<n;a++){const c=e[a];let u,l,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,l=o.exec(c),l!==null);)h=o.lastIndex,o===yr?l[1]==="!--"?o=Iu:l[1]!==void 0?o=Cu:l[2]!==void 0?(td.test(l[2])&&(s=RegExp("</"+l[2],"g")),o=nn):l[3]!==void 0&&(o=nn):o===nn?l[0]===">"?(o=s??yr,d=-1):l[1]===void 0?d=-2:(d=o.lastIndex-l[2].length,u=l[1],o=l[3]===void 0?nn:l[3]==='"'?Ou:Tu):o===Ou||o===Tu?o=nn:o===Iu||o===Cu?o=yr:(o=nn,s=void 0);const f=o===nn&&e[a+1].startsWith("/>")?" ":"";i+=o===yr?c+Yp:d>=0?(r.push(u),c.slice(0,d)+sc+c.slice(d)+dt+f):c+dt+(d===-2?a:f)}return[rd(e,i+(e[n]||"<?>")+(t===2?"</svg>":"")),r]};let Zo=class id{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=t.length-1,c=this.parts,[u,l]=sd(t,n);if(this.el=id.createElement(u,r),an.currentNode=this.el.content,n===2){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=an.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(sc)){const h=l[o++],f=s.getAttribute(d).split(dt),m=/([.?@])?(.*)/.exec(h);c.push({type:1,index:i,name:m[2],strings:f,ctor:m[1]==="."?cd:m[1]==="?"?ud:m[1]==="@"?ld:xs}),s.removeAttribute(d)}else d.startsWith(dt)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(td.test(s.tagName)){const d=s.textContent.split(dt),h=d.length-1;if(h>0){s.textContent=fi?fi.emptyScript:"";for(let f=0;f<h;f++)s.append(d[f],Hr()),an.nextNode(),c.push({type:2,index:++i});s.append(d[h],Hr())}}}else if(s.nodeType===8)if(s.data===ic)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(dt,d+1))!==-1;)c.push({type:7,index:i}),d+=dt.length-1}i++}}static createElement(t,n){const r=wn.createElement("template");return r.innerHTML=t,r}};function xn(e,t,n=e,r){var o,a;if(t===Ut)return t;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=Wr(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(e),s._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(t=xn(e,s._$AS(e,t.values),s,r)),t}let od=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,s=((t==null?void 0:t.creationScope)??wn).importNode(n,!0);an.currentNode=s;let i=an.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new Ri(i,i.nextSibling,this,t):c.type===1?u=new c.ctor(i,c.name,c.strings,this,t):c.type===6&&(u=new dd(i,this,t)),this._$AV.push(u),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=an.nextNode(),o++)}return an.currentNode=wn,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}},Ri=class ad{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,s){this.type=2,this._$AH=ee,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=xn(this,t,n),Wr(t)?t===ee||t==null||t===""?(this._$AH!==ee&&this._$AR(),this._$AH=ee):t!==this._$AH&&t!==Ut&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):ed(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==ee&&Wr(this._$AH)?this._$AA.nextSibling.data=t:this.T(wn.createTextNode(t)),this._$AH=t}$(t){var i;const{values:n,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Zo.createElement(rd(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new od(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(t){let n=Bu.get(t.strings);return n===void 0&&Bu.set(t.strings,n=new Zo(t)),n}k(t){Xl(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of t)s===n.length?n.push(r=new ad(this.S(Hr()),this.S(Hr()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}},xs=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,i){this.type=1,this._$AH=ee,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ee}_$AI(t,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)t=xn(this,t,n,0),o=!Wr(t)||t!==this._$AH&&t!==Ut,o&&(this._$AH=t);else{const a=t;let c,u;for(t=i[0],c=0;c<i.length-1;c++)u=xn(this,a[r+c],n,c),u===Ut&&(u=this._$AH[c]),o||(o=!Wr(u)||u!==this._$AH[c]),u===ee?t=ee:t!==ee&&(t+=(u??"")+i[c+1]),this._$AH[c]=u}o&&!s&&this.j(t)}j(t){t===ee?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},cd=class extends xs{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===ee?void 0:t}},ud=class extends xs{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==ee)}},ld=class extends xs{constructor(t,n,r,s,i){super(t,n,r,s,i),this.type=5}_$AI(t,n=this){if((t=xn(this,t,n,0)??ee)===Ut)return;const r=this._$AH,s=t===ee&&r!==ee||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,i=t!==ee&&(r===ee||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}},dd=class{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){xn(this,t)}};const Jp={P:sc,A:dt,C:ic,M:1,L:sd,R:od,D:ed,V:xn,I:Ri,H:xs,N:ud,U:ld,B:cd,F:dd},po=Sr.litHtmlPolyfillSupport;po==null||po(Zo,Ri),(Sr.litHtmlVersions??(Sr.litHtmlVersions=[])).push("3.1.3");const tr=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new Ri(t.insertBefore(Hr(),i),i,void 0,n??{})}return s._$AI(e),s};let V=class extends Ln{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=tr(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Ut}};var Jl;V._$litElement$=!0,V.finalized=!0,(Jl=globalThis.litElementHydrateSupport)==null||Jl.call(globalThis,{LitElement:V});const mo=globalThis.litElementPolyfillSupport;mo==null||mo({LitElement:V});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.5");const Y=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};const Qp={attribute:!0,type:String,converter:hi,reflect:!1,hasChanged:Bi},Xp=(e=Qp,t,n)=>{const{kind:r,metadata:s}=n;let i=globalThis.litPropertyMetadata.get(s);if(i===void 0&&globalThis.litPropertyMetadata.set(s,i=new Map),i.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.P(o,void 0,e),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function z(e){return(t,n)=>typeof n=="object"?Xp(e,t,n):((r,s,i)=>{const o=s.hasOwnProperty(i);return s.constructor.createProperty(i,o?{...r,wrapped:!0}:r),o?Object.getOwnPropertyDescriptor(s,i):void 0})(e,t,n)}function Ye(e){return z({...e,state:!0,attribute:!1})}const{I:em}=Jp,rk=(e,t)=>(e==null?void 0:e._$litType$)!==void 0,sk=e=>{var t;return((t=e==null?void 0:e._$litType$)==null?void 0:t.h)!=null},tm=e=>e.strings===void 0,Ru=()=>document.createComment(""),ik=(e,t,n)=>{var i;const r=e._$AA.parentNode,s=t===void 0?e._$AB:t._$AA;if(n===void 0){const o=r.insertBefore(Ru(),s),a=r.insertBefore(Ru(),s);n=new em(o,a,e,e.options)}else{const o=n._$AB.nextSibling,a=n._$AM,c=a!==e;if(c){let u;(i=n._$AQ)==null||i.call(n,e),n._$AM=e,n._$AP!==void 0&&(u=e._$AU)!==a._$AU&&n._$AP(u)}if(o!==s||c){let u=n._$AA;for(;u!==o;){const l=u.nextSibling;r.insertBefore(u,s),u=l}}}return n},ok=(e,t,n=e)=>(e._$AI(t,n),e),nm={},ak=(e,t=nm)=>e._$AH=t,ck=e=>e._$AH,uk=e=>{var r;(r=e._$AP)==null||r.call(e,!1,!0);let t=e._$AA;const n=e._$AB.nextSibling;for(;t!==n;){const s=t.nextSibling;t.remove(),t=s}},lk=e=>{e._$AR()};const oc={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},In=e=>(...t)=>({_$litDirective$:e,values:t});let Mi=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};const Ir=(e,t)=>{var r;const n=e._$AN;if(n===void 0)return!1;for(const s of n)(r=s._$AO)==null||r.call(s,t,!1),Ir(s,t);return!0},pi=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while((n==null?void 0:n.size)===0)},hd=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),im(t)}};function rm(e){this._$AN!==void 0?(pi(this),this._$AM=e,hd(this)):this._$AM=e}function sm(e,t=!1,n=0){const r=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(t)if(Array.isArray(r))for(let i=n;i<r.length;i++)Ir(r[i],!1),pi(r[i]);else r!=null&&(Ir(r,!1),pi(r));else Ir(this,e)}const im=e=>{e.type==oc.CHILD&&(e._$AP??(e._$AP=sm),e._$AQ??(e._$AQ=rm))};let Di=class extends Mi{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),hd(this),this.isConnected=t._$AU}_$AO(t,n=!0){var r,s;t!==this.isConnected&&(this.isConnected=t,t?(r=this.reconnected)==null||r.call(this):(s=this.disconnected)==null||s.call(this)),n&&(Ir(this,t),pi(this))}setValue(t){if(tm(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};var Yo=function(e,t){return Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Yo(e,t)};function Se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yo(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function fk(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function om(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function fd(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function nr(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Ke(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function qn(e){return this instanceof qn?(this.v=e,this):new qn(e)}function am(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(f){return new Promise(function(m,p){i.push([h,f,m,p])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(m){d(i[0][3],m)}}function c(h){h.value instanceof qn?Promise.resolve(h.value.v).then(u,l):d(i[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function cm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof nr=="function"?nr(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function q(e){return typeof e=="function"}function ac(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var bo=ac(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function mi(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Qt=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=nr(o),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var l=this.initialTeardown;if(q(l))try{l()}catch(p){i=p instanceof bo?p.errors:[p]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=nr(d),f=h.next();!f.done;f=h.next()){var m=f.value;try{Mu(m)}catch(p){i=i??[],p instanceof bo?i=Ke(Ke([],Be(i)),Be(p.errors)):i.push(p)}}}catch(p){r={error:p}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}}if(i)throw new bo(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Mu(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&mi(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&mi(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),pd=Qt.EMPTY;function md(e){return e instanceof Qt||e&&"closed"in e&&q(e.remove)&&q(e.add)&&q(e.unsubscribe)}function Mu(e){q(e)?e():e.unsubscribe()}var bd={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yd={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ke([e,t],Be(n)))},clearTimeout:function(e){var t=yd.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function gd(e){yd.setTimeout(function(){throw e})}function bi(){}function ti(e){e()}var cc=function(e){Se(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,md(n)&&n.add(r)):r.destination=hm,r}return t.create=function(n,r,s){return new rr(n,r,s)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Qt),um=Function.prototype.bind;function yo(e,t){return um.call(e,t)}var lm=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){zs(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){zs(r)}else zs(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){zs(n)}},e}(),rr=function(e){Se(t,e);function t(n,r,s){var i=e.call(this)||this,o;if(q(n)||!n)o={next:n??void 0,error:r??void 0,complete:s??void 0};else{var a;i&&bd.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},o={next:n.next&&yo(n.next,a),error:n.error&&yo(n.error,a),complete:n.complete&&yo(n.complete,a)}):o=n}return i.destination=new lm(o),i}return t}(cc);function zs(e){gd(e)}function dm(e){throw e}var hm={closed:!0,next:bi,error:dm,complete:bi},uc=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Cn(e){return e}function fm(e){return e.length===0?Cn:e.length===1?e[0]:function(n){return e.reduce(function(r,s){return s(r)},n)}}var ue=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var s=this,i=mm(t)?t:new rr(t,n,r);return ti(function(){var o=s,a=o.operator,c=o.source;i.add(a?a.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Du(n),new n(function(s,i){var o=new rr({next:function(a){try{t(a)}catch(c){i(c),o.unsubscribe()}},error:i,complete:s});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[uc]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return fm(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Du(t),new t(function(r,s){var i;n.subscribe(function(o){return i=o},function(o){return s(o)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Du(e){var t;return(t=e??bd.Promise)!==null&&t!==void 0?t:Promise}function pm(e){return e&&q(e.next)&&q(e.error)&&q(e.complete)}function mm(e){return e&&e instanceof cc||pm(e)&&md(e)}function bm(e){return q(e==null?void 0:e.lift)}function ye(e){return function(t){if(bm(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(e,t,n,r,s){return new ym(e,t,n,r,s)}var ym=function(e){Se(t,e);function t(n,r,s,i,o,a){var c=e.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(l){n.error(l)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=s?function(){try{s()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(cc),yi={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=yi.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var s=t(function(i){n=void 0,e(i)});return new Qt(function(){return n==null?void 0:n(s)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return requestAnimationFrame.apply(void 0,Ke([],Be(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yi.delegate;return((n==null?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Ke([],Be(e)))},delegate:void 0},gm=ac(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ve=function(e){Se(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new ju(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new gm},t.prototype.next=function(n){var r=this;ti(function(){var s,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=nr(r.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(n)}}catch(u){s={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}}})},t.prototype.error=function(n){var r=this;ti(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var s=r.observers;s.length;)s.shift().error(n)}})},t.prototype.complete=function(){var n=this;ti(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,s=this,i=s.hasError,o=s.isStopped,a=s.observers;return i||o?pd:(this.currentObservers=null,a.push(n),new Qt(function(){r.currentObservers=null,mi(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,s=r.hasError,i=r.thrownError,o=r.isStopped;s?n.error(i):o&&n.complete()},t.prototype.asObservable=function(){var n=new ue;return n.source=this,n},t.create=function(n,r){return new ju(n,r)},t}(ue),ju=function(e){Se(t,e);function t(n,r){var s=e.call(this)||this;return s.destination=n,s.source=r,s}return t.prototype.next=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,n)},t.prototype.error=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&s!==void 0?s:pd},t}(Ve),Gr=function(e){Se(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,s=n.thrownError,i=n._value;if(r)throw s;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ve),lc={now:function(){return(lc.delegate||Date).now()},delegate:void 0},vm=function(e){Se(t,e);function t(n,r,s){n===void 0&&(n=1/0),r===void 0&&(r=1/0),s===void 0&&(s=lc);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=s,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,s=r.isStopped,i=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;s||(i.push(n),!o&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),s=this,i=s._infiniteTimeWindow,o=s._buffer,a=o.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,s=n._timestampProvider,i=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!o){for(var c=s.now(),u=0,l=1;l<i.length&&i[l]<=c;l+=2)u=l;u&&i.splice(0,u+1)}},t}(Ve),wm=function(e){Se(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Qt),Jo={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Ke([e,t],Be(n)))},clearInterval:function(e){var t=Jo.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},dc=function(e){Se(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.scheduler=n,s.work=r,s.pending=!1,s}return t.prototype.schedule=function(n,r){var s;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,s){return s===void 0&&(s=0),Jo.setInterval(n.flush.bind(n,this),s)},t.prototype.recycleAsyncId=function(n,r,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return r;r!=null&&Jo.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(n,r);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var s=!1,i;try{this.work(n)}catch(o){s=!0,i=o||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,s=n.scheduler,i=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,mi(i,this),r!=null&&(this.id=this.recycleAsyncId(s,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(wm),xm=1,go,Qo={};function Fu(e){return e in Qo?(delete Qo[e],!0):!1}var vd={setImmediate:function(e){var t=xm++;return Qo[t]=!0,go||(go=Promise.resolve()),go.then(function(){return Fu(t)&&e()}),t},clearImmediate:function(e){Fu(e)}},_m=vd.setImmediate,$m=vd.clearImmediate,Xo={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _m.apply(void 0,Ke([],Be(e)))},clearImmediate:function(e){var t=Xo.delegate;return((t==null?void 0:t.clearImmediate)||$m)(e)},delegate:void 0},km=function(e){Se(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.scheduler=n,s.work=r,s}return t.prototype.requestAsyncId=function(n,r,s){return s===void 0&&(s=0),s!==null&&s>0?e.prototype.requestAsyncId.call(this,n,r,s):(n.actions.push(this),n._scheduled||(n._scheduled=Xo.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,s){var i;if(s===void 0&&(s=0),s!=null?s>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,s);var o=n.actions;r!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==r&&(Xo.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(dc),Nu=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=lc.now,e}(),hc=function(e){Se(t,e);function t(n,r){r===void 0&&(r=Nu.now);var s=e.call(this,n,r)||this;return s.actions=[],s._active=!1,s}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var s;this._active=!0;do if(s=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,s){for(;n=r.shift();)n.unsubscribe();throw s}},t}(Nu),Pm=function(e){Se(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var s=this.actions,i;n=n||s.shift();do if(i=n.execute(n.state,n.delay))break;while((n=s[0])&&n.id===r&&s.shift());if(this._active=!1,i){for(;(n=s[0])&&n.id===r&&s.shift();)n.unsubscribe();throw i}},t}(hc),wd=new Pm(km),xd=new hc(dc),Am=xd,Em=function(e){Se(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.scheduler=n,s.work=r,s}return t.prototype.requestAsyncId=function(n,r,s){return s===void 0&&(s=0),s!==null&&s>0?e.prototype.requestAsyncId.call(this,n,r,s):(n.actions.push(this),n._scheduled||(n._scheduled=yi.requestAnimationFrame(function(){return n.flush(void 0)})))},t.prototype.recycleAsyncId=function(n,r,s){var i;if(s===void 0&&(s=0),s!=null?s>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,s);var o=n.actions;r!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==r&&(yi.cancelAnimationFrame(r),n._scheduled=void 0)},t}(dc),Sm=function(e){Se(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var s=this.actions,i;n=n||s.shift();do if(i=n.execute(n.state,n.delay))break;while((n=s[0])&&n.id===r&&s.shift());if(this._active=!1,i){for(;(n=s[0])&&n.id===r&&s.shift();)n.unsubscribe();throw i}},t}(hc),Im=new Sm(Em),_d=new ue(function(e){return e.complete()});function Cm(e){return e&&q(e.schedule)}function fc(e){return e[e.length-1]}function $d(e){return q(fc(e))?e.pop():void 0}function _s(e){return Cm(fc(e))?e.pop():void 0}function Tm(e,t){return typeof fc(e)=="number"?e.pop():t}var pc=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function kd(e){return q(e==null?void 0:e.then)}function Pd(e){return q(e[uc])}function Ad(e){return Symbol.asyncIterator&&q(e==null?void 0:e[Symbol.asyncIterator])}function Ed(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Om(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sd=Om();function Id(e){return q(e==null?void 0:e[Sd])}function Cd(e){return am(this,arguments,function(){var n,r,s,i;return fd(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,qn(n.read())];case 3:return r=o.sent(),s=r.value,i=r.done,i?[4,qn(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,qn(s)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Td(e){return q(e==null?void 0:e.getReader)}function Ie(e){if(e instanceof ue)return e;if(e!=null){if(Pd(e))return Bm(e);if(pc(e))return Rm(e);if(kd(e))return Mm(e);if(Ad(e))return Od(e);if(Id(e))return Dm(e);if(Td(e))return jm(e)}throw Ed(e)}function Bm(e){return new ue(function(t){var n=e[uc]();if(q(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Rm(e){return new ue(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Mm(e){return new ue(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,gd)})}function Dm(e){return new ue(function(t){var n,r;try{for(var s=nr(e),i=s.next();!i.done;i=s.next()){var o=i.value;if(t.next(o),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}t.complete()})}function Od(e){return new ue(function(t){Fm(e,t).catch(function(n){return t.error(n)})})}function jm(e){return Od(Cd(e))}function Fm(e,t){var n,r,s,i;return om(this,void 0,void 0,function(){var o,a;return fd(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=cm(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),s={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function jt(e,t,n,r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var i=t.schedule(function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!s)return i}function ji(e,t){return t===void 0&&(t=0),ye(function(n,r){n.subscribe(he(r,function(s){return jt(r,e,function(){return r.next(s)},t)},function(){return jt(r,e,function(){return r.complete()},t)},function(s){return jt(r,e,function(){return r.error(s)},t)}))})}function mc(e,t){return t===void 0&&(t=0),ye(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Nm(e,t){return Ie(e).pipe(mc(t),ji(t))}function Lm(e,t){return Ie(e).pipe(mc(t),ji(t))}function zm(e,t){return new ue(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Um(e,t){return new ue(function(n){var r;return jt(n,t,function(){r=e[Sd](),jt(n,t,function(){var s,i,o;try{s=r.next(),i=s.value,o=s.done}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),function(){return q(r==null?void 0:r.return)&&r.return()}})}function Bd(e,t){if(!e)throw new Error("Iterable cannot be null");return new ue(function(n){jt(n,t,function(){var r=e[Symbol.asyncIterator]();jt(n,t,function(){r.next().then(function(s){s.done?n.complete():n.next(s.value)})},0,!0)})})}function Vm(e,t){return Bd(Cd(e),t)}function qm(e,t){if(e!=null){if(Pd(e))return Nm(e,t);if(pc(e))return zm(e,t);if(kd(e))return Lm(e,t);if(Ad(e))return Bd(e,t);if(Id(e))return Um(e,t);if(Td(e))return Vm(e,t)}throw Ed(e)}function _n(e,t){return t?qm(e,t):Ie(e)}function tt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_s(e);return _n(e,n)}var Hm=ac(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function ft(e,t){return new Promise(function(n,r){var s=new rr({next:function(i){n(i),s.unsubscribe()},error:r,complete:function(){r(new Hm)}});e.subscribe(s)})}function Wm(e){return e instanceof Date&&!isNaN(e)}function N(e,t){return ye(function(n,r){var s=0;n.subscribe(he(r,function(i){r.next(e.call(t,i,s++))}))})}var Gm=Array.isArray;function Km(e,t){return Gm(t)?e.apply(void 0,Ke([],Be(t))):e(t)}function Rd(e){return N(function(t){return Km(e,t)})}var Zm=Array.isArray,Ym=Object.getPrototypeOf,Jm=Object.prototype,Qm=Object.keys;function Xm(e){if(e.length===1){var t=e[0];if(Zm(t))return{args:t,keys:null};if(eb(t)){var n=Qm(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function eb(e){return e&&typeof e=="object"&&Ym(e)===Jm}function tb(e,t){return e.reduce(function(n,r,s){return n[r]=t[s],n},{})}function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_s(e),r=$d(e),s=Xm(e),i=s.args,o=s.keys;if(i.length===0)return _n([],n);var a=new ue(nb(i,n,o?function(c){return tb(o,c)}:Cn));return r?a.pipe(Rd(r)):a}function nb(e,t,n){return n===void 0&&(n=Cn),function(r){Lu(t,function(){for(var s=e.length,i=new Array(s),o=s,a=s,c=function(l){Lu(t,function(){var d=_n(e[l],t),h=!1;d.subscribe(he(r,function(f){i[l]=f,h||(h=!0,a--),a||r.next(n(i.slice()))},function(){--o||r.complete()}))},r)},u=0;u<s;u++)c(u)},r)}}function Lu(e,t,n){e?jt(n,e,t):t()}function rb(e,t,n,r,s,i,o,a){var c=[],u=0,l=0,d=!1,h=function(){d&&!c.length&&!u&&t.complete()},f=function(p){return u<r?m(p):c.push(p)},m=function(p){u++;var y=!1;Ie(n(p,l++)).subscribe(he(t,function(b){t.next(b)},function(){y=!0},void 0,function(){if(y)try{u--;for(var b=function(){var g=c.shift();o||m(g)};c.length&&u<r;)b();h()}catch(g){t.error(g)}}))};return e.subscribe(he(t,f,function(){d=!0,h()})),function(){}}function bc(e,t,n){return n===void 0&&(n=1/0),q(t)?bc(function(r,s){return N(function(i,o){return t(r,i,s,o)})(Ie(e(r,s)))},n):(typeof t=="number"&&(n=t),ye(function(r,s){return rb(r,s,e,n)}))}function Md(e){return e===void 0&&(e=1/0),bc(Cn,e)}function sb(){return Md(1)}function zu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return sb()(_n(e,_s(e)))}function U(e){return new ue(function(t){Ie(e()).subscribe(t)})}var ib=["addListener","removeListener"],ob=["addEventListener","removeEventListener"],ab=["on","off"];function Ne(e,t,n,r){if(q(n)&&(r=n,n=void 0),r)return Ne(e,t,n).pipe(Rd(r));var s=Be(lb(e)?ob.map(function(a){return function(c){return e[a](t,c,n)}}):cb(e)?ib.map(Uu(e,t)):ub(e)?ab.map(Uu(e,t)):[],2),i=s[0],o=s[1];if(!i&&pc(e))return bc(function(a){return Ne(a,t,n)})(Ie(e));if(!i)throw new TypeError("Invalid event target");return new ue(function(a){var c=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return a.next(1<u.length?u:u[0])};return i(c),function(){return o(c)}})}function Uu(e,t){return function(n){return function(r){return e[n](t,r)}}}function cb(e){return q(e.addListener)&&q(e.removeListener)}function ub(e){return q(e.on)&&q(e.off)}function lb(e){return q(e.addEventListener)&&q(e.removeEventListener)}function Dd(e,t,n){return e===void 0&&(e=0),n===void 0&&(n=Am),new ue(function(r){var s=Wm(e)?+e-n.now():e;s<0&&(s=0);var i=0;return n.schedule(function(){r.closed||(r.next(i++),r.complete())},s)})}function jd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_s(e),r=Tm(e,1/0),s=e;return s.length?s.length===1?Ie(s[0]):Md(r)(_n(s,n)):_d}function _t(e,t){return ye(function(n,r){var s=0;n.subscribe(he(r,function(i){return e.call(t,i,s++)&&r.next(i)}))})}function Fd(e){return ye(function(t,n){var r=null,s=!1,i;r=t.subscribe(he(n,void 0,void 0,function(o){i=Ie(e(o,Fd(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,i.subscribe(n))})}function db(e,t,n,r,s){return function(i,o){var a=n,c=t,u=0;i.subscribe(he(o,function(l){var d=u++;c=a?e(c,l,d):(a=!0,l),o.next(c)},s))}}function Kr(e,t){return t===void 0&&(t=xd),ye(function(n,r){var s=null,i=null,o=null,a=function(){if(s){s.unsubscribe(),s=null;var u=i;i=null,r.next(u)}};function c(){var u=o+e,l=t.now();if(l<u){s=this.schedule(void 0,u-l),r.add(s);return}a()}n.subscribe(he(r,function(u){i=u,o=t.now(),s||(s=t.schedule(c,e),r.add(s))},function(){a(),r.complete()},void 0,function(){i=s=null}))})}function Nd(e){return ye(function(t,n){var r=!1;t.subscribe(he(n,function(s){r=!0,n.next(s)},function(){r||n.next(e),n.complete()}))})}function hb(e){return e<=0?function(){return _d}:ye(function(t,n){var r=0;t.subscribe(he(n,function(s){++r<=e&&(n.next(s),e<=r&&n.complete())}))})}function Rt(e,t){return t===void 0&&(t=Cn),e=e??fb,ye(function(n,r){var s,i=!0;n.subscribe(he(r,function(o){var a=t(o);(i||!e(s,a))&&(i=!1,s=a,r.next(o))}))})}function fb(e,t){return e===t}function Ld(e,t){return ye(db(e,t,arguments.length>=2,!0))}function pb(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Ve}:t,r=e.resetOnError,s=r===void 0?!0:r,i=e.resetOnComplete,o=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var l,d,h,f=0,m=!1,p=!1,y=function(){d==null||d.unsubscribe(),d=void 0},b=function(){y(),l=h=void 0,m=p=!1},g=function(){var v=l;b(),v==null||v.unsubscribe()};return ye(function(v,w){f++,!p&&!m&&y();var k=h=h??n();w.add(function(){f--,f===0&&!p&&!m&&(d=vo(g,c))}),k.subscribe(w),!l&&f>0&&(l=new rr({next:function($){return k.next($)},error:function($){p=!0,y(),d=vo(b,s,$),k.error($)},complete:function(){m=!0,y(),d=vo(b,o),k.complete()}}),Ie(v).subscribe(l))})(u)}}function vo(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var s=new rr({next:function(){s.unsubscribe(),e()}});return Ie(t.apply(void 0,Ke([],Be(n)))).subscribe(s)}}function me(e,t,n){var r,s,i,o,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,o=r===void 0?1/0:r,s=e.windowTime,t=s===void 0?1/0:s,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):o=e??1/0,pb({connector:function(){return new vm(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Vt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_s(e);return ye(function(r,s){(n?zu(e,r,n):zu(e,r)).subscribe(s)})}function se(e,t){return ye(function(n,r){var s=null,i=0,o=!1,a=function(){return o&&!s&&r.complete()};n.subscribe(he(r,function(c){s==null||s.unsubscribe();var u=0,l=i++;Ie(e(c,l)).subscribe(s=he(r,function(d){return r.next(t?t(c,d,l,u++):d)},function(){s=null,a()}))},function(){o=!0,a()}))})}function zd(e){return ye(function(t,n){Ie(e).subscribe(he(n,function(){return n.complete()},bi)),!n.closed&&t.subscribe(n)})}function le(e,t,n){var r=q(e)||t||n?{next:e,error:t,complete:n}:e;return r?ye(function(s,i){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;s.subscribe(he(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Cn}function mb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$d(e);return ye(function(r,s){for(var i=e.length,o=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(d){Ie(e[d]).subscribe(he(s,function(h){o[d]=h,!c&&!a[d]&&(a[d]=!0,(c=a.every(Cn))&&(a=null))},bi))},l=0;l<i;l++)u(l);r.subscribe(he(s,function(d){if(c){var h=Ke([d],Be(o));s.next(n?n.apply(void 0,Ke([],Be(h))):h)}}))})}var bb=class extends Di{render(e,t){return this.subscription=e.pipe(ji(wd)).subscribe(n=>this.setValue(n)),t??""}disconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}},te=In(bb),yb=class extends Di{constructor(){super(...arguments),this.isDisconnected=!1,this.handler=e=>{this.isDisconnected||this.setValue(e)}}render(e,t){return e.then(this.handler),t??""}disconnected(){this.isDisconnected=!0}},Vu=In(yb),gb=class extends Mi{constructor(e){super(e),this.elementKeySet=new Set,this.view=document.createElement("div"),this.lock=!1,this.view.style.display="flex",this.view.style.gap="8px"}render(e,t,n,r){if(this.lock)return E`${this.view}`;if(!this.view.children.length)return this.addedElementsWithoutAnimation(e,t,r),E`${this.view}`;const s=new Set,i=new Map,o=new Map;let a=0;for(const l of e){const d=t(l,a);s.add(d),i.set(d,l),o.set(d,a),a++}const c=new Set,u=new Set;return this.elementKeySet.forEach(l=>{s.has(l)||c.add(l)}),s.forEach(l=>{this.elementKeySet.has(l)||u.add(l)}),this.lock=!0,Promise.all([this.deleteElements(c,n.deleteElement),this.addedElements(u,i,o,n.addedElement,r)]).then(()=>{this.elementKeySet=s,this.lock=!1}),E`${this.view}`}async deleteElements(e,t){const n=[],r=async s=>{const i=this.view.querySelector(`#${s}`);i&&(await t(i),i.remove())};for(const s of e)n.push(r(s));await Promise.all(n)}async addedElements(e,t,n,r,s){const i=[],o=async a=>{const c=t.get(a),u=document.createElement("div");u.id=a.toString();const l=s(c);tr(l,u);const d=await r(u),h=this.view.children[n.get(a)??0];h?this.view.insertBefore(u,h):this.view.appendChild(u),await d(u)};for(const a of e)i.push(o(a));await Promise.all(i)}addedElementsWithoutAnimation(e,t,n){let r=0;for(const s of e){const i=t(s,r),o=document.createElement("div");o.id=i.toString();const a=n(s);tr(a,o),this.view.appendChild(o),this.elementKeySet.add(i),r++}}},pk=In(gb);function ae(e,t){for(const n in t)e.style[n]=t[n]??""}function Ud(e,t){const n=document.createElement(e);if(t&&typeof t=="function")try{t(n)}catch(r){console.error("call side effect error",r)}return document.head.appendChild(n),n}function wo(e){Ud("style",t=>ea(t,e))}function ea(e,t){e.textContent=t.cssText}function vb(e,t,n){return new CustomEvent(e,{bubbles:!0,composed:!0,detail:{value:t,event:n}})}function Mt(e,t,n,r){e.dispatchEvent(vb(t,n,r))}function wb(e){const t=document.head.querySelector("#theme-color");if(!t){Ud("meta",n=>{n.id="theme-color",n.name="theme-color",n.content=e});return}t.content=e}function xb(e=40){try{navigator.vibrate(e)}catch{}}var _b={requestUpdate:!0},$b=class{constructor(e,t,n){this.host=e,this.observers=t,e.addController(this),this.config={..._b,...n},this.subscribe()}hostDisconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}subscribe(){const e=xe(Array.isArray(this.observers)?this.observers:[this.observers]),t=[];this.config.debounceTimeMs&&t.push(Kr(this.config.debounceTimeMs)),this.subscription=e.pipe(...t).subscribe(()=>{this.config.requestUpdate&&this.host.requestUpdate()})}};function $s(e,t,n){return new $b(e,t,n)}var Vd="screen and (max-width: 610px)",xo;function St(){return xo||(xo=matchMedia(Vd)),xo}function Tn(e){return F`
      @media ${qr(Vd)} {
          ${qr(e)}
      }
  `}var qd=U(()=>Ne(St(),"change")).pipe(me({bufferSize:0,refCount:!0}));function ks(e){$s(e,[qd])}function kb(){return qd}function yc(e){return ks(e),St()}function Pb(e){return new ue(t=>{const n=new ResizeObserver(r=>t.next(r[0]));return n.observe(e),()=>{n.unobserve(e)}})}const Ab=F`
    
    :host {
        display: block;
        overflow-y: auto;
        overflow-x: hidden;
        height: 100svh;
    }

    .content {
        height: calc(100svh - 72px - 72px);
        min-height: calc(400px + 72px + 72px);
    }
    
    ${Tn(F`
        .content {
            height: calc(100svh - 56px - 72px);
            min-height: 0;
            padding: 0 8px;
        }
    `)}

`,Eb=F`
    .header-container {
        width: 100%;
        box-sizing: border-box;
        padding: 16px 24px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        max-width: 1400px;
        margin: 0 auto;
        background-color: var(--color-background-bg-body);
    }
    
    .mobile-header {
        height: 56px;
        padding: 8px;
        max-width: 100vw;
    }
    
    .left-content {
    }
    
    .right-content {
        display: flex;
        align-items: center;
        gap: 8px;
    }

`;var Sb=Object.defineProperty,Ib=Object.getOwnPropertyDescriptor,Ps=(e,t,n,r)=>{for(var s=r>1?void 0:r?Ib(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Sb(t,n,s),s};const Hd="important",Cb=" !"+Hd,gc=In(class extends Mi{constructor(e){var t;if(super(e),e.type!==oc.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in t){const s=t[r];if(s!=null){this.ft.add(r);const i=typeof s=="string"&&s.endsWith(Cb);r.includes("-")||i?n.setProperty(r,i?s.slice(0,-11):s,i?Hd:""):n[r]=s}}return Ut}});const Tb=Symbol();let Fi=class{get taskComplete(){return this.t||(this.status===1?this.t=new Promise((t,n)=>{this.i=t,this.o=n}):this.status===3?this.t=Promise.reject(this.h):this.t=Promise.resolve(this.l)),this.t}constructor(t,n,r){var i;this.u=0,this.status=0,(this.p=t).addController(this);const s=typeof n=="object"?n:{task:n,args:r};this._=s.task,this.v=s.args,this.j=s.argsEqual??Ob,this.m=s.onComplete,this.g=s.onError,this.autoRun=s.autoRun??!0,"initialValue"in s&&(this.l=s.initialValue,this.status=2,this.k=(i=this.A)==null?void 0:i.call(this))}hostUpdate(){this.autoRun===!0&&this.O()}hostUpdated(){this.autoRun==="afterUpdate"&&this.O()}A(){if(this.v===void 0)return;const t=this.v();if(!Array.isArray(t))throw Error("The args function must return an array");return t}async O(){const t=this.A(),n=this.k;this.k=t,t===n||t===void 0||n!==void 0&&this.j(n,t)||await this.run(t)}async run(t){var o,a,c,u,l;let n,r;t??(t=this.A()),this.k=t,this.status===1?(o=this.T)==null||o.abort():(this.t=void 0,this.i=void 0,this.o=void 0),this.status=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this.p.requestUpdate()):this.p.requestUpdate();const s=++this.u;this.T=new AbortController;let i=!1;try{n=await this._(t,{signal:this.T.signal})}catch(d){i=!0,r=d}if(this.u===s){if(n===Tb)this.status=0;else{if(i===!1){try{(a=this.m)==null||a.call(this,n)}catch{}this.status=2,(c=this.i)==null||c.call(this,n)}else{try{(u=this.g)==null||u.call(this,r)}catch{}this.status=3,(l=this.o)==null||l.call(this,r)}this.l=n,this.h=r}this.p.requestUpdate()}}abort(t){var n;this.status===1&&((n=this.T)==null||n.abort(t))}get value(){return this.l}get error(){return this.h}render(t){var n,r,s,i;switch(this.status){case 0:return(n=t.initial)==null?void 0:n.call(t);case 1:return(r=t.pending)==null?void 0:r.call(t);case 2:return(s=t.complete)==null?void 0:s.call(t,this.value);case 3:return(i=t.error)==null?void 0:i.call(t,this.error);default:throw Error("Unexpected status: "+this.status)}}};const Ob=(e,t)=>e===t||e.length===t.length&&e.every((n,r)=>!Bi(n,t[r]));var Bb={circle16:{width:"16px",height:"16px",loader:()=>C(()=>import("./circle_16.svg-5A6VQOYQ-BVY5oFpz.js"),__vite__mapDeps([])).then(e=>e.circle16Svg)},cross8:{width:"8px",height:"8px",loader:()=>C(()=>import("./cross_8.svg-XGFBM66Z-DC1ijSYt.js"),__vite__mapDeps([])).then(e=>e.cross8Svg)},startDefault16:{width:"16px",height:"16px",loader:()=>C(()=>import("./start-default_16.svg-64JR52LF-Bl0WPgJ7.js"),__vite__mapDeps([])).then(e=>e.startDefault16Svg)},connect16:{width:"16px",height:"16px",loader:()=>C(()=>import("./connect_16.svg-PO2GPMS3-CellBfF-.js"),__vite__mapDeps([])).then(e=>e.connect16Svg)},cornerDownRight16:{width:"16px",height:"16px",loader:()=>C(()=>import("./corner-down-right_16.svg-PPZGTLPB-DHPVjtsp.js"),__vite__mapDeps([])).then(e=>e.cornerDownRight16Svg)},chevronDown16:{width:"16px",height:"16px",loader:()=>C(()=>import("./chevron-down_16.svg-WQJ4APA6-CC6lNT9e.js"),__vite__mapDeps([])).then(e=>e.chevronDown16Svg)},arrowDown16:{width:"16px",height:"16px",loader:()=>C(()=>import("./arrow-down_16.svg-4QVYEBI5-BAaTz7bT.js"),__vite__mapDeps([])).then(e=>e.arrowDown16Svg)},fusion16:{width:"16px",height:"16px",loader:()=>C(()=>import("./fusion_16-WIORCX7S-zI7Nl1Z7.js"),__vite__mapDeps([])).then(e=>e.fusion16Svg)},link16:{width:"16px",height:"16px",loader:()=>C(()=>import("./link_16.svg-4266GCXS-lUBOYpSk.js"),__vite__mapDeps([])).then(e=>e.link16Svg)},plusCircle16:{width:"16px",height:"16px",loader:()=>C(()=>import("./plus-circle_16.svg-T2GBAQQM-DT3d3qfI.js"),__vite__mapDeps([])).then(e=>e.plusCircle16Svg)},circle24:{width:"24px",height:"24px",loader:()=>C(()=>import("./circle_24.svg-AB4GUE2T-BPsHfNZJ.js"),__vite__mapDeps([])).then(e=>e.circle24Svg)},arrowDown24:{width:"24px",height:"24px",loader:()=>C(()=>import("./arrow-down_24.svg-BMJLASFV-8yTC9oW3.js"),__vite__mapDeps([])).then(e=>e.arrowDown24Svg)},arrowLeft24:{width:"24px",height:"24px",loader:()=>C(()=>import("./arrow-left_24.svg-IRRYQNFN-CnAf4nj_.js"),__vite__mapDeps([])).then(e=>e.arrowLeft24Svg)},cross24:{width:"24px",height:"24px",loader:()=>C(()=>import("./cross_24.svg-HSKPD6WC-DzbWjy0F.js"),__vite__mapDeps([])).then(e=>e.cross24Svg)},search24:{width:"24px",height:"24px",loader:()=>C(()=>import("./search_24.svg-3U45YGNI-x7cw-3wG.js"),__vite__mapDeps([])).then(e=>e.search24Svg)},edit24:{width:"24px",height:"24px",loader:()=>C(()=>import("./edit_24.svg-BFMIFOEW-BqT5V9wu.js"),__vite__mapDeps([])).then(e=>e.edit24Svg)},connect24:{width:"24px",height:"24px",loader:()=>C(()=>import("./connect_24.svg-ME56QVN3-BRIeZd2a.js"),__vite__mapDeps([])).then(e=>e.connect24Svg)},link24:{width:"24px",height:"24px",loader:()=>C(()=>import("./link_24.svg-HICFLTRN-D5OIzpW_.js"),__vite__mapDeps([])).then(e=>e.link24Svg)},alert24:{width:"24px",height:"24px",loader:()=>C(()=>import("./alert_24.svg-O4BS725F-qXitMCc-.js"),__vite__mapDeps([])).then(e=>e.alert24Svg)},l2Chain24:{width:"24px",height:"24px",loader:()=>C(()=>import("./l2-chain_24.svg-MREYJWW5-BVdj2aEH.js"),__vite__mapDeps([])).then(e=>e.l2Chain24Svg)},authRefresh36:{width:"36px",height:"36px",loader:()=>C(()=>import("./auth-refresh_36.svg-XXESHZLA-CZSOhfcA.js"),__vite__mapDeps([])).then(e=>e.authRefresh36Svg)},logoFull:{width:"102px",height:"40px",loader:()=>C(()=>import("./logo-full.svg-GO34FL6I-CgPHSi0a.js"),__vite__mapDeps([])).then(e=>e.logoFullSvg)},unicornRun:{width:"38px",height:"24px",loader:()=>C(()=>import("./unicorn_run.svg-TQ2VX525-BhHI0a-4.js"),__vite__mapDeps([])).then(e=>e.unicornRunSvg)},fire48:{width:"48px",height:"48px",loader:()=>C(()=>import("./fire_48.png-LYIESPA7-CzZkXU_u.js"),__vite__mapDeps([])).then(e=>e.fire48Png)},eth24:{width:"24px",height:"24px",loader:()=>C(()=>import("./eth_24.svg-6WUUVWDG-6bi7oECN.js"),__vite__mapDeps([])).then(e=>e.eth24Svg)},bnb24:{width:"24px",height:"24px",loader:()=>C(()=>import("./bnb_24.svg-7QB677SV-CTehY0Vg.js"),__vite__mapDeps([])).then(e=>e.bnb24Svg)},op24:{width:"24px",height:"24px",loader:()=>C(()=>import("./op_24.svg-P2V2XERS-C8mZiwDF.js"),__vite__mapDeps([])).then(e=>e.op24Svg)},matic24:{width:"24px",height:"24px",loader:()=>C(()=>import("./matic_24.svg-XFEFR3CB-KHwkwr3u.js"),__vite__mapDeps([])).then(e=>e.matic24Svg)},arbitrum24:{width:"24px",height:"24px",loader:()=>C(()=>import("./arbitrum_24.svg-C4CBQP6H-BQSl0qsA.js"),__vite__mapDeps([])).then(e=>e.arbitrum24Svg)},gnosis24:{width:"24px",height:"24px",loader:()=>C(()=>import("./gnosis_24.svg-G4IW5RE5-wE4H5vH7.js"),__vite__mapDeps([])).then(e=>e.gnosis24Svg)},avalanche24:{width:"24px",height:"24px",loader:()=>C(()=>import("./avalanche_24.svg-UDMC72BD-Clhy4Rm1.js"),__vite__mapDeps([])).then(e=>e.avalanche24Svg)},fantom24:{width:"24px",height:"24px",loader:()=>C(()=>import("./fantom_24.svg-M7OSWL5Q-CLBaYdHi.js"),__vite__mapDeps([])).then(e=>e.fantom24Svg)},aurora24:{width:"24px",height:"24px",loader:()=>C(()=>import("./aurora_24.svg-ZG7S7PJE-CQlZ8NXJ.js"),__vite__mapDeps([])).then(e=>e.aurora24Svg)},klaytn24:{width:"24px",height:"24px",loader:()=>C(()=>import("./klaytn_24.svg-Z4324MSC-DwPx-LBH.js"),__vite__mapDeps([])).then(e=>e.klaytn24Svg)},zkSyncEra24:{width:"24px",height:"24px",loader:()=>C(()=>import("./zksyncera_24.svg-EH2KLSCU-CpXuu8IG.js"),__vite__mapDeps([])).then(e=>e.zkSyncEra24Svg)},base24:{width:"24px",height:"24px",loader:()=>C(()=>import("./base_24.svg-IUSPU3VL-CPlYB9YL.js"),__vite__mapDeps([])).then(e=>e.base24Svg)}},mt=class extends V{constructor(){super(...arguments),this.iconLoadTask=new Fi(this,([e])=>this.loadImage(e),()=>[this.icon])}render(){var t,n;const e={width:this.width??((t=this.iconRecord)==null?void 0:t.width),height:this.height??((n=this.iconRecord)==null?void 0:n.height)};return this.iconLoadTask.render({pending:()=>E`<div style="${gc(e)}"></div>`,complete:r=>typeof r=="function"?r({...e,props:this.props}):r})}async loadImage(e){if(!e)throw new Error("icon is required field for inch-icon element");if(this.iconRecord=Bb[e],!this.iconRecord)throw new Error(`icon name ${e} not exist`);return await this.iconRecord.loader()}};mt.tagName="inch-icon";mt.styles=F`
    :host {
        display: flex;
        width: fit-content;
        height: fit-content;
    }
  `;Ps([z({type:String,attribute:"icon"})],mt.prototype,"icon",2);Ps([z({type:String,attribute:!0})],mt.prototype,"width",2);Ps([z({type:String,attribute:!0})],mt.prototype,"height",2);Ps([z({type:Object})],mt.prototype,"props",2);mt=Ps([Y(mt.tagName)],mt);var Rb=Object.defineProperty,Mb=Object.getOwnPropertyDescriptor,Q=(e,t,n,r)=>{for(var s=r>1?void 0:r?Mb(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Rb(t,n,s),s};const Ft=In(class extends Mi{constructor(e){var t;if(super(e),e.type!==oc.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,s;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in t)t[i]&&!((r=this.nt)!=null&&r.has(i))&&this.st.add(i);return this.render(t)}const n=e.element.classList;for(const i of this.st)i in t||(n.remove(i),this.st.delete(i));for(const i in t){const o=!!t[i];o===this.st.has(i)||(s=this.nt)!=null&&s.has(i)||(o?(n.add(i),this.st.add(i)):(n.remove(i),this.st.delete(i)))}return Ut}});var Db=Object.defineProperty,jb=Object.getOwnPropertyDescriptor,On=(e,t,n,r)=>{for(var s=r>1?void 0:r?jb(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&Db(t,n,s),s},Fb=F`
    
    :host {
        display: block;
    }

    button {
        cursor: pointer;
        font-family: 'Inter', sans-serif;
        font-style: normal;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        border: 1px solid var(--button-border-color, none);
        background-color: var(--button-background-color);
        color: var(--button-text-color, var(--color-core-white));
        box-sizing: border-box;
        transition: background-color .2s, box-shadow .2s, color .2s, transform .1s;
        outline: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
        will-change: background-color, color, box-shadow, transform;
    }
    
    button.full-size {
        width: 100%;
    }
    
    @media (hover: hover) {
        button:enabled:hover {
            background-color: var(--button-background-color-hover);
            color: var(--button-text-color-hover, var(--button-text-color));
        }
    }
    
    button:enabled:active, button:enabled:focus-visible {
        transform: scale(0.98);
        box-shadow: 0 0 0 2px var(--button-box-shadow-color-active);
    }
    
    .active-box-shadow-inset:enabled:active, .active-box-shadow-inset:enabled:focus-visible {
        box-shadow: inset 0 0 0 2px var(--button-box-shadow-color-active);
    }

    button:disabled {
        cursor: not-allowed;
    }
`,Nb=F`
    
    .m {
        padding: 6px 12px;
        border-radius: 8px;
        font-size: 14px;
    }

    .l {
        padding: 8px 16px;
        border-radius: 12px;
        font-size: 14px;
    }

    .xl {
        padding: 12px 24px;
        border-radius: 16px;
        font-size: 16px;
    }

    .xxl {
        padding: 16px 24px;
        border-radius: 16px;
        font-size: 20px;
    }

    .m.only-icon {
        padding: 0;
    }

    .l.only-icon {
        padding: 6px;
    }

    .xl.only-icon {
        padding: 12px;
    }

    .xxl.only-icon {
        padding: 18px;
    }

`,Lb=F`

    .primary {
        --button-background-color: var(--primary);
        --button-background-color-hover: var(--primary-hover);
        --button-box-shadow-color-active: var(--secondary);
        --button-text-color: var(--color-core-white);
    }
    
    .primary-critical {
        --button-background-color: var(--color-core-red-critical);
        --button-background-color-hover: var(--color-core-red-critical-hover);
        --button-box-shadow-color-active: var(--color-background-bg-critical);
        --button-text-color: var(--color-core-white);
    }
    
    .primary-warning {
        --button-background-color: var(--color-core-orange-warning);
        --button-background-color-hover: var(--color-core-orange-warning-hover);
        --button-box-shadow-color-active: var(--color-background-bg-warning);
        --button-text-color: var(--color-core-white);
    }

    .primary-gray {
        --button-background-color: var(--color-background-bg-primary);
        --button-background-color-hover: var(--color-background-bg-secondary);
        --button-box-shadow-color-active: var(--color-background-bg-secondary);
        --button-text-color: var(--color-content-content-primary);
    }
    
    .secondary {
        --button-background-color: var(--secondary);
        --button-background-color-hover: var(--secondary-hover);
        --button-box-shadow-color-active: var(--secondary-hover);
        --button-text-color: var(--primary);
        --button-text-color-hover: var(--primary-hover);
    }
    
    .secondary-critical {
        --button-background-color: var(--color-background-bg-critical);
        --button-background-color-hover: var(--color-background-bg-critical-hover);
        --button-box-shadow-color-active: var(--color-background-bg-critical-hover);
        --button-text-color: var(--color-core-red-critical-hover);
    }
    
    .secondary-warning {
        --button-background-color: var(--color-background-bg-warning);
        --button-background-color-hover: var(--color-background-bg-warning-hover);
        --button-box-shadow-color-active: var(--color-background-bg-warning-hover);
        --button-text-color: var(--color-core-orange-warning);
    }
    
    .secondary-gray {
        --button-background-color: transparent;
        --button-border-color: var(--color-border-border-tertiary);
        --button-background-color-hover: var(--color-background-bg-secondary);
        --button-box-shadow-color-active: var(--secondary);
        --button-text-color: var(--color-content-content-primary);
        --button-text-color-hover: var(--color-content-content-secondary);
        --button-background-color-disabled: transparent;
        --button-border-color-disabled: var(--color-background-bg-disabled)
    }
    
    .tertiary {
        --button-background-color: transparent;
        --button-background-color-hover: var(--secondary);
        --button-text-color: var(--primary);
    }
    
    .tertiary-gray {
        --button-background-color: transparent;
        --button-background-color-hover: var(--color-background-bg-secondary);
        --button-text-color: var(--color-content-content-primary);
        --button-text-color-hover: var(--color-content-content-secondary);
    }
    
    button:disabled {
        background-color: var(--button-background-color-disabled, var(--color-background-bg-disabled));
        color: var(--color-content-content-disabled);
        border: 1px solid var(--button-border-color-disabled, none);
    }
`,qe=class extends V{constructor(){super(...arguments),this.size="xl",this.type="primary",this.fullSize=!1,this.disabled=!1,this.disabledSlotPointerEvent=!1,this.isIconButton=!1}render(){const e={[this.size]:!0,[this.type]:!0,"only-icon":this.isIconButton,"full-size":this.fullSize,"active-box-shadow-inset":this.type.includes("secondary")&&!this.type.includes("gray")};return E`
      <button
        class="${Ft(e)}"
        @click="${()=>xb()}"
        ?disabled="${this.disabled}"
      ><slot style="${this.disabledSlotPointerEvent?"pointer-events: none;":""}" @slotchange="${this.handleSlotChange}"></slot></button>
    `}handleSlotChange(e){const t=e.target;if(!t)return;const n=t.assignedNodes({flatten:!0}).filter(r=>r.nodeName!=="#text");this.isIconButton=n.length===1&&n[0].nodeName.toLowerCase()==="inch-icon",this.requestUpdate()}};qe.tagName="inch-button";qe.styles=[Fb,Nb,Lb];On([z({type:String,attribute:!0})],qe.prototype,"size",2);On([z({type:String,attribute:!0})],qe.prototype,"type",2);On([z({type:Boolean,attribute:!0})],qe.prototype,"fullSize",2);On([z({type:Boolean,attribute:!0})],qe.prototype,"disabled",2);On([z({type:Boolean,attribute:!0})],qe.prototype,"disabledSlotPointerEvent",2);On([Ye()],qe.prototype,"isIconButton",2);qe=On([Y(qe.tagName)],qe);var zb=Object.defineProperty,Ub=Object.getOwnPropertyDescriptor,Bn=(e,t,n,r)=>{for(var s=r>1?void 0:r?Ub(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&zb(t,n,s),s},Vb=F`
    
    :host {
        background-color: var(--color-background-bg-primary);
        border-radius: 24px;
        width: fit-content;
        height: fit-content;
        display: block;
    }
    
    :host(.mobile) {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        width: 100vw;
        height: fit-content;
    }
    
    .card-content {
        padding: 8px;
        display: flex;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        flex-direction: column;
        gap: 8px;
    }

`,Hn=class extends V{constructor(){super(...arguments),this.forMobileView=!1}render(){return E`
      <slot name="header"></slot>
      <div class="card-content">
        <slot></slot>
      </div>
    `}firstUpdated(){this.forMobileView&&this.classList.add("mobile")}};Hn.tagName="inch-card";Hn.styles=Vb;Bn([z({type:Boolean})],Hn.prototype,"forMobileView",2);Hn=Bn([Y(Hn.tagName)],Hn);var qb=F`

    :host {
        display: flex;
        height: 68px;
        width: 100%;
        padding: 16px 16px 0;
        box-sizing: border-box;
        border-top-left-radius: 32px;
        border-top-right-radius: 32px;
    }
    
    :host(.not-native-mode) {
        margin-top: -16px;
        margin-left: -16px;
        width: calc(100% + 32px);
        height: 60px;
    }

    .card-header-container {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        width: 100%;
        height: 100%;
    }

    .position-container {
        height: 100%;
        width: 100%;
        display: flex;
        align-items: center;
        color: var(--color-content-content-primary);
        gap: 8px;
        word-wrap: break-word;
        white-space: nowrap;
    }

    .center-container {
        justify-content: center;
    }

    .left-container {
        justify-content: flex-start;
    }

    .right-container {
        justify-content: flex-end;
    }

    .card-header-title {
        font-size: 20px;
        font-weight: 600;
        line-height: 28px;
        letter-spacing: 0;
        text-align: center;
    }
    
    .card-header-title__left:not(.card-header-title__and-back) {
        margin-left: 8px;
    }

    ${Tn(F`
        .card-header-title {
            font-size: 16px;
        }
        :host {
            height: 52px;
            padding: 8px 8px 0;
        }
        :host(.not-native-mode) {
            margin-top: -8px;
            margin-left: -8px;
            width: calc(100% + 16px);
            height: 52px;
        }
    `)}

`,bt=class extends V{constructor(){super(),this.headerTextPosition="center",this.backButton=!1,this.closeButton=!1,this.slotDirty={},this.slot="header"}render(){return E`
      <div class="card-header-container">
        <div class="position-container left-container">
          <slot @slotchange="${()=>this.onSlotChange("left")}" name="left-container"></slot>
          ${this.getBackButton("left")}
          ${this.getHeader("left")}
        </div>
        <div class="position-container center-container">
          <slot @slotchange="${()=>this.onSlotChange("center")}" name="center-container"></slot>
          ${this.getHeader("center")}
        </div>
        <div class="position-container right-container">
          <slot @slotchange="${()=>this.onSlotChange("right")}" name="right-container"></slot>
          ${this.getCloseButton("right")}
        </div>
      </div>
    `}firstUpdated(){var e;((e=this.parentElement)==null?void 0:e.localName)!=="inch-card"&&this.classList.add("not-native-mode")}getHeader(e){const t=this.slotDirty[e]??!1,n={"card-header-title":!0,[`card-header-title__${e}`]:!0,"card-header-title__and-back":this.backButton};return this.headerTextPosition===e&&!t?E`
      <span class="${Ft(n)}">${this.headerText}</span>
    `:""}getBackButton(e){const t=this.slotDirty[e]??!1;return this.backButton&&!t?E`
      <inch-button @click="${n=>Mt(this,"backCard",null,n)}" size="l" type="tertiary-gray">
        <inch-icon icon="arrowLeft24"></inch-icon>
      </inch-button>
    `:""}getCloseButton(e){const t=this.slotDirty[e]??!1;return this.closeButton&&!t?E`
      <inch-button @click="${n=>Mt(this,"closeCard",null,n)}" size="l" type="tertiary-gray">
        <inch-icon icon="cross24"></inch-icon>
      </inch-button>
    `:""}onSlotChange(e){this.slotDirty={...this.slotDirty,[e]:!0},this.requestUpdate()}};bt.tahName="inch-card-header";bt.styles=qb;Bn([z({type:String,attribute:!0})],bt.prototype,"headerText",2);Bn([z({type:String,attribute:!0})],bt.prototype,"headerTextPosition",2);Bn([z({type:Boolean,attribute:!0})],bt.prototype,"backButton",2);Bn([z({type:Boolean,attribute:!0})],bt.prototype,"closeButton",2);bt=Bn([Y(bt.tahName)],bt);function*Wd(e,t){if(e!==void 0){let n=0;for(const r of e)yield t(r,n++)}}const vc=e=>e??ee;var Hb=Object.defineProperty,Wb=Object.getOwnPropertyDescriptor,As=(e,t,n,r)=>{for(var s=Wb(t,n),i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=o(t,n,s)||s);return s&&Hb(t,n,s),s},Gb={oneInchDevPortalHost:"https://jellyfish-app-8xwqz.ondigitalocean.app/",walletConnectProjectId:"2dd59e55b1b7bbfb98ddf9266f813b3b",appVersion:"1.0.0-dev.8"};function Gd(e){return Gb[e]}function Rn(e,t){return console.log(e),Reflect.has(window,e)||Reflect.set(window,e,t()),Reflect.get(window,e)}var Kb=class{constructor(e){this.config=e,this.storage=Zb()}get prefix(){return this.config.storagePrefix??""}get separator(){return this.config.storageSeparator??":"}set(e,t){if(this.storage)try{const n=this.key(e),r=JSON.stringify(t);this.storage.setItem(n,r)}catch(n){console.warn(n)}}get(e,t){if(!this.storage)return null;try{const n=this.key(e),r=this.storage.getItem(n);return r===null?null:t(r)}catch(n){return console.warn(n),null}}remove(e){if(this.storage)try{const t=this.key(e);this.storage.removeItem(t)}catch(t){console.warn(t)}}update(e,t){const n=this.get(e,cn),r=t(n);return this.set(e,r),r}updateEntity(e,t,n){const s={...this.get(e,cn)??{},[t]:n};this.set(e,s)}key(e){return[this.prefix,e].join(this.separator)}};function Zb(){return qu(window.localStorage)?window.localStorage:qu(window.sessionStorage)?window.sessionStorage:null}function qu(e){if(window!=null&&window.localStorage)try{e.setItem("@__test__@","1");const t=window.localStorage.getItem("@__test__@");e.removeItem("@__test__@");const n=e.getItem("@__test__@");return t==="1"&&n===null}catch{return!1}return!1}function cn(e){return JSON.parse(e)}var L=Rn("__storage_controller",()=>new Kb({storagePrefix:"one-inch",storageSeparator:":"})),bk=e=>[...Array(e)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),_=(e=>(e[e.eth=1]="eth",e[e.bnb=56]="bnb",e[e.matic=137]="matic",e[e.op=10]="op",e[e.arbitrum=42161]="arbitrum",e[e.gnosis=100]="gnosis",e[e.avalanche=43114]="avalanche",e[e.fantom=250]="fantom",e[e.aurora=1313161554]="aurora",e[e.klaytn=8217]="klaytn",e[e.zkSyncEra=324]="zkSyncEra",e))(_||{});const Yb="1.0.0";let Re=class ta extends Error{constructor(t,n={}){var o;const r=n.cause instanceof ta?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof ta&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Yb}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Xt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Kd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Zd=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Yd=/^\(.+?\).*?$/,Hu=/^tuple(?<array>(\[(\d*)\])*)$/;function na(e){let t=e.type;if(Hu.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=na(i),s<n-1&&(t+=", ")}const r=Xt(Hu,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,na({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function gr(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=na(s),r!==n-1&&(t+=", ")}return t}function Jb(e){return e.type==="function"?`function ${e.name}(${gr(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${gr(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${gr(e.inputs)})`:e.type==="error"?`error ${e.name}(${gr(e.inputs)})`:e.type==="constructor"?`constructor(${gr(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Jd=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Qb(e){return Jd.test(e)}function Xb(e){return Xt(Jd,e)}const Qd=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ey(e){return Qd.test(e)}function ty(e){return Xt(Qd,e)}const Xd=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ny(e){return Xd.test(e)}function ry(e){return Xt(Xd,e)}const eh=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function th(e){return eh.test(e)}function sy(e){return Xt(eh,e)}const nh=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function iy(e){return nh.test(e)}function oy(e){return Xt(nh,e)}const ay=/^fallback\(\)$/;function cy(e){return ay.test(e)}const uy=/^receive\(\) external payable$/;function ly(e){return uy.test(e)}const dy=new Set(["indexed"]),ra=new Set(["calldata","memory","storage"]);class hy extends Re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class fy extends Re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class py extends Re{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class my extends Re{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class by extends Re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class yy extends Re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class gy extends Re{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class $r extends Re{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class vy extends Re{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class wy extends Re{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class xy extends Re{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class _y extends Re{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function $y(e,t){return t?`${t}:${e}`:e}const _o=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function ky(e,t={}){if(ny(e)){const n=ry(e);if(!n)throw new $r({signature:e,type:"function"});const r=Le(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(sn(r[a],{modifiers:ra,structs:t,type:"function"}));const o=[];if(n.returns){const a=Le(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(sn(a[u],{modifiers:ra,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}if(ey(e)){const n=ty(e);if(!n)throw new $r({signature:e,type:"event"});const r=Le(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(sn(r[o],{modifiers:dy,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(Qb(e)){const n=Xb(e);if(!n)throw new $r({signature:e,type:"error"});const r=Le(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(sn(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(iy(e)){const n=oy(e);if(!n)throw new $r({signature:e,type:"constructor"});const r=Le(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(sn(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(cy(e))return{type:"fallback"};if(ly(e))return{type:"receive",stateMutability:"payable"};throw new vy({signature:e})}const Py=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ay=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ey=/^u?int$/;function sn(e,t){var d,h;const n=$y(e,t==null?void 0:t.type);if(_o.has(n))return _o.get(n);const r=Yd.test(e),s=Xt(r?Ay:Py,e);if(!s)throw new py({param:e});if(s.name&&Iy(s.name))throw new my({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const f=Le(s.type),m=[],p=f.length;for(let y=0;y<p;y++)m.push(sn(f[y],{structs:a}));u={components:m}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Ey.test(s.type))c=`${s.type}256`;else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!rh(c))throw new fy({type:c});if(s.modifier){if(!((h=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new by({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(ra.has(s.modifier)&&!Cy(c,!!s.array))throw new yy({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...i,...o,...u};return _o.set(n,l),l}function Le(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?Le(a,[...t,n.trim()]):Le(a,t,`${n}${o}`,r);case"(":return Le(a,t,`${n}${o}`,r+1);case")":return Le(a,t,`${n}${o}`,r-1);default:return Le(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new _y({current:n,depth:r});return t.push(n.trim()),t}function rh(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Kd.test(e)||Zd.test(e)}const Sy=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Iy(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Kd.test(e)||Zd.test(e)||Sy.test(e)}function Cy(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Ty(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!th(a))continue;const c=sy(a);if(!c)throw new $r({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let h=0;h<d;h++){const m=u[h].trim();if(!m)continue;const p=sn(m,{type:"struct"});l.push(p)}if(!l.length)throw new wy({signature:a});t[c.name]=l}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=sh(c,t)}return r}const Oy=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function sh(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(Yd.test(o.type))r.push(o);else{const c=Xt(Oy,o.type);if(!(c!=null&&c.type))throw new gy({abiParameter:o});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new xy({type:l});r.push({...o,type:`tuple${u??""}`,components:sh(t[l]??[],t,new Set([...n,l]))})}else if(rh(l))r.push(o);else throw new hy({type:l})}}return r}function wc(e){const t=Ty(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];th(i)||n.push(ky(i,t))}return n}function R(e,t,n){return r=>{var s;return((s=e[t.name||n])==null?void 0:s.call(e,r))??t(e,r)}}function $t(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Wy(e.type);return`${e.name}(${Ni(e.inputs,{includeName:t})})`}function Ni(e,{includeName:t=!1}={}){return e?e.map(n=>By(n,{includeName:t})).join(t?", ":","):""}function By(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ni(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ze(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ne(e){return Ze(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ry="2.9.6",My=e=>e,Li=e=>e,Dy=()=>`viem@${Ry}`;class A extends Error{constructor(t,n={}){var i;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Dy()});const r=n.cause instanceof A?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof A&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return ih(this,t)}}function ih(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?ih(e.cause,t):t?null:e}class jy extends A{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Wu extends A{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class oh extends A{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ni(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class zi extends A{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Fy extends A{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Ny extends A{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class ah extends A{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class ch extends A{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Ly extends A{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class uh extends A{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Gu extends A{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class gi extends A{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class zy extends A{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Uy extends A{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${$t(t.abiItem)}\`, and`,`\`${n.type}\` in \`${$t(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class lh extends A{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Zr extends A{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ni(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Ui extends A{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${$t(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Vy extends A{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class qy extends A{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Hy extends A{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Wy extends A{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Gy extends A{constructor(t){super(`Type "${t}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class Ky extends A{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class dh extends A{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class hh extends A{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class Ku extends A{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function nt(e,{dir:t,size:n=32}={}){return typeof e=="string"?Nt(e,{dir:t,size:n}):Zy(e,{dir:t,size:n})}function Nt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new hh({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Zy(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new hh({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class Yy extends A{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Jy extends A{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class Qy extends A{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function sr(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function st(e,{size:t}){if(ne(e)>t)throw new Qy({givenSize:ne(e),maxSize:t})}function X(e,t={}){const{signed:n}=t;t.size&&st(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function rt(e,t={}){return Number(X(e,t))}const Xy=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function O(e,t={}){return typeof e=="number"||typeof e=="bigint"?j(e,t):typeof e=="string"?Vi(e,t):typeof e=="boolean"?xc(e,t):fe(e,t)}function xc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(st(n,{size:t.size}),nt(n,{size:t.size})):n}function fe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Xy[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(st(r,{size:t.size}),nt(r,{dir:"right",size:t.size})):r}function j(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Yy({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?nt(a,{size:r}):a}const eg=new TextEncoder;function Vi(e,t={}){const n=eg.encode(e);return fe(n,t)}const tg=new TextEncoder;function He(e,t={}){return typeof e=="number"||typeof e=="bigint"?rg(e,t):typeof e=="boolean"?ng(e,t):Ze(e)?We(e,t):yt(e,t)}function ng(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(st(n,{size:t.size}),nt(n,{size:t.size})):n}const ct={zero:48,nine:57,A:65,F:70,a:97,f:102};function Zu(e){if(e>=ct.zero&&e<=ct.nine)return e-ct.zero;if(e>=ct.A&&e<=ct.F)return e-(ct.A-10);if(e>=ct.a&&e<=ct.f)return e-(ct.a-10)}function We(e,t={}){let n=e;t.size&&(st(n,{size:t.size}),n=nt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=Zu(r.charCodeAt(a++)),u=Zu(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new A(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function rg(e,t){const n=j(e,t);return We(n)}function yt(e,t={}){const n=tg.encode(e);return typeof t.size=="number"?(st(n,{size:t.size}),nt(n,{dir:"right",size:t.size})):n}function Yu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function fh(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function vi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ph(e,t){fh(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Us=BigInt(2**32-1),Ju=BigInt(32);function sg(e,t=!1){return t?{h:Number(e&Us),l:Number(e>>Ju&Us)}:{h:Number(e>>Ju&Us)|0,l:Number(e&Us)|0}}function ig(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=sg(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const og=(e,t,n)=>e<<n|t>>>32-n,ag=(e,t,n)=>t<<n|e>>>32-n,cg=(e,t,n)=>t<<n-32|e>>>64-n,ug=(e,t,n)=>e<<n-32|t>>>64-n;const lg=e=>e instanceof Uint8Array,dg=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),$o=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Xe=(e,t)=>e<<32-t|e>>>t,hg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!hg)throw new Error("Non little-endian hardware is not supported");function fg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function _c(e){if(typeof e=="string"&&(e=fg(e)),!lg(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class mh{clone(){return this._cloneInto()}}function bh(e){const t=r=>e().update(_c(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const[yh,gh,vh]=[[],[],[]],pg=BigInt(0),vr=BigInt(1),mg=BigInt(2),bg=BigInt(7),yg=BigInt(256),gg=BigInt(113);for(let e=0,t=vr,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],yh.push(2*(5*r+n)),gh.push((e+1)*(e+2)/2%64);let s=pg;for(let i=0;i<7;i++)t=(t<<vr^(t>>bg)*gg)%yg,t&mg&&(s^=vr<<(vr<<BigInt(i))-vr);vh.push(s)}const[vg,wg]=ig(vh,!0),Qu=(e,t,n)=>n>32?cg(e,t,n):og(e,t,n),Xu=(e,t,n)=>n>32?ug(e,t,n):ag(e,t,n);function xg(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=Qu(u,l,1)^n[a],h=Xu(u,l,1)^n[a+1];for(let f=0;f<50;f+=10)e[o+f]^=d,e[o+f+1]^=h}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=gh[o],c=Qu(s,i,a),u=Xu(s,i,a),l=yh[o];s=e[l],i=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=vg[r],e[1]^=wg[r]}n.fill(0)}class $c extends mh{constructor(t,n,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Yu(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=dg(this.state)}keccak(){xg(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){vi(this);const{blockLen:n,state:r}=this;t=_c(t);const s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){vi(this,!1),fh(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Yu(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(ph(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new $c(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const _g=(e,t,n)=>bh(()=>new $c(t,e,n)),$g=_g(1,136,256/8);function ke(e,t){const n=t||"hex",r=$g(Ze(e,{strict:!1})?He(e):e);return n==="bytes"?r:O(r)}const kg=e=>ke(He(e));function Pg(e){return kg(e)}function Ag(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new A("Unable to normalize signature.");return s}const Eg=e=>{const t=typeof e=="string"?e:Jb(e);return Ag(t)};function wh(e){return Pg(Eg(e))}const kc=wh;class de extends A{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class Sg extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}function qi(e,t){const n=e.substring(2).toLowerCase(),r=ke(yt(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());return`0x${s.join("")}`}function ni(e,t){if(!re(e,{strict:!1}))throw new de({address:e});return qi(e)}const Ig=/^0x[a-fA-F0-9]{40}$/,ko=new Sg(8192);function re(e,t){const{strict:n=!0}=t??{};if(ko.has(e))return ko.get(e);const r=Ig.test(e)?e.toLowerCase()===e?!0:n?qi(e)===e:!0:!1;return ko.set(e,r),r}function kt(e){return typeof e[0]=="string"?it(e):Cg(e)}function Cg(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function it(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Yr(e,t,n,{strict:r}={}){return Ze(e,{strict:!1})?Tg(e,t,n,{strict:r}):$h(e,t,n,{strict:r})}function xh(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new dh({offset:t,position:"start",size:ne(e)})}function _h(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new dh({offset:n,position:"end",size:ne(e)})}function $h(e,t,n,{strict:r}={}){xh(e,t);const s=e.slice(t,n);return r&&_h(s,t,n),s}function Tg(e,t,n,{strict:r}={}){xh(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&_h(s,t,n),s}function Es(e,t){if(e.length!==t.length)throw new ah({expectedLength:e.length,givenLength:t.length});const n=Og({params:e,values:t}),r=Ac(n);return r.length===0?"0x":r}function Og({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Pc({param:e[r],value:t[r]}));return n}function Pc({param:e,value:t}){const n=Ec(e.type);if(n){const[r,s]=n;return Rg(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Ng(t,{param:e});if(e.type==="address")return Bg(t);if(e.type==="bool")return Dg(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return jg(t,{signed:r})}if(e.type.startsWith("bytes"))return Mg(t,{param:e});if(e.type==="string")return Fg(t);throw new Vy(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ac(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=ne(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(j(t+s,{size:32})),r.push(a),s+=ne(a)):n.push(a)}return kt([...n,...r])}function Bg(e){if(!re(e))throw new de({address:e});return{dynamic:!1,encoded:Nt(e.toLowerCase())}}function Rg(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Hy(e);if(!r&&e.length!==t)throw new Fy({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=Pc({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Ac(i);if(r){const a=j(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?kt([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:kt(i.map(({encoded:o})=>o))}}function Mg(e,{param:t}){const[,n]=t.type.split("bytes"),r=ne(e);if(!n){let s=e;return r%32!==0&&(s=Nt(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:kt([Nt(j(r,{size:32})),s])}}if(r!==parseInt(n))throw new Ny({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:Nt(e,{dir:"right"})}}function Dg(e){if(typeof e!="boolean")throw new A(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Nt(xc(e))}}function jg(e,{signed:t}){return{dynamic:!1,encoded:j(e,{size:32,signed:t})}}function Fg(e){const t=Vi(e),n=Math.ceil(ne(t)/32),r=[];for(let s=0;s<n;s++)r.push(Nt(Yr(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:kt([Nt(j(ne(t),{size:32})),...r])}}function Ng(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=Pc({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ac(r):kt(r.map(({encoded:s})=>s))}}function Ec(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Sc=e=>Yr(wh(e),0,4);function Ss(e){const{abi:t,args:n=[],name:r}=e,s=Ze(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?Sc(a)===r:a.type==="event"?kc(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in a&&a.inputs[l];return d?sa(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=kh(a.inputs,o.inputs,n);if(u)throw new Uy({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function sa(e,t){const n=typeof e,r=t.type;switch(r){case"address":return re(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>sa(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>sa(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function kh(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return kh(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?re(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?re(n[r],{strict:!1}):!1)return o}}const el="/docs/contract/encodeEventTopics";function Is(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Ss({abi:t,name:n});if(!u)throw new Gu(n,{docsPath:el});s=u}if(s.type!=="event")throw new Gu(void 0,{docsPath:el});const i=$t(s),o=kc(i);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];l.length>0&&(a=(u==null?void 0:u.map((d,h)=>Array.isArray(l[h])?l[h].map((f,m)=>tl({param:d,value:l[h][m]})):l[h]?tl({param:d,value:l[h]}):null))??[])}return[o,...a]}function tl({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ke(He(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ky(e.type);return Es([e],[t])}function Hi(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&t===i&&(n[o]=c.request)})),i=>n[i]||e.request}async function Ph(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,u=Hi(e,{method:"eth_newFilter"}),l=i?Is({abi:r,args:s,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?j(o):o,toBlock:typeof c=="bigint"?j(c):c,topics:l}]});return{abi:r,args:s,eventName:i,id:d,request:u(d),strict:!!a,type:"event"}}function Me(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const nl="/docs/contract/encodeFunctionData";function Lg(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=Ss({abi:t,args:n,name:r});if(!i)throw new gi(r,{docsPath:nl});s=i}if(s.type!=="function")throw new gi(void 0,{docsPath:nl});return{abi:[s],functionName:Sc($t(s))}}function en(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:Lg(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?Es(s.inputs,t??[]):void 0;return it([i,o??"0x"])}const Ah={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},zg={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ug={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class rl extends A{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Eh extends A{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class Vg extends A{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const qg={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Vg({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Eh({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new rl({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new rl({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ic(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(qg);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Hg(e,t={}){typeof t.size<"u"&&st(e,{size:t.size});const n=fe(e,t);return X(n,t)}function Wg(e,t={}){let n=e;if(typeof t.size<"u"&&(st(n,{size:t.size}),n=sr(n)),n.length>1||n[0]>1)throw new Jy(n);return!!n[0]}function gt(e,t={}){typeof t.size<"u"&&st(e,{size:t.size});const n=fe(e,t);return rt(n,t)}function Gg(e,t={}){let n=e;return typeof t.size<"u"&&(st(n,{size:t.size}),n=sr(n,{dir:"right"})),new TextDecoder().decode(n)}function Wi(e,t){const n=typeof t=="string"?We(t):t,r=Ic(n);if(ne(n)===0&&e.length>0)throw new zi;if(ne(t)&&ne(t)<32)throw new oh({data:typeof t=="string"?t:fe(t),params:e,size:ne(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,u]=Wn(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function Wn(e,t,{staticPosition:n}){const r=Ec(t.type);if(r){const[s,i]=r;return Zg(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return Xg(e,t,{staticPosition:n});if(t.type==="address")return Kg(e);if(t.type==="bool")return Yg(e);if(t.type.startsWith("bytes"))return Jg(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Qg(e,t);if(t.type==="string")return e0(e,{staticPosition:n});throw new qy(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const sl=32,ia=32;function Kg(e){const t=e.readBytes(32);return[qi(fe($h(t,-20))),32]}function Zg(e,t,{length:n,staticPosition:r}){if(!n){const o=gt(e.readBytes(ia)),a=r+o,c=a+sl;e.setPosition(a);const u=gt(e.readBytes(sl)),l=Jr(t);let d=0;const h=[];for(let f=0;f<u;++f){e.setPosition(c+(l?f*32:d));const[m,p]=Wn(e,t,{staticPosition:c});d+=p,h.push(m)}return e.setPosition(r+32),[h,32]}if(Jr(t)){const o=gt(e.readBytes(ia)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[l]=Wn(e,t,{staticPosition:a});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Wn(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function Yg(e){return[Wg(e.readBytes(32),{size:32}),32]}function Jg(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=gt(e.readBytes(32));e.setPosition(n+o);const a=gt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[fe(c),32]}return[fe(e.readBytes(parseInt(s),32)),32]}function Qg(e,t){const n=t.type.startsWith("int"),r=parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Hg(s,{signed:n}):gt(s,{signed:n}),32]}function Xg(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Jr(t)){const o=gt(e.readBytes(ia)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+i);const[l,d]=Wn(e,u,{staticPosition:a});i+=d,s[r?c:u==null?void 0:u.name]=l}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=Wn(e,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function e0(e,{staticPosition:t}){const n=gt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=gt(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=Gg(sr(i));return e.setPosition(t+32),[o,32]}function Jr(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Jr);const n=Ec(e.type);return!!(n&&Jr({...e,type:n[1]}))}function t0(e){const{abi:t,data:n}=e,r=Yr(n,0,4);if(r==="0x")throw new zi;const i=[...t||[],zg,Ug].find(o=>o.type==="error"&&r===Sc($t(o)));if(!i)throw new ch(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Wi(i.inputs,Yr(n,4)):void 0,errorName:i.name}}const be=(e,t,n)=>JSON.stringify(e,(r,s)=>{const i=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,i):i},n);function Sh({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?be(t[i]):t[i]}`).join(", ")})`}const n0={gwei:9,wei:18},r0={ether:-9,wei:9};function Pt(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Cc(e,t="wei"){return Pt(e,n0[t])}function Pe(e,t="wei"){return Pt(e,r0[t])}class s0 extends A{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class i0 extends A{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function il(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function o0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=il(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=il(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Cs(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class a0 extends A{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class c0 extends A{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class u0 extends A{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Cs(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class l0 extends A{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class d0 extends A{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h}){var m;const f=Cs({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Cc(h)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Ih extends A{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Ch extends A{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class h0 extends A{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Th extends A{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h,stateOverride:f}){var y;const m=n?Me(n):void 0;let p=Cs({from:m==null?void 0:m.address,to:d,value:typeof h<"u"&&`${Cc(h)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:l});f&&(p+=`
${o0(f)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class f0 extends A{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Ss({abi:n,args:r,name:o}),u=c?Sh({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?$t(c,{includeName:!0}):void 0,d=Cs({address:s&&My(s),function:l,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class oa extends A{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=t0({abi:t,data:n});const{abiItem:l,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=Ah[f]}else{const f=l?$t(l,{includeName:!0}):void 0,m=l&&h?Sh({abiItem:l,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",m&&m!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(l){i=l}else s&&(c=s);let u;i instanceof ch&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=u}}class p0 extends A{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Tc extends A{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Cr extends A{constructor({body:t,details:n,headers:r,status:s,url:i}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Li(i)}`,t&&`Request body: ${be(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=i}}class m0 extends A{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${Li(r)}`,`Request body: ${be(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Oc extends A{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Li(r)}`,`Request body: ${be(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class aa extends A{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Li(n)}`,`Request body: ${be(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const b0=-1;class Ce extends A{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Oc?t.code:n??b0}}class ur extends Ce{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Qr extends Ce{constructor(t){super(t,{code:Qr.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Xr extends Ce{constructor(t){super(t,{code:Xr.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class es extends Ce{constructor(t){super(t,{code:es.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(es,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ts extends Ce{constructor(t){super(t,{code:ts.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(ts,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class $n extends Ce{constructor(t){super(t,{code:$n.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class kn extends Ce{constructor(t){super(t,{code:kn.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ns extends Ce{constructor(t){super(t,{code:ns.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ns,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class rs extends Ce{constructor(t){super(t,{code:rs.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(rs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ir extends Ce{constructor(t){super(t,{code:ir.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ss extends Ce{constructor(t){super(t,{code:ss.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(ss,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class or extends Ce{constructor(t){super(t,{code:or.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(or,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class is extends Ce{constructor(t){super(t,{code:is.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(is,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class dn extends ur{constructor(t){super(t,{code:dn.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class os extends ur{constructor(t){super(t,{code:os.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(os,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class as extends ur{constructor(t){super(t,{code:as.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(as,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class cs extends ur{constructor(t){super(t,{code:cs.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(cs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class us extends ur{constructor(t){super(t,{code:us.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(us,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ls extends ur{constructor(t){super(t,{code:ls.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(ls,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class y0 extends Ce{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const g0=3;function ds(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const{code:a,data:c,message:u,shortMessage:l}=e instanceof Tc?e:e instanceof A?e.walk(h=>"data"in h)||e.walk():{},d=e instanceof zi?new p0({functionName:i}):[g0,$n.code].includes(a)&&(c||u||l)?new oa({abi:t,data:typeof c=="object"?c.data:c,functionName:i,message:l??u}):e;return new f0(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}class v0 extends A{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h}){var m;const f=Cs({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Cc(h)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class Un extends A{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Un,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Pn extends A{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Pn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ca extends A{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(ca,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ua extends A{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(ua,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class la extends A{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(la,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class da extends A{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(da,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class ha extends A{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(ha,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class fa extends A{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(fa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class pa extends A{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(pa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ma extends A{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ma,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class hs extends A{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Pe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Pe(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Gi extends A{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function Bc(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof A?e.walk(s=>s.code===Un.code):e;return r instanceof A?new Un({cause:e,message:r.details}):Un.nodeMessage.test(n)?new Un({cause:e,message:e.details}):Pn.nodeMessage.test(n)?new Pn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ca.nodeMessage.test(n)?new ca({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ua.nodeMessage.test(n)?new ua({cause:e,nonce:t==null?void 0:t.nonce}):la.nodeMessage.test(n)?new la({cause:e,nonce:t==null?void 0:t.nonce}):da.nodeMessage.test(n)?new da({cause:e,nonce:t==null?void 0:t.nonce}):ha.nodeMessage.test(n)?new ha({cause:e}):fa.nodeMessage.test(n)?new fa({cause:e,gas:t==null?void 0:t.gas}):pa.nodeMessage.test(n)?new pa({cause:e,gas:t==null?void 0:t.gas}):ma.nodeMessage.test(n)?new ma({cause:e}):hs.nodeMessage.test(n)?new hs({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Gi({cause:e})}function w0(e,{docsPath:t,...n}){const r=(()=>{const s=Bc(e,n);return s instanceof Gi?e:s})();return new v0(r,{docsPath:t,...n})}function Rc(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}function Ki(e,t){return({exclude:n,format:r})=>({exclude:n,format:s=>{const i=t(s);if(n)for(const o of n)delete i[o];return{...i,...r(s)}},type:e})}const x0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Ts(e){const t={...e};return typeof e.blobs<"u"&&typeof e.blobs[0]!="string"&&(t.blobs=e.blobs.map(n=>fe(n))),typeof e.gas<"u"&&(t.gas=j(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=j(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=j(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=j(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=j(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=j(e.nonce)),typeof e.type<"u"&&(t.type=x0[e.type]),typeof e.value<"u"&&(t.value=j(e.value)),t}const _0=Ki("transactionRequest",Ts);function Os(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?Me(t):void 0;if(o&&!re(o.address))throw new de({address:o.address});if(i&&!re(i))throw new de({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new a0;if(r&&r>2n**256n-1n)throw new Pn({maxFeePerGas:r});if(s&&r&&s>r)throw new hs({maxFeePerGas:r,maxPriorityFeePerGas:s})}class $0 extends A{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Mc extends A{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class k0 extends A{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Pe(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Oh extends A{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Bh={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Zi(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?rt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?rt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Bh[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const Rh=Ki("transaction",Zi);function Dc(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Zi(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Mh=Ki("block",Dc);async function qt(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var l,d,h;const i=r??"latest",o=s??!1,a=n!==void 0?j(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[a||i,o]}),!c)throw new Oh({blockHash:t,blockNumber:n});return(((h=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:h.format)||Dc)(c)}async function jc(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function P0(e,t){return Dh(e,t)}async function Dh(e,t){var i,o,a;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee)=="function"){const c=n||await R(e,qt,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return X(c)}catch{const[c,u]=await Promise.all([n?Promise.resolve(n):R(e,qt,"getBlock")({}),R(e,jc,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Mc;const l=u-c.baseFeePerGas;return l<0n?0n:l}}async function A0(e,t){return ba(e,t)}async function ba(e,t){var h,f;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var m,p;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(o<1)throw new $0;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),u=m=>m*BigInt(Math.ceil(o*c))/BigInt(c),l=n||await R(e,qt,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:i});if(m!==null)return m}if(i==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Mc;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Dh(e,{block:l,chain:r,request:s}),p=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await R(e,jc,"getGasPrice")({}))}}async function jh(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?j(r):n]});return rt(s)}class Yi extends A{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}function Fh(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new u0({transaction:e})}async function Bs(e){const t=await e.request({method:"eth_chainId"});return rt(t)}async function Ji(e,t){const{account:n=e.account,chain:r,chainId:s,gas:i,nonce:o,parameters:a=["chainId","fees","gas","nonce","type"],type:c}=t,u=n?Me(n):void 0,l={...t,...u?{from:u==null?void 0:u.address}:{}};a.includes("chainId")&&(r?l.chainId=r.id:typeof s<"u"?l.chainId=s:l.chainId=await R(e,Bs,"getChainId")({})),a.includes("nonce")&&typeof o>"u"&&u&&(l.nonce=await R(e,jh,"getTransactionCount")({address:u.address,blockTag:"pending"}));const d=await(()=>{if(!(typeof l.type<"u"))return R(e,qt,"getBlock")({blockTag:"latest"})})();if((a.includes("fees")||a.includes("type"))&&typeof c>"u")try{l.type=Fh(l)}catch{l.type=typeof(d==null?void 0:d.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(a.includes("fees"))if(l.type==="eip1559"||l.type==="eip4844"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const{maxFeePerGas:h,maxPriorityFeePerGas:f}=await ba(e,{block:d,chain:r,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<f)throw new k0({maxPriorityFeePerGas:f});l.maxPriorityFeePerGas=f,l.maxFeePerGas=h}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Mc;const{gasPrice:h}=await ba(e,{block:d,chain:r,request:l,type:"legacy"});l.gasPrice=h}return a.includes("gas")&&typeof i>"u"&&(l.gas=await R(e,Fc,"estimateGas")({...l,account:u?{address:u.address,type:"json-rpc"}:void 0})),Os(l),delete l.parameters,l}async function Fc(e,t){var s,i,o;const n=t.account??e.account,r=n?Me(n):void 0;try{const{accessList:a,blobs:c,blockNumber:u,blockTag:l,data:d,gas:h,gasPrice:f,maxFeePerBlobGas:m,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:b,to:g,value:v,...w}=(r==null?void 0:r.type)==="local"?await Ji(e,t):t,$=(u?j(u):void 0)||l;Os(t);const x=(o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,P=(x||Ts)({...Rc(w,{format:x}),from:r==null?void 0:r.address,accessList:a,blobs:c,data:d,gas:h,gasPrice:f,maxFeePerBlobGas:m,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:b,to:g,value:v}),D=await e.request({method:"eth_estimateGas",params:$?[P,$]:[P]});return BigInt(D)}catch(a){throw w0(a,{...t,account:r,chain:e.chain})}}async function E0(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=en({abi:n,args:s,functionName:i});try{return await R(e,Fc,"estimateGas")({data:a,to:r,...o})}catch(c){const u=o.account?Me(o.account):void 0;throw ds(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:u==null?void 0:u.address})}}const ol="/docs/contract/decodeEventLog";function Nc(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new Ly({docsPath:ol});const c=t.find(p=>p.type==="event"&&o===kc($t(p)));if(!(c&&"name"in c)||c.type!=="event")throw new uh(o,{docsPath:ol});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(p=>!("name"in p&&p.name));let h=d?[]:{};const f=l.filter(p=>"indexed"in p&&p.indexed);for(let p=0;p<f.length;p++){const y=f[p],b=a[p];if(!b)throw new Ui({abiItem:c,param:y});h[y.name||p]=S0({param:y,value:b})}const m=l.filter(p=>!("indexed"in p&&p.indexed));if(m.length>0){if(n&&n!=="0x")try{const p=Wi(m,n);if(p)if(d)h=[...h,...p];else for(let y=0;y<m.length;y++)h[m[y].name]=p[y]}catch(p){if(i)throw p instanceof oh||p instanceof Eh?new Zr({abiItem:c,data:n,params:m,size:ne(n)}):p}else if(i)throw new Zr({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(h).length>0?h:void 0}}function S0({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Wi([e],t)||[])[0]}function Lc({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{var i;try{const o=Nc({...s,abi:e,strict:r});return t&&!t.includes(o.eventName)?null:{...o,...s}}catch(o){let a,c;if(o instanceof uh)return null;if(o instanceof Zr||o instanceof Ui){if(r)return null;a=o.abiItem.name,c=(i=o.abiItem.inputs)==null?void 0:i.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:a}}}).filter(Boolean)}function At(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function zc(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,l=o??(i?[i]:void 0);let d=[];l&&(d=[l.flatMap(m=>Is({abi:[m],eventName:m.name,args:a}))],i&&(d=d[0]));let h;n?h=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):h=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?j(r):r,toBlock:typeof s=="bigint"?j(s):s}]});const f=h.map(m=>At(m));return l?Lc({abi:l,logs:f,strict:u}):f}async function Nh(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,l=o?Ss({abi:n,name:o}):void 0,d=l?void 0:n.filter(h=>h.type==="event");return R(e,zc,"getLogs")({address:r,args:s,blockHash:i,event:l,events:d,fromBlock:a,toBlock:c,strict:u})}const Po="/docs/contract/decodeFunctionResult";function lr(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Ss({abi:t,args:n,name:r});if(!a)throw new gi(r,{docsPath:Po});i=a}if(i.type!=="function")throw new gi(void 0,{docsPath:Po});if(!i.outputs)throw new zy(i.name,{docsPath:Po});const o=Wi(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const ya=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Lh=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],zh=[...Lh,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],I0=[...Lh,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],al=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],cl=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],C0=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],T0="0x82ad56cb";class ga extends A{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class O0 extends A{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class B0 extends A{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class Uh extends A{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class Qi extends A{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function dr({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new ga({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new ga({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function R0(e,{docsPath:t,...n}){const r=(()=>{const s=Bc(e,n);return s instanceof Gi?e:s})();return new Th(r,{docsPath:t,...n})}const Ao=new Map;function Uc({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const l=c();o();const d=l.map(({args:h})=>h);d.length!==0&&e(d).then(h=>{var f;s&&Array.isArray(h)&&h.sort(s);for(let m=0;m<l.length;m++){const{pendingPromise:p}=l[m];(f=p.resolve)==null||f.call(p,[h[m],h])}}).catch(h=>{var f;for(let m=0;m<l.length;m++){const{pendingPromise:p}=l[m];(f=p.reject)==null||f.call(p,h)}})},o=()=>Ao.delete(t),a=()=>c().map(({args:l})=>l),c=()=>Ao.get(t)||[],u=l=>Ao.set(t,[...c(),l]);return{flush:o,async schedule(l){const d={},h=new Promise((p,y)=>{d.resolve=p,d.reject=y});return(n==null?void 0:n([...a(),l]))&&i(),c().length>0?(u({args:l,pendingPromise:d}),h):(u({args:l,pendingPromise:d}),setTimeout(i,r),h)}}}async function Xi(e,t){var w,k,$,x;const{account:n=e.account,batch:r=!!((w=e.batch)!=null&&w.multicall),blockNumber:s,blockTag:i="latest",accessList:o,blobs:a,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:m,to:p,value:y,stateOverride:b,...g}=t,v=n?Me(n):void 0;try{Os(t);const P=(s?j(s):void 0)||i,D=N0(b),M=(x=($=(k=e.chain)==null?void 0:k.formatters)==null?void 0:$.transactionRequest)==null?void 0:x.format,H=(M||Ts)({...Rc(g,{format:M}),from:v==null?void 0:v.address,accessList:o,blobs:a,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:m,to:p,value:y});if(r&&M0({request:H})&&!D)try{return await D0(e,{...H,blockNumber:s,blockTag:i})}catch(Qe){if(!(Qe instanceof Uh)&&!(Qe instanceof ga))throw Qe}const G=await e.request({method:"eth_call",params:D?[H,P,D]:[H,P]});return G==="0x"?{data:void 0}:{data:G}}catch(I){const P=j0(I),{offchainLookup:D,offchainLookupSignature:M}=await C(()=>import("./ccip-Cp2sn2Ui.js"),__vite__mapDeps([]));if(e.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===M&&p)return{data:await D(e,{data:P,to:p})};throw R0(I,{...t,account:v,chain:e.chain})}}function M0({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(T0)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function D0(e,t){var p;const{batchSize:n=1024,wait:r=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=t;let u=a;if(!u){if(!e.chain)throw new Uh;u=dr({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?j(s):void 0)||i,{schedule:h}=Uc({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((g,{data:v})=>g+(v.length-2),0)>n*2},fn:async y=>{const b=y.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),g=en({abi:ya,args:[b],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:g,to:u},d]});return lr({abi:ya,args:[b],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:m}]=await h({data:o,to:c});if(!m)throw new Tc({data:f});return f==="0x"?{data:void 0}:{data:f}}function j0(e){var n;if(!(e instanceof A))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}function ul(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ku({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ku({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function F0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=j(t,{size:32})),n!==void 0&&(o.nonce=j(n,{size:8})),r!==void 0&&(o.state=ul(r)),s!==void 0){if(o.state)throw new i0;o.stateDiff=ul(s)}return o}function N0(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!re(n,{strict:!1}))throw new de({address:n});if(t[n])throw new s0({address:n});t[n]=F0(r)}return t}async function Ht(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=en({abi:n,args:s,functionName:i});try{const{data:c}=await R(e,Xi,"call")({...o,data:a,to:r});return lr({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw ds(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function L0(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?Me(a.account):e.account,u=en({abi:n,args:s,functionName:o});try{const{data:l}=await R(e,Xi,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=lr({abi:n,args:s,functionName:o,data:l||"0x"}),h=n.filter(f=>"name"in f&&f.name===t.functionName);return{result:d,request:{abi:h,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(l){throw ds(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const Eo=new Map,ll=new Map;let z0=0;function Wt(e,t,n){const r=++z0,s=()=>Eo.get(e)||[],i=()=>{const l=s();Eo.set(e,l.filter(d=>d.id!==r))},o=()=>{const l=ll.get(e);s().length===1&&l&&l(),i()},a=s();if(Eo.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const l in t)c[l]=(...d)=>{var f,m;const h=s();if(h.length!==0)for(const p of h)(m=(f=p.fns)[l])==null||m.call(f,...d)};const u=n(c);return typeof u=="function"&&ll.set(e,u),o}async function wi(e){return new Promise(t=>setTimeout(t,e))}function Rs(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await wi(c);const u=async()=>{s&&(await e({unpoll:i}),await wi(r),u())};u()})(),i}const U0=new Map,V0=new Map;function q0(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,U0),r=t(e,V0);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function H0(e,{cacheKey:t,cacheTime:n=1/0}){const r=q0(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const W0=e=>`blockNumber.${e}`;async function Ms(e,{cacheTime:t=e.cacheTime}={}){const n=await H0(()=>e.request({method:"eth_blockNumber"}),{cacheKey:W0(e.uid),cacheTime:t});return BigInt(n)}async function eo(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>At(i));return!("abi"in t)||!t.abi?s:Lc({abi:t.abi,logs:s,strict:n})}async function to(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function G0(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,onError:a,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}=t;return(typeof u<"u"?u:e.transport.type!=="webSocket")?(()=>{const p=d??!1,y=be(["watchContractEvent",r,s,i,e.uid,o,l,p]);return Wt(y,{onLogs:c,onError:a},b=>{let g,v,w=!1;const k=Rs(async()=>{var $;if(!w){try{v=await R(e,Ph,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:p})}catch{}w=!0;return}try{let x;if(v)x=await R(e,eo,"getFilterChanges")({filter:v});else{const I=await R(e,Ms,"getBlockNumber")({});g&&g!==I?x=await R(e,Nh,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:g+1n,toBlock:I,strict:p}):x=[],g=I}if(x.length===0)return;if(i)b.onLogs(x);else for(const I of x)b.onLogs([I])}catch(x){v&&x instanceof kn&&(w=!1),($=b.onError)==null||$.call(b,x)}},{emitOnBegin:!0,interval:l});return async()=>{v&&await R(e,to,"uninstallFilter")({filter:v}),k()}})})():(()=>{const p=d??!1,y=be(["watchContractEvent",r,s,i,e.uid,o,l,p]);let b=!0,g=()=>b=!1;return Wt(y,{onLogs:c,onError:a},v=>((async()=>{try{const w=o?Is({abi:n,eventName:o,args:s}):[],{unsubscribe:k}=await e.transport.subscribe({params:["logs",{address:r,topics:w}],onData($){var I;if(!b)return;const x=$.result;try{const{eventName:P,args:D}=Nc({abi:n,data:x.data,topics:x.topics,strict:d}),M=At(x,{args:D,eventName:P});v.onLogs([M])}catch(P){let D,M;if(P instanceof Zr||P instanceof Ui){if(d)return;D=P.abiItem.name,M=(I=P.abiItem.inputs)==null?void 0:I.some(H=>!("name"in H&&H.name))}const J=At(x,{args:M?[]:{},eventName:D});v.onLogs([J])}},onError($){var x;(x=v.onError)==null||x.call(v,$)}});g=k,b||g()}catch(w){a==null||a(w)}})(),()=>g()))})()}function Vh({chain:e,currentChainId:t}){if(!e)throw new B0;if(t!==e.id)throw new O0({chain:e,currentChainId:t})}function K0(e,{docsPath:t,...n}){const r=(()=>{const s=Bc(e,n);return s instanceof Gi?e:s})();return new d0(r,{docsPath:t,...n})}async function Vc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function qc(e,t){var b,g,v,w;const{account:n=e.account,chain:r=e.chain,accessList:s,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:f,value:m,...p}=t;if(!n)throw new Yi({docsPath:"/docs/actions/wallet/sendTransaction"});const y=Me(n);try{Os(t);let k;if(r!==null&&(k=await R(e,Bs,"getChainId")({}),Vh({currentChainId:k,chain:r})),y.type==="local"){const P=await R(e,Ji,"prepareTransactionRequest")({account:y,accessList:s,blobs:i,chain:r,chainId:k,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:f,value:m,...p}),D=(b=r==null?void 0:r.serializers)==null?void 0:b.transaction,M=await y.signTransaction(P,{serializer:D});return await R(e,Vc,"sendRawTransaction")({serializedTransaction:M})}const $=(w=(v=(g=e.chain)==null?void 0:g.formatters)==null?void 0:v.transactionRequest)==null?void 0:w.format,I=($||Ts)({...Rc(p,{format:$}),accessList:s,blobs:i,data:o,from:y.address,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:f,value:m});return await e.request({method:"eth_sendTransaction",params:[I]},{retryCount:0})}catch(k){throw K0(k,{...t,account:y,chain:t.chain||void 0})}}async function Z0(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=en({abi:n,args:s,functionName:o});return R(e,qc,"sendTransaction")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}async function Y0(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:j(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{retryCount:0})}const va=256;let Vs=va,qs;function J0(e=11){if(!qs||Vs+e>va*2){qs="",Vs=0;for(let t=0;t<va;t++)qs+=(256+Math.random()*256|0).toString(16).substring(1)}return qs.substring(Vs,Vs+++e)}function qh(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:i="Base Client",pollingInterval:o=4e3,type:a="base"}=e,c=e.chain,u=e.account?Me(e.account):void 0,{config:l,request:d,value:h}=e.transport({chain:c,pollingInterval:o}),f={...l,...h},m={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:i,pollingInterval:o,request:d,transport:f,type:a,uid:J0()};function p(y){return b=>{const g=b(y);for(const w in m)delete g[w];const v={...y,...g};return Object.assign(v,{extend:p(v)})}}return Object.assign(m,{extend:p(m)})}function wa(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await wi(l),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function Q0(e,t={}){return async(n,r={})=>{const{retryDelay:s=150,retryCount:i=3}={...t,...r};return wa(async()=>{try{return await e(n)}catch(o){const a=o;switch(a.code){case Qr.code:throw new Qr(a);case Xr.code:throw new Xr(a);case es.code:throw new es(a);case ts.code:throw new ts(a);case $n.code:throw new $n(a);case kn.code:throw new kn(a);case ns.code:throw new ns(a);case rs.code:throw new rs(a);case ir.code:throw new ir(a);case ss.code:throw new ss(a);case or.code:throw new or(a);case is.code:throw new is(a);case dn.code:throw new dn(a);case os.code:throw new os(a);case as.code:throw new as(a);case cs.code:throw new cs(a);case us.code:throw new us(a);case ls.code:throw new ls(a);case 5e3:throw new dn(a);default:throw o instanceof A?o:new y0(a)}}},{delay:({count:o,error:a})=>{var c;if(a&&a instanceof Cr){const u=(c=a==null?void 0:a.headers)==null?void 0:c.get("Retry-After");if(u!=null&&u.match(/\d/))return parseInt(u)*1e3}return~~(1<<o)*s},retryCount:i,shouldRetry:({error:o})=>X0(o)})}}function X0(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===or.code||e.code===$n.code:e instanceof Cr&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function no({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:i,type:o},a){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:i,type:o},request:Q0(n,{retryCount:r,retryDelay:s}),value:a}}function ev(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:i})=>no({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:s,type:"custom"})}function Hh(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:i,retryDelay:o}=t;return({chain:a,pollingInterval:c=4e3,timeout:u,...l})=>{let d=e,h=()=>{};const f=no({key:n,name:r,async request({method:m,params:p}){const y=async(b=0)=>{const g=d[b]({...l,chain:a,retryCount:0,timeout:u});try{const v=await g.request({method:m,params:p});return h({method:m,params:p,response:v,transport:g,status:"success"}),v}catch(v){if(h({error:v,method:m,params:p,transport:g,status:"error"}),tv(v)||b===d.length-1)throw v;return y(b+1)}};return y()},retryCount:i,retryDelay:o,type:"fallback"},{onResponse:m=>h=m,transports:d.map(m=>m({chain:a,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};nv({chain:a,interval:m.interval??c,onTransports:p=>d=p,sampleCount:m.sampleCount,timeout:m.timeout,transports:d,weights:m.weights})}return f}}function tv(e){return"code"in e&&typeof e.code=="number"&&(e.code===ir.code||e.code===dn.code||e.code===5e3)}function nv({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:i,weights:o={}}){const{stability:a=.7,latency:c=.3}=o,u=[],l=async()=>{const d=await Promise.all(i.map(async m=>{const p=m({chain:e,retryCount:0,timeout:s}),y=Date.now();let b,g;try{await p.request({method:"net_listening"}),g=1}catch{g=0}finally{b=Date.now()}return{latency:b-y,success:g}}));u.push(d),u.length>r&&u.shift();const h=Math.max(...u.map(m=>Math.max(...m.map(({latency:p})=>p)))),f=i.map((m,p)=>{const y=u.map(k=>k[p].latency),g=1-y.reduce((k,$)=>k+$,0)/y.length/h,v=u.map(k=>k[p].success),w=v.reduce((k,$)=>k+$,0)/v.length;return w===0?[0,p]:[c*g+a*w,p]}).sort((m,p)=>p[0]-m[0]);n(f.map(([,m])=>i[m])),await wi(t),l()};l()}class Wh extends A{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function Gh(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){a.name==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function rv(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const xa=rv();function sv(e,t={}){return{async request(n){var d;const{body:r,fetchOptions:s={},onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,{headers:c,method:u,signal:l}={...t.fetchOptions,...s};try{const h=await Gh(async({signal:m})=>{const p=new Request(e,{...s,body:Array.isArray(r)?be(r.map(b=>({jsonrpc:"2.0",id:b.id??xa.take(),...b}))):be({jsonrpc:"2.0",id:r.id??xa.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:l||(a>0?m:null)});return i&&await i(p),await fetch(p)},{errorInstance:new aa({body:r,url:e}),timeout:a,signal:!0});o&&await o(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json")?f=await h.json():f=await h.text(),!h.ok)throw new Cr({body:r,details:be(f.error)||h.statusText,headers:h.headers,status:h.status,url:e});return f}catch(h){throw h instanceof Cr||h instanceof aa?h:new Cr({body:r,details:h.message,url:e})}}}}function iv(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:a,retryDelay:c}=t;return({chain:u,retryCount:l,timeout:d})=>{const{batchSize:h=1e3,wait:f=0}=typeof n=="object"?n:{},m=t.retryCount??l,p=d??t.timeout??1e4,y=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!y)throw new Wh;const b=sv(y,{fetchOptions:r,onRequest:o,onResponse:a,timeout:p});return no({key:s,name:i,async request({method:g,params:v}){const w={method:g,params:v},{schedule:k}=Uc({id:`${e}`,wait:f,shouldSplitBatch(P){return P.length>h},fn:P=>b.request({body:P}),sort:(P,D)=>P.id-D.id}),$=async P=>n?k(P):[await b.request({body:P})],[{error:x,result:I}]=await $(w);if(x)throw new Oc({body:w,error:x,url:y});return I},retryCount:m,retryDelay:c,timeout:p,type:"http"},{fetchOptions:r,url:y})}}function Hc(e,t){var r,s,i,o,a,c;if(!(e instanceof A))return!1;const n=e.walk(u=>u instanceof oa);return n instanceof oa?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Ah[50]):!1}function Kh(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ze(t)?t:null}function ri(e){let t=new Uint8Array(32).fill(0);if(!e)return fe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Kh(n[r]),i=s?He(s):ke(yt(n[r]),"bytes");t=ke(kt([t,i]),"bytes")}return fe(t)}function ov(e){return`[${e.slice(2)}]`}function av(e){const t=new Uint8Array(32).fill(0);return e?Kh(e)||ke(yt(e)):fe(t)}function ro(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(yt(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=yt(s[i]);o.byteLength>255&&(o=yt(ov(av(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function cv(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=dr({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=en({abi:cl,functionName:"addr",...r!=null?{args:[ri(s),BigInt(r)]}:{args:[ri(s)]}}),l={address:c,abi:zh,functionName:"resolve",args:[O(ro(s)),u],blockNumber:t,blockTag:n},d=R(e,Ht,"readContract"),h=i?await d({...l,args:[...l.args,i]}):await d(l);if(h[0]==="0x")return null;const f=lr({abi:cl,args:r!=null?[ri(s),BigInt(r)]:void 0,functionName:"addr",data:h[0]});return f==="0x"||sr(f)==="0x00"?null:f}catch(u){if(o)throw u;if(Hc(u,"resolve"))return null;throw u}}class uv extends A{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class wr extends A{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Wc extends A{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class lv extends A{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const dv=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,hv=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,fv=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,pv=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function mv(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function dl(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Zh({uri:e,gatewayUrls:t}){const n=fv.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=dl(t==null?void 0:t.ipfs,"https://ipfs.io"),s=dl(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(dv),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},l=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||hv.test(e);if(e.startsWith("http")&&!l&&!d){let f=e;return t!=null&&t.arweave&&(f=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(pv,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new Wc({uri:e})}function Yh(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new uv({data:e});return e.image||e.image_url||e.image_data}async function bv({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Gc({gatewayUrls:e,uri:Yh(n)})}catch{throw new Wc({uri:t})}}async function Gc({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Zh({uri:t,gatewayUrls:e});if(r||await mv(n))return n;throw new Wc({uri:t})}function yv(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new wr({reason:"Only EIP-155 supported"});if(!o)throw new wr({reason:"Chain ID not found"});if(!c)throw new wr({reason:"Contract address not found"});if(!s)throw new wr({reason:"Token ID not found"});if(!a)throw new wr({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function gv(e,{nft:t}){if(t.namespace==="erc721")return Ht(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ht(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new lv({namespace:t.namespace})}async function vv(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?wv(e,{gatewayUrls:t,record:n}):Gc({uri:n,gatewayUrls:t})}async function wv(e,{gatewayUrls:t,record:n}){const r=yv(n),s=await gv(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=Zh({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,l=JSON.parse(u);return Gc({uri:Yh(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),bv({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function Jh(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=dr({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:zh,functionName:"resolve",args:[O(ro(r)),en({abi:al,functionName:"text",args:[ri(r),s]})],blockNumber:t,blockTag:n},l=R(e,Ht,"readContract"),d=i?await l({...u,args:[...u.args,i]}):await l(u);if(d[0]==="0x")return null;const h=lr({abi:al,functionName:"text",data:d[0]});return h===""?null:h}catch(u){if(o)throw u;if(Hc(u,"resolve"))return null;throw u}}async function xv(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await R(e,Jh,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await vv(e,{record:c,gatewayUrls:r})}catch{return null}}async function _v(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=dr({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:I0,functionName:"reverse",args:[O(ro(c))],blockNumber:n,blockTag:r},l=R(e,Ht,"readContract"),[d,h]=s?await l({...u,args:[...u.args,s]}):await l(u);return t.toLowerCase()!==h.toLowerCase()?null:d}catch(u){if(i)throw u;if(Hc(u,"reverse"))return null;throw u}}async function $v(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=dr({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await R(e,Ht,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[O(ro(r))],blockNumber:t,blockTag:n});return o}async function kv(e){const t=Hi(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Qh(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Hi(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(h=>Is({abi:[h],eventName:h.name,args:n}))],r&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?j(i):i,toBlock:typeof a=="bigint"?j(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function Xh(e){const t=Hi(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Pv(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?j(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function Av(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Ev(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?j(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),rt(i)}async function Sv(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?j(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]});if(i!=="0x")return i}function Iv(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Cv(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?j(n):void 0,o=await e.request({method:"eth_feeHistory",params:[j(t),i||r,s]});return Iv(o)}async function Tv(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>At(i));return t.abi?Lc({abi:t.abi,logs:s,strict:n}):s}function Gt(e,t){if(!re(e,{strict:!1}))throw new de({address:e});if(!re(t,{strict:!1}))throw new de({address:t});return e.toLowerCase()===t.toLowerCase()}function Je(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Ov=/^(.*)\[([0-9]*)\]$/,ef=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,So=new Map;async function Bv(e){const{getSocket:t,url:n}=e;let r=So.get(n);if(r)return r;const{schedule:s}=Uc({id:n,fn:async()=>{const a=new Map,c=new Map,u=await t({onResponse(l){const d=l.method==="eth_subscription",h=d?l.params.subscription:l.id,f=d?c:a,m=f.get(h);m&&m(l),d||f.delete(h)}});return r={close(){u.close(),So.delete(n)},socket:u,request({body:l,onError:d,onResponse:h}){const f=l.id??xa.take(),m=p=>{var y;typeof p.id=="number"&&f!==p.id||(l.method==="eth_subscribe"&&typeof p.result=="string"&&c.set(p.result,m),l.method==="eth_unsubscribe"&&c.delete((y=l.params)==null?void 0:y[0]),h(p))};a.set(f,m);try{u.request({body:{jsonrpc:"2.0",id:f,...l}})}catch(p){d==null||d(p)}},requestAsync({body:l,timeout:d=1e4}){return Gh(()=>new Promise((h,f)=>this.request({body:l,onError:f,onResponse:h})),{errorInstance:new aa({body:l,url:n}),timeout:d})},requests:a,subscriptions:c,url:n},So.set(n,r),[r]}}),[i,[o]]=await s();return o}async function si(e){return Bv({async getSocket({onResponse:t}){const n=await C(()=>import("./native-DCTjMhwz.js"),__vite__mapDeps([])).then(a=>a.WebSocket),r=new n(e);function s(){r.removeEventListener("close",s),r.removeEventListener("message",i)}function i({data:a}){t(JSON.parse(a))}r.addEventListener("close",s),r.addEventListener("message",i),r.readyState===n.CONNECTING&&await new Promise((a,c)=>{r&&(r.onopen=a,r.onerror=c)});const{close:o}=r;return Object.assign(r,{close(){o.bind(r)(),s()},request({body:a}){if(r.readyState===r.CLOSED||r.readyState===r.CLOSING)throw new m0({body:a,url:r.url,details:"Socket is closed."});return r.send(JSON.stringify(a))}})},url:e})}async function Rv(e){const t=await si(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function Mv(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:cf({domain:t}),...e.types};af({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(Dv({domain:t,types:s})),r!=="EIP712Domain"&&i.push(nf({data:n,primaryType:r,types:s})),ke(kt(i))}function Dv({domain:e,types:t}){return nf({data:e,primaryType:"EIP712Domain",types:t})}function nf({data:e,primaryType:t,types:n}){const r=rf({data:e,primaryType:t,types:n});return ke(r)}function rf({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[jv({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=of({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return Es(r,s)}function jv({primaryType:e,types:t}){const n=O(Fv({primaryType:e,types:t}));return ke(n)}function Fv({primaryType:e,types:t}){let n="";const r=sf({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function sf({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])sf({primaryType:i.type,types:t},n);return n}function of({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ke(rf({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ke(r)];if(n==="string")return[{type:"bytes32"},ke(O(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>of({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},ke(Es(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}function af(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:u,type:l}=c,d=a[u],h=l.match(tf);if(h&&(typeof d=="number"||typeof d=="bigint")){const[p,y,b]=h;j(d,{signed:y==="int",size:parseInt(b)/8})}if(l==="address"&&typeof d=="string"&&!re(d))throw new de({address:d});const f=l.match(ef);if(f){const[p,y]=f;if(y&&ne(d)!==parseInt(y))throw new lh({expectedSize:parseInt(y),givenSize:ne(d)})}const m=s[l];m&&i(m,d)}};if(s.EIP712Domain&&t&&i(s.EIP712Domain,t),r!=="EIP712Domain"){const o=s[r];i(o,n)}}function cf({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Io="/docs/contract/encodeDeployData";function uf(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new jy({docsPath:Io});if(!("inputs"in s))throw new Wu({docsPath:Io});if(!s.inputs||s.inputs.length===0)throw new Wu({docsPath:Io});const i=Es(s.inputs,n);return it([r,i])}function Nv(e,t){if(e.length!==t.length)throw new ah({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(lf(s,i))}return it(n)}function lf(e,t,n=!1){if(e==="address"){const o=t;if(!re(o))throw new de({address:o});return nt(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Vi(t);if(e==="bytes")return t;if(e==="bool")return nt(xc(t),{size:n?32:1});const r=e.match(tf);if(r){const[o,a,c="256"]=r,u=parseInt(c)/8;return j(t,{size:n?32:u,signed:a==="int"})}const s=e.match(ef);if(s){const[o,a]=s;if(parseInt(a)!==(t.length-2)/2)throw new lh({expectedSize:parseInt(a),givenSize:(t.length-2)/2});return nt(t,{dir:"right",size:n?32:null})}const i=e.match(Ov);if(i&&Array.isArray(t)){const[o,a]=i,c=[];for(let u=0;u<t.length;u++)c.push(lf(a,t[u],!0));return c.length===0?"0x":it(c)}throw new Gy(e)}function An(e,t="hex"){const n=df(e),r=Ic(new Uint8Array(n.length));return n.encode(r),t==="hex"?fe(r.bytes):r.bytes}function df(e){return Array.isArray(e)?Lv(e.map(t=>df(t))):zv(e)}function Lv(e){const t=e.reduce((s,i)=>s+i.length,0),n=hf(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function zv(e){const t=typeof e=="string"?We(e):e,n=hf(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function hf(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new A("Length is too large.")}const Uv={"0x0":"reverted","0x1":"success"};function ff(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>At(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?rt(e.transactionIndex):null,status:e.status?Uv[e.status]:null,type:e.type?Bh[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const pf=Ki("transactionReceipt",ff);function Vv(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}class qv extends mh{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=$o(this.buffer)}update(t){vi(this);const{view:n,buffer:r,blockLen:s}=this;t=_c(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=$o(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){vi(this),ph(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Vv(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=$o(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const Hv=(e,t,n)=>e&t^~e&n,Wv=(e,t,n)=>e&t^e&n^t&n,Gv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),It=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ct=new Uint32Array(64);class Kv extends qv{constructor(){super(64,32,8,!1),this.A=It[0]|0,this.B=It[1]|0,this.C=It[2]|0,this.D=It[3]|0,this.E=It[4]|0,this.F=It[5]|0,this.G=It[6]|0,this.H=It[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ct[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=Ct[d-15],f=Ct[d-2],m=Xe(h,7)^Xe(h,18)^h>>>3,p=Xe(f,17)^Xe(f,19)^f>>>10;Ct[d]=p+Ct[d-7]+m+Ct[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=Xe(a,6)^Xe(a,11)^Xe(a,25),f=l+h+Hv(a,c,u)+Gv[d]+Ct[d]|0,p=(Xe(r,2)^Xe(r,13)^Xe(r,22))+Wv(r,s,i)|0;l=u,u=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Ct.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Zv=bh(()=>new Kv);function mf(e,t){const n=t||"hex",r=Zv(Ze(e,{strict:!1})?He(e):e);return n==="bytes"?r:O(r)}const Yv=`Ethereum Signed Message:
`;function Jv(e,t){const n=typeof e=="string"?yt(e):e.raw instanceof Uint8Array?e.raw:He(e.raw),r=yt(`${Yv}${n.length}`);return ke(kt([r,n]),t)}const bf=1;class Qv extends A{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class yf extends A{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class Xv extends A{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class ew extends A{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${bf}`,`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function tw(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new yf;for(const n of t){const r=ne(n),s=rt(Yr(n,0,1));if(r!==32)throw new Xv({hash:n,size:r});if(s!==bf)throw new ew({hash:n,version:s})}}gf(e)}function gf(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Qi({chainId:t});if(s&&!re(s))throw new de({address:s});if(r&&r>2n**256n-1n)throw new Pn({maxFeePerGas:r});if(n&&r&&n>r)throw new hs({maxFeePerGas:r,maxPriorityFeePerGas:n})}function nw(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new Qi({chainId:t});if(i&&!re(i))throw new de({address:i});if(n||s)throw new A("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new Pn({maxFeePerGas:r})}function rw(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i,accessList:o}=e;if(i&&!re(i))throw new de({address:i});if(typeof t<"u"&&t<=0)throw new Qi({chainId:t});if(n||s)throw new A("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new Pn({maxFeePerGas:r});if(o)throw new A("`accessList` is not a valid Legacy Transaction attribute.")}function vf(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>We(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>fe(i))}function wf(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>We(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>We(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>fe(o))}const hl=6,xf=32,Kc=4096,_f=xf*Kc,fl=_f*hl-1-1*Kc*hl;function sw(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?We(e.data):e.data,r=ne(n);if(!r)throw new yf;if(r>fl)throw new Qv({maxSize:fl,size:r});const s=[];let i=!0,o=0;for(;i;){const a=Ic(new Uint8Array(_f));let c=0;for(;c<Kc;){const u=n.slice(o,o+(xf-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>fe(a.bytes))}function iw(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??sw({data:t,to:r}),i=e.commitments??vf({blobs:s,kzg:n,to:r}),o=e.proofs??wf({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function ow(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=mf(t,"bytes");return s.set([n],0),r==="bytes"?s:fe(s)}function aw(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(ow({commitment:i,to:r,version:n}));return s}function Zc(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new l0({storageKey:s[i]});if(!re(r,{strict:!1}))throw new de({address:r});t.push([r,s])}return t}function $f(e,t){const n=Fh(e);return n==="eip1559"?uw(e,t):n==="eip2930"?lw(e,t):n==="eip4844"?cw(e,t):dw(e,t)}function cw(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;tw(e);let h=e.blobVersionedHashes,f=e.sidecars;if(e.blobs){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(x=>fe(x)),w=e.kzg,k=vf({blobs:v,kzg:w}),$=wf({blobs:v,commitments:k,kzg:w});h=aw({commitments:k}),f!==!1&&(f=iw({blobs:v,commitments:k,proofs:$}))}const m=Zc(l),p=[O(n),s?O(s):"0x",u?O(u):"0x",c?O(c):"0x",r?O(r):"0x",i??"0x",o?O(o):"0x",d??"0x",m,a?O(a):"0x",h??[],...Yc(e,t)],y=[],b=[],g=[];if(f)for(let v=0;v<f.length;v++){const{blob:w,commitment:k,proof:$}=f[v];y.push(w),b.push(k),g.push($)}return it(["0x03",An(f?[p,y,b,g]:p)])}function uw(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=e;gf(e);const d=Zc(u),h=[O(n),s?O(s):"0x",c?O(c):"0x",a?O(a):"0x",r?O(r):"0x",i??"0x",o?O(o):"0x",l??"0x",d,...Yc(e,t)];return it(["0x02",An(h)])}function lw(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=e;nw(e);const l=Zc(c),d=[O(n),i?O(i):"0x",u?O(u):"0x",r?O(r):"0x",o??"0x",a?O(a):"0x",s??"0x",l,...Yc(e,t)];return it(["0x01",An(d)])}function dw(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=e;rw(e);let u=[i?O(i):"0x",c?O(c):"0x",r?O(r):"0x",o??"0x",a?O(a):"0x",s??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const d=27n+(t.v===27n?0n:1n);if(t.v!==d)throw new c0({v:t.v});return d})();u=[...u,O(l),t.r,t.s]}else n>0&&(u=[...u,O(n),"0x","0x"]);return An(u)}function Yc(e,t){const{r:n,s:r,v:s,yParity:i}=t??e;return typeof n>"u"?[]:typeof r>"u"?[]:typeof s>"u"&&typeof i>"u"?[]:[typeof i=="number"?i?O(1):"0x":s===0n?"0x":s===1n?O(1):s===27n?"0x":O(1),sr(n),sr(r)]}function kf(e,t){let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[i,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function hw(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function fw(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?rt(e.nonce):void 0,storageProof:e.storageProof?hw(e.storageProof):void 0}}async function pw(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?j(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return fw(a)}async function mw(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?j(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function Jc(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){var l,d,h;const o=r||"latest",a=n!==void 0?j(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,j(i)]}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,j(i)]})),!c)throw new Ih({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||Zi)(c)}async function bw(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([R(e,Ms,"getBlockNumber")({}),t?R(e,Jc,"getBlockNumber")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function _a(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Ch({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||ff)(n)}async function yw(e,t){var y;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,multicallAddress:o,stateOverride:a}=t,c=t.contracts,u=r??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let l=o;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=dr({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let h=0,f=0;for(let b=0;b<c.length;b++){const{abi:g,address:v,args:w,functionName:k}=c[b];try{const $=en({abi:g,args:w,functionName:k});f+=($.length-2)/2,u>0&&f>u&&d[h].length>0&&(h++,f=($.length-2)/2,d[h]=[]),d[h]=[...d[h],{allowFailure:!0,callData:$,target:v}]}catch($){const x=ds($,{abi:g,address:v,args:w,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw x;d[h]=[...d[h],{allowFailure:!0,callData:"0x",target:v}]}}const m=await Promise.allSettled(d.map(b=>R(e,Ht,"readContract")({abi:ya,address:l,args:[b],blockNumber:s,blockTag:i,functionName:"aggregate3",stateOverride:a}))),p=[];for(let b=0;b<m.length;b++){const g=m[b];if(g.status==="rejected"){if(!n)throw g.reason;for(let w=0;w<d[b].length;w++)p.push({status:"failure",error:g.reason,result:void 0});continue}const v=g.value;for(let w=0;w<v.length;w++){const{returnData:k,success:$}=v[w],{callData:x}=d[b][w],{abi:I,address:P,functionName:D,args:M}=c[p.length];try{if(x==="0x")throw new zi;if(!$)throw new Tc({data:k});const J=lr({abi:I,args:M,data:k,functionName:D});p.push(n?{result:J,status:"success"}:J)}catch(J){const H=ds(J,{abi:I,address:P,args:M,docsPath:"/docs/contract/multicall",functionName:D});if(!n)throw H;p.push({error:H,result:void 0,status:"failure"})}}}if(p.length!==c.length)throw new A("multicall results mismatch");return p}const gw="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";BigInt(0);BigInt(1);BigInt(2);function vw(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ww(e,t){const n=Ze(e)?He(e):e,r=Ze(t)?He(t):t;return vw(n,r)}async function Pf(e,{address:t,hash:n,signature:r,...s}){const i=Ze(r)?r:O(r);try{const{data:o}=await R(e,Xi,"call")({data:uf({abi:C0,args:[t,n,i],bytecode:gw}),...s});return ww(o??"0x0","0x1")}catch(o){if(o instanceof Th)return!1;throw o}}async function xw(e,{address:t,message:n,signature:r,...s}){const i=Jv(n);return Pf(e,{address:t,hash:i,signature:r,...s})}async function _w(e,t){const{address:n,signature:r,message:s,primaryType:i,types:o,domain:a,...c}=t,u=Mv({message:s,primaryType:i,types:o,domain:a});return Pf(e,{address:n,hash:u,signature:r,...c})}function Af(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:e.transport.type!=="webSocket";let c;return a?(()=>{const d=be(["watchBlockNumber",e.uid,t,n,o]);return Wt(d,{onBlockNumber:r,onError:s},h=>Rs(async()=>{var f;try{const m=await R(e,Ms,"getBlockNumber")({cacheTime:0});if(c){if(m===c)return;if(m-c>1&&n)for(let p=c+1n;p<m;p++)h.onBlockNumber(p,c),c=p}(!c||m>c)&&(h.onBlockNumber(m,c),c=m)}catch(m){(f=h.onError)==null||f.call(h,m)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=be(["watchBlockNumber",e.uid,t,n]);return Wt(d,{onBlockNumber:r,onError:s},h=>{let f=!0,m=()=>f=!1;return(async()=>{try{const{unsubscribe:p}=await e.transport.subscribe({params:["newHeads"],onData(y){var g;if(!f)return;const b=X((g=y.result)==null?void 0:g.number);h.onBlockNumber(b,c),c=b},onError(y){var b;(b=h.onError)==null||b.call(h,y)}});m=p,f||m()}catch(p){s==null||s(p)}})(),()=>m()})})()}async function $w(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a}){const c=be(["waitForTransactionReceipt",e.uid,n]);let u,l,d,h=!1;return new Promise((f,m)=>{a&&setTimeout(()=>m(new h0({hash:n})),a);const p=Wt(c,{onReplaced:r,resolve:f,reject:m},y=>{const b=R(e,Af,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(g){if(h)return;let v=g;const w=k=>{b(),k(),p()};try{if(d){if(t>1&&(!d.blockNumber||v-d.blockNumber+1n<t))return;w(()=>y.resolve(d));return}if(u||(h=!0,await wa(async()=>{u=await R(e,Jc,"getTransaction")({hash:n}),u.blockNumber&&(v=u.blockNumber)},{delay:o,retryCount:i}),h=!1),d=await R(e,_a,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||v-d.blockNumber+1n<t))return;w(()=>y.resolve(d))}catch(k){if(k instanceof Ih||k instanceof Ch){if(!u){h=!1;return}try{l=u,h=!0;const $=await wa(()=>R(e,qt,"getBlock")({blockNumber:v,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:P})=>P instanceof Oh});h=!1;const x=$.transactions.find(({from:P,nonce:D})=>P===l.from&&D===l.nonce);if(!x||(d=await R(e,_a,"getTransactionReceipt")({hash:x.hash}),t>1&&(!d.blockNumber||v-d.blockNumber+1n<t)))return;let I="replaced";x.to===l.to&&x.value===l.value?I="repriced":x.from===x.to&&x.value===0n&&(I="cancelled"),w(()=>{var P;(P=y.onReplaced)==null||P.call(y,{reason:I,replacedTransaction:l,transaction:x,transactionReceipt:d}),y.resolve(d)})}catch($){w(()=>y.reject($))}}else w(()=>y.reject(k))}}})})})}function kw(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:e.transport.type!=="webSocket",l=o??!1;let d;return u?(()=>{const m=be(["watchBlocks",e.uid,t,n,r,l,c]);return Wt(m,{onBlock:s,onError:i},p=>Rs(async()=>{var y;try{const b=await R(e,qt,"getBlock")({blockTag:t,includeTransactions:l});if(b.number&&(d!=null&&d.number)){if(b.number===d.number)return;if(b.number-d.number>1&&n)for(let g=(d==null?void 0:d.number)+1n;g<b.number;g++){const v=await R(e,qt,"getBlock")({blockNumber:g,includeTransactions:l});p.onBlock(v,d),d=v}}(!(d!=null&&d.number)||t==="pending"&&!(b!=null&&b.number)||b.number&&b.number>d.number)&&(p.onBlock(b,d),d=b)}catch(b){(y=p.onError)==null||y.call(p,b)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,p=()=>m=!1;return(async()=>{try{const{unsubscribe:y}=await e.transport.subscribe({params:["newHeads"],onData(b){var w,k,$;if(!m)return;const v=((($=(k=(w=e.chain)==null?void 0:w.formatters)==null?void 0:k.block)==null?void 0:$.format)||Dc)(b.result);s(v,d),d=v},onError(b){i==null||i(b)}});p=y,m||p()}catch(y){i==null||i(y)}})(),()=>p()})()}function Pw(e,{address:t,args:n,batch:r=!0,event:s,events:i,onError:o,onLogs:a,poll:c,pollingInterval:u=e.pollingInterval,strict:l}){const d=typeof c<"u"?c:e.transport.type!=="webSocket",h=l??!1;return d?(()=>{const p=be(["watchEvent",t,n,r,e.uid,s,u]);return Wt(p,{onLogs:a,onError:o},y=>{let b,g,v=!1;const w=Rs(async()=>{var k;if(!v){try{g=await R(e,Qh,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h})}catch{}v=!0;return}try{let $;if(g)$=await R(e,eo,"getFilterChanges")({filter:g});else{const x=await R(e,Ms,"getBlockNumber")({});b&&b!==x?$=await R(e,zc,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:b+1n,toBlock:x}):$=[],b=x}if($.length===0)return;if(r)y.onLogs($);else for(const x of $)y.onLogs([x])}catch($){g&&$ instanceof kn&&(v=!1),(k=y.onError)==null||k.call(y,$)}},{emitOnBegin:!0,interval:u});return async()=>{g&&await R(e,to,"uninstallFilter")({filter:g}),w()}})})():(()=>{let p=!0,y=()=>p=!1;return(async()=>{try{const b=i??(s?[s]:void 0);let g=[];b&&(g=[b.flatMap(w=>Is({abi:[w],eventName:w.name,args:n}))],s&&(g=g[0]));const{unsubscribe:v}=await e.transport.subscribe({params:["logs",{address:t,topics:g}],onData(w){var $;if(!p)return;const k=w.result;try{const{eventName:x,args:I}=Nc({abi:b??[],data:k.data,topics:k.topics,strict:h}),P=At(k,{args:I,eventName:x});a([P])}catch(x){let I,P;if(x instanceof Zr||x instanceof Ui){if(l)return;I=x.abiItem.name,P=($=x.abiItem.inputs)==null?void 0:$.some(M=>!("name"in M&&M.name))}const D=At(k,{args:P?[]:{},eventName:I});a([D])}},onError(w){o==null||o(w)}});y=v,p||y()}catch(b){o==null||o(b)}})(),()=>y()})()}function Aw(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=be(["watchPendingTransactions",e.uid,t,i]);return Wt(u,{onTransactions:r,onError:n},l=>{let d;const h=Rs(async()=>{var f;try{if(!d)try{d=await R(e,Xh,"createPendingTransactionFilter")({});return}catch(p){throw h(),p}const m=await R(e,eo,"getFilterChanges")({filter:d});if(m.length===0)return;if(t)l.onTransactions(m);else for(const p of m)l.onTransactions([p])}catch(m){(f=l.onError)==null||f.call(l,m)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await R(e,to,"uninstallFilter")({filter:d}),h()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!u)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});l=d,u||l()}catch(d){n==null||n(d)}})(),()=>l()})()}function Ew(e){return{call:t=>Xi(e,t),createBlockFilter:()=>kv(e),createContractEventFilter:t=>Ph(e,t),createEventFilter:t=>Qh(e,t),createPendingTransactionFilter:()=>Xh(e),estimateContractGas:t=>E0(e,t),estimateGas:t=>Fc(e,t),getBalance:t=>Pv(e,t),getBlobBaseFee:()=>Av(e),getBlock:t=>qt(e,t),getBlockNumber:t=>Ms(e,t),getBlockTransactionCount:t=>Ev(e,t),getBytecode:t=>Sv(e,t),getChainId:()=>Bs(e),getContractEvents:t=>Nh(e,t),getEnsAddress:t=>cv(e,t),getEnsAvatar:t=>xv(e,t),getEnsName:t=>_v(e,t),getEnsResolver:t=>$v(e,t),getEnsText:t=>Jh(e,t),getFeeHistory:t=>Cv(e,t),estimateFeesPerGas:t=>A0(e,t),getFilterChanges:t=>eo(e,t),getFilterLogs:t=>Tv(e,t),getGasPrice:()=>jc(e),getLogs:t=>zc(e,t),getProof:t=>pw(e,t),estimateMaxPriorityFeePerGas:t=>P0(e,t),getStorageAt:t=>mw(e,t),getTransaction:t=>Jc(e,t),getTransactionConfirmations:t=>bw(e,t),getTransactionCount:t=>jh(e,t),getTransactionReceipt:t=>_a(e,t),multicall:t=>yw(e,t),prepareTransactionRequest:t=>Ji(e,t),readContract:t=>Ht(e,t),sendRawTransaction:t=>Vc(e,t),simulateContract:t=>L0(e,t),verifyMessage:t=>xw(e,t),verifyTypedData:t=>_w(e,t),uninstallFilter:t=>to(e,t),waitForTransactionReceipt:t=>$w(e,t),watchBlocks:t=>kw(e,t),watchBlockNumber:t=>Af(e,t),watchContractEvent:t=>G0(e,t),watchEvent:t=>Pw(e,t),watchPendingTransactions:t=>Aw(e,t)}}function Ef(e){const{key:t="public",name:n="Public Client"}=e;return qh({...e,key:t,name:n,type:"publicClient"}).extend(Ew)}function Sw(e,t){const{abi:n,args:r,bytecode:s,...i}=t,o=uf({abi:n,args:r,bytecode:s});return qc(e,{...i,data:o})}async function Iw(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>qi(r))}async function Cw(e){return await e.request({method:"wallet_getPermissions"})}async function Tw(e){return(await e.request({method:"eth_requestAccounts"},{retryCount:0})).map(n=>ni(n))}async function Ow(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Bw(e,{account:t=e.account,message:n}){if(!t)throw new Yi({docsPath:"/docs/actions/wallet/signMessage"});const r=Me(t);if(r.type==="local")return r.signMessage({message:n});const s=typeof n=="string"?Vi(n):n.raw instanceof Uint8Array?O(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Rw(e,t){var u,l,d,h;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Yi({docsPath:"/docs/actions/wallet/signTransaction"});const i=Me(n);Os({account:i,...t});const o=await R(e,Bs,"getChainId")({});r!==null&&Vh({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((l=a==null?void 0:a.transactionRequest)==null?void 0:l.format)||Ts;return i.type==="local"?i.signTransaction({...s,chainId:o},{serializer:(h=(d=e.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:j(o),from:i.address}]},{retryCount:0})}async function Mw(e,t){const{account:n=e.account,domain:r,message:s,primaryType:i}=t;if(!n)throw new Yi({docsPath:"/docs/actions/wallet/signTypedData"});const o=Me(n),a={EIP712Domain:cf({domain:r}),...t.types};if(af({domain:r,message:s,primaryType:i,types:a}),o.type==="local")return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=be({domain:r??{},message:s,primaryType:i,types:a},(u,l)=>Ze(l)?l.toLowerCase():l);return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Dw(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:j(t)}]},{retryCount:0})}async function jw(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Fw(e){return{addChain:t=>Y0(e,t),deployContract:t=>Sw(e,t),getAddresses:()=>Iw(e),getChainId:()=>Bs(e),getPermissions:()=>Cw(e),prepareTransactionRequest:t=>Ji(e,t),requestAddresses:()=>Tw(e),requestPermissions:t=>Ow(e,t),sendRawTransaction:t=>Vc(e,t),sendTransaction:t=>qc(e,t),signMessage:t=>Bw(e,t),signTransaction:t=>Rw(e,t),signTypedData:t=>Mw(e,t),switchChain:t=>Dw(e,t),watchAsset:t=>jw(e,t),writeContract:t=>Z0(e,t)}}function Nw(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return qh({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Fw)}function Lw(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",retryDelay:s}=t;return({chain:i,retryCount:o,timeout:a})=>{var d;const c=t.retryCount??o,u=a??t.timeout??1e4,l=e||((d=i==null?void 0:i.rpcUrls.default.webSocket)==null?void 0:d[0]);if(!l)throw new Wh;return no({key:n,name:r,async request({method:h,params:f}){const m={method:h,params:f},p=await si(l),{error:y,result:b}=await p.requestAsync({body:m,timeout:u});if(y)throw new Oc({body:m,error:y,url:l});return b},retryCount:c,retryDelay:s,timeout:u,type:"webSocket"},{getSocket(){return Rv(l)},getRpcClient(){return si(l)},async subscribe({params:h,onData:f,onError:m}){const p=await si(l),{result:y}=await new Promise((b,g)=>p.request({body:{method:"eth_subscribe",params:h},onResponse(v){if(v.error){g(v.error),m==null||m(v.error);return}if(typeof v.id=="number"){b(v);return}v.method==="eth_subscription"&&f(v.params)}}));return{subscriptionId:y,async unsubscribe(){return new Promise(b=>p.request({body:{method:"eth_unsubscribe",params:[y]},onResponse:b}))}}}})}}const zw=2n**16n-1n,Uw={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Vw={block:Mh({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Zi(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?X(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:Rh({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?X(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:pf({format(e){return{l1GasPrice:e.l1GasPrice?X(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?X(e.l1GasUsed):null,l1Fee:e.l1Fee?X(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function qw(e,t){return Gw(e)?Ww(e):$f(e,t)}const Hw={transaction:qw};function Ww(e){Kw(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=e,u=[t,r,a??"0x",o?O(o):"0x",c?O(c):"0x",s?O(s):"0x",i?"0x1":"0x",n??"0x"];return it(["0x7e",An(u)])}function Gw(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function Kw(e){const{from:t,to:n}=e;if(t&&!re(t))throw new de({address:t});if(n&&!re(n))throw new de({address:n})}const pl={contracts:Uw,formatters:Vw,serializers:Hw},Zw=Je({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Yw=Je({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),Jw=Je({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowScan",url:"https://snowscan.xyz",apiUrl:"https://api.snowscan.xyz/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Qw=Je({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Xw=Je({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),ex=Je({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),tx=Je({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),nx=Je({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Hs=1,rx=Je({...pl,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...pl.contracts,l2OutputOracle:{[Hs]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Hs]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Hs]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Hs}),sx=Je({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),Sf={block:Mh({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var i;if(typeof r=="string")return r;const s=(i=Sf.transaction)==null?void 0:i.format(r);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:e.l1BatchNumber?X(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?X(e.l1BatchTimestamp):null,transactions:t}}}),transaction:Rh({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?X(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?X(e.l1BatchTxIndex):null}}}),transactionReceipt:pf({format(e){return{l1BatchNumber:e.l1BatchNumber?X(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?X(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...At(t),l1BatchNumber:t.l1BatchNumber?X(t.l1BatchNumber):null,transactionLogIndex:rt(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:X(t.blockHash),blockHash:t.blockHash,l1BatchNumber:X(t.l1BatchNumber),transactionIndex:X(t.transactionIndex),shardId:X(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:X(t.logIndex)}))}}}),transactionRequest:_0({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:O(e.gasPerPubdata)}:{},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(We(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(We(t)))}:{},...e.customSignature?{customSignature:Array.from(We(e.customSignature))}:{}},type:"0x71"}:{}}})};class ix extends A{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidEip712TransactionError"})}}function If(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function Cf(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:i}=e;if(!If(e))throw new ix;if(!t||t<=0)throw new Qi({chainId:t});if(n&&!re(n))throw new de({address:n});if(r&&!re(r))throw new de({address:r});if(s&&!re(s))throw new de({address:s});if(s&&!i)throw new A("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&i)throw new A("`paymaster` must be provided when `paymasterInput` is defined")}function ox(e,t){return If(e)?cx(e):$f(e,t)}const ax={transaction:ox};function cx(e){const{chainId:t,gas:n,nonce:r,to:s,from:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:l,paymaster:d,paymasterInput:h,gasPerPubdata:f,data:m}=e;Cf(e);const p=[r?O(r):"0x",c?O(c):"0x",a?O(a):"0x",n?O(n):"0x",s??"0x",o?O(o):"0x",m??"0x0",O(t),O(""),O(""),O(t),i??"0x",f?O(f):"0x",l??[],u??"0x",d&&h?[d,h]:[]];return it(["0x71",An(p)])}const ml=zw*32n;class ux extends A{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthExceedsMaxSizeError"})}}class lx extends A{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthInWordsMustBeOddError"})}}class dx extends A{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthMustBeDivisibleBy32Error"})}}function hx(e){const t=He(e);if(t.length%32!==0)throw new dx({givenLength:t.length});if(t.length>ml)throw new ux({givenLength:t.length,maxBytecodeSize:ml});const n=mf(t),r=He(n),s=t.length/32;if(s%2===0)throw new lx({givenLengthInWords:s});const i=He(s),o=nt(i,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(o,2),r}const fx=e=>{Cf(e);const t=px(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function px(e){const{gas:t,nonce:n,to:r,from:s,value:i,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:u,paymasterInput:l,gasPerPubdata:d,data:h}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:d??0n,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:i??0n,data:h||"0x0",factoryDeps:(c==null?void 0:c.map(f=>O(hx(f))))??[],paymasterInput:l||"0x"}}const mx={formatters:Sf,serializers:ax,custom:{getEip712Domain:fx}},bx=Je({...mx,id:324,name:"zkSync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}});var yx={};const K=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:yx,ie=Object.keys,ve=Array.isArray;function _e(e,t){return typeof t!="object"||ie(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||K.Promise||(K.Promise=Promise);const fs=Object.getPrototypeOf,gx={}.hasOwnProperty;function Oe(e,t){return gx.call(e,t)}function ar(e,t){typeof t=="function"&&(t=t(fs(e))),(typeof Reflect>"u"?ie:Reflect.ownKeys)(t).forEach(n=>{vt(e,n,t[n])})}const Tf=Object.defineProperty;function vt(e,t,n,r){Tf(e,t,_e(n&&Oe(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Gn(e){return{from:function(t){return e.prototype=Object.create(t.prototype),vt(e.prototype,"constructor",e),{extend:ar.bind(null,e.prototype)}}}}const vx=Object.getOwnPropertyDescriptor;function Qc(e,t){let n;return vx(e,t)||(n=fs(e))&&Qc(n,t)}const wx=[].slice;function xi(e,t,n){return wx.call(e,t,n)}function Of(e,t){return t(e)}function kr(e){if(!e)throw new Error("Assertion Failed")}function Bf(e){K.setImmediate?setImmediate(e):setTimeout(e,0)}function Rf(e,t){return e.reduce((n,r,s)=>{var i=t(r,s);return i&&(n[i[0]]=i[1]),n},{})}function wt(e,t){if(typeof t=="string"&&Oe(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,s=t.length;r<s;++r){var i=wt(e,t[r]);n.push(i)}return n}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a==null?void 0:wt(a,t.substr(o+1))}}function Ge(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){kr(typeof n!="string"&&"length"in n);for(var r=0,s=t.length;r<s;++r)Ge(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var o=t.substr(0,i),a=t.substr(i+1);if(a==="")n===void 0?ve(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var c=e[o];c&&Oe(e,o)||(c=e[o]={}),Ge(c,a,n)}}else n===void 0?ve(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Mf(e){var t={};for(var n in e)Oe(e,n)&&(t[n]=e[n]);return t}const xx=[].concat;function Df(e){return xx.apply([],e)}const jf="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Df([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>K[e]),_x=jf.map(e=>K[e]);Rf(jf,e=>[e,!0]);let Ot=null;function Ds(e){Ot=typeof WeakMap<"u"&&new WeakMap;const t=$a(e);return Ot=null,t}function $a(e){if(!e||typeof e!="object")return e;let t=Ot&&Ot.get(e);if(t)return t;if(ve(e)){t=[],Ot&&Ot.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push($a(e[n]))}else if(_x.indexOf(e.constructor)>=0)t=e;else{const i=fs(e);for(var s in t=i===Object.prototype?{}:Object.create(i),Ot&&Ot.set(e,t),e)Oe(e,s)&&(t[s]=$a(e[s]))}return t}const{toString:$x}={};function ka(e){return $x.call(e).slice(8,-1)}const Pa=typeof Symbol<"u"?Symbol.iterator:"@@iterator",kx=typeof Pa=="symbol"?function(e){var t;return e!=null&&(t=e[Pa])&&t.apply(e)}:function(){return null},zn={};function ht(e){var t,n,r,s;if(arguments.length===1){if(ve(e))return e.slice();if(this===zn&&typeof e=="string")return[e];if(s=kx(e)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Xc=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var ot=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ff(e,t){ot=e,Nf=t}var Nf=()=>!0;const Px=!new Error("").stack;function Mn(){if(Px)try{throw Mn.arguments,new Error}catch(e){return e}return new Error}function Aa(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(Nf).map(r=>`
`+r).join("")):""}var Lf=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],eu=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Lf),Ax={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Kn(e,t){this._e=Mn(),this.name=e,this.message=t}function zf(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function _i(e,t,n,r){this._e=Mn(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=zf(e,t)}function Tr(e,t){this._e=Mn(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=zf(e,t)}Gn(Kn).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Aa(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Gn(_i).from(Kn),Gn(Tr).from(Kn);var tu=eu.reduce((e,t)=>(e[t]=t+"Error",e),{});const Ex=Kn;var B=eu.reduce((e,t)=>{var n=t+"Error";function r(s,i){this._e=Mn(),this.name=n,s?typeof s=="string"?(this.message=`${s}${i?`
 `+i:""}`,this.inner=i||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=Ax[t]||n,this.inner=null)}return Gn(r).from(Ex),e[t]=r,e},{});B.Syntax=SyntaxError,B.Type=TypeError,B.Range=RangeError;var bl=Lf.reduce((e,t)=>(e[t+"Error"]=B[t],e),{}),ii=eu.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=B[t]),e),{});function W(){}function ps(e){return e}function Sx(e,t){return e==null||e===ps?t:function(n){return t(e(n))}}function En(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ix(e,t){return e===W?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?En(r,this.onsuccess):r),s&&(this.onerror=this.onerror?En(s,this.onerror):s),i!==void 0?i:n}}function Cx(e,t){return e===W?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?En(n,this.onsuccess):n),r&&(this.onerror=this.onerror?En(r,this.onerror):r)}}function Tx(e,t){return e===W?t:function(n){var r=e.apply(this,arguments);_e(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?En(s,this.onsuccess):s),i&&(this.onerror=this.onerror?En(i,this.onerror):i),r===void 0?o===void 0?void 0:o:_e(r,o)}}function Ox(e,t){return e===W?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function nu(e,t){return e===W?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}ii.ModifyError=_i,ii.DexieError=Kn,ii.BulkError=Tr;var ms={};const Uf=100,[Ea,$i,Sa]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,fs(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,fs(t),e]})(),Vf=$i&&$i.then,oi=Ea&&Ea.constructor,ru=!!Sa;var Ia=!1,Bx=Sa?()=>{Sa.then(Ws)}:K.setImmediate?setImmediate.bind(null,Ws):K.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Ws(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Ws,0)},Or=function(e,t){Pr.push([e,t]),ki&&(Bx(),ki=!1)},Ca=!0,ki=!0,hn=[],ai=[],Ta=null,Oa=ps,Zn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:vl,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{vl(e[0],e[1])}catch{}})}},T=Zn,Pr=[],fn=0,ci=[];function S(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=W,this._lib=!1;var t=this._PSD=T;if(ot&&(this._stackHolder=Mn(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==ms)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ra(this,this._value))}this._state=null,this._value=null,++t.ref,Hf(this,e)}const Ba={get:function(){var e=T,t=Pi;function n(r,s){var i=!e.global&&(e!==T||t!==Pi);const o=i&&!Et();var a=new S((c,u)=>{su(this,new qf(Ai(r,e,i,o),Ai(s,e,i,o),c,u,e))});return ot&&Kf(a,this),a}return n.prototype=ms,n},set:function(e){vt(this,"then",e&&e.prototype===ms?Ba:{get:function(){return e},set:Ba.set})}};function qf(e,t,n,r,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=s}function Hf(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&js();n&&typeof n.then=="function"?Hf(e,(s,i)=>{n instanceof S?n._then(s,i):n.then(s,i)}):(e._state=!0,e._value=n,Wf(e)),r&&Fs()}},Ra.bind(null,e))}catch(n){Ra(e,n)}}function Ra(e,t){if(ai.push(t),e._state===null){var n=e._lib&&js();t=Oa(t),e._state=!1,e._value=t,ot&&t!==null&&typeof t=="object"&&!t._promise&&function(r,s,i){try{r.apply(null,i)}catch{}}(()=>{var r=Qc(t,"stack");t._promise=e,vt(t,"stack",{get:()=>Ia?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){hn.some(s=>s._value===r._value)||hn.push(r)}(e),Wf(e),n&&Fs()}}function Wf(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)su(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),fn===0&&(++fn,Or(()=>{--fn==0&&iu()},[]))}function su(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++fn,Or(Rx,[n,e,t])}else e._listeners.push(t)}function Rx(e,t,n){try{Ta=t;var r,s=t._value;t._state?r=e(s):(ai.length&&(ai=[]),r=e(s),ai.indexOf(s)===-1&&function(i){for(var o=hn.length;o;)if(hn[--o]._value===i._value)return void hn.splice(o,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{Ta=null,--fn==0&&iu(),--n.psd.ref||n.psd.finalize()}}function Gf(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var s,i,o=e._value;o!=null?(s=o.name||"Error",i=o.message||o,r=Aa(o,0)):(s=o,i=""),t.push(s+(i?": "+i:"")+r)}return ot&&((r=Aa(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&Gf(e._prev,t,n)),t}function Kf(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ws(){js()&&Fs()}function js(){var e=Ca;return Ca=!1,ki=!1,e}function Fs(){var e,t,n;do for(;Pr.length>0;)for(e=Pr,Pr=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Pr.length>0);Ca=!0,ki=!0}function iu(){var e=hn;hn=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=ci.slice(0),n=t.length;n;)t[--n]()}function Gs(e){return new S(ms,!1,e)}function Z(e,t){var n=T;return function(){var r=js(),s=T;try{return Zt(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{Zt(s,!1),r&&Fs()}}}ar(S.prototype,{then:Ba,_then:function(e,t){su(this,new qf(null,null,e,t,T))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Gs(r)):this.then(null,r=>r&&r.name===t?n(r):Gs(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Gs(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Ia=!0;var e=Gf(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Ia=!1}}},timeout:function(e,t){return e<1/0?new S((n,r)=>{var s=setTimeout(()=>r(new B.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&vt(S.prototype,Symbol.toStringTag,"Dexie.Promise"),Zn.env=Zf(),ar(S,{all:function(){var e=ht.apply(null,arguments).map(Ks);return new S(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((s,i)=>S.resolve(s).then(o=>{e[i]=o,--r||t(e)},n))})},resolve:e=>{if(e instanceof S)return e;if(e&&typeof e.then=="function")return new S((n,r)=>{e.then(n,r)});var t=new S(ms,!0,e);return Kf(t,Ta),t},reject:Gs,race:function(){var e=ht.apply(null,arguments).map(Ks);return new S((t,n)=>{e.map(r=>S.resolve(r).then(t,n))})},PSD:{get:()=>T,set:e=>T=e},totalEchoes:{get:()=>Pi},newPSD:Kt,usePSD:fr,scheduler:{get:()=>Or,set:e=>{Or=e}},rejectionMapper:{get:()=>Oa,set:e=>{Oa=e}},follow:(e,t)=>new S((n,r)=>Kt((s,i)=>{var o=T;o.unhandleds=[],o.onunhandled=i,o.finalize=En(function(){(function(a){function c(){a(),ci.splice(ci.indexOf(c),1)}ci.push(c),++fn,Or(()=>{--fn==0&&iu()},[])})(()=>{this.unhandleds.length===0?s():i(this.unhandleds[0])})},o.finalize),e()},t,n,r))}),oi&&(oi.allSettled&&vt(S,"allSettled",function(){const e=ht.apply(null,arguments).map(Ks);return new S(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((s,i)=>S.resolve(s).then(o=>r[i]={status:"fulfilled",value:o},o=>r[i]={status:"rejected",reason:o}).then(()=>--n||t(r)))})}),oi.any&&typeof AggregateError<"u"&&vt(S,"any",function(){const e=ht.apply(null,arguments).map(Ks);return new S((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach((i,o)=>S.resolve(i).then(a=>t(a),a=>{s[o]=a,--r||n(new AggregateError(s))}))})}));const ge={awaits:0,echoes:0,id:0};var Mx=0,ui=[],Co=0,Pi=0,Dx=0;function Kt(e,t,n,r){var s=T,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++Dx;var o=Zn.env;i.env=ru?{Promise:S,PromiseProp:{value:S,configurable:!0,writable:!0},all:S.all,race:S.race,allSettled:S.allSettled,any:S.any,resolve:S.resolve,reject:S.reject,nthen:yl(o.nthen,i),gthen:yl(o.gthen,i)}:{},t&&_e(i,t),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=fr(i,e,n,r);return i.ref===0&&i.finalize(),a}function hr(){return ge.id||(ge.id=++Mx),++ge.awaits,ge.echoes+=Uf,ge.id}function Et(){return!!ge.awaits&&(--ge.awaits==0&&(ge.id=0),ge.echoes=ge.awaits*Uf,!0)}function Ks(e){return ge.echoes&&e&&e.constructor===oi?(hr(),e.then(t=>(Et(),t),t=>(Et(),ce(t)))):e}function jx(e){++Pi,ge.echoes&&--ge.echoes!=0||(ge.echoes=ge.id=0),ui.push(T),Zt(e,!0)}function Fx(){var e=ui[ui.length-1];ui.pop(),Zt(e,!1)}function Zt(e,t){var n=T;if((t?!ge.echoes||Co++&&e===T:!Co||--Co&&e===T)||Yf(t?jx.bind(null,e):Fx),e!==T&&(T=e,n===Zn&&(Zn.env=Zf()),ru)){var r=Zn.env.Promise,s=e.env;$i.then=s.nthen,r.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(K,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function Zf(){var e=K.Promise;return ru?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(K,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:$i.then,gthen:e.prototype.then}:{}}function fr(e,t,n,r,s){var i=T;try{return Zt(e,!0),t(n,r,s)}finally{Zt(i,!1)}}function Yf(e){Vf.call(Ea,e)}function Ai(e,t,n,r){return typeof e!="function"?e:function(){var s=T;n&&hr(),Zt(t,!0);try{return e.apply(this,arguments)}finally{Zt(s,!1),r&&Yf(Et)}}}function yl(e,t){return function(n,r){return e.call(this,Ai(n,t),Ai(r,t))}}(""+Vf).indexOf("[native code]")===-1&&(hr=Et=W);const gl="unhandledrejection";function vl(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,s={promise:t,reason:e};if(K.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(gl,!0,!0),_e(r,s)):K.CustomEvent&&_e(r=new CustomEvent(gl,{detail:s}),s),r&&K.dispatchEvent&&(dispatchEvent(r),!K.PromiseRejectionEvent&&K.onunhandledrejection))try{K.onunhandledrejection(r)}catch{}ot&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var ce=S.reject;function Ma(e,t,n,r){if(e.idbdb&&(e._state.openComplete||T.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===tu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Ma(e,t,n,r))):ce(i)}return s._promise(t,(i,o)=>Kt(()=>(T.trans=s,r(i,o,s)))).then(i=>s._completion.then(()=>i))}if(e._state.openComplete)return ce(new B.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ce(new B.DatabaseClosed);e.open().catch(W)}return e._state.dbReadyPromise.then(()=>Ma(e,t,n,r))}const wl="3.2.7",un="",Da=-1/0,ut="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Jf="String expected.",Br=[],so=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Nx=so,Lx=so,Qf=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),io="__dbnames",To="readonly",Oo="readwrite";function Sn(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Xf={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zs(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Ds(t))[e],t)}class zx{_trans(t,n,r){const s=this._tx||T.trans,i=this.name;function o(c,u,l){if(!l.schema[i])throw new B.NotFound("Table "+i+" not part of transaction");return n(l.idbtrans,l)}const a=js();try{return s&&s.db===this.db?s===T.trans?s._promise(t,o,r):Kt(()=>s._promise(t,o,r),{trans:s,transless:T.transless||T}):Ma(this.db,t,[this.name],o)}finally{a&&Fs()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(s=>this.hook.reading.fire(s))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(ve(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=ie(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>{if(u.compound&&n.every(l=>u.keyPath.indexOf(l)>=0)){for(let l=0;l<n.length;++l)if(n.indexOf(u.keyPath[l])===-1)return!1;return!0}return!1}).sort((u,l)=>u.keyPath.length-l.keyPath.length)[0];if(r&&this.db._maxKey!==un){const u=r.keyPath.slice(0,n.length);return this.where(u).equals(u.map(l=>t[l]))}!r&&ot&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,i=this.db._deps.indexedDB;function o(u,l){try{return i.cmp(u,l)===0}catch{return!1}}const[a,c]=n.reduce(([u,l],d)=>{const h=s[d],f=t[d];return[u||h,u||!h?Sn(l,h&&h.multi?m=>{const p=wt(m,d);return ve(p)&&p.some(y=>o(f,y))}:m=>o(f,wt(m,d))):l]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,ve(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const s=Object.create(t.prototype);for(var i in r)if(Oe(r,i))try{s[i]=r[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){_e(this,t)})}add(t,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=t;return s&&r&&(i=Zs(s)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[i]})).then(o=>o.numFailures?S.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{Ge(t,s,o)}catch{}return o})}update(t,n){if(typeof t!="object"||ve(t))return this.where(":id").equals(t).modify(n);{const r=wt(t,this.schema.primKey.keyPath);if(r===void 0)return ce(new B.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ie(n).forEach(s=>{Ge(t,s,n[s])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=t;return s&&r&&(i=Zs(s)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[i],keys:n!=null?[n]:null})).then(o=>o.numFailures?S.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{Ge(t,s,o)}catch{}return o})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?S.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Xf})).then(t=>t.numFailures?S.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(t,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&s)throw new B.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new B.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let l=c&&a?t.map(Zs(c)):t;return this.core.mutate({trans:o,type:"add",keys:s,values:l,wantResults:i}).then(({numFailures:d,results:h,lastResult:f,failures:m})=>{if(d===0)return i?h:f;throw new Tr(`${this.name}.bulkAdd(): ${d} of ${u} operations failed`,m)})})}bulkPut(t,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&s)throw new B.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new B.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let l=c&&a?t.map(Zs(c)):t;return this.core.mutate({trans:o,type:"put",keys:s,values:l,wantResults:i}).then(({numFailures:d,results:h,lastResult:f,failures:m})=>{if(d===0)return i?h:f;throw new Tr(`${this.name}.bulkPut(): ${d} of ${u} operations failed`,m)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:s,failures:i})=>{if(r===0)return s;throw new Tr(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function Rr(e){var t={},n=function(o,a){if(a){for(var c=arguments.length,u=new Array(c-1);--c;)u[c-1]=arguments[c];return t[o].subscribe.apply(null,u),e}if(typeof o=="string")return t[o]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(o,a,c){if(typeof o!="object"){var u;a||(a=Ox),c||(c=W);var l={subscribers:[],fire:c,subscribe:function(d){l.subscribers.indexOf(d)===-1&&(l.subscribers.push(d),l.fire=a(l.fire,d))},unsubscribe:function(d){l.subscribers=l.subscribers.filter(function(h){return h!==d}),l.fire=l.subscribers.reduce(a,c)}};return t[o]=n[o]=l,l}ie(u=o).forEach(function(d){var h=u[d];if(ve(h))i(d,u[d][0],u[d][1]);else{if(h!=="asap")throw new B.InvalidArgument("Invalid event config");var f=i(d,ps,function(){for(var m=arguments.length,p=new Array(m);m--;)p[m]=arguments[m];f.subscribers.forEach(function(y){Bf(function(){y.apply(null,p)})})})}})}}function xr(e,t){return Gn(t).from({prototype:e}),t}function Fn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Bo(e,t){e.filter=Sn(e.filter,t)}function Ro(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Sn(r(),t()):t,e.justLimit=n&&!r}function li(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new B.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function xl(e,t,n){const r=li(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Ys(e,t,n,r){const s=e.replayFilter?Sn(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},o=(a,c,u)=>{if(!s||s(c,u,h=>c.stop(h),h=>c.fail(h))){var l=c.primaryKey,d=""+l;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(l)),Oe(i,d)||(i[d]=!0,t(a,c,u))}};return Promise.all([e.or._iterate(o,n),_l(xl(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return _l(xl(e,r,n),Sn(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function _l(e,t,n,r){var s=Z(r?(i,o,a)=>n(r(i),o,a):n);return e.then(i=>{if(i)return i.start(()=>{var o=()=>i.continue();t&&!t(i,a=>o=a,a=>{i.stop(a),o=W},a=>{i.fail(a),o=W})||s(i.value,i,a=>o=a),o()})})}function we(e,t){try{const n=$l(e),r=$l(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(s,i){const o=s.length,a=i.length,c=o<a?o:a;for(let u=0;u<c;++u)if(s[u]!==i[u])return s[u]<i[u]?-1:1;return o===a?0:o<a?-1:1}(kl(e),kl(t));case"Array":return function(s,i){const o=s.length,a=i.length,c=o<a?o:a;for(let u=0;u<c;++u){const l=we(s[u],i[u]);if(l!==0)return l}return o===a?0:o<a?-1:1}(e,t)}}catch{}return NaN}function $l(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=ka(e);return n==="ArrayBuffer"?"binary":n}function kl(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Ux{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,ce.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,ce.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Sn(n.algorithm,t)}_iterate(t,n){return Ys(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&_e(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Ys(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,s=r.table.core;if(Fn(r,!0))return s.count({trans:n,query:{index:li(r,s.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var i=0;return Ys(r,()=>(++i,!1),n,s).then(()=>i)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),s=r[0],i=r.length-1;function o(u,l){return l?o(u[r[l]],l-1):u[s]}var a=this._ctx.dir==="next"?1:-1;function c(u,l){var d=o(u,i),h=o(l,i);return d<h?-a:d>h?a:0}return this.toArray(function(u){return u.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Fn(r,!0)&&r.limit>0){const{valueMapper:s}=r,i=li(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:o})=>s?o.map(s):o)}{const s=[];return Ys(r,i=>s.push(i),n,r.table.core).then(()=>s)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Fn(n)?Ro(n,()=>{var r=t;return(s,i)=>r===0||(r===1?(--r,!1):(i(()=>{s.advance(r),r=0}),!1))}):Ro(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ro(this._ctx,()=>{var n=t;return function(r,s,i){return--n<=0&&s(i),n>=0}},!0),this}until(t,n){return Bo(this._ctx,function(r,s,i){return!t(r.value)||(s(i),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Bo(this._ctx,function(s){return t(s.value)}),n=this._ctx,r=t,n.isMatch=Sn(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.key,s)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){t(s.primaryKey,s)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Fn(n,!0)&&n.limit>0)return this._read(s=>{var i=li(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:s})=>s).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Bo(this._ctx,function(s){var i=s.primaryKey.toString(),o=Oe(r,i);return r[i]=!0,!o}),this}modify(t){var n=this._ctx;return this._write(r=>{var s;if(typeof t=="function")s=t;else{var i=ie(t),o=i.length;s=function(p){for(var y=!1,b=0;b<o;++b){var g=i[b],v=t[g];wt(p,g)!==v&&(Ge(p,g,v),y=!0)}return y}}const a=n.table.core,{outbound:c,extractKey:u}=a.schema.primaryKey,l=this.db._options.modifyChunkSize||200,d=[];let h=0;const f=[],m=(p,y)=>{const{failures:b,numFailures:g}=y;h+=p-g;for(let v of ie(b))d.push(b[v])};return this.clone().primaryKeys().then(p=>{const y=b=>{const g=Math.min(l,p.length-b);return a.getMany({trans:r,keys:p.slice(b,b+g),cache:"immutable"}).then(v=>{const w=[],k=[],$=c?[]:null,x=[];for(let P=0;P<g;++P){const D=v[P],M={value:Ds(D),primKey:p[b+P]};s.call(M,M.value,M)!==!1&&(M.value==null?x.push(p[b+P]):c||we(u(D),u(M.value))===0?(k.push(M.value),c&&$.push(p[b+P])):(x.push(p[b+P]),w.push(M.value)))}const I=Fn(n)&&n.limit===1/0&&(typeof t!="function"||t===Mo)&&{index:n.index,range:n.range};return Promise.resolve(w.length>0&&a.mutate({trans:r,type:"add",values:w}).then(P=>{for(let D in P.failures)x.splice(parseInt(D),1);m(w.length,P)})).then(()=>(k.length>0||I&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:$,values:k,criteria:I,changeSpec:typeof t!="function"&&t}).then(P=>m(k.length,P))).then(()=>(x.length>0||I&&t===Mo)&&a.mutate({trans:r,type:"delete",keys:x,criteria:I}).then(P=>m(x.length,P))).then(()=>p.length>b+g&&y(b+l))})};return y(0).then(()=>{if(d.length>0)throw new _i("Error modifying one or more objects",d,h,f);return p.length})})})}delete(){var t=this._ctx,n=t.range;return Fn(t)&&(t.isPrimKey&&!Lx||n.type===3)?this._write(r=>{const{primaryKey:s}=t.table.core.schema,i=n;return t.table.core.count({trans:r,query:{index:s,range:i}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:a,lastResult:c,results:u,numFailures:l})=>{if(l)throw new _i("Could not delete some values",Object.keys(a).map(d=>a[d]),o-l);return o-l}))}):this.modify(Mo)}}const Mo=(e,t)=>t.value=null;function Vx(e,t){return e<t?-1:e===t?0:1}function qx(e,t){return e>t?-1:e===t?0:1}function Te(e,t,n){var r=e instanceof tp?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Nn(e){return new e.Collection(e,()=>ep("")).limit(0)}function Hx(e,t,n,r,s,i){for(var o=Math.min(e.length,r.length),a=-1,c=0;c<o;++c){var u=t[c];if(u!==r[c])return s(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):s(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[c],u)<0&&(a=c)}return o<r.length&&i==="next"?e+n.substr(e.length):o<e.length&&i==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Js(e,t,n,r){var s,i,o,a,c,u,l,d=n.length;if(!n.every(p=>typeof p=="string"))return Te(e,Jf);function h(p){s=function(b){return b==="next"?g=>g.toUpperCase():g=>g.toLowerCase()}(p),i=function(b){return b==="next"?g=>g.toLowerCase():g=>g.toUpperCase()}(p),o=p==="next"?Vx:qx;var y=n.map(function(b){return{lower:i(b),upper:s(b)}}).sort(function(b,g){return o(b.lower,g.lower)});a=y.map(function(b){return b.upper}),c=y.map(function(b){return b.lower}),u=p,l=p==="next"?"":r}h("next");var f=new e.Collection(e,()=>Tt(a[0],c[d-1]+r));f._ondirectionchange=function(p){h(p)};var m=0;return f._addAlgorithm(function(p,y,b){var g=p.key;if(typeof g!="string")return!1;var v=i(g);if(t(v,c,m))return!0;for(var w=null,k=m;k<d;++k){var $=Hx(g,v,a[k],c[k],o,u);$===null&&w===null?m=k+1:(w===null||o(w,$)>0)&&(w=$)}return y(w!==null?function(){p.continue(w+l)}:b),!1}),f}function Tt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function ep(e){return{type:1,lower:e,upper:e}}class tp{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||s)&&(!r||!s)?Nn(this):new this.Collection(this,()=>Tt(t,n,!r,!s))}catch{return Te(this,ut)}}equals(t){return t==null?Te(this,ut):new this.Collection(this,()=>ep(t))}above(t){return t==null?Te(this,ut):new this.Collection(this,()=>Tt(t,void 0,!0))}aboveOrEqual(t){return t==null?Te(this,ut):new this.Collection(this,()=>Tt(t,void 0,!1))}below(t){return t==null?Te(this,ut):new this.Collection(this,()=>Tt(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Te(this,ut):new this.Collection(this,()=>Tt(void 0,t))}startsWith(t){return typeof t!="string"?Te(this,Jf):this.between(t,t+un,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Js(this,(n,r)=>n.indexOf(r[0])===0,[t],un)}equalsIgnoreCase(t){return Js(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=ht.apply(zn,arguments);return t.length===0?Nn(this):Js(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=ht.apply(zn,arguments);return t.length===0?Nn(this):Js(this,(n,r)=>r.some(s=>n.indexOf(s)===0),t,un)}anyOf(){const t=ht.apply(zn,arguments);let n=this._cmp;try{t.sort(n)}catch{return Te(this,ut)}if(t.length===0)return Nn(this);const r=new this.Collection(this,()=>Tt(t[0],t[t.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,t.sort(n)};let s=0;return r._addAlgorithm((i,o,a)=>{const c=i.key;for(;n(c,t[s])>0;)if(++s,s===t.length)return o(a),!1;return n(c,t[s])===0||(o(()=>{i.continue(t[s])}),!1)}),r}notEqual(t){return this.inAnyRange([[Da,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=ht.apply(zn,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Te(this,ut)}const n=t.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[Da,s]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,s=this._ascending,i=this._descending,o=this._min,a=this._max;if(t.length===0)return Nn(this);if(!t.every(g=>g[0]!==void 0&&g[1]!==void 0&&s(g[0],g[1])<=0))return Te(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",B.InvalidArgument);const c=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let l,d=s;function h(g,v){return d(g[0],v[0])}try{l=t.reduce(function(g,v){let w=0,k=g.length;for(;w<k;++w){const $=g[w];if(r(v[0],$[1])<0&&r(v[1],$[0])>0){$[0]=o($[0],v[0]),$[1]=a($[1],v[1]);break}}return w===k&&g.push(v),g},[]),l.sort(h)}catch{return Te(this,ut)}let f=0;const m=u?g=>s(g,l[f][1])>0:g=>s(g,l[f][1])>=0,p=c?g=>i(g,l[f][0])>0:g=>i(g,l[f][0])>=0;let y=m;const b=new this.Collection(this,()=>Tt(l[0][0],l[l.length-1][1],!c,!u));return b._ondirectionchange=g=>{g==="next"?(y=m,d=s):(y=p,d=i),l.sort(h)},b._addAlgorithm((g,v,w)=>{for(var k=g.key;y(k);)if(++f,f===l.length)return v(w),!1;return!!function($){return!m($)&&!p($)}(k)||(this._cmp(k,l[f][1])===0||this._cmp(k,l[f][0])===0||v(()=>{d===s?g.continue(l[f][0]):g.continue(l[f][1])}),!1)}),b}startsWithAnyOf(){const t=ht.apply(zn,arguments);return t.every(n=>typeof n=="string")?t.length===0?Nn(this):this.inAnyRange(t.map(n=>[n,n+un])):Te(this,"startsWithAnyOf() only works with strings")}}function et(e){return Z(function(t){return bs(t),e(t.target.error),!1})}function bs(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const ys="storagemutated",Bt="x-storagemutated-1",Yt=Rr(null,ys);class Wx{_lock(){return kr(!T.global),++this._reculock,this._reculock!==1||T.global||(T.lockOwnerFor=this),this}_unlock(){if(kr(!T.global),--this._reculock==0)for(T.global||(T.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{fr(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&T.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(kr(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new B.DatabaseClosed(r);case"MissingAPIError":throw new B.MissingAPI(r.message,r);default:throw new B.OpenFailed(r)}if(!this.active)throw new B.TransactionInactive;return kr(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Z(s=>{bs(s),this._reject(t.error)}),t.onabort=Z(s=>{bs(s),this.active&&this._reject(new B.Abort(t.error)),this.active=!1,this.on("abort").fire(s)}),t.oncomplete=Z(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Yt.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return ce(new B.ReadOnly("Transaction is readonly"));if(!this.active)return ce(new B.TransactionInactive);if(this._locked())return new S((i,o)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(i,o)},T])});if(r)return Kt(()=>{var i=new S((o,a)=>{this._lock();const c=n(o,a,this);c&&c.then&&c.then(o,a)});return i.finally(()=>this._unlock()),i._lib=!0,i});var s=new S((i,o)=>{var a=n(i,o,this);a&&a.then&&a.then(i,o)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=S.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=o)})()}var i=n._waitingFor;return new S((o,a)=>{r.then(c=>n._waitingQueue.push(Z(o.bind(null,c))),c=>n._waitingQueue.push(Z(a.bind(null,c)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new B.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Oe(n,t))return n[t];const r=this.schema[t];if(!r)throw new B.NotFound("Table "+t+" not part of transaction");const s=new this.db.Table(t,r,this);return s.core=this.db.core.table(t),n[t]=s,s}}function ja(e,t,n,r,s,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(s?"++":"")+np(t)}}function np(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function rp(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Rf(n,r=>[r.name,r])}}let gs=e=>{try{return e.only([[]]),gs=()=>[[]],[[]]}catch{return gs=()=>un,un}};function Fa(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>wt(r,t)}(e):t=>wt(t,e)}function Pl(e){return[].slice.call(e)}let Gx=0;function Mr(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function Kx(e,t,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:l,lowerOpen:d,upperOpen:h}=c;return u===void 0?l===void 0?null:t.upperBound(l,!!h):l===void 0?t.lowerBound(u,!!d):t.bound(u,l,!!d,!!h)}const{schema:s,hasGetAll:i}=function(c,u){const l=Pl(c.objectStoreNames);return{schema:{name:c.name,tables:l.map(d=>u.objectStore(d)).map(d=>{const{keyPath:h,autoIncrement:f}=d,m=ve(h),p=h==null,y={},b={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p,compound:m,keyPath:h,autoIncrement:f,unique:!0,extractKey:Fa(h)},indexes:Pl(d.indexNames).map(g=>d.index(g)).map(g=>{const{name:v,unique:w,multiEntry:k,keyPath:$}=g,x={name:v,compound:ve($),keyPath:$,unique:w,multiEntry:k,extractKey:Fa($)};return y[Mr($)]=x,x}),getIndexByKeyPath:g=>y[Mr(g)]};return y[":id"]=b.primaryKey,h!=null&&(y[Mr(h)]=b.primaryKey),b})},hasGetAll:l.length>0&&"getAll"in u.objectStore(l[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=s.tables.map(c=>function(u){const l=u.name;return{name:l,schema:u,mutate:function({trans:d,type:h,keys:f,values:m,range:p}){return new Promise((y,b)=>{y=Z(y);const g=d.objectStore(l),v=g.keyPath==null,w=h==="put"||h==="add";if(!w&&h!=="delete"&&h!=="deleteRange")throw new Error("Invalid operation type: "+h);const{length:k}=f||m||{length:1};if(f&&m&&f.length!==m.length)throw new Error("Given keys array must have same length as given values array.");if(k===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});let $;const x=[],I=[];let P=0;const D=J=>{++P,bs(J)};if(h==="deleteRange"){if(p.type===4)return y({numFailures:P,failures:I,results:[],lastResult:void 0});p.type===3?x.push($=g.clear()):x.push($=g.delete(r(p)))}else{const[J,H]=w?v?[m,f]:[m,null]:[f,null];if(w)for(let G=0;G<k;++G)x.push($=H&&H[G]!==void 0?g[h](J[G],H[G]):g[h](J[G])),$.onerror=D;else for(let G=0;G<k;++G)x.push($=g[h](J[G])),$.onerror=D}const M=J=>{const H=J.target.result;x.forEach((G,Qe)=>G.error!=null&&(I[Qe]=G.error)),y({numFailures:P,failures:I,results:h==="delete"?f:x.map(G=>G.result),lastResult:H})};$.onerror=J=>{D(J),M(J)},$.onsuccess=M})},getMany:({trans:d,keys:h})=>new Promise((f,m)=>{f=Z(f);const p=d.objectStore(l),y=h.length,b=new Array(y);let g,v=0,w=0;const k=x=>{const I=x.target;b[I._pos]=I.result,++w===v&&f(b)},$=et(m);for(let x=0;x<y;++x)h[x]!=null&&(g=p.get(h[x]),g._pos=x,g.onsuccess=k,g.onerror=$,++v);v===0&&f(b)}),get:({trans:d,key:h})=>new Promise((f,m)=>{f=Z(f);const p=d.objectStore(l).get(h);p.onsuccess=y=>f(y.target.result),p.onerror=et(m)}),query:function(d){return h=>new Promise((f,m)=>{f=Z(f);const{trans:p,values:y,limit:b,query:g}=h,v=b===1/0?void 0:b,{index:w,range:k}=g,$=p.objectStore(l),x=w.isPrimaryKey?$:$.index(w.name),I=r(k);if(b===0)return f({result:[]});if(d){const P=y?x.getAll(I,v):x.getAllKeys(I,v);P.onsuccess=D=>f({result:D.target.result}),P.onerror=et(m)}else{let P=0;const D=y||!("openKeyCursor"in x)?x.openCursor(I):x.openKeyCursor(I),M=[];D.onsuccess=J=>{const H=D.result;return H?(M.push(y?H.value:H.primaryKey),++P===b?f({result:M}):void H.continue()):f({result:M})},D.onerror=et(m)}})}(i),openCursor:function({trans:d,values:h,query:f,reverse:m,unique:p}){return new Promise((y,b)=>{y=Z(y);const{index:g,range:v}=f,w=d.objectStore(l),k=g.isPrimaryKey?w:w.index(g.name),$=m?p?"prevunique":"prev":p?"nextunique":"next",x=h||!("openKeyCursor"in k)?k.openCursor(r(v),$):k.openKeyCursor(r(v),$);x.onerror=et(b),x.onsuccess=Z(I=>{const P=x.result;if(!P)return void y(null);P.___id=++Gx,P.done=!1;const D=P.continue.bind(P);let M=P.continuePrimaryKey;M&&(M=M.bind(P));const J=P.advance.bind(P),H=()=>{throw new Error("Cursor not stopped")};P.trans=d,P.stop=P.continue=P.continuePrimaryKey=P.advance=()=>{throw new Error("Cursor not started")},P.fail=Z(b),P.next=function(){let G=1;return this.start(()=>G--?this.continue():this.stop()).then(()=>this)},P.start=G=>{const Qe=new Promise(($e,tn)=>{$e=Z($e),x.onerror=et(tn),P.fail=tn,P.stop=br=>{P.stop=P.continue=P.continuePrimaryKey=P.advance=H,$e(br)}}),jn=()=>{if(x.result)try{G()}catch($e){P.fail($e)}else P.done=!0,P.start=()=>{throw new Error("Cursor behind last entry")},P.stop()};return x.onsuccess=Z($e=>{x.onsuccess=jn,jn()}),P.continue=D,P.continuePrimaryKey=M,P.advance=J,jn(),Qe},y(P)},b)})},count({query:d,trans:h}){const{index:f,range:m}=d;return new Promise((p,y)=>{const b=h.objectStore(l),g=f.isPrimaryKey?b:b.index(f.name),v=r(m),w=v?g.count(v):g.count();w.onsuccess=Z(k=>p(k.target.result)),w.onerror=et(y)})}}}(c)),a={};return o.forEach(c=>a[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!a[c])throw new Error(`Table '${c}' not found`);return a[c]},MIN_KEY:-1/0,MAX_KEY:gs(t),schema:s}}function Na({_novip:e},t){const n=t.db,r=function(s,i,{IDBKeyRange:o,indexedDB:a},c){return{dbcore:function(l,d){return d.reduce((h,{create:f})=>({...h,...f(h)}),l)}(Kx(i,o,c),s.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(s=>{const i=s.name;e.core.schema.tables.some(o=>o.name===i)&&(s.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=s.core))})}function Ei({_novip:e},t,n,r){n.forEach(s=>{const i=r[s];t.forEach(o=>{const a=Qc(o,s);(!a||"value"in a&&a.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?vt(o,s,{get(){return this.table(s)},set(c){Tf(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[s]=new e.Table(s,i))})})}function La({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Zx(e,t){return e._cfg.version-t._cfg.version}function Yx(e,t,n,r){const s=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,s);i.create(n),i._completion.catch(r);const o=i._reject.bind(i),a=T.transless||T;Kt(()=>{T.trans=i,T.transless=a,t===0?(ie(s).forEach(c=>{Do(n,c,s[c].primKey,s[c].indexes)}),Na(e,n),S.follow(()=>e.on.populate.fire(i)).catch(o)):function({_novip:c},u,l,d){const h=[],f=c._versions;let m=c._dbSchema=Ua(c,c.idbdb,d),p=!1;const y=f.filter(g=>g._cfg.version>=u);function b(){return h.length?S.resolve(h.shift()(l.idbtrans)).then(b):S.resolve()}return y.forEach(g=>{h.push(()=>{const v=m,w=g._cfg.dbschema;Va(c,v,d),Va(c,w,d),m=c._dbSchema=w;const k=sp(v,w);k.add.forEach(x=>{Do(d,x[0],x[1].primKey,x[1].indexes)}),k.change.forEach(x=>{if(x.recreate)throw new B.Upgrade("Not yet support for changing primary key");{const I=d.objectStore(x.name);x.add.forEach(P=>za(I,P)),x.change.forEach(P=>{I.deleteIndex(P.name),za(I,P)}),x.del.forEach(P=>I.deleteIndex(P))}});const $=g._cfg.contentUpgrade;if($&&g._cfg.version>u){Na(c,d),l._memoizedTables={},p=!0;let x=Mf(w);k.del.forEach(M=>{x[M]=v[M]}),La(c,[c.Transaction.prototype]),Ei(c,[c.Transaction.prototype],ie(x),x),l.schema=x;const I=Xc($);let P;I&&hr();const D=S.follow(()=>{if(P=$(l),P&&I){var M=Et.bind(null,null);P.then(M,M)}});return P&&typeof P.then=="function"?S.resolve(P):D.then(()=>P)}}),h.push(v=>{(!p||!Nx)&&function(w,k){[].slice.call(k.db.objectStoreNames).forEach($=>w[$]==null&&k.db.deleteObjectStore($))}(g._cfg.dbschema,v),La(c,[c.Transaction.prototype]),Ei(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),l.schema=c._dbSchema})}),b().then(()=>{var g,v;v=d,ie(g=m).forEach(w=>{v.db.objectStoreNames.contains(w)||Do(v,w,g[w].primKey,g[w].indexes)})})}(e,t,i,n).catch(o)})}function sp(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],i=t[r];if(s){const o={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!so)o.recreate=!0,n.change.push(o);else{const a=s.idxByName,c=i.idxByName;let u;for(u in a)c[u]||o.del.push(u);for(u in c){const l=a[u],d=c[u];l?l.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,i])}return n}function Do(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>za(s,i)),s}function za(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Ua(e,t,n){const r={};return xi(t.objectStoreNames,0).forEach(s=>{const i=n.objectStore(s);let o=i.keyPath;const a=ja(np(o),o||"",!1,!1,!!i.autoIncrement,o&&typeof o!="string",!0),c=[];for(let l=0;l<i.indexNames.length;++l){const d=i.index(i.indexNames[l]);o=d.keyPath;var u=ja(d.name,o,!!d.unique,!!d.multiEntry,!1,o&&typeof o!="string",!1);c.push(u)}r[s]=rp(s,a,c)}),r}function Va({_novip:e},t,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const i=r[s],o=n.objectStore(i);e._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const c=o.indexNames[a],u=o.index(c).keyPath,l=typeof u=="string"?u:"["+xi(u).join("+")+"]";if(t[i]){const d=t[i].idxByName[l];d&&(d.name=c,delete t[i].idxByName[l],t[i].idxByName[c]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&K.WorkerGlobalScope&&K instanceof K.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Jx{_parseStoresSpec(t,n){ie(t).forEach(r=>{if(t[r]!==null){var s=t[r].split(",").map((o,a)=>{const c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return ja(c,u||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),ve(u),a===0)}),i=s.shift();if(i.multi)throw new B.Schema("Primary key cannot be multi-valued");s.forEach(o=>{if(o.auto)throw new B.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new B.Schema("Index must have a name and cannot be an empty string")}),n[r]=rp(r,i,s)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?_e(this._cfg.storesSource,t):t;const r=n._versions,s={};let i={};return r.forEach(o=>{_e(s,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(s,i)}),n._dbSchema=i,La(n,[n._allTables,n,n.Transaction.prototype]),Ei(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ie(i),i),n._storeNames=ie(i),this}upgrade(t){return this._cfg.contentUpgrade=nu(this._cfg.contentUpgrade||W,t),this}}function ou(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new pn(io,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function au(e){return e&&typeof e.databases=="function"}function qa(e){return Kt(function(){return T.letThrough=!0,e()})}function Qx(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Xx(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ce(t.dbOpenError):e);ot&&(t.openCanceller._stackHolder=Mn()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new B.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,o=null,a=!1;const c=()=>new S((u,l)=>{if(s(),!n)throw new B.MissingAPI;const d=e.name,h=t.autoSchema?n.open(d):n.open(d,Math.round(10*e.verno));if(!h)throw new B.MissingAPI;h.onerror=et(l),h.onblocked=Z(e._fireOnBlocked),h.onupgradeneeded=Z(f=>{if(o=h.transaction,t.autoSchema&&!e._options.allowEmptyDB){h.onerror=bs,o.abort(),h.result.close();const p=n.deleteDatabase(d);p.onsuccess=p.onerror=Z(()=>{l(new B.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{o.onerror=et(l);var m=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=m<1,e._novip.idbdb=h.result,Yx(e,m/10,o,l)}},l),h.onsuccess=Z(()=>{o=null;const f=e._novip.idbdb=h.result,m=xi(f.objectStoreNames);if(m.length>0)try{const y=f.transaction((p=m).length===1?p[0]:p,"readonly");t.autoSchema?function({_novip:b},g,v){b.verno=g.version/10;const w=b._dbSchema=Ua(0,g,v);b._storeNames=xi(g.objectStoreNames,0),Ei(b,[b._allTables],ie(w),w)}(e,f,y):(Va(e,e._dbSchema,y),function(b,g){const v=sp(Ua(0,b.idbdb,g),b._dbSchema);return!(v.add.length||v.change.some(w=>w.add.length||w.change.length))}(e,y)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Na(e,y)}catch{}var p;Br.push(e),f.onversionchange=Z(y=>{t.vcFired=!0,e.on("versionchange").fire(y)}),f.onclose=Z(y=>{e.on("close").fire(y)}),a&&function({indexedDB:y,IDBKeyRange:b},g){!au(y)&&g!==io&&ou(y,b).put({name:g}).catch(W)}(e._deps,d),u()},l)}).catch(u=>u&&u.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):S.reject(u));return S.race([r,(typeof navigator>"u"?S.resolve():Qx()).then(c)]).then(()=>(s(),t.onReadyBeingFired=[],S.resolve(qa(()=>e.on.ready.fire(e.vip))).then(function u(){if(t.onReadyBeingFired.length>0){let l=t.onReadyBeingFired.reduce(nu,W);return t.onReadyBeingFired=[],S.resolve(qa(()=>l(e.vip))).then(u)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(u=>{t.dbOpenError=u;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),ce(u)}).finally(()=>{t.openComplete=!0,i()})}function Ha(e){var t=i=>e.next(i),n=s(t),r=s(i=>e.throw(i));function s(i){return o=>{var a=i(o),c=a.value;return a.done?c:c&&typeof c.then=="function"?c.then(n,r):ve(c)?Promise.all(c).then(n,r):n(c)}}return s(t)()}function e1(e,t,n){var r=arguments.length;if(r<2)throw new B.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[e,Df(s),n]}function ip(e,t,n,r,s){return S.resolve().then(()=>{const i=T.transless||T,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===tu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>ip(e,t,n,null,s))):ce(d)}const c=Xc(s);let u;c&&hr();const l=S.follow(()=>{if(u=s.call(o,o),u)if(c){var d=Et.bind(null,null);u.then(d,d)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Ha(u))},a);return(u&&typeof u.then=="function"?S.resolve(u).then(d=>o.active?d:ce(new B.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):l.then(()=>u)).then(d=>(r&&o._resolve(),o._completion.then(()=>d))).catch(d=>(o._reject(d),ce(d)))})}function Qs(e,t,n){const r=ve(e)?e.slice():[e];for(let s=0;s<n;++s)r.push(t);return r}const t1={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},i=[];function o(l,d,h){const f=Mr(l),m=s[f]=s[f]||[],p=l==null?0:typeof l=="string"?1:l.length,y=d>0,b={...h,isVirtual:y,keyTail:d,keyLength:p,extractKey:Fa(l),unique:!y&&h.unique};return m.push(b),b.isPrimaryKey||i.push(b),p>1&&o(p===2?l[0]:l.slice(0,p-1),d+1,h),m.sort((g,v)=>g.keyTail-v.keyTail),b}const a=o(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(const l of r.indexes)o(l.keyPath,0,l);function c(l){const d=l.query.index;return d.isVirtual?{...l,query:{index:d,range:(h=l.query.range,f=d.keyTail,{type:h.type===1?2:h.type,lower:Qs(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,f),lowerOpen:!0,upper:Qs(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,f),upperOpen:!0})}}:l;var h,f}return{...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(l){const d=s[Mr(l)];return d&&d[0]}},count:l=>n.count(c(l)),query:l=>n.query(c(l)),openCursor(l){const{keyTail:d,isVirtual:h,keyLength:f}=l.query.index;return h?n.openCursor(c(l)).then(m=>m&&function(p){return Object.create(p,{continue:{value:function(b){b!=null?p.continue(Qs(b,l.reverse?e.MAX_KEY:e.MIN_KEY,d)):l.unique?p.continue(p.key.slice(0,f).concat(l.reverse?e.MIN_KEY:e.MAX_KEY,d)):p.continue()}},continuePrimaryKey:{value(b,g){p.continuePrimaryKey(Qs(b,e.MAX_KEY,d),g)}},primaryKey:{get:()=>p.primaryKey},key:{get(){const b=p.key;return f===1?b[0]:b.slice(0,f)}},value:{get:()=>p.value}})}(m)):n.openCursor(l)}}}}}};function cu(e,t,n,r){return n=n||{},r=r||"",ie(e).forEach(s=>{if(Oe(t,s)){var i=e[s],o=t[s];if(typeof i=="object"&&typeof o=="object"&&i&&o){const a=ka(i);a!==ka(o)?n[r+s]=t[s]:a==="Object"?cu(i,o,n,r+s+"."):i!==o&&(n[r+s]=t[s])}else i!==o&&(n[r+s]=t[s])}else n[r+s]=void 0}),ie(t).forEach(s=>{Oe(e,s)||(n[r+s]=t[s])}),n}const n1={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(i){const o=T.trans,{deleting:a,creating:c,updating:u}=o.table(t).hook;switch(i.type){case"add":if(c.fire===W)break;return o._promise("readwrite",()=>l(i),!0);case"put":if(c.fire===W&&u.fire===W)break;return o._promise("readwrite",()=>l(i),!0);case"delete":if(a.fire===W)break;return o._promise("readwrite",()=>l(i),!0);case"deleteRange":if(a.fire===W)break;return o._promise("readwrite",()=>function(h){return d(h.trans,h.range,1e4)}(i),!0)}return n.mutate(i);function l(h){const f=T.trans,m=h.keys||function(p,y){return y.type==="delete"?y.keys:y.keys||y.values.map(p.extractKey)}(r,h);if(!m)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?{...h,keys:m}:{...h}).type!=="delete"&&(h.values=[...h.values]),h.keys&&(h.keys=[...h.keys]),function(p,y,b){return y.type==="add"?Promise.resolve([]):p.getMany({trans:y.trans,keys:b,cache:"immutable"})}(n,h,m).then(p=>{const y=m.map((b,g)=>{const v=p[g],w={onerror:null,onsuccess:null};if(h.type==="delete")a.fire.call(w,b,v,f);else if(h.type==="add"||v===void 0){const k=c.fire.call(w,b,h.values[g],f);b==null&&k!=null&&(b=k,h.keys[g]=b,r.outbound||Ge(h.values[g],r.keyPath,b))}else{const k=cu(v,h.values[g]),$=u.fire.call(w,k,b,v,f);if($){const x=h.values[g];Object.keys($).forEach(I=>{Oe(x,I)?x[I]=$[I]:Ge(x,I,$[I])})}}return w});return n.mutate(h).then(({failures:b,results:g,numFailures:v,lastResult:w})=>{for(let k=0;k<m.length;++k){const $=g?g[k]:m[k],x=y[k];$==null?x.onerror&&x.onerror(b[k]):x.onsuccess&&x.onsuccess(h.type==="put"&&p[k]?h.values[k]:$)}return{failures:b,results:g,numFailures:v,lastResult:w}}).catch(b=>(y.forEach(g=>g.onerror&&g.onerror(b)),Promise.reject(b)))})}function d(h,f,m){return n.query({trans:h,values:!1,query:{index:r,range:f},limit:m}).then(({result:p})=>l({type:"delete",keys:p,trans:h}).then(y=>y.numFailures>0?Promise.reject(y.failures[0]):p.length<m?{failures:[],numFailures:0,lastResult:void 0}:d(h,{...f,lower:p[p.length-1],lowerOpen:!0},m)))}}}}})};function op(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let s=0,i=0;s<t.keys.length&&i<e.length;++s)we(t.keys[s],e[i])===0&&(r.push(n?Ds(t.values[s]):t.values[s]),++i);return r.length===e.length?r:null}catch{return null}}const r1={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=op(r.keys,r.trans._cache,r.cache==="clone");return s?S.resolve(s):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Ds(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function uu(e){return!("from"in e)}const lt=function(e,t){if(!this){const n=new lt;return e&&"d"in e&&_e(n,e),n}_e(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function vs(e,t,n){const r=we(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(uu(e))return _e(e,{from:t,to:n,d:1});const s=e.l,i=e.r;if(we(n,e.from)<0)return s?vs(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Al(e);if(we(t,e.to)>0)return i?vs(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Al(e);we(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),we(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;s&&!e.l&&Si(e,s),i&&o&&Si(e,i)}function Si(e,t){uu(t)||function n(r,{from:s,to:i,l:o,r:a}){vs(r,s,i),o&&n(r,o),a&&n(r,a)}(e,t)}function s1(e,t){const n=Wa(t);let r=n.next();if(r.done)return!1;let s=r.value;const i=Wa(e);let o=i.next(s.from),a=o.value;for(;!r.done&&!o.done;){if(we(a.from,s.to)<=0&&we(a.to,s.from)>=0)return!0;we(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}function Wa(e){let t=uu(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&we(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||we(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Al(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const i=s==="r"?"l":"r",o={...e},a=e[s];e.from=a.from,e.to=a.to,e[s]=a[s],o[s]=a[i],e[i]=o,o.d=El(o)}e.d=El(e)}function El({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}ar(lt.prototype,{add(e){return Si(this,e),this},addKey(e){return vs(this,e,e),this},addKeys(e){return e.forEach(t=>vs(this,t,t)),this},[Pa](){return Wa(this)}});const i1={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new lt(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:i}=s,{primaryKey:o}=i,{extractKey:a,outbound:c}=o,u={...s,mutate:h=>{const f=h.trans,m=f.mutatedParts||(f.mutatedParts={}),p=$=>{const x=`idb://${t}/${r}/${$}`;return m[x]||(m[x]=new lt)},y=p(""),b=p(":dels"),{type:g}=h;let[v,w]=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[];const k=h.trans._cache;return s.mutate(h).then($=>{if(ve(v)){g!=="delete"&&(v=$.results),y.addKeys(v);const x=op(v,k);x||g==="add"||b.addKeys(v),(x||w)&&function(I,P,D,M){function J(H){const G=I(H.name||"");function Qe($e){return $e!=null?H.extractKey($e):null}const jn=$e=>H.multiEntry&&ve($e)?$e.forEach(tn=>G.addKey(tn)):G.addKey($e);(D||M).forEach(($e,tn)=>{const br=D&&Qe(D[tn]),lo=M&&Qe(M[tn]);we(br,lo)!==0&&(br!=null&&jn(br),lo!=null&&jn(lo))})}P.indexes.forEach(J)}(p,i,x,w)}else if(v){const x={from:v.lower,to:v.upper};b.add(x),y.add(x)}else y.add(n),b.add(n),i.indexes.forEach(x=>p(x.name).add(n));return $})}},l=({query:{index:h,range:f}})=>{var m,p;return[h,new lt((m=f.lower)!==null&&m!==void 0?m:e.MIN_KEY,(p=f.upper)!==null&&p!==void 0?p:e.MAX_KEY)]},d={get:h=>[o,new lt(h.key)],getMany:h=>[o,new lt().addKeys(h.keys)],count:l,query:l,openCursor:l};return ie(d).forEach(h=>{u[h]=function(f){const{subscr:m}=T;if(m){const p=w=>{const k=`idb://${t}/${r}/${w}`;return m[k]||(m[k]=new lt)},y=p(""),b=p(":dels"),[g,v]=d[h](f);if(p(g.name||"").add(v),!g.isPrimaryKey){if(h!=="count"){const w=h==="query"&&c&&f.values&&s.query({...f,values:!1});return s[h].apply(this,arguments).then(k=>{if(h==="query"){if(c&&f.values)return w.then(({result:x})=>(y.addKeys(x),k));const $=f.values?k.result.map(a):k.result;f.values?y.addKeys($):b.addKeys($)}else if(h==="openCursor"){const $=k,x=f.values;return $&&Object.create($,{key:{get:()=>(b.addKey($.primaryKey),$.key)},primaryKey:{get(){const I=$.primaryKey;return b.addKey(I),I}},value:{get:()=>(x&&y.addKey($.primaryKey),$.value)}})}return k})}b.add(n)}}return s[h].apply(this,arguments)}}),u}}}};class pn{constructor(t,n){this._middlewares={},this.verno=0;const r=pn.dependencies;this._options=n={addons:pn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:W,dbReadyPromise:null,cancelOpen:W,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new S(a=>{i.dbReadyResolve=a}),i.openCanceller=new S((a,c)=>{i.cancelOpen=c}),this._state=i,this.name=t,this.on=Rr(this,"populate","blocked","versionchange","close",{ready:[nu,W]}),this.on.ready.subscribe=Of(this.on.ready.subscribe,a=>(c,u)=>{pn.vip(()=>{const l=this._state;if(l.openComplete)l.dbOpenError||S.resolve().then(c),u&&a(c);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(c),u&&a(c);else{a(c);const d=this;u||a(function h(){d.on.ready.unsubscribe(c),d.on.ready.unsubscribe(h)})}})}),this.Collection=(o=this,xr(Ux.prototype,function(a,c){this.db=o;let u=Xf,l=null;if(c)try{u=c()}catch(m){l=m}const d=a._ctx,h=d.table,f=h.hook.reading.fire;this._ctx={table:h,index:d.index,isPrimKey:!d.index||h.schema.primKey.keyPath&&d.index===h.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:l,or:d.or,valueMapper:f!==ps?f:null}})),this.Table=function(a){return xr(zx.prototype,function(c,u,l){this.db=a,this._tx=l,this.name=c,this.schema=u,this.hook=a._allTables[c]?a._allTables[c].hook:Rr(null,{creating:[Ix,W],reading:[Sx,ps],updating:[Tx,W],deleting:[Cx,W]})})}(this),this.Transaction=function(a){return xr(Wx.prototype,function(c,u,l,d,h){this.db=a,this.mode=c,this.storeNames=u,this.schema=l,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=Rr(this,"complete","error","abort"),this.parent=h||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new S((f,m)=>{this._resolve=f,this._reject=m}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var m=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):m&&this.idbtrans&&this.idbtrans.abort(),ce(f)})})}(this),this.Version=function(a){return xr(Jx.prototype,function(c){this.db=a,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return xr(tp.prototype,function(c,u,l){this.db=a,this._ctx={table:c,index:u===":id"?null:u,or:l};const d=a._deps.indexedDB;if(!d)throw new B.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(h,f)=>d.cmp(f,h),this._max=(h,f)=>d.cmp(h,f)>0?h:f,this._min=(h,f)=>d.cmp(h,f)<0?h:f,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=gs(n.IDBKeyRange),this._createTransaction=(a,c,u,l)=>new this.Transaction(a,c,u,this._options.chromeTransactionDurability,l),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Br.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(a))},this.use(t1),this.use(n1),this.use(i1),this.use(r1),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new B.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new B.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(s=>s._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Zx),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||T.letThrough||this._vip)?t():new S((n,r)=>{if(this._state.openComplete)return r(new B.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new B.DatabaseClosed);this.open().catch(W)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:s}){s&&this.unuse({stack:t,name:s});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:r??10,name:s}),i.sort((o,a)=>o.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return Xx(this)}_close(){const t=this._state,n=Br.indexOf(this);if(n>=0&&Br.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new S(r=>{t.dbReadyResolve=r}),t.openCanceller=new S((r,s)=>{t.cancelOpen=s})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new B.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new S((r,s)=>{const i=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=Z(()=>{(function({indexedDB:a,IDBKeyRange:c},u){!au(a)&&u!==io&&ou(a,c).delete(u).catch(W)})(this._deps,this.name),r()}),o.onerror=et(s),o.onblocked=this._fireOnBlocked};if(t)throw new B.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ie(this._allTables).map(t=>this._allTables[t])}transaction(){const t=e1.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let s=T.trans;s&&s.db===this&&t.indexOf("!")===-1||(s=null);const i=t.indexOf("?")!==-1;let o,a;t=t.replace("!","").replace("?","");try{if(a=n.map(u=>{var l=u instanceof this.Table?u.name:u;if(typeof l!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return l}),t=="r"||t===To)o=To;else{if(t!="rw"&&t!=Oo)throw new B.InvalidArgument("Invalid transaction mode: "+t);o=Oo}if(s){if(s.mode===To&&o===Oo){if(!i)throw new B.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&a.forEach(u=>{if(s&&s.storeNames.indexOf(u)===-1){if(!i)throw new B.SubTransaction("Table "+u+" not included in parent transaction.");s=null}}),i&&s&&!s.active&&(s=null)}}catch(u){return s?s._promise(null,(l,d)=>{d(u)}):ce(u)}const c=ip.bind(null,this,o,a,s,r);return s?s._promise(o,c,"lock"):T.trans?fr(T.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!Oe(this._allTables,t))throw new B.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const o1=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class a1{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[o1](){return this}}function ap(e,t){return ie(t).forEach(n=>{Si(e[n]||(e[n]=new lt),t[n])}),e}function cp(e){let t,n=!1;const r=new a1(s=>{const i=Xc(e);let o=!1,a={},c={};const u={get closed(){return o},unsubscribe:()=>{o=!0,Yt.storagemutated.unsubscribe(f)}};s.start&&s.start(u);let l=!1,d=!1;function h(){return ie(c).some(p=>a[p]&&s1(a[p],c[p]))}const f=p=>{ap(a,p),h()&&m()},m=()=>{if(l||o)return;a={};const p={},y=function(b){i&&hr();const g=()=>Kt(e,{subscr:b,trans:null}),v=T.trans?fr(T.transless,g):g();return i&&v.then(Et,Et),v}(p);d||(Yt(ys,f),d=!0),l=!0,Promise.resolve(y).then(b=>{n=!0,t=b,l=!1,o||(h()?m():(a={},c=p,s.next&&s.next(b)))},b=>{l=!1,n=!1,s.error&&s.error(b),u.unsubscribe()})};return m(),u});return r.hasValue=()=>n,r.getValue=()=>t,r}let Ga;try{Ga={indexedDB:K.indexedDB||K.mozIndexedDB||K.webkitIndexedDB||K.msIndexedDB,IDBKeyRange:K.IDBKeyRange||K.webkitIDBKeyRange}}catch{Ga={indexedDB:null,IDBKeyRange:null}}const rn=pn;function di(e){let t=pt;try{pt=!0,Yt.storagemutated.fire(e)}finally{pt=t}}ar(rn,{...ii,delete:e=>new rn(e,{addons:[]}).delete(),exists:e=>new rn(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return au(t)?Promise.resolve(t.databases()).then(r=>r.map(s=>s.name).filter(s=>s!==io)):ou(t,n).toCollection().primaryKeys()}(rn.dependencies).then(e)}catch{return ce(new B.MissingAPI)}},defineClass:()=>function(e){_e(this,e)},ignoreTransaction:e=>T.trans?fr(T.transless,e):e(),vip:qa,async:function(e){return function(){try{var t=Ha(e.apply(this,arguments));return t&&typeof t.then=="function"?t:S.resolve(t)}catch(n){return ce(n)}}},spawn:function(e,t,n){try{var r=Ha(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:S.resolve(r)}catch(s){return ce(s)}},currentTransaction:{get:()=>T.trans||null},waitFor:function(e,t){const n=S.resolve(typeof e=="function"?rn.ignoreTransaction(e):e).timeout(t||6e4);return T.trans?T.trans.waitFor(n):n},Promise:S,debug:{get:()=>ot,set:e=>{Ff(e,e==="dexie"?()=>!0:Qf)}},derive:Gn,extend:_e,props:ar,override:Of,Events:Rr,on:Yt,liveQuery:cp,extendObservabilitySet:ap,getByKeyPath:wt,setByKeyPath:Ge,delByKeyPath:function(e,t){typeof t=="string"?Ge(e,t,void 0):"length"in t&&[].map.call(t,function(n){Ge(e,n,void 0)})},shallowClone:Mf,deepClone:Ds,getObjectDiff:cu,cmp:we,asap:Bf,minKey:Da,addons:[],connections:Br,errnames:tu,dependencies:Ga,semVer:wl,version:wl.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),rn.maxKey=gs(rn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Yt(ys,e=>{if(!pt){let t;so?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Bt,!0,!0,e)):t=new CustomEvent(Bt,{detail:e}),pt=!0,dispatchEvent(t),pt=!1}}),addEventListener(Bt,({detail:e})=>{pt||di(e)}));let pt=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(Bt);typeof e.unref=="function"&&e.unref(),Yt(ys,t=>{pt||e.postMessage(t)}),e.onmessage=t=>{t.data&&di(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Yt(ys,t=>{try{pt||(typeof localStorage<"u"&&localStorage.setItem(Bt,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Bt,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===Bt){const n=JSON.parse(t.newValue);n&&di(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===Bt&&di(t.changedParts)})}S.rejectionMapper=function(e,t){if(!e||e instanceof Kn||e instanceof TypeError||e instanceof SyntaxError||!e.name||!bl[e.name])return e;var n=new bl[e.name](t||e.message,e);return"stack"in e&&vt(n,"stack",{get:function(){return this.inner.stack}}),n},Ff(ot,Qf);var up={wait:50,batchSize:50};function De(e){return Hh(e.map(t=>iv(t,{batch:up})),{rank:{interval:3e4,sampleCount:e.length,timeout:500,weights:{latency:.4,stability:.7}},retryCount:Math.round(e.length/2),retryDelay:100})}function je(e){return Hh(e.map(t=>Lw(t)),{rank:{interval:1e4,sampleCount:e.length,timeout:500,weights:{latency:.4,stability:.7}},retryCount:Math.round(e.length/2),retryDelay:100})}var c1=Rn("__transport_map",()=>({[_.eth]:De(["https://ethereum.publicnode.com","https://rpc.mevblocker.io","https://eth.merkle.io","https://ethereum-mainnet-rpc.allthatnode.com","https://ethereum-mainnet-archive.allthatnode.com","https://ethereum-mainnet-rpc-germany.allthatnode.com","https://ethereum-mainnet-archive-germany.allthatnode.com"]),[_.bnb]:De(["https://bsc.publicnode.com","https://endpoints.omniatech.io/v1/bsc/mainnet/public","https://bsc-pokt.nodies.app","https://bsc.meowrpc.com","https://bsc.drpc.org"]),[_.matic]:De(["https://polygon.llamarpc.com","https://endpoints.omniatech.io/v1/matic/mainnet/public","https://endpoints.omniatech.io/v1/matic/mainnet/public","https://polygon-bor.publicnode.com","https://polygon.drpc.org","https://polygon.meowrpc.com"]),[_.op]:De(["https://optimism.publicnode.com","https://op-pokt.nodies.app","https://optimism.meowrpc.com","https://optimism.drpc.org","https://endpoints.omniatech.io/v1/op/mainnet/public"]),[_.arbitrum]:De(["https://arbitrum-one.publicnode.com","https://arb-pokt.nodies.app","https://arbitrum.meowrpc.com","https://arbitrum.drpc.org","https://endpoints.omniatech.io/v1/arbitrum/one/public"]),[_.gnosis]:De(["https://gnosis.publicnode.com","https://rpc.gnosischain.com","https://gnosis.drpc.org"]),[_.avalanche]:De(["https://avalanche-c-chain.publicnode.com","https://1rpc.io/avax/c","https://endpoints.omniatech.io/v1/avax/mainnet/public","https://avax.meowrpc.com","https://avalanche.drpc.org"]),[_.fantom]:De(["https://fantom.publicnode.com","https://fantom-pokt.nodies.app","https://1rpc.io/ftm","https://fantom.drpc.org"]),[_.aurora]:De(["https://mainnet.aurora.dev","https://endpoints.omniatech.io/v1/aurora/mainnet/public","https://1rpc.io/aurora","https://aurora.drpc.org"]),[_.klaytn]:De(["https://klaytn.drpc.org","https://rpc.ankr.com/klaytn","https://klaytn.blockpi.network/v1/rpc/public"]),[_.zkSyncEra]:De(["https://mainnet.era.zksync.io","https://zksync-era.blockpi.network/v1/rpc/public","https://zksync.meowrpc.com","https://zksync.drpc.org"])})),u1=Rn("__transport_ws_map",()=>({[_.eth]:je(["wss://ethereum.publicnode.com"]),[_.bnb]:je(["wss://bsc.publicnode.com"]),[_.matic]:je(["wss://polygon-bor.publicnode.com"]),[_.op]:je(["wss://optimism.publicnode.com"]),[_.arbitrum]:je(["wss://arbitrum-one.publicnode.com"]),[_.gnosis]:je(["wss://rpc.gnosischain.com/wss","wss://gnosis.publicnode.com"]),[_.avalanche]:je(["wss://avalanche-c-chain.publicnode.com"]),[_.fantom]:je(["wss://gnosis.publicnode.com"]),[_.aurora]:je(["wss://mainnet.aurora.dev"]),[_.klaytn]:je(["wss://public-en-cypress.klaytn.net/ws"]),[_.zkSyncEra]:je(["wss://mainnet.era.zksync.io/ws"])})),l1={[_.eth]:nx,[_.bnb]:Qw,[_.matic]:sx,[_.op]:rx,[_.arbitrum]:Zw,[_.gnosis]:ex,[_.avalanche]:Jw,[_.fantom]:Xw,[_.aurora]:Yw,[_.klaytn]:tx,[_.zkSyncEra]:bx};function Jt(e){return l1[e]}var jo=Rn("__chain_client",()=>({[_.eth]:null,[_.bnb]:null,[_.matic]:null,[_.op]:null,[_.arbitrum]:null,[_.gnosis]:null,[_.avalanche]:null,[_.fantom]:null,[_.aurora]:null,[_.klaytn]:null,[_.zkSyncEra]:null})),Fo=Rn("__chain_ws_client",()=>({[_.eth]:null,[_.bnb]:null,[_.matic]:null,[_.op]:null,[_.arbitrum]:null,[_.gnosis]:null,[_.avalanche]:null,[_.fantom]:null,[_.aurora]:null,[_.klaytn]:null,[_.zkSyncEra]:null}));function d1(e){const t=Jt(e),n=c1[e];return Ef({batch:{multicall:up},chain:t,transport:n})}function h1(e){const t=Jt(e),n=u1[e];return Ef({chain:t,transport:n})}function Ka(e){return jo[e]||(jo[e]=d1(e)),jo[e]}function f1(e){return Fo[e]||(Fo[e]=h1(e)),Fo[e]}var p1={[_.eth]:!1,[_.bnb]:!1,[_.matic]:!1,[_.op]:!0,[_.arbitrum]:!0,[_.gnosis]:!1,[_.avalanche]:!1,[_.fantom]:!1,[_.aurora]:!1,[_.klaytn]:!1,[_.zkSyncEra]:!0};function Sl(e){return p1[e]}var No=Rn("__block_emitter_map",()=>({[_.eth]:null,[_.bnb]:null,[_.matic]:null,[_.op]:null,[_.arbitrum]:null,[_.gnosis]:null,[_.avalanche]:null,[_.fantom]:null,[_.aurora]:null,[_.klaytn]:null,[_.zkSyncEra]:null}));function m1(e){return new ue(t=>f1(e).watchBlocks({onBlock:r=>t.next(r)})).pipe(me({bufferSize:1,refCount:!0}))}function b1(e){return No[e]===null&&(No[e]=m1(e)),No[e]}var lp="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function Ii(e){return Gt(lp,e)}var lu=class{constructor(e,t=!1){this.ttlMs=e,this.autoClean=t,this.cache=new Map,this.enabledAutoClean()}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()})}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),null):t.value:null}has(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),!1):!0:!1}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.autoCleanTimer&&clearInterval(this.autoCleanTimer)}size(){return 0}enabledAutoClean(){this.autoClean&&(this.autoCleanTimer=setInterval(()=>{for(const e of[...this.cache.keys()])this.get(e)},this.ttlMs))}},y1=class{constructor(e){this.bufferSize=e,this.cache=new Map,this.indexes=new Map,this.lastIndex=0}set(e,t){if(this.has(e))return;if(this.cache.size>=this.bufferSize){const r=Math.min(...this.indexes.keys()),s=this.indexes.get(r);this.indexes.delete(r),this.cache.delete(s);return}const n=this.lastIndex++;this.indexes.set(n,e),this.cache.set(e,t)}get(e){return this.cache.get(e)??null}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.indexes.clear(),this.lastIndex=0}size(){return this.cache.size}};function ln(e,t){const r=g1(e,t).split("."),s=r[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return r.length>1?`${s}.${r[1]}`:s}function g1(e,t){const n=e.indexOf(".");if(n===-1||e.length-n-1<=t)return e;if(t>0){const s=n+t+1;return e.substring(0,s)}return e.substring(0,n)}function Il(e,t,n=t){const r=e.indexOf(".");if(r===-1||e.slice(0,r).length>1)return ln(e,n);let s=0;for(let i=r+1;i<e.length;i++)if(e[i]==="0")s++;else return ln(e,s+t);return ln(e,n)}function Za(e,t={}){const{width:n,head:r=6,tail:s=4}=t;return n!==void 0&&(n>1410||940>n&&n>800)?e:`${e.slice(0,r)}...${e.slice(e.length-s)}`}var oo=class{constructor(){throw new Error("BigMath not support instance creating use static methods: dev, mul, add, sub")}static dev(e,t,n,r,s=r){if(t===0n)throw new Error("Division by zero.");if(e===0n)return 0n;const i=BigInt(10)**BigInt(Math.max(n,r));e=e*(i/BigInt(10)**BigInt(n)),t=t*(i/BigInt(10)**BigInt(r));const o=BigInt(10)**BigInt(s);return e=e*o,e/t}static mul(e,t,n,r,s=r){if(e===0n||t===0n)return 0n;const i=e*t,o=BigInt(10)**BigInt(n+r)/BigInt(10)**BigInt(s);return i/o}static add(e,t,n,r,s=r){const i=Math.max(n,r,s);e=e*BigInt(10)**BigInt(i-n),t=t*BigInt(10)**BigInt(i-r);const o=e+t;return s<i?o/BigInt(10)**BigInt(i-s):o}static sub(e,t,n,r,s=r){const i=Math.max(n,r,s);e=e*BigInt(10)**BigInt(i-n),t=t*BigInt(10)**BigInt(i-r);const o=e-t;return s<i?o/BigInt(10)**BigInt(i-s):o}static avr(e,t,n=t){if(e.length===0)return 0n;const r=BigInt(10)**BigInt(n);return e.map(o=>o*r/BigInt(10)**BigInt(t)).reduce((o,a)=>o+a,BigInt(0))/BigInt(e.length)}};function pr(e){const t=new WeakMap,n=r=>{let s=t.get(r);return s||(s=new Map,t.set(r,s)),s};return function(r,s,i){const o=i.value;return i.value=function(...a){const c=n(this),u=e?e(this,...a):JSON.stringify(a);if(c.has(u))return c.get(u);const l=o.apply(this,a).finally(()=>c.delete(u));return c.set(u,l),l},i}}var Cl=new lu(1e4),Lo=new lu(5e3),ao=class{constructor(){this.host=Gd("oneInchDevPortalHost")}async getWhiteListedTokens(e){return(await(await fetch(`${this.host}/token/v1.2/${e}/token-list`)).json()).tokens}async getBalancesByWalletAddress(e,t){return await(await fetch(`${this.host}/balance/v1.2/${e}/balances/${t}`)).json()}async getTokenPrices(e){const t=Cl.get(e);if(t)return t;const n=new URLSearchParams({currency:"USD"}),s=await(await fetch(`${this.host}/price/v1.1/${e}?${n}`)).json();return Cl.set(e,s),s}async getFusionQuoteReceive(e,t,n,r,s,i=!1,o=!1){const a=[e,t,n,r,s,i,o].join(":");if(Lo.has(a))return Lo.get(a);const c=new URLSearchParams({fromTokenAddress:t,toTokenAddress:n,walletAddress:s,amount:r.toString(),enableEstimate:i.toString(),isLedgerLive:o.toString()}),l=await(await fetch(`${this.host}/fusion/quoter/v1.0/${e}/quote/receive?${c}`)).json();return Lo.set(a,l),l}};As([pr()],ao.prototype,"getTokenPrices");As([pr((...e)=>e.slice(1).join(":"))],ao.prototype,"getFusionQuoteReceive");var dp=class{constructor(e,t){this.storageKey=e,this.cache=new Map;let n=L.get(`${e}_create-time`,Number);if(n===null&&(n=Date.now(),L.set(`${e}_create-time`,n)),Date.now()-n<t*864e5){const r=L.get(e,cn);this.cache=new Map(r)}else L.remove(e),L.remove(`${e}_create-time`)}set(e,t){this.cache.set(e,t),L.set(this.storageKey,Array.from(this.cache.entries()))}get(e){return this.cache.get(e)??null}has(e){return this.cache.has(e)}delete(e){const t=this.cache.has(e);return L.set(this.storageKey,Array.from(this.cache.entries())),t}clear(){this.cache.clear(),L.set(this.storageKey,Array.from(this.cache.entries()))}size(){return this.cache.size}},hp=class{constructor(){this.timeCacheStorage={}}set(e,t,n){let r=this.timeCacheStorage[e];r||(r=new lu(pp[e]),this.timeCacheStorage[e]=r),r.set(t,n)}get(e,t){const n=this.timeCacheStorage[e];return n?n.get(t):null}},v1=wc(["function balanceOf(address _owner) public view returns (uint256 balance)"]),Tl=new hp;async function fp(e,t,n){const r=[t,n].join(":"),s=Tl.get(e,r);if(s!==null)return s;const i=Ka(e);if(Ii(n))return await i.getBalance({address:t});const o=await i.readContract({abi:v1,functionName:"balanceOf",args:[t],address:n});return Tl.set(e,r,o),o}var pp={[_.eth]:11e3,[_.bnb]:3e3,[_.matic]:3e3,[_.op]:3e3,[_.arbitrum]:14e3,[_.gnosis]:4500,[_.avalanche]:3e3,[_.fantom]:3e3,[_.aurora]:3e3,[_.klaytn]:3e3,[_.zkSyncEra]:3e3},w1={[_.eth]:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",[_.bnb]:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",[_.matic]:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",[_.op]:"0x4200000000000000000000000000000000000006",[_.arbitrum]:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",[_.gnosis]:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",[_.avalanche]:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",[_.fantom]:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",[_.aurora]:"0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb",[_.klaytn]:"0xe4f05a66ec68b54a58b17c22107b02e0232cc817",[_.zkSyncEra]:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91"};function Ya(e){var n;const t=Jt(e);return{chainId:e,symbol:`W${t.nativeCurrency.symbol}`,name:`W${t.nativeCurrency.symbol}`,decimals:((n=t==null?void 0:t.nativeCurrency)==null?void 0:n.decimals)??18,address:w1[e]}}var Ol=class{constructor(){this.isDirtyAmount=!1,this.amountForView=0n,this.token$=new Gr(null),this.amount$=new Gr(0n),this.amountForView$=this.amount$.pipe(_t(()=>this.isDirtyAmount),le(e=>{this.amountForView=e,this.isDirtyAmount=!1}),me({bufferSize:1,refCount:!0}))}setToken(e){e&&this.token$.next(e)}setAmount(e,t=!1){this.isDirtyAmount=t,this.amount$.next(e)}getSnapshot(){return{token:this.token$.value,amountRaw:this.amount$.value,amountView:this.amountForView}}streamSnapshot(){return xe([this.token$,this.amount$]).pipe(N(()=>this.getSnapshot()))}},x1=class{constructor(){this.source=new Ol,this.destination=new Ol,this.pairChance$=new Ve}switchPair(){const{source:e,destination:t}=this;this.source=t,this.destination=e,this.pairChance$.next()}setPair(e){e.srcToken&&this.setToken(e.srcToken,"source"),e.dstToken&&this.setToken(e.dstToken,"destination"),this.pairChance$.next()}setAmount(e,t,n){this.getTokenContext(e).setAmount(t,n)}streamSnapshot(e){return this.pairChance$.pipe(Vt(null),se(()=>this.getTokenContext(e).streamSnapshot()))}getSnapshot(e){return this.getTokenContext(e).getSnapshot()}setToken(e,t){this.getTokenContext(t).setToken(e)}getTokenContext(e){if(e==="source")return this.source;if(e==="destination")return this.destination;throw new Error(`invalid token type ${e}`)}},_1=wc(["function getPair(address tokenA, address tokenB) external view returns (address pair)"]),Bl=wc(["function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast)","function token0() external view returns (address)","function token1() external view returns (address)"]),zo="0x0000000000000000000000000000000000000000",mp=class{constructor(e,t,n){this.name=e,this.factoryContractGetter=t,this.supportedChain=n,this.pools=new dp(`${this.name}_pools`,7),this.rateCache=new hp}isSupportedChain(e){return this.supportedChain.includes(e)}async getRate(e,t,n){const r=[t.address,n.address].join(":");try{const s=this.rateCache.get(e,r)??null;if(s!==null)return s;const i=ni(t.address),o=ni(n.address),[a,c]=await this.getPool(e,i,o);if(a===zo)return null;const u=await this.getReserves(e,a),l=!Gt(t.address,c),d=oo.dev(l?u[1]:u[0],l?u[0]:u[1],t.decimals,n.decimals,n.decimals);return this.rateCache.set(e,r,d),d}catch(s){return console.error(`Error in UniswapV2BaseAdapter adapter name ${this.name}`,s),this.rateCache.get(e,r)}}async getPool(e,t,n){const r=[e,t,n].join(":");if(this.pools.has(r))return this.pools.get(r);const s=[e,n,t].join(":");if(this.pools.has(s))return this.pools.get(s);const i=Ka(e),o=await i.readContract({address:ni(this.factoryContractGetter(e)),functionName:"getPair",args:[t,n],abi:_1});let a=zo;return o!==zo&&(a=await i.readContract({address:o,abi:Bl,functionName:"token0"})),this.pools.set(r,[o,a]),this.pools.set(s,[o,a]),[o,a]}async getReserves(e,t){return await Ka(e).readContract({address:t,abi:Bl,functionName:"getReserves"})}};As([pr((e,t,n,r)=>[t,n.address,r.address].join(":"))],mp.prototype,"getRate");var $1=new mp("UniswapV2",()=>"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",[_.eth,_.bnb,_.matic,_.op,_.arbitrum,_.avalanche]),k1=class{constructor(e){this.adapters=e}async getRate(e,t,n){let r=t,s=n;if(Ii(t.address)){const a=Ya(e);if(!a)return null;r=a}if(Ii(n.address)){const a=Ya(e);if(!a)return null;s=a}const i=this.adapters.filter(a=>a.isSupportedChain(e)),o=await Promise.all(i.map(a=>a.getRate(e,r,s))).then(a=>a.filter(c=>c!==null));return oo.avr(o,n.decimals)}listenRate(e,t,n){return b1(e).pipe(Vt(null),se(()=>this.getRate(e,t,n)))}};function bp(){return new k1([$1])}var P1={[_.eth]:"0xdac17f958d2ee523a2206206994597c13d831ec7",[_.bnb]:"0x55d398326f99059ff775485246999027b3197955",[_.matic]:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",[_.op]:"0x94b008aa00579c1307b0ef2c499ad98a8ce58e58",[_.arbitrum]:"0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9",[_.gnosis]:"0x4ecaba5870353805a9f068101a40e0f32ed605c6",[_.avalanche]:"0xc7198437980c041c805a1edcba50c1ce5db95118",[_.fantom]:"0xcc1b99ddac1a33c201a742a1851662e87bc7f22c",[_.aurora]:"0x4988a896b1227218e4a686fde5eabdcabd91571f",[_.klaytn]:"0x754288077d0ff82af7a5317c7cb8c444d421d103",[_.zkSyncEra]:"0x493257fd37edb34451f62edf8d2a0c418852ba4c"},A1=6,E1=class{constructor(){this.rateProvider=bp()}async getPrice(e,t){const n=P1[e];if(Gt(t.address,n))return"1";const r=await this.rateProvider.getRate(e,{address:n,chainId:e,decimals:A1,name:"USDT",symbol:"USDT"},t);return r?Pt(r,t.decimals):"0"}},Rl={native:1e3,USDT:100,USDC:100,WETH:62,"1INCH":61,"PEG:ETH":60,"PEG:USD":50,"PEG:BTC":40,"PEG:EUR":30,staking:20,savings:10,tokens:0},cr,du=(cr=class extends pn{constructor(){super("one-inch-token"),this.tokenCache=new y1(50),this.version(cr.databaseVersion).stores({tokens:["id","address","decimals","chainId","name","symbol","*tags","eip2612","logoURL","isFavorite","priority"].join(", "),balances:["id","chainId","tokenAddress","walletAddress","amount"].join(", ")})}async getToken(t,n){const r=_r(t,n);if(this.tokenCache.has(r))return this.tokenCache.get(r);const s=await this.tokens.where("id").equals(r).toArray();return this.tokenCache.set(r,s[0]),s[0]}async getNativeToken(t){return this.getToken(t,lp)}getTokenBySymbol(t,n){return this.tokens.where("chainId").equals(t).filter(r=>r.symbol===n).toArray()}async getTokenMap(t,n){const r=new Set(n),s={};return await this.tokens.each(i=>{i.chainId===t&&r.has(i.address)&&(s[i.address]=i)}),s}getTokenList(t,n){const r=new Set(n);return this.tokens.filter(s=>s.chainId===t&&r.has(s.address)).toArray()}async getTokenBalanceMap(t,n,r){const s=new Set(r),i={};return await this.balances.each(o=>{o.chainId===t&&o.walletAddress===n&&s.has(o.tokenAddress)&&(i[o.tokenAddress]=BigInt(o.amount))}),i}async getTokens(t,n){const r=new Set(n);return this.tokens.filter(s=>s.chainId===t&&r.has(s.address)).toArray()}async getAllTokenAddresses(t){const n=[];return await this.tokens.where("chainId").equals(t).each(r=>n.push(r.address)),n}async getTokenBalance(t,n,r){const s=_r(t,r,n);return(await this.balances.where("id").equals(s).toArray())[0]}async setTokens(t,n){var s;const r=[];for(const i of n)r.push({id:_r(t,i.address),address:i.address,decimals:i.decimals,eip2612:((s=i.extensions)==null?void 0:s.eip2612)??!1,name:i.name,symbol:i.symbol,tags:i.tags,logoURL:i.logoURI,isFavorite:!1,chainId:t,priority:S1(i)});this.tokenCache.clear(),await this.tokens.bulkPut(r)}async setBalances(t,n,r){const s=[];for(const i in r){const o=i;s.push({id:_r(t,n,o),chainId:t,tokenAddress:o,walletAddress:n,amount:r[o]})}await this.balances.bulkPut(s)}async getAllFavoriteTokenAddresses(t){const n=[];return await this.tokens.where("chainId").equals(t).each(r=>{r.isFavorite&&n.push(r.address)}),n}async getSortedForViewTokenAddresses(t,n){const r={},s={},i=new Set,o=[],a=[];return n&&await this.balances.where("chainId").equals(t).and(c=>Gt(c.walletAddress,n)).each(c=>r[c.tokenAddress]=BigInt(c.amount)),await this.tokens.where("chainId").equals(t).each(c=>{if(r[c.address]&&r[c.address]>0n){o.push(c.address);return}s[c.address]=c.priority,a.push(c.address),c.isFavorite&&i.add(c.address)}),{notZero:o,zero:a.sort((c,u)=>{const l=s[c],d=s[u],h=i.has(c),f=i.has(u);return h===f?l<d?1:l>d?-1:0:h?-1:f?1:0})}}async setFavoriteState(t,n,r){const s=_r(t,n);this.tokenCache.delete(s),await this.tokens.update(s,{isFavorite:r})}},cr.databaseVersion=3,cr);function _r(...e){return e.join(":")}function S1(e){var n;let t=((n=e==null?void 0:e.providers)==null?void 0:n.length)??0;t+=Rl[e.symbol]??0;for(const r of e.tags)t+=Rl[r]??0;return t}var I1=class{async getBalances(e,t,n){const r={};return await Promise.all(n.map(s=>fp(e,t,s).then(i=>r[s]=i.toString()))),r}},Uo=`last-update-token-database-timestamp-v${du.databaseVersion}`,Vo=`last-update-token-balance-database-timestamp-v${du.databaseVersion}`,C1=6048e5,T1=pp,hu=class{constructor(){this.schema=new du,this.tokenUsdPriceProvider=new E1,this.tokenOnChainBalances=new I1,this.oneInchApiAdapter=new ao,this.lastUpdateTokenDatabaseTimestampStorage=L.get(Uo,cn),this.lastUpdateTokenBalanceDatabaseTimestampStorage=L.get(Vo,cn)}async getSortedForViewTokenAddresses(e,t){await this.updateTokenDatabase(e),t&&await this.updateBalanceDatabase(e,t);const n=await this.schema.getSortedForViewTokenAddresses(e,t);if(t){const r=await this.getTokenUSDPrices(e,n.notZero),s=await this.getTokenMap(e,n.notZero),i=await this.getTokenBalanceMap(e,t,n.notZero),o=await this.getAllFavoriteTokenAddresses(e),a=new Set(o),c={};for(const u of n.notZero){const l=s[u],d=r[u],h=Pt(i[u],l.decimals);c[u]=Number(h)*Number(d)}return[...n.notZero.sort((u,l)=>{const d=a.has(u),h=a.has(l);return d===h?c[l]-c[u]:d?-1:1}),...n.zero]}return[...n.notZero,...n.zero]}async getToken(e,t){return await this.updateTokenDatabase(e),await this.schema.getToken(e,t)}async getNativeToken(e){return await this.updateTokenDatabase(e),await this.schema.getNativeToken(e)}async getTokenBySymbol(e,t){return await this.updateTokenDatabase(e),this.schema.getTokenBySymbol(e,t)}async getTokenList(e,t){return await this.updateTokenDatabase(e),await this.schema.getTokenList(e,t)}async getTokenMap(e,t){return await this.schema.getTokenMap(e,t)}async getTokenBalanceMap(e,t,n){return await this.updateBalanceDatabase(e,t),await this.schema.getTokenBalanceMap(e,t,n)}async getTokenBalance(e,t,n){return await this.updateBalanceDatabase(e,n),await this.schema.getTokenBalance(e,t,n)}async getTokenUSDPrice(e,t){return(await this.getTokenUSDPrices(e,[t]))[t]}async setFavoriteState(e,t,n){await this.schema.setFavoriteState(e,t,n)}async getAllFavoriteTokenAddresses(e){return await this.schema.getAllFavoriteTokenAddresses(e)}async getTokenUSDPrices(e,t){const n={},r=await this.oneInchApiAdapter.getTokenPrices(e).catch(()=>null);if(r===null){const s=await this.schema.getTokens(e,t);return await Promise.all(s.map(i=>this.tokenUsdPriceProvider.getPrice(e,i).catch(()=>"0").then(o=>n[i.address]=o))),n}for(const s of t)n[s]=r[s]??"0";return n}async updateTokenDatabase(e){var r;const t=(r=this.lastUpdateTokenDatabaseTimestampStorage)==null?void 0:r[e];if(t&&Date.now()-t<C1)return;const n=await this.oneInchApiAdapter.getWhiteListedTokens(e);await this.schema.setTokens(e,n),L.updateEntity(Uo,e.toString(),Date.now()),this.lastUpdateTokenDatabaseTimestampStorage=L.get(Uo,cn)}async updateBalanceDatabase(e,t){var i;const n=[e,t].join(":"),r=(i=this.lastUpdateTokenBalanceDatabaseTimestampStorage)==null?void 0:i[n];if(r&&Date.now()-r<T1[e])return;let s=await this.oneInchApiAdapter.getBalancesByWalletAddress(e,t).catch(()=>null);s===null&&(s=await this.getBalancesOnChain(e,t)),await this.schema.setBalances(e,t,s),L.updateEntity(Vo,n,Date.now()),this.lastUpdateTokenBalanceDatabaseTimestampStorage=L.get(Vo,cn)}liveQuery(e){return cp(e)}async getBalancesOnChain(e,t){const n=await this.schema.getAllTokenAddresses(e);return this.tokenOnChainBalances.getBalances(e,t,n)}};As([pr()],hu.prototype,"updateTokenDatabase");As([pr()],hu.prototype,"updateBalanceDatabase");var ze=Rn("__token-db_controller",()=>new hu);function Dr(e,t){const n=Gt(e.address,t.address),r=e.chainId===t.chainId;return n&&r}var yp=class{constructor(e,t,n=bp()){this.pairHolder=e,this.walletController=t,this.rateProvider=n,this.rate$=U(()=>xe([this.walletController.data.chainId$,this.pairHolder.streamSnapshot("source"),this.pairHolder.streamSnapshot("destination")])).pipe(se(([r,s,i])=>{const o=s.token,a=i.token;return!o||!a||!r?[0n]:this.rateProvider.listenRate(r,a,o)}),N(r=>r??0n),me({refCount:!0,bufferSize:1}))}destroy(){}},O1=class{constructor(e,t,n=new ao,r=new yp(e,t)){this.pairHolder=e,this.walletController=t,this.devPortalAdapter=n,this.fallback=r,this.quoteReceive$=U(()=>xe([this.walletController.data.chainId$,this.walletController.data.activeAddress$,this.pairHolder.streamSnapshot("source"),this.pairHolder.streamSnapshot("destination")])).pipe(Kr(0),se(([s,i,o,a])=>{const c=o.token,u=a.token,l=o.amountRaw;return!s||!i||!c||!u||l===0n?[null]:this.devPortalAdapter.getFusionQuoteReceive(s,c.address,u.address,l,i)}),me({bufferSize:1,refCount:!0})),this.recommendedPreset$=this.quoteReceive$.pipe(N(s=>s?s.presets[s.recommended_preset]??null:null),Rt()),this.averageDestinationTokenAmount$=this.recommendedPreset$.pipe(N(s=>{if(!s)return 0n;const i=BigInt(s.auctionStartAmount),o=BigInt(s.auctionEndAmount);return(i+o)/2n})),this.rate$=xe([this.quoteReceive$,this.averageDestinationTokenAmount$]).pipe(Kr(0),mb(this.pairHolder.streamSnapshot("source"),this.pairHolder.streamSnapshot("destination")),Ld((s,[[i,o],a,c])=>{const u=a.token,l=c.token;if(!i||!u||!l)return null;const d=BigInt(i.fromTokenAmount);return oo.dev(o,d,l.decimals,u.decimals)},null),se(s=>s?[s]:this.fallback.rate$)),this.rate$.subscribe()}destroy(){}},B1=class{constructor(e){this.walletController=e,this.pairHolder=new x1,this.subscription=new Qt,this.chainId$=U(()=>this.walletController.data.chainId$),this.connectedWalletAddress$=U(()=>this.walletController.data.activeAddress$),this.strategy$=this.connectedWalletAddress$.pipe(N(t=>t===null),Rt(),Ld((t,n)=>(t&&t.destroy(),n?new yp(this.pairHolder,this.walletController):new O1(this.pairHolder,this.walletController)),null),me({bufferSize:1,refCount:!0})),this.rate$=this.strategy$.pipe(se(t=>t.rate$)),this.subscription.add(jd(this.strategy$).subscribe())}destroy(){this.subscription.unsubscribe()}setPair(e){this.pairHolder.setPair(e)}switchPair(){this.pairHolder.switchPair()}getTokenByType(e){return this.pairHolder.streamSnapshot(e).pipe(N(t=>t.token),Rt())}getTokenAmountByType(e){return this.pairHolder.streamSnapshot(e).pipe(N(t=>t.amountView),Rt())}getTokenRawAmountByType(e){return this.pairHolder.streamSnapshot(e).pipe(N(t=>t.amountRaw),Rt())}setTokenAmountByType(e,t,n){this.pairHolder.setAmount(e,t,n)}};async function Ja(e,t,n){const r=gp(e,t,n);await r.requestAddresses().catch(i=>{var o,a;if(i.core===4001||(a=(o=i.message)==null?void 0:o.toLowerCase())!=null&&a.includes("user reject")||i.details==="Cancelled")throw i});const s=await r.getChainId();return e!==s&&await r.switchChain(Jt(e)),r}function gp(e,t,n){return Nw({chain:Jt(e),transport:ev(t),account:n})}function qo(e,t){return new ue(n=>{const r=s=>{n.next(s)};return e.on(t,r),()=>{if("removeListener"in e)return e.removeListener(t,r);console.warn("unable to unsubscribe from provider",e,t)}})}var vp=class{constructor(e){this.info=e,this.provider$=new Gr(null),this.activeAddressInner$=new Gr(null),this.providerOrDisconnect$=jd(this.provider$,U(()=>this.disconnect$).pipe(N(()=>null))),this.addresses$=this.providerOrDisconnect$.pipe(se(t=>t?_n(this.getAddresses()).pipe(se(n=>qo(t,"accountsChanged").pipe(Vt(n)))):tt([])),me({bufferSize:1,refCount:!0})),this.activeAddress$=xe([this.addresses$,this.activeAddressInner$]).pipe(N(([t,n])=>n||t[0]),me({bufferSize:1,refCount:!0})),this.chainId$=this.providerOrDisconnect$.pipe(se(t=>t?_n(this.getChainId()).pipe(se(n=>qo(t,"chainChanged").pipe(N(r=>parseInt(r,16)),Vt(n)))):tt(null)),me({bufferSize:1,refCount:!0})),this.disconnect$=this.provider$.pipe(_t(Boolean),se(t=>qo(t,"disconnect"))),this.isConnected$=this.activeAddress$.pipe(N(t=>!!t)),this.info$=tt(e)}getInfo(){return this.info}setProvider(e){this.provider$.next(e)}async getAddresses(){const e=this.provider$.value;return e?await e.request({method:"eth_accounts"}):[]}async getActiveAddress(){const e=this.activeAddressInner$.value;return e||((await this.getAddresses())[0]??null)}async getChainId(){const e=this.provider$.value;if(!e)return null;const t=await e.request({method:"eth_chainId"}).catch(()=>null);return t?parseInt(t,16):null}async isConnected(){return!!await this.getActiveAddress()}setActiveAddress(e){this.activeAddressInner$.next(e)}},Ml=class{constructor(e){this.providerDetail=e,this.client=null,this.data=new vp(this.providerDetail.info)}async connect(e){return this.client=await Ja(e,this.providerDetail.provider),this.data.setProvider(this.providerDetail.provider),!0}async restoreConnect(e,t){this.data.setProvider(this.providerDetail.provider);const r=(await this.data.getAddresses()).length>0&&e!==null;return r?this.client=gp(e,this.providerDetail.provider):this.data.setProvider(null),!r&&t?this.connect(e):r}async disconnect(){return this.client=null,this.data.setProvider(null),!0}async changeChain(e){return this.client?(await this.client.switchChain({id:e}),!0):!1}async isConnected(){var t;return(await((t=this.client)==null?void 0:t.getAddresses())??[]).length>0}setActiveAddress(e){this.data.setActiveAddress(e)}};function R1(e){L.set("chainId",Number(e))}function wp(){return L.get("chainId",Number)}function M1(e){L.set("activeAddress",e)}function D1(){return L.get("activeAddress",JSON.parse)}function Dl(e){L.set("activeWallet",e)}function jl(){return L.get("activeWallet",JSON.parse)}function j1(e){const t=L.get("connectedWallet",JSON.parse),n=new Set(t);n.has(e)||(n.add(e),L.set("connectedWallet",[...n.keys()]))}function F1(){return L.get("connectedWallet",JSON.parse)}function Fl(e){const t=L.get("connectedWallet",JSON.parse),n=new Set(t);n.has(e)&&(n.delete(e),L.set("connectedWallet",[...n.keys()]))}var Ho=new WeakMap;function pe(e){if(Ho.has(e))return Ho.get(e);const t=Nv(["string","string","string"],[e.name,e.rdns??"",e.icon]).slice(0,10);return Ho.set(e,t),t}var N1=class{constructor(e){this.dataProvider=e,this.chainIdInner$=new Gr(wp()??_.eth),this.currentActiveAdapter$=U(()=>this.dataProvider.update$).pipe(Vt(null),N(()=>this.dataProvider.currentActiveAdapter),Rt(),me({bufferSize:1,refCount:!0})),this.currentActiveAdapterData$=this.currentActiveAdapter$.pipe(N(t=>(t==null?void 0:t.data)??null),me({bufferSize:1,refCount:!0})),this.info$=this.currentActiveAdapterData$.pipe(_t(Boolean),se(t=>t.info$)),this.addresses$=this.currentActiveAdapterData$.pipe(se(t=>(t==null?void 0:t.addresses$)??tt([])),le(t=>console.log(t)),me({bufferSize:1,refCount:!0})),this.activeAddress$=this.currentActiveAdapterData$.pipe(se(t=>(t==null?void 0:t.activeAddress$)??tt(null)),le(t=>t&&M1(t)),me({bufferSize:1,refCount:!0})),this.chainId$=xe([this.currentActiveAdapterData$,this.chainIdInner$]).pipe(se(([t,n])=>(t==null?void 0:t.chainId$)??tt(n)),le(t=>t&&R1(t)),me({bufferSize:1,refCount:!0})),this.disconnect$=this.currentActiveAdapterData$.pipe(se(t=>(t==null?void 0:t.disconnect$)??tt()),me({bufferSize:1,refCount:!0})),this.isConnected$=this.currentActiveAdapterData$.pipe(se(t=>(t==null?void 0:t.isConnected$)??tt(!1)),me({bufferSize:1,refCount:!0})),xe([this.activeAddress$,this.chainId$]).pipe(mc(wd)).subscribe()}getInfo(){if(!this.dataProvider.currentActiveAdapter)throw new Error("");return this.dataProvider.currentActiveAdapter.data.getInfo()}async getAddresses(){const e=await this.getProviderDataAdapter();return e?await e.getAddresses():[]}async getActiveAddress(){if(!this.dataProvider.currentActiveAdapter)return null;const e=await this.getProviderDataAdapter();return e?await e.getActiveAddress():null}async getChainId(){if(!this.dataProvider.currentActiveAdapter)return this.chainIdInner$.value;const e=await this.getProviderDataAdapter();if(!e)return this.chainIdInner$.value;const t=await e.getChainId();return t||this.chainIdInner$.value}async isConnected(){if(!this.dataProvider.currentActiveAdapter)return!1;const e=await this.getProviderDataAdapter();return e?await e.isConnected():!1}async isActiveAddress(e,t){var o,a;const n=pe(e),r=await((o=this.dataProvider.currentActiveAdapter)==null?void 0:o.data.getActiveAddress())??null,s=((a=this.dataProvider.currentActiveAdapter)==null?void 0:a.data.getInfo())??null,i=s?pe(s):null;return!!r&&!!i&&n===i&&Gt(r,t)}isActiveWallet(e){var s;const t=pe(e),n=((s=this.dataProvider.currentActiveAdapter)==null?void 0:s.data.getInfo())??null,r=n?pe(n):null;return!!r&&r===t}isActiveAddress$(e,t){const n=pe(e);return xe([this.currentActiveAdapter$,this.activeAddress$]).pipe(N(([r,s])=>{const i=r?pe(r.data.getInfo()):null;return!!s&&!!i&&n===i&&Gt(s,t)}))}isActiveWallet$(e){const t=pe(e);return this.currentActiveAdapter$.pipe(N(n=>{const r=n?pe(n.data.getInfo()):null;return!!r&&r===t}))}setChainId(e){this.chainIdInner$.next(e)}getProviderDataAdapter(){return ft(this.currentActiveAdapterData$.pipe(zd(Dd(0)),Nd(null)))}};function L1(){return!!window.ethereum}async function z1(){if(!window.ethereum)throw new Error("injected provider not supported");return{provider:window.ethereum,info:{walletId:"injectedWalletId",uuid:"injectedWallet",name:V1(),icon:await U1()}}}var Nl={default:()=>C(()=>import("./default-icon-Y7XE7FDB-57bNFlKZ.js"),__vite__mapDeps([])).then(e=>e.icon),oneInchWallet:()=>C(()=>import("./one-inch-wallet-icon-RUWBJPSH-BHiOEM79.js"),__vite__mapDeps([])).then(e=>e.icon)};function U1(){var e;return(e=window.ethereum)!=null&&e.isOneInchWallet?Nl.oneInchWallet():Nl.default()}function V1(){var e;return(e=window.ethereum)!=null&&e.isOneInchWallet?"1inch wallet":"Browser wallet"}var q1=class{constructor(e){this.providerDetail=e,this.provider=null,this.client=null,this.data=new vp(this.providerDetail.info)}async isConnected(){var e;return((e=this.provider)==null?void 0:e.isConnected())??!1}async connect(e){if(this.provider)await this.provider.connect();else{const t=await C(()=>import("./multi-connect-provider-BR3BGU4T-Ct-DUs63.js"),__vite__mapDeps([])).then(n=>n.MultiConnectProvider.connect());this.client=await Ja(e,t),this.data.setProvider(t),this.provider=t}return!0}async restoreConnect(){if(this.provider)await this.provider.restoreConnect();else{const e=await C(()=>import("./multi-connect-provider-BR3BGU4T-Ct-DUs63.js"),__vite__mapDeps([])).then(t=>t.MultiConnectProvider.restoreConnect());this.client=await Ja(e.chainId,e),this.data.setProvider(e),this.provider=e}return!0}async disconnect(){return!1}async changeChain(e){var t;return(t=this.client)==null||t.switchChain({id:e}),!0}setActiveAddress(e){var t;(t=this.provider)==null||t.setActiveAddress(e)}};async function H1(){return{info:{walletId:"walletConnectId",uuid:"walletConnect",name:"Wallet Connect",icon:await G1()}}}var W1={default:()=>C(()=>import("./wallet-connect-icon-FS64AXXE-lPk-W8Bs.js"),__vite__mapDeps([])).then(e=>e.icon)};function G1(){return W1.default()}var K1=class{constructor(){this.data=new N1(this),this.activeAdapters=new Map,this.update$=new Ve,this.currentActiveAdapterId=null,this.adapters=new Map}get isConnected(){return this.currentActiveAdapter!==null}get currentActiveAdapter(){return this.currentActiveAdapterId?this.activeAdapters.get(this.currentActiveAdapterId)??null:null}async init(){await this.initWallets(),await this.restoreChainId(),await this.restoreWalletConnection(),this.update$.next()}async getSupportedWallets(){const e=[];return this.adapters.forEach(t=>e.push(t.data.getInfo())),e.sort((t,n)=>{const r=pe(t),s=pe(n);return r===this.currentActiveAdapterId&&s!==this.currentActiveAdapterId?-1:r!==this.currentActiveAdapterId&&s===this.currentActiveAdapterId?1:this.activeAdapters.has(r)&&this.activeAdapters.has(s)?0:this.activeAdapters.has(r)&&!this.activeAdapters.has(s)?-1:!this.activeAdapters.has(r)&&this.activeAdapters.has(s)?1:0})}async connect(e){const t=await this.data.getChainId(),n=pe(e);if(!this.adapters.has(n))throw new Error(`Invalid wallet info ${e.name} not exist`);const r=await this.connectSafe(t,n);return this.afterConnectWallet(r,n),this.update$.next(),r}async addConnection(e){const t=await this.data.getChainId(),n=pe(e);if(!this.adapters.has(n))throw new Error(`Invalid wallet info ${e.name} not exist`);const r=this.adapters.get(n);if(!r)throw new Error("Invalid wallet id");if(!this.activeAdapters.has(n))throw new Error(`Wallet adapter ${e.name} not connected`);let s;try{s=await r.connect(t)}catch{s=!1}return this.update$.next(),s}async disconnect(){if(this.currentActiveAdapter===null)return!0;try{const e=await this.currentActiveAdapter.disconnect();return this.currentActiveAdapterId&&this.activeAdapters.delete(this.currentActiveAdapterId),this.currentActiveAdapterId&&Fl(this.currentActiveAdapterId),this.currentActiveAdapterId=null,this.update$.next(),e}catch(e){return console.error(e),!1}}async changeChain(e){let t=!0;if(this.currentActiveAdapter)try{t=await this.currentActiveAdapter.changeChain(e)}catch{t=!1}return t&&this.data.setChainId(e),t}getDataAdapter(e){const t=pe(e),n=this.adapters.get(t);if(!n)throw new Error(`Invalid wallet info ${e.name} not exist`);return n.data}async setActiveAddress(e,t){const n=pe(e);return await this.setActiveAddressInner(n,t)}async setActiveAddressInner(e,t){var r;let n=!0;if(this.currentActiveAdapterId!==e){const s=await this.data.getChainId();if(!this.adapters.has(e))throw new Error("Invalid wallet not exist");n=await this.connectSafe(s,e),this.afterConnectWallet(n,e)}n&&((r=this.currentActiveAdapter)==null||r.setActiveAddress(t)),this.update$.next()}async connectSafe(e,t,n=!1){const r=this.adapters.get(t);if(!r)throw new Error("Invalid wallet id");let s;if(!this.activeAdapters.has(t)||n){try{s=await r.connect(e)}catch{s=!1}s&&this.activeAdapters.set(t,r)}else s=await r.isConnected(),!n&&!s&&(s=await this.connectSafe(e,t,!0));return s}async restoreConnectSafe(e,t,n){const r=this.adapters.get(t);if(!r)throw new Error("Invalid wallet id");let s;if(this.activeAdapters.has(t))s=await r.isConnected();else{try{s=await r.restoreConnect(e,n)}catch{s=!1}s&&this.activeAdapters.set(t,r)}return s}async restoreChainId(){const e=wp();e&&await this.changeChain(e)}async restoreWalletConnection(){const e=jl(),t=F1();if(!t)return;await this.getSupportedWallets();const n=await this.data.getChainId();for(const o of t){if(o===e||!this.adapters.has(o))continue;const a=await this.restoreConnectSafe(n,o).catch(()=>!1);this.afterConnectWallet(a,o)}if(!e||!this.adapters.has(e))return;const r=await this.restoreConnectSafe(n,e,!0);if(this.afterConnectWallet(r,e),!r)return;const s=D1();!s||!this.currentActiveAdapter||!(await this.currentActiveAdapter.data.getAddresses()).includes(s)||await this.setActiveAddressInner(e,s)}initWallets(){return new Promise(e=>{let t=!1;Ne(window,"eip6963:announceProvider").pipe(le(n=>{t=Z1(window.ethereum,n.detail.provider);const r=pe(n.detail.info);this.adapters.has(r)||this.adapters.set(r,new Ml(n.detail))}),Kr(100),hb(1),zd(Dd(100)),Nd(null),le(async()=>{if(!t&&L1()){const s=await z1(),i=pe(s.info);this.adapters.has(i)||this.adapters.set(i,new Ml(s))}const n=await H1(),r=pe(n.info);this.adapters.set(r,new q1(n)),e()})).subscribe(),window.dispatchEvent(new Event("eip6963:requestProvider"))})}afterConnectWallet(e,t){e?(this.currentActiveAdapterId=t,j1(t),Dl(t)):(Fl(t),jl()===t&&Dl(null),this.currentActiveAdapterId===t&&(this.currentActiveAdapterId=null),this.activeAdapters.has(t)&&(this.adapters.get(t).disconnect().catch(),this.activeAdapters.delete(t)))}};function Z1(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(e[s]!==t[s])return!1;return!0}function Y1(){return new K1}function Vn(e,t,n){return e?t(e):n==null?void 0:n(e)}let xp=class extends Event{constructor(t,n,r){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=n,this.subscribe=r??!1}};function gk(e){return e}let Ll=class{constructor(t,n,r,s){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(i,o)=>{this.unsubscribe&&(this.unsubscribe!==o&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=i,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(i,o)),this.unsubscribe=o},this.host=t,n.context!==void 0){const i=n;this.context=i.context,this.callback=i.callback,this.subscribe=i.subscribe??!1}else this.context=n,this.callback=r,this.subscribe=s??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new xp(this.context,this.t,this.subscribe))}};class J1{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,n=!1){const r=n||!Object.is(t,this.o);this.o=t,r&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[n,{disposer:r}]of this.subscriptions)n(this.o,r)},t!==void 0&&(this.value=t)}addCallback(t,n,r){if(!r)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:n});const{disposer:s}=this.subscriptions.get(t);t(this.value,s)}clearCallbacks(){this.subscriptions.clear()}}let Q1=class extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}};class fu extends J1{constructor(t,n,r){var s,i;super(n.context!==void 0?n.initialValue:r),this.onContextRequest=o=>{const a=o.composedPath()[0];o.context===this.context&&a!==this.host&&(o.stopPropagation(),this.addCallback(o.callback,a,o.subscribe))},this.onProviderRequest=o=>{const a=o.composedPath()[0];if(o.context!==this.context||a===this.host)return;const c=new Set;for(const[u,{consumerHost:l}]of this.subscriptions)c.has(u)||(c.add(u),l.dispatchEvent(new xp(this.context,u,!0)));o.stopPropagation()},this.host=t,n.context!==void 0?this.context=n.context:this.context=n,this.attachListeners(),(i=(s=this.host).addController)==null||i.call(s,this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new Q1(this.context))}}function Dn({context:e,subscribe:t}){return(n,r)=>{typeof r=="object"?r.addInitializer(function(){new Ll(this,{context:e,callback:s=>{this[r.name]=s},subscribe:t})}):n.constructor.addInitializer(s=>{new Ll(s,{context:e,callback:i=>{s[r]=i},subscribe:t})})}}var Wo=document.createElement("div");function _p(){return document.body.contains(Wo)||document.body.appendChild(Wo),Wo}var X1=1;function $p(){return X1++}var kp=class{constructor(e){this.rootNodeName=e,this.container=_p(),this.activeOverlayMap=new Map,this.subscriptions=new Map}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(e){return this.activeOverlayMap.has(e)}async open(e){const t=document.querySelector(this.rootNodeName),n=this.createOverlayContainer(e);ae(t,{overflow:"hidden",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"});const r={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};await Promise.all([n.animate([{transform:"translate3d(0, 100%, 0)"},{transform:"translate3d(0, 0, 0)"}],r).finished,t.animate([{filter:"blur(0)",transform:"scale(1) translate3d(0, 0, 0)"},{filter:"blur(3px)",transform:"scale(.9) translate3d(0, -6%, 0)"}],r).finished]),ae(t,{filter:"blur(3px)",transform:"scale(.9) translate3d(0, -6%, 0)",willChange:"filter, transform"});const s=$p();return this.subscribeOnResize(s),this.activeOverlayMap.set(s,n),s}async close(e){if(!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e),n=document.querySelector(this.rootNodeName),r={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};await Promise.all([t.animate([{transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, 100%, 0)"}],r).finished,n.animate([{filter:"blur(3px)",transform:"scale(.9) translate3d(0, -6%, 0)"},{filter:"blur(0)",transform:"scale(1) translate3d(0, 0, 0)"}],r).finished]),ae(n,{filter:"",transform:"",position:"",willChange:"",overflow:"",top:"",left:"",right:"",bottom:""}),this.unsubscribeOnResize(e),t.remove(),this.activeOverlayMap.delete(e)}createOverlayContainer(e){const t=document.createElement("div"),n=97*window.innerHeight/100;return ae(t,{position:"fixed",display:"flex",width:"100vw",height:`${n}px`,overflow:"hidden",alignItems:"flex-end",bottom:"0",left:"0"}),tr(E`${e}`,t),this.container.appendChild(t),t}subscribeOnResize(e){const t=Ne(window,"resize").pipe(le(()=>this.updatePosition(e))).subscribe();this.subscriptions.set(e,t)}unsubscribeOnResize(e){if(!this.subscriptions.has(e))return;const t=this.subscriptions.get(e);t.closed||t.unsubscribe()}updatePosition(e){this.subscriptions.has(e)&&this.close(e).catch()}},e_=class{constructor(e,t){this.target=e,this.rootNodeName=t,this.activeOverlayMap=new Map,this.subscriptions=new Map,this.container=_p()}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(e){return this.activeOverlayMap.has(e)}async open(e){const t=await this.getPosition(e),n=this.createOverlayContainer(e);this.target==="center"?ae(n,{top:"0px",left:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}):ae(n,{top:`${t[1]}px`,left:`${t[0]}px`,borderRadius:"24px",boxShadow:"0px 1px 4px 0px rgba(0, 0, 0, 0.12), 0px 4px 12px 0px rgba(0, 0, 0, 0.12)"}),await this.animateEnter(n);const r=$p();return this.activeOverlayMap.set(r,n),this.subscribe(r),r}async close(e){if(!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e);await this.animateLeave(t),this.unsubscribe(e),t.remove(),this.activeOverlayMap.delete(e)}async getPosition(e){if(this.target==="center")return[0,0];const t=this.target.getBoundingClientRect(),n=await this.getRect(e);return[t.right-n.width,t.top+t.height+8]}async getRect(e){const t=this.createOverlayContainer(e);ae(t,{visibility:"hidden"}),document.body.appendChild(t),await new Promise(r=>requestAnimationFrame(r));const n=t.getBoundingClientRect();return t.remove(),n}createOverlayContainer(e){const t=document.createElement("div");return ae(t,{position:"absolute",display:"flex",overflow:"hidden",alignItems:"flex-end",width:"fit-content",height:"fit-content"}),tr(E`${e}`,t),this.container.appendChild(t),t}subscribe(e){const t=new Qt,n=this.activeOverlayMap.get(e);if(!n)return;if(this.target==="center"){t.add(Ne(n,"click").subscribe(s=>{s.target===n&&this.close(e).catch()}));return}t.add(Ne(window,"resize").subscribe(()=>this.close(e).catch()));const r=document.querySelector(this.rootNodeName);t.add(Ne(r,"scroll").subscribe(()=>this.updatePosition(e))),t.add(Ne(n,"click").subscribe(s=>{s.stopPropagation(),s.preventDefault()})),t.add(Ne(document,"click").subscribe(()=>{this.close(e).catch()})),this.subscriptions.set(e,t)}unsubscribe(e){if(!this.subscriptions.has(e))return;const t=this.subscriptions.get(e);t.closed||t.unsubscribe()}updatePosition(e){if(this.target==="center"||!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e),n=this.target.getBoundingClientRect(),r=t.getBoundingClientRect(),s=n.top+n.height+8,i=n.right-r.width;ae(t,{top:`${s}px`,left:`${i}px`})}async animateEnter(e){const t={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const n=document.querySelector(this.rootNodeName);await Promise.all([n.animate([{filter:"blur(0)"},{filter:"blur(3px)"}],t),e.animate([{transform:"scale(.3)",opacity:.3},{transform:"scale(1)",opacity:1}],t).finished]),ae(n,{filter:"blur(3px)"});return}await e.animate([{clipPath:"circle(0 at 90% 0)",opacity:.3},{clipPath:"circle(100%)",opacity:1}],t).finished}async animateLeave(e){const t={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const n=document.querySelector(this.rootNodeName);await Promise.all([n.animate([{filter:"blur(3px)"},{filter:"blur(0)"}],t),e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(0)",opacity:0}],{...t,duration:300}).finished]),ae(n,{filter:""});return}await e.animate([{clipPath:"circle(100%)",opacity:1},{clipPath:"circle(0 at 90% 0)",opacity:.3}],t).finished}},pu=class{constructor(e,t){this.mobileMedia=St(),this.mobileOverlay=new kp(e),this.desktopOverlay=new e_(t,e)}get isOpen(){return this.mobileMedia.matches?this.mobileOverlay.isOpen:this.desktopOverlay.isOpen}isOpenOverlay(e){return this.mobileMedia.matches?this.mobileOverlay.isOpenOverlay(e):this.desktopOverlay.isOpenOverlay(e)}async open(e){return this.mobileMedia.matches?await this.mobileOverlay.open(e):await this.desktopOverlay.open(e)}async close(e){return this.mobileMedia.matches?await this.mobileOverlay.close(e):await this.desktopOverlay.close(e)}},t_=F`
  
`,n_=F`
`,r_=F`
    
    :host {
        display: block;
        transition: height .2s;
        overflow: hidden;
    }

    .wallet-view-container {
        display: flex;
        align-content: center;
        justify-content: space-between;
        padding: 20px 16px;
        border-radius: 16px;
        transition: background-color .2s, height .2s;
        position: relative;
        overflow: hidden;
        color: var(--color-content-content-primary);
    }

    .wallet-icon {
        width: 24px;
        height: 24px;
    }

    .wallet-name {
        color: var(--color-content-content-primary);
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: 24px;
    }
    
    .connect-icon {
        color: var(--color-content-content-primary);
        margin-left: auto;
        transform: scale(0);
        transition: transform .2s;
    }
    
    .connect-icon__connected {
        transform: scale(1);
        transition: color .2s;
        color: var(--color-content-content-primary);
    }
    
    .connect-icon__active {
        transform: scale(1);
        transition: color .2s;
        color: var(--primary);
    }
    
    .data-container {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .loader-icon {
        height: 24px;
        width: 24px;
        margin-left: auto;
    }
    
    .address-list {
        display: flex;
        flex-direction: column;
    }

    inch-wallet-view-address-balance {
        transform: translate3d(24px, 0, 0);
        transition: transform .2s;
        will-change: transform;
    }
    
    .add-connection {
        transition: transform .2s;
        transform: scale(0);
    }

    .address-container__active inch-wallet-view-address-balance {
        transform: translate3d(0, 0, 0);
    }
    
    .wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data {
        transform: translate3d(36px, 0, 0);
        transition: transform .2s;
    }
    
    @media (hover: hover) {
        .wallet-view-container:hover {
            background-color: var(--color-background-bg-secondary);
        }
        .wallet-view-container:hover .connect-icon {
            transform: scale(1);
        }
        .wallet-view-container:hover inch-wallet-view-address-balance {
            transform: translate3d(0, 0, 0);
        }
        .wallet-view-container:hover .add-connection {
            transform: scale(1);
        }
        .wallet-view-container:hover.wallet-view-container__wc.wallet-view-container__connected .right-data {
            transform: translate3d(0, 0, 0);
        }
    }
    
    @media (hover: none) {
        .wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data {
            transform: translate3d(0, 0, 0);
        }

        .add-connection {
            transform: scale(1);
        }
    }

    @keyframes rainbow {
        0% {
            background-position: 0;
        }
        100% {
            background-position: 100%;
        }
    }

`,mu=Symbol("controller context"),s_=F`

    :host {
        color: var(--color-content-content-primary);
        text-align: right;
        font-size: 16px;
        font-style: normal;
        font-weight: 500;
        line-height: 24px;
    }

    .loader {
        will-change: filter;
        height: 20px;
        width: 60px;
        background-color: var(--color-background-bg-secondary);
        border-radius: 4px;
        animation: stub-loader-animation 3s ease-in-out infinite;
    }

    @keyframes stub-loader-animation {
        0%, 100% {
            filter: opacity(1);
        }
        50% {
            filter: opacity(0.5);
        }
    }

`,zl=new dp("inch-wallet-view-address-balance",7),mn=class extends V{constructor(){super(...arguments),this.task=new Fi(this,async([e,t])=>{if(!e||!t)throw new Error("");const n=await ze.getTokenBalance(e,"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",t),r=ln(Pt(BigInt(n.amount),18),6);return zl.set([this.chainId,this.address].join(":"),r),r},()=>[this.chainId,this.address])}render(){return this.task.render({pending:()=>this.getLoader(),error:()=>this.getLoader(),complete:e=>{if(this.chainId===void 0)throw new Error("");const t=Jt(this.chainId);return E`<span>${e} ${t.nativeCurrency.symbol}</span>`}})}getLoader(){const e=()=>E`<div class="loader"></div>`;if(!this.chainId||!this.address)return e();const t=zl.get([this.chainId,this.address].join(":")),n=Jt(this.chainId);return t?E`<span>${t} ${n.nativeCurrency.symbol}</span>`:e()}};mn.tagName="inch-wallet-view-address-balance";mn.styles=s_;Q([z({type:Number})],mn.prototype,"chainId",2);Q([z({type:String})],mn.prototype,"address",2);mn=Q([Y(mn.tagName)],mn);var Ae=class extends V{constructor(){super(...arguments),this.showLoader=!1,this.isWalletConnected=!1,this.addressList=null,this.activeAddress=null,this.showAddresses=!1,this.isActiveWallet=!1}firstUpdated(){if(!this.info)throw new Error("");const e=this.getController().getDataAdapter(this.info),t=this.getController().data;$s(this,[e.isConnected$.pipe(le(n=>this.isWalletConnected=n)),e.activeAddress$.pipe(le(n=>this.activeAddress=n)),e.addresses$.pipe(le(n=>this.addressList=n.length?n:null)),t.chainId$.pipe(le(n=>this.chainId=n??void 0)),t.isActiveWallet$(this.info).pipe(le(n=>this.isActiveWallet=n))],{requestUpdate:!1})}render(){var s;if(!this.info)throw new Error("");const e=((s=this.addressList)==null?void 0:s.length)??0,t=(this.showAddresses&&e>1?e*64:0)+64;ae(this,{height:`${t}px`});const n=this.info.uuid==="walletConnect",r={"wallet-view-container":!0,"wallet-view-container__wc":n,"wallet-view-container__connected":this.isWalletConnected,"wallet-view-container__loading":this.showLoader};return E`
      <div class="${Ft(r)}" @click="${()=>this.onClick()}">
        <div class="data-container left-data">
          <img class="wallet-icon" alt="${this.info.name}" src="${this.info.icon}">
          <span class="wallet-name">${this.info.name}</span>
        </div>
        <div class="data-container right-data">
          ${Vn(this.activeAddress,i=>E`
            <span>${Za(i)}</span>
          `)}
          ${Vn(this.showLoader,()=>E`
              <inch-icon class="loader-icon" icon="fire48"></inch-icon>`,()=>{const i={"connect-icon":!0,"connect-icon__connected":this.isWalletConnected,"connect-icon__active":this.isActiveWallet};return E`
                <inch-icon class="${Ft(i)}" icon="connect16"></inch-icon>
                ${Vn(n&&this.activeAddress,()=>E`
                  <inch-button @click="${o=>this.onConnect(o)}" class="add-connection" size="l" type="tertiary">
                    <inch-icon icon="plusCircle16"></inch-icon>
                  </inch-button>
                `)}
              `})}
        </div>
      </div>


      ${Vn(this.addressList&&this.addressList.length>1,()=>E`
          <div class="address-list">
            ${Wd(this.addressList,i=>E`
                <div @click="${()=>this.setActiveAddress(i)}" class="wallet-view-container address-container ${Vu(this.isActiveAddress(i).then(o=>o?"address-container__active":""))}">
                  <div class="data-container left-data">
                    <inch-icon icon="cornerDownRight16"></inch-icon>
                    <span>${Za(i,{width:this.offsetWidth})}</span>
                  </div>
                  <div class="data-container right-data">
                    <inch-wallet-view-address-balance chainId="${vc(this.chainId)}" address="${i}"></inch-wallet-view-address-balance>
                    <inch-icon class="connect-icon ${Vu(this.isActiveAddress(i).then(o=>o?"connect-icon__active":""))}" icon="link16"></inch-icon>
                  </div>
                </div>
              `)}
          </div>
        `)}
    `}async onClick(){if(this.isWalletConnected){if(this.addressList&&this.addressList.length===1){await this.setActiveAddress(this.addressList[0]);return}this.showAddresses=!this.showAddresses;return}await this.onConnect()}async onConnect(e){if(!this.info||this.showLoader)return;e==null||e.preventDefault(),e==null||e.stopPropagation(),this.showLoader=!0;const t=this.info.uuid==="walletConnect";this.isWalletConnected&&t?this.showAddresses=await this.getController().addConnection(this.info):this.showAddresses=await this.getController().connect(this.info),this.showLoader=!1}async setActiveAddress(e){this.info&&await this.getController().setActiveAddress(this.info,e)}getController(){if(!this.controller)throw new Error("");return this.controller}isActiveAddress(e){if(!this.info)throw new Error("");return this.getController().data.isActiveAddress(this.info,e)}};Ae.tagName="inch-wallet-view";Ae.styles=r_;Q([z({type:Object})],Ae.prototype,"info",2);Q([Ye()],Ae.prototype,"showLoader",2);Q([Ye()],Ae.prototype,"isWalletConnected",2);Q([Ye()],Ae.prototype,"addressList",2);Q([Ye()],Ae.prototype,"activeAddress",2);Q([Ye()],Ae.prototype,"showAddresses",2);Q([Ye()],Ae.prototype,"isActiveWallet",2);Q([Ye()],Ae.prototype,"chainId",2);Q([Dn({context:mu})],Ae.prototype,"controller",2);Ae=Q([Y(Ae.tagName)],Ae);var Yn=class extends V{constructor(){super(...arguments),this.task=new Fi(this,async()=>await this.getController().getSupportedWallets(),()=>[])}render(){return this.task.render({pending:()=>E`<inch-icon icon="unicornRun"></inch-icon>`,complete:e=>E`
        <div class="scroll-container">
          ${Wd(e,t=>E`<inch-wallet-view .info="${t}"></inch-wallet-view>`)}
        </div>
      `})}getController(){if(!this.controller)throw new Error("");return this.controller}};Yn.tagName="inch-wallet-list";Yn.styles=n_;Q([Dn({context:mu})],Yn.prototype,"controller",2);Yn=Q([Y(Yn.tagName)],Yn);var Jn=class extends V{constructor(){super(...arguments),this.mobileMedia=St(),this.context=new fu(this,{context:mu})}firstUpdated(){ks(this)}render(){if(!this.controller)throw new Error("For the inch-wallet-manage widget to work, you need to pass the controller corresponding to the interface in the controller field");this.context.value||this.context.setValue(this.controller);const e=this.controller.isConnected?"Wallet management":"Connect wallet";return E`
      <inch-card forMobileView="${vc(this.mobileMedia.matches?"":void 0)}">
        <inch-card-header closeButton headerText="${e}"></inch-card-header>
        <inch-wallet-list></inch-wallet-list>
      </inch-card>
    `}};Jn.tagName="inch-wallet-manage";Jn.styles=t_;Q([z({type:Object,attribute:!1})],Jn.prototype,"controller",2);Jn=Q([Y(Jn.tagName)],Jn);var i_=F`

    .connect-wallet-view-container {
        padding: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        border-radius: 12px;
        background: var(--color-background-bg-primary);
        height: 40px;
        box-sizing: border-box;
    }
    
    .connect-wallet-view-icon {
        width: 24px;
        height: 24px;
    }

`,bn=class extends V{constructor(){super(...arguments),this.mobileMatchMedia=St(),this.overlay=new pu("#app-root",this),this.overlayId=null,this.chainId$=U(()=>this.getController().data.chainId$),this.activeAddress$=U(()=>this.getController().data.activeAddress$),this.info$=U(()=>this.getController().data.info$),this.icon$=this.info$.pipe(N(e=>e.icon)),this.name$=this.info$.pipe(N(e=>e.name)),this.activeAddressView$=this.activeAddress$.pipe(N(e=>e&&Za(e))),this.view$=U(()=>this.getController().data.isConnected$).pipe(N(e=>e?this.getConnectedView():this.getConnectWalletButton()))}firstUpdated(){ks(this)}render(){return E`${te(this.view$)}`}getConnectedView(){return E`
      <div class="connect-wallet-view-container">
        <img class="connect-wallet-view-icon" alt="${te(this.name$)}" src="${te(this.icon$)}">
        ${Vn(!this.mobileMatchMedia.matches,()=>E`<inch-wallet-view-address-balance address="${te(this.activeAddress$)}" chainId="${te(this.chainId$)}"></inch-wallet-view-address-balance>`)}
        <inch-button @click="${()=>this.onOpenConnectView()}" type="secondary" size="m">
          ${te(this.activeAddressView$)}
        </inch-button>
      </div>
    `}getConnectWalletButton(){return E`
      <inch-button @click="${()=>this.onOpenConnectView()}" type="secondary" >Connect wallet</inch-button>
    `}getController(){if(!this.controller)throw new Error("");return this.controller}async onOpenConnectView(){if(this.overlay.isOpen){await this.overlay.close(this.overlayId??0),this.overlayId=null;return}this.overlayId=await this.overlay.open(E`
      <inch-wallet-manage @closeCard="${()=>{this.overlayId&&(this.overlay.close(this.overlayId),this.overlayId=null)}}" .controller="${this.controller}" ></inch-wallet-manage>
    `)}};bn.tagName="inch-connect-wallet-view";bn.styles=i_;Q([z({type:Object,attribute:!1})],bn.prototype,"controller",2);Q([pr()],bn.prototype,"onOpenConnectView",1);bn=Q([Y(bn.tagName)],bn);var o_=F`

    .unsupported {
        color: var(--color-core-red-critical);
    }
    
`,on={[_.eth]:{name:"Ethereum",iconName:"eth24"},[_.arbitrum]:{name:"Arbitrum",iconName:"arbitrum24"},[_.op]:{name:"Optimism",iconName:"op24"},[_.zkSyncEra]:{name:"zkSync Era",iconName:"zkSyncEra24"},[_.bnb]:{name:"BNB Smart Chain",iconName:"bnb24",priority:1},[_.matic]:{name:"Polygon",iconName:"matic24",priority:1},[_.gnosis]:{name:"Gnosis",iconName:"gnosis24"},[_.avalanche]:{name:"Avalanche",iconName:"avalanche24"},[_.fantom]:{name:"Fantom",iconName:"fantom24"},[_.aurora]:{name:"Aurora",iconName:"aurora24"},[_.klaytn]:{name:"Klaytn",iconName:"klaytn24"}},a_=Object.keys(on).map(e=>({...on[e],chainId:Number(e)})).sort((e,t)=>e.chainId==_.eth?-1:t.chainId==_.eth?1:Sl(e.chainId)?-1:Sl(t.chainId)?1:(t.priority??0)-(e.priority??0)),Qn=class extends V{constructor(){super(...arguments),this.mobileMedia=yc(this),this.overlay=new pu("#app-root",this),this.overlayId=null,this.chainId$=U(()=>this.getController().data.chainId$),this.unsupportedChainId$=this.chainId$.pipe(N(e=>e&&on[e]?"":"unsupported")),this.chainIdIconName$=this.chainId$.pipe(_t(Boolean),N(e=>on[e]?on[e].iconName:"alert24")),this.chainIdName$=this.chainId$.pipe(_t(Boolean),N(e=>on[e]?on[e].name:"Unsupported chain"))}connectedCallback(){super.connectedCallback(),C(()=>import("./chain-selector-list-BJ4EQHCF-DH5P_6nN.js"),__vite__mapDeps([]))}render(){return E`
      <inch-button @click="${()=>this.onClick()}" size="l" type="primary-gray">
        <inch-icon class="${te(this.unsupportedChainId$)}" icon="${te(this.chainIdIconName$)}"></inch-icon>
        ${Vn(!this.mobileMedia.matches,()=>E`<span>${te(this.chainIdName$)}</span>`)}
        <inch-icon icon="chevronDown16"></inch-icon>
      </inch-button>
    `}async onClick(){if(this.overlay.isOpenOverlay(this.overlayId??0)){this.closeOverlay();return}this.overlayId=await this.overlay.open(E`
      <inch-chain-selector-list
        .infoList="${a_}"
        .controller="${this.controller}"
        activeChainId="${te(this.chainId$)}"
        @closeCard="${()=>this.closeOverlay()}"
      ></inch-chain-selector-list>
    `)}closeOverlay(){this.overlayId&&(this.overlay.close(this.overlayId),this.overlayId=null)}getController(){if(!this.controller)throw new Error("");return this.controller}};Qn.tagName="inch-chain-selector";Qn.styles=o_;Q([z({type:Object,attribute:!1})],Qn.prototype,"controller",2);Qn=Q([Y(Qn.tagName)],Qn);function c_(){return St().matches?56:72}function u_(){return St().matches?56:72}const Fe=Y1(),l_=Object.freeze(Object.defineProperty({__proto__:null,connectWalletController:Fe},Symbol.toStringTag,{value:"Module"}));var d_=Object.defineProperty,h_=Object.getOwnPropertyDescriptor,f_=(e,t,n,r)=>{for(var s=r>1?void 0:r?h_(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&d_(t,n,s),s};let jr=class extends V{constructor(){super(...arguments),this.mobileMedia=St()}connectedCallback(){super.connectedCallback(),ks(this)}render(){return this.mobileMedia.matches?this.getMobileHeader():this.getDesktopHeader()}getDesktopHeader(){const e={height:`${c_()}px`};return E`
      <div class="header-container" style="${gc(e)}">
        <div class="left-content">
          <inch-icon icon="logoFull"></inch-icon>
        </div>
        <div class="right-content">
          <inch-chain-selector .controller="${Fe}"></inch-chain-selector>
          <inch-connect-wallet-view .controller="${Fe}"></inch-connect-wallet-view>
        </div>
      </div>
    `}getMobileHeader(){return E`
      <div class="header-container mobile-header">
        <inch-icon icon="logoFull"></inch-icon>
      </div>
    `}};jr.tagName="inch-header";jr.styles=Eb;jr=f_([Y(jr.tagName)],jr);const p_=F`

    .footer-container {
        width: 100%;
        box-sizing: border-box;
        display: flex;
        align-items: center;
        position: relative;
        border-top: 1px solid var(--color-border-border-tertiary);
        padding: 0 72px;
        background-color: var(--color-background-bg-body);
        gap: 8px;
    }
    
    .mobile-footer {
        height: 72px;
        position: fixed;
        padding: 16px 8px;
        justify-content: space-between;
    }
    
    .power-by {
        color: var(--color-content-content-secondary);
        font-size: 13px;
        font-style: normal;
        font-weight: 400;
        line-height: 16px;
    }
    
    .version {
        color: var(--color-content-content-secondary);
        font-size: 13px;
        font-style: normal;
        font-weight: 400;
        line-height: 16px;
        transform: translateX(-100%);
        opacity: 0;
        transition: transform .2s, opacity .2s;
    }
    
    @media (hover: hover) {
        .footer-container:hover .version {
            transform: translateX(0);
            opacity: 1;
        }
    }

`;var m_=Object.defineProperty,b_=Object.getOwnPropertyDescriptor,y_=(e,t,n,r)=>{for(var s=r>1?void 0:r?b_(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&m_(t,n,s),s};let Fr=class extends V{constructor(){super(...arguments),this.mobileMedia=St()}connectedCallback(){super.connectedCallback(),ks(this)}render(){return this.mobileMedia.matches?this.getMobileFooter():this.getDesktopFooter()}getDesktopFooter(){const e={height:`${u_()}px`};return E`
      <div class="footer-container" style="${gc(e)}">
        <span class="power-by"> ${new Date().getFullYear()} Powered by 1inch</span>
        <span class="version">version: ${Gd("appVersion")}</span>
      </div>
    `}getMobileFooter(){return E`
      <div class="footer-container mobile-footer">
        <inch-chain-selector .controller="${Fe}"></inch-chain-selector>
        <inch-connect-wallet-view .controller="${Fe}"></inch-connect-wallet-view>
      </div>
    `}};Fr.tagName="inch-footer";Fr.styles=p_;Fr=y_([Y(Fr.tagName)],Fr);const g_=()=>new v_;class v_{}const Go=new WeakMap,w_=In(class extends Di{render(e){return ee}update(e,[t]){var r;const n=t!==this.Y;return n&&this.Y!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=t,this.ht=(r=e.options)==null?void 0:r.host,this.rt(this.ct=e.element)),ee}rt(e){if(typeof this.Y=="function"){const t=this.ht??globalThis;let n=Go.get(t);n===void 0&&(n=new WeakMap,Go.set(t,n)),n.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),n.set(this.Y,e),e!==void 0&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){var e,t;return typeof this.Y=="function"?(e=Go.get(this.ht??globalThis))==null?void 0:e.get(this.Y):(t=this.Y)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var x_=Object.defineProperty,__=Object.getOwnPropertyDescriptor,Ns=(e,t,n,r)=>{for(var s=r>1?void 0:r?__(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&x_(t,n,s),s},$_=[()=>C(()=>import("./one-inch.repository-YYH7S46H-DmdpMVLF.js"),__vite__mapDeps([])).then(e=>e.oneInchRepository),()=>C(()=>import("./uniswap.repository-MVFZ3WLN-DNEIwLJP.js"),__vite__mapDeps([])).then(e=>e.uniSwapRepository),()=>C(()=>import("./trustwallet.repository-CND747AI-BrRUyv3V.js"),__vite__mapDeps([])).then(e=>e.trustWalletRepository),()=>C(()=>import("./pancakeswap.repository-CXOF5NNQ-CxEgmWtd.js"),__vite__mapDeps([])).then(e=>e.pancakeSwapRepository)],xt=class extends V{constructor(){super(...arguments),this.size=24,this.task=new Fi(this,{task:([e,t,n],{signal:r})=>k_(r,n,e,t),args:()=>[this.symbol,this.address,this.chainId]})}render(){return this.task.render({error:()=>Ko(this.size,this.symbol),pending:()=>Ko(this.size,this.symbol,!0),initial:()=>Ko(this.size,this.symbol,!0),complete:e=>(e.width=this.size,e.height=this.size,e.ondragstart=()=>!1,E`${e}`)})}updated(){this.style.width=`${this.size}px`,this.style.height=`${this.size}px`}};xt.tagName="inch-token-icon";xt.styles=F`

      :host {
          user-select: none;
          outline: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
      }

      .stub {
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: var(--color-background-bg-secondary);
          border-radius: 50%;
          color: var(--color-content-content-secondary);
          position: relative;
      }
      .stub-loader {
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          border: 1px solid;
          border-bottom-color: var(--secondary);
          border-top-color: var(--secondary);
          animation: spin 1s linear infinite;
      }
      
      img {
          user-select: none;
          outline: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
      }

      @keyframes spin {
          0% {
              transform: rotate(0deg);
          }

          100% {
              transform: rotate(360deg);
          }
      }
  
  `;Ns([z({type:String,attribute:!0})],xt.prototype,"symbol",2);Ns([z({type:String,attribute:!0})],xt.prototype,"address",2);Ns([z({type:Number,attribute:!0})],xt.prototype,"chainId",2);Ns([z({type:Number,attribute:!0})],xt.prototype,"size",2);xt=Ns([Y(xt.tagName)],xt);function Ko(e,t,n){return E`
    <div style="width: ${e}px; height: ${e}px; font-size: ${e<40?13:16}px" class="stub">
      <span>${(t==null?void 0:t.slice(0,e<40?1:2))??""}</span>
      ${n?E`<span class="stub-loader"></span>`:""}
    </div>
  `}async function k_(e,t,n,r){let s=await P_({chainId:t,symbol:n,address:r,signal:e});if(s===null&&(s=await bu({chainId:t,symbol:n,address:r,signal:e})),s===null&&(s=await A_({chainId:t,symbol:n,address:r,signal:e})),s===null)throw new Error("token icon not fount");return s}async function P_(e){if(!e.chainId||!e.address)return null;const t=await ze.getToken(e.chainId,e.address);return t.logoURL?await new Promise(n=>{const r=new Image;r.onerror=()=>n(null),r.onload=()=>n(r),r.src=t.logoURL}):null}async function bu(e,t=0){const n=$_[t];if(!n)return null;try{return await(await n())(e)}catch{return await bu(e,t+1)}}async function A_(e){if(e.chainId===_.eth||!e.symbol)return null;const t=await ze.getTokenBySymbol(_.eth,e.symbol);if(e.chainId&&e.address&&Ii(e.address)){const n=Ya(e.chainId);t.push(n)}for(const n of t){const r=await bu({...e,chainId:n.chainId,address:n.address});if(r)return r}return null}function Ul(e){return new Promise(t=>setTimeout(t,e))}var E_=Object.defineProperty,S_=Object.getOwnPropertyDescriptor,I_=(e,t,n,r)=>{for(var s=r>1?void 0:r?S_(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&E_(t,n,s),s},C_={animationContainerSizeChangeTime:".6s",sceneBackgroundColor:"var(--color-background-bg-primary)"},T_=e=>{const t={...C_,...e};return F`

      :host {
          --animation-time: ${qr(t.animationContainerSizeChangeTime)};
          --animation-time-container: .2s;
      }

      .scene-container {
          min-height: 50px;
          min-width: 50px;
          position: relative;
          overflow: hidden;
          border-radius: 16px;
      }

      .scene-wrapper {
          background-color: ${qr(t.sceneBackgroundColor)};
          padding: 1px;
          box-sizing: border-box;
          display: block;
          height: fit-content;
          will-change: transform
      }
  `},O_=Symbol("scene context"),B_=class{constructor(){this.animationInProgress=!1,this.animationInStart$=new Ve,this.animationInEnd$=new Ve,this.animationOutStart$=new Ve,this.animationOutEnd$=new Ve}get animationInStart(){return ft(this.animationInStart$)}get animationInEnd(){return ft(this.animationInEnd$)}get animationOutStart(){return ft(this.animationOutStart$)}get animationOutEnd(){return ft(this.animationOutEnd$)}animationInStartNext(){this.animationInProgress=!0,this.animationInStart$.next()}animationInEndNext(){this.animationInProgress=!1,this.animationInEnd$.next()}animationOutStartNext(){this.animationInProgress=!0,this.animationOutStart$.next()}animationOutEndNext(){this.animationInProgress=!1,this.animationOutEnd$.next()}},Nr=class extends V{constructor(){super(),this.context=new fu(this,{context:O_}),this.context.setValue(new B_)}connectedCallback(){super.connectedCallback(),$s(this,[Pb(this).pipe(le(e=>{const t=this.parentElement;t&&ae(t,{width:`${e.contentRect.width+2}px`,height:`${e.contentRect.height+2}px`})})),tt(null).pipe(ji(Im),le(()=>{const e=this.parentElement;if(e&&e.childNodes.length>1){const t=e.getBoundingClientRect(),n=t.height,r=t.width;e.animate([{height:`${n}px`,width:`${r}px`},{height:`${this.clientHeight}px`,width:`${this.clientWidth}px`}],{duration:200,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished.then(()=>{ae(e,{width:`${this.clientWidth}px`,height:`${this.clientHeight}px`})})}}))])}animationInStart(){this.context.value.animationInStartNext()}animationInEnd(){this.context.value.animationInEndNext()}animationOutStart(){this.context.value.animationOutStartNext()}animationOutEnd(){this.context.value.animationOutEndNext()}render(){return E`<slot></slot>`}};Nr.tagName="inch-scene-wrapper";Nr=I_([Y(Nr.tagName)],Nr);function R_(){const e={position:"absolute",top:"0",left:"0",bottom:"0",right:"0",zIndex:"9",backfaceVisibility:"hidden"},t={position:"",top:"",left:"",bottom:"",right:"",zIndex:"",transform:"",filter:"",backfaceVisibility:"",willChange:""},n={duration:600,easing:"cubic-bezier(.2, .8, .2, 1)"};return{beforeAppend:async(r,s,i)=>{ae(r,{...e,zIndex:"9",transform:i?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"}),ae(s,{...e,zIndex:"8",willChange:"transform, filter",transform:i?"translate3d(-50%, 0, 0) scale(.9)":"translate3d(0, 0, 0) scale(1)",filter:i?"blur(3px)":"blur(0)"})},afterAppend:async(r,s,i)=>{await Promise.all([r.animate([{transform:i?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"},{transform:i?"translate3d(100%, 0, 0)":"translate3d(0, 0, 0)"}],n).finished,s.animate([{transform:i?"translate3d(-50%, 0, 0) scale(.9)":"translate3d(0, 0, 0) scale(1)",filter:i?"blur(3px)":"blur(0)"},{transform:i?"translate3d(0, 0, 0) scale(1)":"translate3d(-50%, 0, 0) scale(.9)",filter:i?"blur(0)":"blur(3px)"}],n).finished]),ae(r,{...t}),ae(s,{...t})}}}var ws,co=(ws=class{constructor(t,n,r=R_()){this.rootSceneName=t,this.config=n,this.animation=r,this.sceneStack=[],this.sceneContainer=M_(),this.transitionInProgress=!1}render(t){const n=!this.currentScenes;this.currentScenes=t;const r=this.getCurrentSceneName();if(!(this.config[r].lazyRender??!1)||n){const o=this.getScene(r);if(!o)throw new Error("Scene not exist");const a=this.buildSceneWrapper(o(),r);this.clearContainer(),this.sceneContainerAppendChild(r,a)}return E`${this.sceneContainer}`}async nextTo(t){this.transitionInProgress||(await this.transition(t),this.sceneStack.push(t))}async back(){if(this.transitionInProgress)return;const t=this.sceneStack[this.sceneStack.length-2]??this.rootSceneName;await this.transition(t,!0),this.sceneStack.pop()}resetScene(){this.sceneStack=[]}getCurrentSceneName(){let t=this.rootSceneName;return this.sceneContainer.firstChild&&(t=this.sceneContainer.firstChild.id),t}getCurrentScene(){if(!this.currentScenes)return null;const t=this.getCurrentSceneName();return this.getScene(t)}async transition(t,n){this.transitionInProgress=!0;try{if(this.getCurrentSceneName()===t)return;const s=this.getScene(t);if(!s)throw new Error(`Scene ${t} not exist`);const i=this.buildSceneWrapper(s(),t),o=this.sceneContainer.firstChild,a=n?o:i,c=n?i:o;n?a.animationOutStart():a.animationInStart(),n?c.animationOutStart():c.animationInStart(),await this.animation.beforeAppend(a,c,n??!1),this.sceneContainerAppendChild(t,i),await this.animation.afterAppend(a,c,n??!1),this.sceneContainer.firstChild&&this.sceneContainer.removeChild(this.sceneContainer.firstChild),n?a.animationOutEnd():a.animationInEnd(),n?c.animationOutEnd():c.animationInEnd()}finally{this.transitionInProgress=!1}}getScene(t){return this.currentScenes?this.currentScenes[t]??null:null}clearContainer(){for(;this.sceneContainer.firstChild;)this.sceneContainer.removeChild(this.sceneContainer.firstChild)}buildSceneWrapper(t,n){const r=document.createElement(Nr.tagName);return r.id=n,r.classList.add("scene-wrapper",n),tr(t,r),r}sceneContainerAppendChild(t,n){this.sceneContainer.appendChild(n);const r=this.config[t];this.applySceneConfig(r)}applySceneConfig(t){const n=r=>r?typeof r=="number"?`${r}px`:r:"";ae(this.sceneContainer,{minHeight:n(t.minHeight),maxHeight:n(t.maxHeight),minWidth:n(t.minWidth),maxWidth:n(t.maxWidth)})}},ws.styles=T_,ws);function M_(){const e=document.createElement("div");return e.id="scene-container",e.classList.add("scene-container"),e}var D_=class extends Di{render(e,t){return this.controller||(this.controller=new j_(t,n=>this.setValue(n)),e.addController(this.controller)),t()}},j_=class{constructor(e,t){this.valueFactory=e,this.update=t}hostUpdate(){const e=this.valueFactory();e!==this.lastValue&&(this.lastValue=e,this.update(e))}},Vl=In(D_),F_=Object.defineProperty,N_=Object.getOwnPropertyDescriptor,oe=(e,t,n,r)=>{for(var s=r>1?void 0:r?N_(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&F_(t,n,s),s},L_=F`

    .swap-form-container {
        display: flex;
        flex-direction: column;
        gap: 8px;
        height: fit-content;
        width: 100%;
        min-width: 300px;
    }

    .input-container {
        width: 100%;
        display: flex;
        flex-direction: column;
    }

    .input-header {
        height: 68px;
        padding: 16px 0 16px 8px;
        box-sizing: border-box;
        color: var(--color-content-content-primary);
        font-size: 20px;
        font-weight: 600;
        line-height: 28px;
        margin-top: -16px;
        letter-spacing: 0;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

`,mr="swap context",yu={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},z_=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){const e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}const t=this.now.value!==e.value,n=this.now.selection.some((r,s)=>r!==e.selection[s]);!t&&!n||(t&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,t){this.now=e,this.updateElementState(e,{inputType:t,data:null})}};function U_(e,...t){return t.every(({value:n})=>n===e.value)}function V_(e,...t){return t.every(({value:n,selection:r})=>n===e.value&&r[0]===e.selection[0]&&r[1]===e.selection[1])}function q_({value:e,selection:t},n,r){const[s,i]=t,o=typeof r=="function"?r({value:e,selection:t}):r;return{value:e,selection:o==="replace"?[s,s+n.length]:[s,i]}}function uo(e){return typeof e=="string"}function ql(e,t,n,r){let s="";for(let i=t.length;i<e.length;i++){const o=e[i],a=(r==null?void 0:r.value[i])===o;if(!uo(o)||o===n&&!a)return s;s+=o}return s}function Pp(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every((n,r)=>{const s=t[r];return uo(s)?n===s:n.match(s)}):t.test(e)}function H_(e,t,n){let r=null,s=null;const i=Array.from(e.value).reduce((a,c,u)=>{const l=ql(t,a,c,n),d=a+l,h=t[d.length];return uo(h)?d+h:c.match(h)?(r===null&&u>=e.selection[0]&&(r=d.length),s===null&&u>=e.selection[1]&&(s=d.length),d+c):d},""),o=ql(t,i,"",n);return{value:Pp(i+o,t)?i+o:i,selection:[r??i.length,s??i.length]}}function W_({value:e,selection:t},n){const[r,s]=t;let i=r,o=s;return{value:Array.from(e).reduce((c,u,l)=>{const d=c+u;return r===l&&(i=c.length),s===l&&(o=c.length),d.match(n)?d:c},""),selection:[i,o]}}function Xs(e,t,n=null){if(Pp(e.value,t))return e;const{value:r,selection:s}=Array.isArray(t)?H_(e,t,n):W_(e,t);return{selection:s,value:Array.isArray(t)?r.slice(0,t.length):r}}function Hl(e,t){if(!Array.isArray(t))return e;const[n,r]=e.selection,s=[],i=Array.from(e.value).reduce((o,a,c)=>{const u=t[c];return c===n&&s.push(o.length),c===r&&s.push(o.length),uo(u)&&u===a?o:o+a},"");return s.length<2&&s.push(...new Array(2-s.length).fill(i.length)),{value:i,selection:[s[0],s[1]]}}var Qa=class{constructor(e,t){this.initialElementState=e,this.maskOptions=t,this.value="",this.selection=[0,0];const{value:n,selection:r}=Xs(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=n,this.selection=r}addCharacters([e,t],n){const{value:r}=this,s=this.getMaskExpression({value:r.slice(0,e)+n+r.slice(t),selection:[e+n.length,e+n.length]}),i={value:r,selection:[e,t]},o=Hl(i,s),[a,c]=q_(o,n,this.maskOptions.overwriteMode).selection,u=o.value.slice(0,a)+n,l=u.length,d=Xs({value:u+o.value.slice(c),selection:[l,l]},s,i);if(r.slice(0,a)===Xs({value:u,selection:[l,l]},s,i).value||V_(this,d))throw new Error("Invalid mask value");this.value=d.value,this.selection=d.selection}deleteCharacters([e,t]){if(e===t||!t)return;const{value:n}=this,r=this.getMaskExpression({value:n.slice(0,e)+n.slice(t),selection:[e,e]}),s={value:n,selection:[e,t]},i=Hl(s,r),[o,a]=i.selection,c=i.value.slice(0,o)+i.value.slice(a),u=Xs({value:c,selection:[o,o]},r,s);this.value=u.value,this.selection=u.selection}getMaskExpression(e){const{mask:t}=this.maskOptions;return typeof t=="function"?t(e):t}},G_=class{constructor(e){this.element=e,this.listeners=[]}listen(e,t,n){const r=t;this.element.addEventListener(e,r,n),this.listeners.push(()=>this.element.removeEventListener(e,r))}destroy(){this.listeners.forEach(e=>e())}},Ue={CTRL:1,ALT:2,SHIFT:4,META:8},Lr={Y:89,Z:90};function zr(e,t,n){return e.ctrlKey===!!(t&Ue.CTRL)&&e.altKey===!!(t&Ue.ALT)&&e.shiftKey===!!(t&Ue.SHIFT)&&e.metaKey===!!(t&Ue.META)&&e.keyCode===n}function K_(e){return zr(e,Ue.CTRL,Lr.Y)||zr(e,Ue.CTRL|Ue.SHIFT,Lr.Z)||zr(e,Ue.META|Ue.SHIFT,Lr.Z)}function Z_(e){return zr(e,Ue.CTRL,Lr.Z)||zr(e,Ue.META,Lr.Z)}function gu(e,t){var n;const r=e.value;if(typeof t=="string")e.value=t;else{const[s,i]=t.selection;e.value=t.value,e.matches(":focus")&&((n=e.setSelectionRange)===null||n===void 0||n.call(e,s,i))}e.value!==r&&e.dispatchEvent(new Event("input",{bubbles:!0}))}function Y_({value:e,selection:t},n){const[r,s]=t;if(r!==s)return[r,s];const i=n?e.slice(r).indexOf(`
`)+1||e.length:e.slice(0,s).lastIndexOf(`
`)+1;return[n?r:i,n?i:s]}function J_({value:e,selection:t},n){const[r,s]=t;return r!==s?[r,s]:(n?[r,s+1]:[r-1,s]).map(o=>Math.min(Math.max(o,0),e.length))}var Q_=/\s+$/g,X_=/^\s+/g,Wl=/\s/;function e$({value:e,selection:t},n){const[r,s]=t;if(r!==s)return[r,s];if(n){const c=e.slice(r),[u]=c.match(X_)||[""],l=c.trimStart().search(Wl);return[r,l!==-1?r+u.length+l:e.length]}const i=e.slice(0,s),[o]=i.match(Q_)||[""],a=i.trimEnd().split("").reverse().findIndex(c=>c.match(Wl));return[a!==-1?s-o.length-a:0,s]}function Ci(e=[]){return(t,...n)=>e.reduce((r,s)=>Object.assign(Object.assign({},r),s(r,...n)),t)}function vu(e,t){const n=Object.assign(Object.assign({},yu),t),r=Ci(n.preprocessors),s=Ci(n.postprocessors),i=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:o}=r({elementState:i,data:""},"validation"),a=new Qa(o,n),{value:c,selection:u}=s(a,i);return typeof e=="string"?c:{value:c,selection:u}}var t$=class extends z_{constructor(e,t){super(),this.element=e,this.maskitoOptions=t,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new G_(this.element),this.options=Object.assign(Object.assign({},yu),this.maskitoOptions),this.preprocessor=Ci(this.options.preprocessors),this.postprocessor=Ci(this.options.postprocessors),this.teardowns=this.options.plugins.map(n=>n(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",n=>{if(K_(n))return n.preventDefault(),this.redo();if(Z_(n))return n.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",n=>{const r=n.inputType.includes("Forward");switch(this.updateHistory(this.elementState),n.inputType){case"historyUndo":return n.preventDefault(),this.undo();case"historyRedo":return n.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:n,isForward:r,selection:J_(this.elementState,r)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:n,isForward:r,selection:e$(this.elementState,r),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:n,isForward:r,selection:Y_(this.elementState,r),force:!0});case"insertCompositionText":return;case"insertLineBreak":return this.handleEnter(n);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(n,n.data||"")}}),this.eventListener.listen("input",({inputType:n})=>{n!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:e,selectionStart:t,selectionEnd:n}=this.element;return{value:e,selection:[t||0,n||0]}}get maxLength(){const{maxLength:e}=this.element;return e===-1?1/0:e}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e==null?void 0:e())}updateElementState({value:e,selection:t},n={inputType:"insertText",data:null}){const r=this.elementState.value;this.updateValue(e),this.updateSelectionRange(t),r!==e&&this.dispatchInputEvent(n)}updateSelectionRange([e,t]){var n;const{element:r}=this;r.matches(":focus")&&(r.selectionStart!==e||r.selectionEnd!==t)&&((n=r.setSelectionRange)===null||n===void 0||n.call(r,e,t))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(vu(this.elementState,this.options))}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:t,isForward:n,force:r=!1}){const s={value:this.elementState.value,selection:t},[i,o]=s.selection,{elementState:a}=this.preprocessor({elementState:s,data:""},n?"deleteForward":"deleteBackward"),c=new Qa(a,this.options),[u,l]=a.selection;c.deleteCharacters([u,l]);const d=this.postprocessor(c,s);if(!(s.value.slice(0,i)+s.value.slice(o)===d.value&&!r)){if(e.preventDefault(),U_(s,a,c,d))return this.updateSelectionRange(n?[l,l]:[u,u]);this.updateElementState(d,{inputType:e.inputType,data:null}),this.updateHistory(d)}}handleInsert(e,t){const n=this.elementState,{elementState:r,data:s=t}=this.preprocessor({data:t,elementState:n},"insert"),i=new Qa(r,this.options);try{i.addCharacters(r.selection,s)}catch{return e.preventDefault()}const[o,a]=r.selection,c=n.value.slice(0,o)+t+n.value.slice(a),u=this.postprocessor(i,n);if(u.value.length>this.maxLength)return e.preventDefault();c!==u.value&&(e.preventDefault(),this.updateElementState(u,{data:t,inputType:e.inputType}),this.updateHistory(u))}handleEnter(e){this.isTextArea&&this.handleInsert(e,`
`)}};function Ap(e,t,n){const r=Math.min(Number(n),Math.max(Number(t),Number(e)));return e instanceof Date?new Date(r):r}var n$=[".",",","",""],r$=[":","."],s$="",i$="",Ep="",Sp="",Ti="-",Xa="",Ip="",Cp=/[\\^$.*+?()[\]{}|]/g,o$=new RegExp(Cp.source);function Ee(e){return e&&o$.test(e)?e.replaceAll(Cp,"\\$&"):e}function at(e,{prefix:t,postfix:n}){var r,s;const i=new RegExp(`^${Ee(t)}`),o=new RegExp(`${Ee(n)}$`),[a=""]=(r=e.match(i))!==null&&r!==void 0?r:[],[c=""]=(s=e.match(o))!==null&&s!==void 0?s:[],u=e.replace(i,"").replace(o,"");return{extractedPrefix:a,extractedPostfix:c,cleanValue:u}}function a$(e,t){let n="";for(let r=0;r<e.length;r++){if(e[r]!==t[r])return n;n+=e[r]}return n}function Ls(e){return e}function Gl(e){return e.replaceAll(/[-]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function c$(){return({elementState:e,data:t})=>{const{value:n,selection:r}=e;return{elementState:{selection:r,value:Gl(n)},data:Gl(t)}}}function u$(e){const t=new RegExp(`${Ee(e)}$`);return e?({value:n,selection:r},s)=>{if(!n&&!s.value.endsWith(e))return{value:n,selection:r};if(!n.endsWith(e)&&!s.value.endsWith(e))return{selection:r,value:n+e};const i=s.value.replace(t,""),o=s.selection[1]>=i.length,a=a$(i,n);return{selection:r,value:Array.from(e).reverse().reduce((c,u,l)=>{const d=c.length-1-l,h=a[d]===u&&o;return c[d]!==u||h?c.slice(0,d+1)+u+c.slice(d+1):c},n)}}:Ls}function l$(e){return e?({value:t,selection:n},r)=>{if(t.startsWith(e)||!t&&!r.value.startsWith(e))return{value:t,selection:n};const[s,i]=n,o=Array.from(e).reduce((c,u,l)=>c[l]===u?c:c.slice(0,l)+u+c.slice(l),t),a=o.length-t.length;return{selection:[s+a,i+a],value:o}}:Ls}function wu(e,t,n){return(r,s)=>{const i=()=>t(r,s);return r.addEventListener(e,i,n),()=>r.removeEventListener(e,i,n)}}new RegExp(`[${r$.map(Ee).join("")}]$`);function d$({prefix:e,postfix:t}){return({elementState:n,data:r})=>{const{cleanValue:s}=at(r,{prefix:e,postfix:t});return{elementState:n,data:s}}}function Tp({decimalSeparator:e,isNegativeAllowed:t,precision:n,thousandSeparator:r,prefix:s,postfix:i,decimalPseudoSeparators:o=[],pseudoMinuses:a=[],minusSign:c}){const u=Kl(s),l="\\d",d=t?`[${c}${a.map(p=>`\\${p}`).join("")}]?`:"",h=r?`[${l}${Ee(r).replaceAll(/\s/g,"\\s")}]*`:`[${l}]*`,f=n>0?`([${Ee(e)}${o.map(Ee).join("")}]${l}{0,${Number.isFinite(n)?n:""}})?`:"",m=Kl(i);return new RegExp(`^${u}${d}${h}${f}${m}$`)}function Kl(e){return e?`${e.split("").map(t=>`${Ee(t)}?`).join("")}`:""}function xu(e,t="."){const n=!!e.match(new RegExp(`^\\D*[${Xa}\\${Ti}${Ep}${Sp}${Ip}]`)),r=Ee(t),s=e.replaceAll(new RegExp(`${r}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${r}]`,"g"),"").replace(t,".");return s?Number((n?Ti:"")+s):NaN}function h$(e){const t=String(e),[n,r]=t.split("e-");let s=t;if(r){const[,i]=n.split("."),o=Number(r)+((i==null?void 0:i.length)||0);s=e.toFixed(o)}return s}function f$({decimalSeparator:e,thousandSeparator:t,decimalPseudoSeparators:n=n$}){return n.filter(r=>r!==t&&r!==e)}function p$({decimalSeparator:e,precision:t,decimalZeroPadding:n,prefix:r,postfix:s}){return t<=0||!n?Ls:({value:i,selection:o})=>{const{cleanValue:a,extractedPrefix:c,extractedPostfix:u}=at(i,{prefix:r,postfix:s});if(Number.isNaN(xu(a,e)))return{value:i,selection:o};const[l,d=""]=a.split(e);return{value:c+l+e+d.padEnd(t,"0")+u,selection:o}}}function m$({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:r,postfix:s,minusSign:i}){let o=!0;const a=Tp({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0,minusSign:i});return({elementState:c,data:u})=>{if(!o)return{elementState:c,data:u};o=!1;const{value:l,selection:d}=c,[h,f]=d,{extractedPrefix:m,cleanValue:p,extractedPostfix:y}=at(l,{prefix:r,postfix:s}),b=vu({selection:[Math.max(h-m.length,0),Ap(f-m.length,0,p.length)],value:p},{mask:a}),[g,v]=b.selection;return{elementState:{selection:[g+m.length,v+m.length],value:m+b.value+y},data:u}}}function b$({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r}){const s=o=>{const a=Ee(t);return o.replace(new RegExp(`^(\\D+)?[0${a}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${a}]+(?=[1-9])`),"$1")},i=(o,a)=>{const c=o.slice(0,a),u=o.slice(a).startsWith("0");return c.length-s(c).length+(u?1:0)};return({value:o,selection:a})=>{const[c,u]=a,{cleanValue:l,extractedPrefix:d,extractedPostfix:h}=at(o,{prefix:n,postfix:r}),f=l.includes(e),[m,p=""]=l.split(e),y=s(m);if(m===y)return{value:o,selection:a};const b=c-i(o,c),g=u-i(o,u);return{value:d+y+(f?e:"")+p+h,selection:[Math.max(b,0),Math.max(g,0)]}}}function y$({min:e,max:t,decimalSeparator:n,minusSign:r}){return({value:s,selection:i})=>{const o=xu(s,n),a=o>0?Math.min(o,t):Math.max(o,e);if(!Number.isNaN(o)&&a!==o){const c=`${a}`.replace(".",n).replace(Ti,r);return{value:c,selection:[c.length,c.length]}}return{value:s,selection:i}}}function g$({decimalSeparator:e,thousandSeparator:t,decimalZeroPadding:n}){return({elementState:r,data:s},i)=>{const{value:o,selection:a}=r,[c,u]=a,l=o.slice(c,u),d=n?[e,t]:[t],h=n&&c>o.indexOf(e)&&!!l.match(/^0+$/gi);return i!=="deleteBackward"&&i!=="deleteForward"||!d.includes(l)&&!h?{elementState:r,data:s}:{elementState:{value:o,selection:i==="deleteForward"?[u,u]:[c,c]},data:s}}}function v$({decimalSeparator:e,precision:t,prefix:n,postfix:r}){const s=new RegExp(`^\\D*${Ee(e)}`);return({elementState:i,data:o})=>{const{value:a,selection:c}=i,{cleanValue:u}=at(a,{prefix:n,postfix:r}),[l]=c;if(t<=0||u.includes(e)||!o.match(s))return{elementState:i,data:o};const d=u.slice(0,l).match(/\d+/);return{elementState:i,data:d?o:`0${o}`}}}function Zl({validCharacter:e,pseudoCharacters:t,prefix:n,postfix:r}){const s=new RegExp(`[${t.join("")}]`,"gi");return({elementState:i,data:o})=>{const{value:a,selection:c}=i,{cleanValue:u,extractedPostfix:l,extractedPrefix:d}=at(a,{prefix:n,postfix:r});return{elementState:{selection:c,value:d+u.replace(s,e)+l},data:o.replace(s,e)}}}function w$({decimalSeparator:e,prefix:t,postfix:n}){return({elementState:r,data:s})=>{const{value:i,selection:o}=r,[a,c]=o,{cleanValue:u}=at(i,{prefix:t,postfix:n});return{elementState:r,data:!u.includes(e)||i.slice(a,c+1).includes(e)?s:s.replaceAll(new RegExp(Ee(e),"gi"),"")}}}function x$({thousandSeparator:e,decimalSeparator:t,prefix:n,postfix:r,minusSign:s}){if(!e)return Ls;const i=(...o)=>o.every(a=>/\s/.test(a));return({value:o,selection:a})=>{const{cleanValue:c,extractedPostfix:u,extractedPrefix:l}=at(o,{prefix:n,postfix:r}),[d,h=""]=c.replace(s,"").split(t),[f,m]=a;let[p,y]=a;const b=Array.from(d).reduceRight((g,v,w)=>{const $=!(!w&&v===e)&&g.length&&(g.length+1)%4===0;return $&&(v===e||i(v,e))?e+g:v===e&&!$?(w&&w<=f&&p--,w&&w<=m&&y--,g):$?(w<=f&&p++,w<=m&&y++,v+e+g):v+g},"");return{value:l+(c.includes(s)?s:"")+b+(c.includes(t)?t:"")+h+u,selection:[p,y]}}}function _$({precision:e,decimalSeparator:t,prefix:n,postfix:r}){if(e>0)return Ls;const s=new RegExp(`${Ee(t)}.*$`,"g");return({elementState:i,data:o})=>{const{value:a,selection:c}=i,{cleanValue:u,extractedPrefix:l,extractedPostfix:d}=at(a,{prefix:n,postfix:r}),[h,f]=c,m=l+u.replace(s,"")+d;return{elementState:{selection:[Math.min(h,m.length),Math.min(f,m.length)],value:m},data:o.replace(s,"")}}}var Yl=[0,0];function $$({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r}){const s=b$({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r});return wu("blur",i=>{const o=s({value:i.value,selection:Yl},{value:"",selection:Yl}).value;gu(i,o)},{capture:!0})}function k$({min:e,max:t,decimalSeparator:n}){return wu("blur",(r,s)=>{const i=xu(r.value,n),o=Ap(i,e,t);!Number.isNaN(i)&&i!==o&&gu(r,vu(h$(o),s))},{capture:!0})}function P$({decimalSeparator:e,prefix:t,postfix:n}){return wu("blur",r=>{const{cleanValue:s,extractedPostfix:i,extractedPrefix:o}=at(r.value,{prefix:t,postfix:n}),a=o+s.replace(new RegExp(`^(\\D+)?${Ee(e)}`),`$10${e}`)+i;gu(r,a)},{capture:!0})}function A$({max:e=Number.MAX_SAFE_INTEGER,min:t=Number.MIN_SAFE_INTEGER,precision:n=0,thousandSeparator:r=s$,decimalSeparator:s=".",decimalPseudoSeparators:i,decimalZeroPadding:o=!1,prefix:a="",postfix:c="",minusSign:u=Xa}={}){const l=[Ti,Ep,Sp,Ip,Xa].filter(f=>f!==r&&f!==s&&f!==u),d=f$({decimalSeparator:s,thousandSeparator:r,decimalPseudoSeparators:i}),h=a.endsWith(s)&&n>0?`${a}${i$}`:a;return Object.assign(Object.assign({},yu),{mask:Tp({decimalSeparator:s,precision:n,thousandSeparator:r,prefix:h,postfix:c,isNegativeAllowed:t<0,minusSign:u}),preprocessors:[c$(),m$({decimalSeparator:s,decimalPseudoSeparators:d,pseudoMinuses:l,prefix:h,postfix:c,minusSign:u}),d$({prefix:h,postfix:c}),Zl({validCharacter:u,pseudoCharacters:l,prefix:h,postfix:c}),Zl({validCharacter:s,pseudoCharacters:d,prefix:h,postfix:c}),v$({decimalSeparator:s,precision:n,prefix:h,postfix:c}),g$({decimalSeparator:s,decimalZeroPadding:o,thousandSeparator:r}),_$({precision:n,decimalSeparator:s,prefix:h,postfix:c}),w$({decimalSeparator:s,prefix:h,postfix:c})],postprocessors:[y$({decimalSeparator:s,min:t,max:e,minusSign:u}),l$(h),u$(c),x$({decimalSeparator:s,thousandSeparator:r,prefix:h,postfix:c,minusSign:u}),p$({decimalSeparator:s,decimalZeroPadding:o,precision:n,prefix:h,postfix:c})],plugins:[$$({decimalSeparator:s,thousandSeparator:r,prefix:h,postfix:c}),P$({decimalSeparator:s,prefix:h,postfix:c}),k$({min:t,max:e,decimalSeparator:s})],overwriteMode:o?({value:f,selection:[m]})=>m<=f.indexOf(s)?"shift":"replace":"shift"})}var E$=F`

    :host {
        font-size: 16px;
        font-weight: 400;
        line-height: 24px;
        letter-spacing: 0;
        text-align: right;
        color: var(--color-content-content-secondary);
    }

    ${Tn(F`
        :host {
            font-size: 14px;
        }
    `)}
`,yn=class extends V{constructor(){super(...arguments),this.balance$=U(()=>{if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return xe([this.context.connectedWalletAddress$,this.context.getTokenByType(this.tokenType),this.context.chainId$])}).pipe(_t(([e])=>!!e),se(([e,t,n])=>!e||!t||!n?[E`<br>`]:U(()=>fp(n,e,t.address)).pipe(N(r=>ln(Pt(r,t.decimals),6)),N(r=>this.getBalanceView(r)),Fd(()=>[E`<br>`]))))}render(){return E`${te(this.balance$,E`<br>`)}`}getBalanceView(e){return E`
      <span>Balance: ${e}</span>
    `}};yn.tagName="inch-swap-balance";yn.styles=E$;oe([z({type:String,attribute:!0})],yn.prototype,"tokenType",2);oe([Dn({context:mr})],yn.prototype,"context",2);yn=oe([Y(yn.tagName)],yn);var S$=F`

    .input-container {
        height: 128px;
        border-radius: 16px;
        background-color: var(--color-background-bg-secondary);
        transition: box-shadow .2s;
        padding: 16px;
        box-sizing: border-box;
        display: grid;
        grid-template-columns: 1fr 2fr;
        justify-content: space-between;
    }

    .input-container.disabled {
        background-color: var(--color-background-bg-primary);
        border: 1px solid var(--color-border-border-tertiary);
    }
    
    .flex-container {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 100%;
    }
    
    .input-title {
        font-size: 16px;
        font-weight: 500;
        line-height: 24px;
        letter-spacing: 0;
        text-align: left;
        color: var(--color-content-content-secondary);
    }

    .symbol-container {
        border: none;
        background-color: transparent;
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        color: var(--color-content-content-primary);
        border-radius: 16px;
        width: fit-content;
        padding: 8px;
        margin-left: -8px;
        transition: background-color .2s;
        outline: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
    }
    
    .symbol {
        font-size: 24px;
        font-weight: 600;
        line-height: 32px;
        letter-spacing: 0;
        text-align: left;
    }
    
    .token-name {
        font-size: 16px;
        font-weight: 400;
        line-height: 24px;
        letter-spacing: 0;
        text-align: left;
        color: var(--color-content-content-secondary);
    }
    
    .amount-input {
        height: 40px;
        color: var(--color-content-content-primary);
        box-sizing: border-box;
        font-size: 24px;
        font-weight: 600;
        line-height: 32px;
        letter-spacing: 0;
        text-align: right;
        border: none;
        background-color: transparent;
        outline: none;
        user-select: none;
        width: 100%;
    }

    .amount-input[type="number"]::-webkit-inner-spin-button,
    .amount-input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }
    .amount-input[type="number"] {
        -moz-appearance: textfield;
    }
    .amount-input:disabled {
        opacity: 1;
        color: var(--color-content-content-primary);
    }
    
    @media (hover: hover) {
        .input-container:not(.disabled):hover {
            box-shadow: 0 0 0 1px var(--color-background-bg-positive-hover);
        }
        .symbol-container:hover {
            background-color: var(--color-background-bg-positive-hover);
        }
    }

    ${Tn(F`
        .symbol, .amount-input {
            font-size: 20px;
        }
        .input-title, .token-name {
            font-size: 14px;
        }
        .input-container {
            height: 116px;
            //padding: 16px 8px;
        }
        .symbol-container {
            padding: 4px 8px;
        }
    `)}
    
    .symbol-container:active {
        transform: scale(.98);
        background-color: var(--color-background-bg-positive-hover);
    }
    
    .select-token-text {
        word-wrap: break-word;
        white-space: nowrap
    }

`,Lt=class extends V{constructor(){super(...arguments),this.disabled=!1,this.token$=U(()=>this.getTokenEventEmitter()),this.chainId$=U(()=>this.getChainEventEmitter()),this.amount$=U(()=>this.getTokenAmountStream()),this.input=document.createElement("input"),this.maskedInput=this.buildMask(6),this.tokenView$=this.token$.pipe(N(e=>e?this.tokenView(e):this.selectTokenView()))}connectedCallback(){super.connectedCallback(),this.input.classList.add("amount-input"),this.input.inputMode="decimal",this.input.autocomplete="off",this.input.placeholder=this.tokenType==="source"?"0":"";const e=this.token$.pipe(le(r=>{r&&(this.maskedInput.destroy(),this.maskedInput=this.buildMask(r.decimals))})),t=Ne(this.input,"input").pipe(le(r=>this.onInput(r))),n=xe([this.amount$,this.token$]).pipe(_t(([,r])=>!!r),N(([r,s])=>Pt(r,s.decimals)),_t(r=>r!==this.input.value),le(r=>this.input.value=ln(r,6)));$s(this,[e,t,n],{requestUpdate:!1})}disconnectedCallback(){super.disconnectedCallback(),this.maskedInput.destroy()}render(){const e={disabled:this.disabled};return this.input.disabled=this.tokenType==="destination",E`
      <div class="input-container ${Ft(e)}">
        <div class="flex-container">
          <div class="input-title">${this.getInputTitle()}</div>
          ${te(this.tokenView$)}
        </div>
        
        <div class="flex-container">
          <inch-swap-balance tokenType="${vc(this.tokenType)}"></inch-swap-balance>
          ${this.input}
          <br>
        </div>
      </div>
    `}selectTokenView(){return E`
      <inch-button disabledSlotPointerEvent type="secondary" size="l" @click="${e=>Mt(this,"openTokenSelector",this.tokenType,e)}">
        <span class="select-token-text">Select token</span>
        <inch-icon icon="chevronDown16"></inch-icon>
      </inch-button>
      <br>
    `}tokenView(e){const{name:t,symbol:n,address:r}=e;return E`
      <button @click="${s=>Mt(this,"openTokenSelector",this.tokenType,s)}"
              class="symbol-container">
        <inch-token-icon symbol="${n}" address="${r}"
                         chainId="${te(this.chainId$)}"></inch-token-icon>
        <span class="symbol">${n}</span>
        <inch-icon icon="chevronDown16"></inch-icon>
      </button>
      <div class="token-name">${t}</div>
    `}getTokenEventEmitter(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.getTokenByType(this.tokenType)}getTokenAmountStream(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.getTokenAmountByType(this.tokenType)}getChainEventEmitter(){if(!this.context)throw new Error("");return this.context.chainId$}getInputTitle(){if(this.tokenType==="source")return"You pay";if(this.tokenType==="destination")return"You receive";throw new Error(`invalid token type ${this.tokenType} in swap input`)}async onInput(e){var i;if(!this.tokenType)return;const t=e.target,n=(t==null?void 0:t.value)??"",r=await ft(this.token$);if(!r)return;const s=kf(n.replaceAll("",""),r.decimals);(i=this.context)==null||i.setTokenAmountByType(this.tokenType,s)}buildMask(e){return new t$(this.input,A$({precision:e,max:9*10**15,min:0}))}};Lt.tagName="inch-swap-form-input";Lt.styles=S$;oe([z({type:Boolean,attribute:!0,reflect:!0})],Lt.prototype,"disabled",2);oe([z({type:String,attribute:!0,reflect:!0})],Lt.prototype,"tokenType",2);oe([Dn({context:mr,subscribe:!0})],Lt.prototype,"context",2);Lt=oe([Y(Lt.tagName)],Lt);var I$=F`

    :host {
        height: 4px;
        position: relative;
        outline: none;
        user-select: none;
        display: flex;
        align-items: center;
        justify-content: center;
        -webkit-tap-highlight-color: transparent;
    }
    
    .switcher {
        position: absolute;
        border-radius: 50%;
        border: none;
        background-color: var(--color-background-bg-primary);
        color: var(--color-content-content-primary);
        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.12), 0 1px 4px 0 rgba(0, 0, 0, 0.12);
        width: 32px;
        height: 32px;
        display: flex;
        justify-content: center;
        align-items: center;
        top: -13px;
        cursor: pointer;
        transition: color .2s;
    }
    
    .switcher:disabled {
        cursor: not-allowed;
        pointer-events: none;
        color: var(--color-content-content-disabled);
        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.12), 0 1px 4px 0 rgba(0, 0, 0, 0.12);
    }
    
    @media (hover: hover) {
        .switcher:not(:disabled):hover {
            color: var(--color-content-content-secondary);
        }
    }

    .switcher-icon {
        transition: transform .2s;
    }
    
    .switcher-icon-up {
        transform: rotate(180deg);
    }
    
    .switcher-icon-down {
        transform: rotate(360deg);
    }

    .switcher-icon-off-transition {
        transition: none;
    }
`,Xn=class extends V{constructor(){super(...arguments),this.isDisabled$=U(()=>{if(!this.context)throw new Error("");return xe([this.context.getTokenByType("source"),this.context.getTokenByType("destination")])}).pipe(N(([e,t])=>!e||!t))}render(){return E`
      <button
        @mouseover="${this.up}"
        @mouseleave="${this.down}"
        @click="${this.onClick}"
        ?disabled="${te(this.isDisabled$,!1)}"
        class="switcher"
      >
        <inch-icon class="switcher-icon" icon="arrowDown24"></inch-icon>
      </button>
    `}up(){const e=this.renderRoot.querySelector("inch-icon");e&&(e.classList.contains("switcher-icon-up")||(e.classList.remove("switcher-icon-off-transition","switcher-icon-down"),e.classList.add("switcher-icon-up")))}async down(){const e=this.renderRoot.querySelector("inch-icon");e&&e.classList.contains("switcher-icon-up")&&(e.classList.add("switcher-icon-down"),await Ul(300),e.classList.add("switcher-icon-off-transition"),e.classList.remove("switcher-icon-up","switcher-icon-down"),await Ul(50),e.classList.remove("switcher-icon-off-transition"))}onClick(){var t;const e=this.renderRoot.querySelector("inch-icon");e&&e.classList.contains("switcher-icon-up")&&((t=this.context)==null||t.switchPair())}};Xn.tagName="inch-token-pair-switch";Xn.styles=I$;oe([Dn({context:mr,subscribe:!0})],Xn.prototype,"context",2);Xn=oe([Y(Xn.tagName)],Xn);var er=class extends V{constructor(){super(...arguments),this.mobileMedia=yc(this),this.connectedWalletAddress$=U(()=>this.getConnectedWalletAddress()),this.sourceToken$=U(()=>this.getSourceToken()),this.destinationToken$=U(()=>this.getDestinationToken()),this.chainId$=U(()=>this.getChainId()),this.sourceTokenAmount$=U(()=>this.getSourceTokenAmount()),this.exceedingMaximumAmount$=xe([this.connectedWalletAddress$,this.sourceToken$,this.sourceTokenAmount$.pipe(Vt(0n))]).pipe(se(([e,t,n])=>!e||!t||n===0n?tt(!1):ze.getTokenBalance(t.chainId,t.address,e).then(r=>n>BigInt(r.amount)))),this.buttonType$=this.connectedWalletAddress$.pipe(N(e=>e?"primary":"secondary")),this.buttonText$=this.connectedWalletAddress$.pipe(N(e=>e?"Swap":"Connect wallet")),this.view$=xe([this.connectedWalletAddress$,this.sourceToken$,this.destinationToken$,this.exceedingMaximumAmount$,this.chainId$,kb().pipe(Vt(null))]).pipe(N(([e,t,n,r])=>this.getSwapButtonView(e,t,n,r)))}render(){return E`${te(this.view$)}`}getSwapButtonView(e,t,n,r){const s=this.mobileMedia.matches?"xl":"xxl";return e?t?n?r?E`
        <inch-button class="smart-hover" @click="${()=>this.onSetMax()}" type="secondary" size="${s}" fullSize>
          <span class="off-hover">Insufficient ${t.symbol} balance</span>
          <span class="on-hover">Set max ${t.symbol}</span>
        </inch-button>
      `:E`
      <inch-button @click="${()=>this.onSwap()}" type="primary" size="${s}" fullSize>
        Swap
      </inch-button>
    `:E`
        <inch-button @click="${i=>Mt(this,"openTokenSelector","destination",i)}" type="secondary" size="${s}" fullSize>
          Select destination token
        </inch-button>
      `:E`
        <inch-button @click="${i=>Mt(this,"openTokenSelector","source",i)}" type="secondary" size="${s}" fullSize>
          Select source token
        </inch-button>
      `:E`
        <inch-button @click="${()=>Mt(this,"connectWallet",null)}" type="secondary" size="${s}" fullSize>
          Connect wallet
        </inch-button>
      `}async onSetMax(){var r;const e=await ft(this.sourceToken$),t=await ft(this.connectedWalletAddress$);if(!e||!t)return;const n=await ze.getTokenBalance(e.chainId,e.address,t);(r=this.context)==null||r.setTokenAmountByType("source",BigInt(n.amount),!0)}async onClick(){if(!await ft(this.connectedWalletAddress$)){Mt(this,"connectWallet",null);return}}onSwap(){}getConnectedWalletAddress(){if(!this.context)throw new Error("");return this.context.connectedWalletAddress$}getChainId(){if(!this.context)throw new Error("");return this.context.chainId$}getSourceToken(){if(!this.context)throw new Error("");return this.context.getTokenByType("source")}getDestinationToken(){if(!this.context)throw new Error("");return this.context.getTokenByType("destination")}getSourceTokenAmount(){if(!this.context)throw new Error("");return this.context.getTokenRawAmountByType("source")}};er.tagName="inch-swap-button";er.styles=F`
      .on-hover {
          display: none;
      }
      
      @media (hover: hover) {
          .smart-hover:hover .on-hover {
              display: block;
          }
          .smart-hover:hover .off-hover {
              display: none;
          }
      }

  `;oe([Dn({context:mr,subscribe:!0})],er.prototype,"context",2);er=oe([Y(er.tagName)],er);var C$=F`
`,T$=F`
  
`,Ur=class extends V{render(){return E`
      
    `}};Ur.tagName="inch-fusion-swap-info-slippage";Ur.styles=T$;Ur=oe([Y(Ur.tagName)],Ur);var O$=F`
    
    :host {
        --font-size: 16px
    }
    
    .container {
        height: 56px;
        padding: 16px;
        box-sizing: border-box;
        transition: height .2s, background-color .2s;
        display: grid;
        grid-template-columns: 1fr auto;
        align-items: flex-start;
        justify-content: space-between;
        border-radius: 16px;
        color: var(--color-content-content-primary);
    }

    .open {
        height: 176px;
        grid-template-rows: min-content 1fr;
        grid-row-gap: 16px;
    }

    .icon {
        transition: transform .2s;
        will-change: transform;
    }

    .open-icon {
        transform: rotate(180deg);
    }

    .fusion-info {
        display: flex;
        align-items: center;
        gap: 4px;
    }

    .fusion-icon {
        display: flex;
        align-items: center;
        gap: 4px;
        color: var(--primary);
        text-align: right;
        font-size: var(--font-size);
        font-style: normal;
        font-weight: 400;
        line-height: 24px;
        transition: opacity .2s, transform .2s;
        will-change: opacity;
    }

    .fusion-icon-open {
        opacity: 0;
        transform: translate3d(20px, 0, 0);
    }

    .rate-container {
        width: 100%;
        display: flex;
        align-content: flex-start;
    }

    .rate-view {
        font-size: var(--font-size);
        font-style: normal;
        font-weight: 400;
        line-height: 24px;
    }

    .rate-loader {
        background-color: var(--color-background-bg-secondary);
        height: 24px;
        width: 50%;
        border-radius: 8px;
        will-change: filter;
        transition: background-color .2s;
        animation: stub-loader-animation 3s ease-in-out infinite;
    }

    @keyframes stub-loader-animation {
        0%, 100% {
            filter: opacity(1);
        }
        50% {
            filter: opacity(0.5);
        }
    }

    .dst-token-rate-usd-price {
        color: var(--color-content-content-secondary);
        font-size: var(--font-size);
        font-style: normal;
        font-weight: 400;
        line-height: 24px;
        margin-left: 4px;
    }
    
    .content-container {
        display: flex;
        grid-row-start: 2;
        grid-row-end: 3;
        height: 100%;
        grid-column-start: 1;
        grid-column-end: 3;
        flex-direction: column;
        opacity: 0;
        transform: translate3d(0, -15px, 0);
        transition: transform .2s, opacity .2s;
    }
    
    .open .content-container {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
    
    .content-row {
        height: 40px;
        padding: 8px 0;
        box-sizing: border-box;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .row-slippage {
        color: var(--primary);
        text-align: right;
        font-size: var(--font-size);
        font-style: normal;
        font-weight: 500;
        line-height: 24px;
    }
    
    .row-title {
        color: var(--color-content-content-secondary);
        font-size: var(--font-size);
        font-style: normal;
        font-weight: 400;
        line-height: 24px;
    }

    @media (hover: hover) {
        .container:not(.open):hover {
            background-color: var(--color-background-bg-secondary);
        }

        .container:not(.open):hover .rate-loader {
            background-color: var(--color-background-bg-positive-hover);
        }
    }
    
    ${Tn(F`
        :host {
            --font-size: 13px
        }
    `)}
`,gn=class extends V{constructor(){super(...arguments),this.isOpen=!1,this.rate$=U(()=>this.getContext().rate$),this.chainId$=U(()=>this.getContext().chainId$),this.sourceToken$=U(()=>this.getContext().getTokenByType("source")),this.destinationToken$=U(()=>this.getContext().getTokenByType("destination")),this.rateView$=xe([this.chainId$,this.rate$,this.sourceToken$,this.destinationToken$]).pipe(Kr(0),Rt(([e,t,n,r],[s,i,o,a])=>e===s&&t===i&&(!(n&&o)||Dr(n,o))&&(!(r&&a)||Dr(r,a))&&n===o&&r===a),se(async([e,t,n,r])=>{if(!e||!n||!r||t===0n)return this.getLoadRateView();const s=Il(Pt(t,n.decimals),2),i=await ze.getTokenUSDPrice(e,r.address),o=kf(i,r.decimals),a=oo.mul(t,o,n.decimals,r.decimals),c=Il(Pt(a,r.decimals),2);return E`
        <span class="rate-view">1 ${n.symbol} = ${s} ${r.symbol}  <span
          class="dst-token-rate-usd-price">~$${c}</span></span>
      `}),Vt(this.getLoadRateView()),me({bufferSize:1,refCount:!0}))}render(){const e={container:!0,open:this.isOpen},t={icon:!0,"open-icon":this.isOpen},n={"fusion-icon":!0,"fusion-icon-open":this.isOpen};return E`
      <div class="${Ft(e)}" @click="${()=>this.isOpen=!0}">
        <div class="rate-container">
          ${te(this.rateView$)}
        </div>
        <div class="fusion-info">
          <div class="${Ft(n)}">
            <inch-icon icon="fusion16"></inch-icon>
            <span>Free</span>
          </div>
          <inch-button @click="${r=>this.onChangeOpen(r)}" size="l" type="tertiary">
            <inch-icon class="${Ft(t)}" icon="chevronDown16"></inch-icon>
          </inch-button>
        </div>
        <div class="content-container">
          <div class="content-row">
            <span class="row-title">Slippage tolerance</span>
            <div class="row-content row-slippage">
              0.4%  Auto
            </div>
          </div>
          <div class="content-row">
            <span class="row-title">Minimum receive</span>
            <div class="row-content"></div>
          </div>
          <div class="content-row">
            <span class="row-title">Network Fee</span>
            <div class="row-content"></div>
          </div>
        </div>
      </div>
    `}getLoadRateView(){return E`
      <div class="rate-loader"></div>
    `}onChangeOpen(e){e.preventDefault(),e.stopPropagation(),this.isOpen=!this.isOpen}getContext(){if(!this.context)throw new Error("");return this.context}};gn.tagName="inch-fusion-swap-info-main";gn.styles=O$;oe([Ye()],gn.prototype,"isOpen",2);oe([Dn({context:mr,subscribe:!0})],gn.prototype,"context",2);gn=oe([Y(gn.tagName)],gn);var Vr=class extends V{constructor(){super(...arguments),this.scene=new co("main",{main:{},slippage:{}})}render(){return this.scene.render({main:()=>E`
        <inch-fusion-swap-info-main
          
        ></inch-fusion-swap-info-main>
      `,slippage:()=>E`
        <inch-fusion-swap-info-slippage></inch-fusion-swap-info-slippage>
      `})}};Vr.tagName="inch-fusion-swap-info";Vr.styles=[C$,co.styles()];Vr=oe([Y(Vr.tagName)],Vr);function Op(e,t){return t?e.symbol!==t.symbol||e.chainId!==t.chainId||!Gt(e.address,t.address)||e.decimals!==t.decimals:!0}var zt=class extends V{constructor(){super(...arguments),this.srcToken=null,this.dstToken=null,this.context=new fu(this,{context:mr}),this.fusionView$=U(()=>this.getWalletController().data.activeAddress$).pipe(Rt(),N(e=>e?E`<inch-fusion-swap-info></inch-fusion-swap-info>`:E``))}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.context.value)==null||e.destroy()}updated(e){const t=this.getContext();(e.has("srcToken")||e.has("dstToken"))&&(t.setPair({srcToken:this.srcToken??void 0,dstToken:this.dstToken??void 0}),this.requestUpdate())}render(){return this.context.value||this.getContext(),E`
      <div class="swap-form-container">
        <inch-card-header headerText="Swap tokens" headerTextPosition="left">
          <inch-button slot="right-container" type="tertiary-gray" size="m">
            <inch-icon icon="authRefresh36"></inch-icon>
          </inch-button>
        </inch-card-header>
        
        <div class="input-container">
          <inch-swap-form-input tokenType="source"></inch-swap-form-input>
          <inch-token-pair-switch></inch-token-pair-switch>
          <inch-swap-form-input disabled tokenType="destination"></inch-swap-form-input>
        </div>
        
        ${te(this.fusionView$)}

        <inch-swap-button></inch-swap-button>
      </div>
    `}getWalletController(){if(!this.walletController)throw new Error("");return this.walletController}getContext(){if(!this.context.value){const e=new B1(this.getWalletController());e.setPair({srcToken:this.srcToken??void 0,dstToken:this.dstToken??void 0}),this.context.setValue(e)}return this.context.value}};zt.tagName="inch-swap-form";zt.styles=L_;oe([z({type:Object,hasChanged:Op})],zt.prototype,"srcToken",2);oe([z({type:Object,hasChanged:Op})],zt.prototype,"dstToken",2);oe([z({type:Object,attribute:!1})],zt.prototype,"walletController",2);zt=oe([Y(zt.tagName)],zt);const B$=F`
    
    :host {
        display: flex;
        padding-top: 48px;
        justify-content: center;
    }
    
    .shadow-swap-form-card {
        box-shadow: 0 12px 24px var(--primary-50);
    }

    ${Tn(F`
        :host {
            padding-top: 24px;
        }
    `)}
`;var R$=Object.defineProperty,M$=Object.getOwnPropertyDescriptor,_u=(e,t,n,r)=>{for(var s=r>1?void 0:r?M$(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&R$(t,n,s),s};let vn=class extends V{constructor(){super(),this.mobileMedia=yc(this),this.targetSelectToken=null,this.srcToken=null,this.dstToken=null,this.chainId$=Fe.data.chainId$,this.activeAddress$=Fe.data.activeAddress$,this.swapFormRef=g_(),this.desktopScene=new co("swapForm",{swapForm:{minWidth:556,minHeight:376.5,lazyRender:!0},selectToken:{minWidth:556,minHeight:376.5,maxHeight:680}}),this.selectTokenMobileOverlay=new kp("app-root"),this.connectWalletOverlay=new pu("app-root","center"),this.initTokens().catch()}async connectedCallback(){super.connectedCallback(),$s(this,[this.chainId$.pipe(_t(Boolean),le(e=>this.syncTokens(e)))],{requestUpdate:!1}),await C(()=>import("./index.esm-D6Vc5VOs.js"),__vite__mapDeps([]))}render(){return this.mobileMedia.matches?this.getMobileSwapForm():this.getDesktopSwapForm()}async syncTokens(e){var r,s;const t=(r=this.srcToken)==null?void 0:r.symbol,n=(s=this.dstToken)==null?void 0:s.symbol;if(t){const i=await ze.getTokenBySymbol(e,t);i.length?this.srcToken=i[0]:this.srcToken=await ze.getNativeToken(e)}if(n){const i=await ze.getTokenBySymbol(e,n);this.dstToken=i[0]}}async initTokens(){const e=await Fe.data.getChainId();if(!e)return;const t=Jt(e),n=L.get("src-token-symbol",JSON.parse)??t.nativeCurrency.symbol,r=L.get("dst-token-symbol",JSON.parse);if(!(!n&&!r)){if(n){const s=await ze.getTokenBySymbol(e,n);this.srcToken=s[0]}if(r){const s=await ze.getTokenBySymbol(e,r);this.dstToken=s[0]}}}getMobileSwapForm(){return E`
      <inch-card class="shadow-swap-form-card">
        <inch-swap-form
          .srcToken="${this.srcToken}"
          .dstToken="${this.dstToken}"
          .walletController="${Fe}"
          @openTokenSelector="${e=>this.onOpenMobileSelectToken(e)}"
          @connectWallet="${()=>this.onOpenConnectWalletView()}"
        ></inch-swap-form>
      </inch-card>
    `}getDesktopSwapForm(){return E`
      <inch-card class="shadow-swap-form-card">
        ${this.desktopScene.render({swapForm:()=>E`
              <inch-swap-form
                ${w_(this.swapFormRef)}
                .srcToken="${Vl(this,()=>this.srcToken)}"
                .dstToken="${Vl(this,()=>this.dstToken)}"
                .walletController="${Fe}"
                @openTokenSelector="${e=>this.onOpenSelectToken(e)}"
                @connectWallet="${()=>this.onOpenConnectWalletView()}"
              ></inch-swap-form>
            `,selectToken:()=>E`
            <inch-select-token
              chainId="${te(this.chainId$)}"
              connectedWalletAddress="${te(this.activeAddress$)}"
              @backCard="${()=>this.desktopScene.back()}"
              @selectToken="${async e=>{this.onSelectToken(e),await this.desktopScene.back()}}"
            ></inch-select-token>
          `})}
      </inch-card>
    `}async onOpenSelectToken(e){await this.desktopScene.nextTo("selectToken"),this.targetSelectToken=e.detail.value}onSelectToken(e){var n,r,s,i;const t=e.detail.value;if(this.targetSelectToken==="source"&&(this.dstToken&&Dr(t,this.dstToken)&&(this.dstToken=this.srcToken,L.set("dst-token-symbol",(n=this.dstToken)==null?void 0:n.symbol)),this.srcToken=t,L.set("src-token-symbol",(r=this.srcToken)==null?void 0:r.symbol)),this.targetSelectToken==="destination"){if(!this.dstToken&&this.srcToken&&Dr(t,this.srcToken))return;this.srcToken&&Dr(t,this.srcToken)&&(this.srcToken=this.dstToken,L.set("src-token-symbol",(s=this.srcToken)==null?void 0:s.symbol)),this.dstToken=t,L.set("dst-token-symbol",(i=this.dstToken)==null?void 0:i.symbol)}}async onOpenConnectWalletView(){const e=await this.connectWalletOverlay.open(E`
      <inch-wallet-manage
        @closeCard="${()=>this.connectWalletOverlay.close(e)}"
        .controller="${Fe}"
      ></inch-wallet-manage>
    `)}async onOpenMobileSelectToken(e){const t=await this.selectTokenMobileOverlay.open(E`
      <inch-card forMobileView style="width: 100%; height: 100%; display: flex;">
        <inch-select-token
          chainId="${te(this.chainId$)}"
          connectedWalletAddress="${te(this.activeAddress$)}"
          @backCard="${()=>this.selectTokenMobileOverlay.close(t)}"
          @selectToken="${async n=>{this.onSelectToken(n),await this.selectTokenMobileOverlay.close(t)}}"
        ></inch-select-token>
      </inch-card>
    `);this.targetSelectToken=e.detail.value}};vn.tagName="inch-swap-form-container";vn.styles=[B$,co.styles()];_u([Ye()],vn.prototype,"srcToken",2);_u([Ye()],vn.prototype,"dstToken",2);vn=_u([Y(vn.tagName)],vn);var Bp=document.createElement("style"),Rp=document.createElement("style"),D$=F`

/*    @font-face {
        font-family: InterVariable;
        font-style: normal;
        font-weight: 100 900;
        font-display: swap;
        src: url("fonts/Inter/InterVariable.woff2") format("woff2");
    }
    @font-face {
        font-family: InterVariable;
        font-style: italic;
        font-weight: 100 900;
        font-display: swap;
        src: url("fonts/Inter/InterVariable-Italic.woff2") format("woff2");
    }*/

    @font-face { font-family: "Inter"; font-style: normal; font-weight: 500; font-display: swap; src: url("fonts/Inter/Inter-Medium.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 600; font-display: swap; src: url("fonts/Inter/Inter-SemiBold.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 400; font-display: swap; src: url("fonts/Inter/Inter-Regular.woff2") format("woff2"); }

/*    @font-face { font-family: "Inter"; font-style: normal; font-weight: 100; font-display: swap; src: url("fonts/Inter/Inter-Thin.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 100; font-display: swap; src: url("fonts/Inter/Inter-ThinItalic.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 200; font-display: swap; src: url("fonts/Inter/Inter-ExtraLight.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 200; font-display: swap; src: url("fonts/Inter/Inter-ExtraLightItalic.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 300; font-display: swap; src: url("fonts/Inter/Inter-Light.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 300; font-display: swap; src: url("fonts/Inter/Inter-LightItalic.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 400; font-display: swap; src: url("fonts/Inter/Inter-Italic.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 500; font-display: swap; src: url("fonts/Inter/Inter-MediumItalic.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 600; font-display: swap; src: url("fonts/Inter/Inter-SemiBoldItalic.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 700; font-display: swap; src: url("fonts/Inter/Inter-Bold.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 700; font-display: swap; src: url("fonts/Inter/Inter-BoldItalic.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 800; font-display: swap; src: url("fonts/Inter/Inter-ExtraBold.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 800; font-display: swap; src: url("fonts/Inter/Inter-ExtraBoldItalic.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 900; font-display: swap; src: url("fonts/Inter/Inter-Black.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: italic; font-weight: 900; font-display: swap; src: url("fonts/Inter/Inter-BlackItalic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 100; font-display: swap; src: url("fonts/Inter/InterDisplay-Thin.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 100; font-display: swap; src: url("fonts/Inter/InterDisplay-ThinItalic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 200; font-display: swap; src: url("fonts/Inter/InterDisplay-ExtraLight.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 200; font-display: swap; src: url("fonts/Inter/InterDisplay-ExtraLightItalic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 300; font-display: swap; src: url("fonts/Inter/InterDisplay-Light.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 300; font-display: swap; src: url("fonts/Inter/InterDisplay-LightItalic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 400; font-display: swap; src: url("fonts/Inter/InterDisplay-Regular.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 400; font-display: swap; src: url("fonts/Inter/InterDisplay-Italic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 500; font-display: swap; src: url("fonts/Inter/InterDisplay-Medium.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 500; font-display: swap; src: url("fonts/Inter/InterDisplay-MediumItalic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 600; font-display: swap; src: url("fonts/Inter/InterDisplay-SemiBold.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 600; font-display: swap; src: url("fonts/Inter/InterDisplay-SemiBoldItalic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 700; font-display: swap; src: url("fonts/Inter/InterDisplay-Bold.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 700; font-display: swap; src: url("fonts/Inter/InterDisplay-BoldItalic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 800; font-display: swap; src: url("fonts/Inter/InterDisplay-ExtraBold.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 800; font-display: swap; src: url("fonts/Inter/InterDisplay-ExtraBoldItalic.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: normal; font-weight: 900; font-display: swap; src: url("fonts/Inter/InterDisplay-Black.woff2") format("woff2"); }
    @font-face { font-family: "InterDisplay"; font-style: italic; font-weight: 900; font-display: swap; src: url("fonts/Inter/InterDisplay-BlackItalic.woff2") format("woff2"); }*/


    * {
        font-family: 'Inter', sans-serif;
        font-style: normal;
    }

`,j$=F`
    
    html {
        background-color: var(--color-background-bg-body);
        position: fixed;
        width: 100vw;
        height: 100vh;
    }

    body {
        margin: 0;
        touch-action: pan-y;
        background-color: var(--color-background-bg-body);
        box-sizing: border-box;
    }

    ::view-transition-old(root),
    ::view-transition-new(root) {
        animation: none;
        mix-blend-mode: normal;
    }
    
    * {
        user-select: none;
        outline: none;
        -webkit-user-select: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
    }

`,Mp=(e=>(e[e.systemSync=0]="systemSync",e[e.dark=1]="dark",e[e.darkBlue=2]="darkBlue",e[e.light=3]="light",e[e.lightBlue=4]="lightBlue",e))(Mp||{}),Ar={0:()=>N$(),1:()=>C(()=>import("./dark.style-SZRD25FZ-COZfGsCU.js"),__vite__mapDeps([])).then(e=>e.themeDark),2:()=>C(()=>import("./dark-blue.style-IGURAS6Y-CmtPtE91.js"),__vite__mapDeps([])).then(e=>e.themeDarkBlue),3:()=>C(()=>import("./light.style-G4JVL6CL-B9GTO_0V.js"),__vite__mapDeps([])).then(e=>e.themeLight),4:()=>C(()=>import("./light-blue.style-JRIPM2DB-C6omZJ-1.js"),__vite__mapDeps([])).then(e=>e.themeLightBlue)},F$={0:()=>C(()=>import("./community.style-M4KRHXZD-CpRWXDrs.js"),__vite__mapDeps([])).then(e=>e.communityStyle),1:()=>C(()=>import("./orange.style-JYLCEY3J-5o3xbqj3.js"),__vite__mapDeps([])).then(e=>e.orangeStyle),2:()=>C(()=>import("./violet.style-MRYB6JTL-DPgzIDEr.js"),__vite__mapDeps([])).then(e=>e.violetStyle)};function N$(){var e,t;return window.matchMedia("(prefers-color-scheme: dark)").matches?(e=window==null?void 0:window.ethereum)!=null&&e.isOneInchIOSWallet?Ar[2]():Ar[1]():(t=window==null?void 0:window.ethereum)!=null&&t.isOneInchIOSWallet?Ar[4]():Ar[3]()}var Dp,jp,ec={0:()=>z$(),3:()=>"#f1f1f1",4:()=>"#f1f1f1",1:()=>"#0e0e0e",2:()=>"#0e0e0e"},Oi=window.matchMedia("(prefers-color-scheme: dark)"),L$=new Ve;function z$(){return Oi.matches?ec[1]():ec[3]()}Oi.onchange=async()=>{Dp===0&&(await Fp(0,jp),L$.next(Oi))};function U$(e){return e===0?Oi.matches:e===1||e===2}async function Fp(e,t,n){await(async()=>{const s=await Ar[e](),i=await F$[t]();ea(Bp,s),ea(Rp,i),wb(ec[e]()),Dp=e,jp=t;const o=document.querySelector("html");o==null||o.setAttribute("theme",U$(e)?"dark":"light")})()}var Np=F`

    /* width */
    ::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 4px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: var(--primary-hover);
    }
    
    ${Tn(F`
        ::-webkit-scrollbar {
            width: 2px;
            height: 2px;
        }
    `)}
  
`;async function V$(e=3,t=0){document.head.appendChild(Bp),document.head.appendChild(Rp),wo(D$),wo(j$),wo(Np),await Fp(e,t)}var q$=Object.defineProperty,H$=Object.getOwnPropertyDescriptor,W$=(e,t,n,r)=>{for(var s=r>1?void 0:r?H$(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(s=(r?o(t,n,s):o(s))||s);return r&&s&&q$(t,n,s),s};let tc=class extends V{render(){return E`
      <inch-header></inch-header>
      <div id="outlet" class="content">
        <inch-swap-form-container></inch-swap-form-container>
      </div>
      <inch-footer></inch-footer>
    `}};tc.styles=[Ab,Np];tc=W$([Y("app-root")],tc);Promise.all([V$(Mp.systemSync),C(()=>Promise.resolve().then(()=>l_),void 0).then(e=>e.connectWalletController.init())]).then(()=>{const e=document.createElement("app-root");e.id="app-root",document.body.appendChild(e)});export{vc as $,gk as A,Gr as B,bc as C,xe as D,se as E,ze as F,Ft as G,Fi as H,Ul as I,Pt as J,$s as K,jd as L,b1 as M,ln as N,_t as O,U as P,Pb as Q,vm as R,Ve as S,ee as T,Kr as U,N as V,Vt as W,te as X,Wd as Y,gc as Z,C as _,Mi as a,le as a0,me as a1,Gt as a2,Mt as a3,pk as a4,Vn as a5,Z$ as a6,Q as a7,yc as a8,Sl as a9,_ as aa,bk as ab,L as ac,Ne as ad,pn as ae,ni as af,A as ag,Li as ah,be as ai,t0 as aj,Xi as ak,kt as al,Es as am,Cr as an,Ze as ao,Gd as ap,rk as b,lk as c,fk as d,In as e,Di as f,Ye as g,uk as h,F as i,tr as j,Dn as k,sk as l,ak as m,z as n,O_ as o,ck as p,Y as q,ik as r,V as s,oc as t,Tn as u,ok as v,Ut as w,E as x,Np as y,fu as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-DIfoXgtX.js.map
