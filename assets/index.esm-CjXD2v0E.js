import{storage as i,JsonParser as n}from"./index.esm-COc-PyqV.js";import{B as u}from"./combineLatest-Cx3jWXTV.js";var g=class{constructor(t,e=null){this.name=t,this.initValue=e,this.valueState$=new u(r(this.name)??this.initValue),this.value$=this.valueState$,this.originalValue=null}get value(){return this.valueState$.value}setValue(t){this.valueState$.next(t),a(this.name,t)}resetValue(){this.valueState$.next(this.originalValue),a(this.name,this.originalValue)}cleanValue(){this.valueState$.next(null),a(this.name,null)}startChangingValue(){if(this.originalValue!==null)throw new Error("value changing in progress");this.originalValue=this.value}endChangingValue(){this.originalValue=null}},l="one-inch-settings";function a(t,e){const s=i.get(l,n)??{};i.set(l,{...s,[t]:e})}function r(t){const e=i.get(l,n);return e===null?null:Reflect.get(e,t)}export{g as S};
//# sourceMappingURL=index.esm-CjXD2v0E.js.map
