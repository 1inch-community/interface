const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/circle_16.svg-ZXVELFJT-CfqpAJaM.js","assets/index-CD7KJpAO.js","assets/cross_8.svg-UQSEH4S4-BuEuRQfG.js","assets/start-default_16.svg-CD2J7L7X-bzoOyYg1.js","assets/connect_16.svg-NSXNVWXM-DZ3Ci65u.js","assets/corner-down-right_16.svg-YYSNWS3X-CqORAihr.js","assets/chevron-down_16.svg-BND54YF5-CN4qK-2U.js","assets/arrow-down_16.svg-IK237GS3-C2XJNpb3.js","assets/fusion_16.svg-DS2KKM4D-Db3u2rYO.js","assets/link_16.svg-ILSOSF3Q-yT2YhujM.js","assets/plus-circle_16.svg-LAFJERR4-QYcnJITt.js","assets/circle_24.svg-NZRHXSXM-DWgNxkYW.js","assets/arrow-down_24.svg-QVWWMIAG-oWhqCoR-.js","assets/arrow-left_24.svg-SRUSUV6K-C8tQqhp2.js","assets/cross_24.svg-Y6TXDXMZ-BnxaRXov.js","assets/search_24.svg-7BVVC7QD-BBGjppZr.js","assets/edit_24.svg-LIXQVG7G-BBVscRRN.js","assets/connect_24.svg-B72L67KC-DyAb1NHi.js","assets/link_24.svg-ME7P2JZJ-ChcWl_Nj.js","assets/bell_24.svg-TDYDRRA3-DQWSs5bR.js","assets/alert_24.svg-ASSJ27DL-EENzosw5.js","assets/l2-chain_24.svg-BVBNWDAX--GcVhXtu.js","assets/l2-chain-rtl_24.svg-7UVTOITU-BMEfSMqS.js","assets/settings_24.svg-LB2NPHFL-CJm48e-g.js","assets/fusion_24.svg-DJY4GZBN-Dxbm4U0w.js","assets/globe_24.svg-3EBQMDCF-BiOo9wKJ.js","assets/image_24.svg-LMEQRSRL-DXVsQZB_.js","assets/sun_24.svg-J2JEBXWO-OjbbSS44.js","assets/moon_24.svg-UFSZTNKT-C3AFsERM.js","assets/command_24.svg-6ZPVIHIB-COkw8R9-.js","assets/wallet_24.svg-NRI5NRWL-BFkAuBaJ.js","assets/auth-refresh_36.svg-TLQZRG73-V8nRHet2.js","assets/logo-full.svg-GX4A5T7B-BzcAM5-d.js","assets/unicorn_run.svg-FIWXVX57-u2a3WvCy.js","assets/fire_48.png-H24EZB6E-aZlgZmpu.js","assets/empty_search.svg-HTH3MFNW-B38CNai7.js","assets/eth_24.svg-QSL6GA7V-C1sLj76l.js","assets/bnb_24.svg-GK3J7TR7-Cfp-wdvL.js","assets/op_24.svg-C7QI3DAY-vtdl08O1.js","assets/matic_24.svg-MR2PZC5O-Du5mDWUX.js","assets/arbitrum_24.svg-EOHJT7SH-Cy1JLAw-.js","assets/gnosis_24.svg-OA645ZO3-DHiBbvjY.js","assets/avalanche_24.svg-RACIZF5H-CxIN8PiJ.js","assets/fantom_24.svg-HII4JJB6-BezWQ-rQ.js","assets/aurora_24.svg-W4HBGYPD-B6X2WY_W.js","assets/klaytn_24.svg-3HGJORYN-Z6mVgavZ.js","assets/zksyncera_24.svg-6GCDLJI2-DYP1rI7O.js","assets/base_24.svg-TRYUGEDS-C2e7u54M.js","assets/index.esm-BWXo3r6P.js","assets/index.esm-DhwY4kHm.js","assets/index.esm-BwrBO1xr.js","assets/index.esm-COc-PyqV.js","assets/index.esm-CFx5I-Eu.js","assets/index.esm-OIwjBXxl.js","assets/combineLatest-Bzt_9bb6.js","assets/defer-BRewiDsk.js","assets/asap-D-qxMtYG.js","assets/index.esm-COYDjB4Z.js","assets/tap-DGvjHJum.js","assets/takeUntil-B9okj2Im.js","assets/index.esm-5Aerb1sL.js","assets/index.esm-CubW3Ub4.js"])))=>i.map(i=>d[i]);
import{b as be,u as _e,f as Wt,w as dt,i as _,t as $,s as A,x as u,_ as l,T as xt,a as we,j as pt,A as ft}from"./index-CD7KJpAO.js";import{n as nt,p as Rt,q as mt,v as ye,u as Xt,w as xe,x as j,y as it,z as _t,A as Ce,m as Jt,b as h,a as P,r as F,e as Ee,B as kt,j as zt,C as Pt,g as Kt,i as Lt,k as Se,d as Nt,D as Qt,o as Oe,t as Mt}from"./index.esm-CFx5I-Eu.js";import{scrollbarStyle as Gt,getScrollbarStyle as Vt,setBrowserMetaColorFilter as Dt,getCssValue as Ht,interpolateColorRange as Re,applyColorBrightness as ke}from"./index.esm-COYDjB4Z.js";import{_ as rt,f as g,m as V,g as Ve,C as R,S as Zt,s as st,O as $e}from"./index.esm-DhwY4kHm.js";import{m as tt,o as Ae,s as x,d as gt,b as $t,f as Bt,j as Te,a7 as Ie,a9 as ze}from"./index.esm-BwrBO1xr.js";import{t as S}from"./tap-DGvjHJum.js";import{f as L,t as vt}from"./takeUntil-B9okj2Im.js";import{g as Pe}from"./index.esm-5Aerb1sL.js";import{d as Ct}from"./defer-BRewiDsk.js";function Xi(t){return t}let jt=class{constructor(e,i,o,n){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(r,s)=>{this.unsubscribe&&(this.unsubscribe!==s&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=r,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(r,s)),this.unsubscribe=s},this.host=e,i.context!==void 0){const r=i;this.context=r.context,this.callback=r.callback,this.subscribe=r.subscribe??!1}else this.context=i,this.callback=o,this.subscribe=n??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new be(this.context,this.t,this.subscribe))}};function J({context:t,subscribe:e}){return(i,o)=>{typeof o=="object"?o.addInitializer(function(){new jt(this,{context:t,callback:n=>{i.set.call(this,n)},subscribe:e})}):i.constructor.addInitializer(n=>{new jt(n,{context:t,callback:r=>{n[o]=r},subscribe:e})})}}const Le={attribute:!0,type:String,converter:_e,reflect:!1,hasChanged:Wt},Ne=(t=Le,e,i)=>{const{kind:o,metadata:n}=i;let r=globalThis.litPropertyMetadata.get(n);if(r===void 0&&globalThis.litPropertyMetadata.set(n,r=new Map),r.set(i.name,t),o==="accessor"){const{name:s}=i;return{set(c){const a=e.get.call(this);e.set.call(this,c),this.requestUpdate(s,a,t)},init(c){return c!==void 0&&this.P(s,void 0,t),c}}}if(o==="setter"){const{name:s}=i;return function(c){const a=this[s];e.call(this,c),this.requestUpdate(s,a,t)}}throw Error("Unsupported decorator location: "+o)};function f(t){return(e,i)=>typeof i=="object"?Ne(t,e,i):((o,n,r)=>{const s=n.hasOwnProperty(r);return n.constructor.createProperty(r,s?{...o,wrapped:!0}:o),s?Object.getOwnPropertyDescriptor(n,r):void 0})(t,e,i)}function te(t){return f({...t,state:!0,attribute:!1})}function ee(t){return L(function(e,i){return t<=i})}var Me=Object.defineProperty,De=Object.getOwnPropertyDescriptor,C=(t,e,i,o)=>{for(var n=o>1?void 0:o?De(e,i):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(n=(o?s(e,i,n):s(n))||n);return o&&n&&Me(e,i,n),n},He=Object.defineProperty,Be=Object.getOwnPropertyDescriptor,at=(t,e,i,o)=>{for(var n=o>1?void 0:o?Be(e,i):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(n=(o?s(e,i,n):s(n))||n);return o&&n&&He(e,i,n),n};const ie="important",je=" !"+ie,Fe=nt(class extends Rt{constructor(t){var e;if(super(t),t.type!==mt.ATTRIBUTE||t.name!=="style"||((e=t.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,i)=>{const o=t[i];return o==null?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${o};`},"")}update(t,[e]){const{style:i}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const o of this.ft)e[o]==null&&(this.ft.delete(o),o.includes("-")?i.removeProperty(o):i[o]=null);for(const o in e){const n=e[o];if(n!=null){this.ft.add(o);const r=typeof n=="string"&&n.endsWith(je);o.includes("-")||r?i.setProperty(o,r?n.slice(0,-11):n,r?ie:""):i[o]=n}}return dt}});const Ue={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},qe=Symbol();let oe=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((e,i)=>{this.o=e,this.h=i}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(e,i,o){var r;this.p=0,this.i=0,(this._=e).addController(this);const n=typeof i=="object"?i:{task:i,args:o};this.v=n.task,this.j=n.args,this.m=n.argsEqual??Ye,this.k=n.onComplete,this.A=n.onError,this.autoRun=n.autoRun??!0,"initialValue"in n&&(this.u=n.initialValue,this.i=2,this.O=(r=this.T)==null?void 0:r.call(this))}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;const e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}async S(){const e=this.T(),i=this.O;this.O=e,e===i||e===void 0||i!==void 0&&this.m(i,e)||await this.run(e)}async run(e){var s,c,a,v,w;let i,o;e??(e=this.T()),this.O=e,this.i===1?(s=this.q)==null||s.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();const n=++this.p;this.q=new AbortController;let r=!1;try{i=await this.v(e,{signal:this.q.signal})}catch(d){r=!0,o=d}if(this.p===n){if(i===qe)this.i=0;else{if(r===!1){try{(c=this.k)==null||c.call(this,i)}catch{}this.i=2,(a=this.o)==null||a.call(this,i)}else{try{(v=this.A)==null||v.call(this,o)}catch{}this.i=3,(w=this.h)==null||w.call(this,o)}this.u=i,this.l=o}this._.requestUpdate()}}abort(e){var i;this.i===1&&((i=this.q)==null||i.abort(e))}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(e){var i,o,n,r;switch(this.i){case 0:return(i=e.initial)==null?void 0:i.call(e);case 1:return(o=e.pending)==null?void 0:o.call(e);case 2:return(n=e.complete)==null?void 0:n.call(e,this.value);case 3:return(r=e.error)==null?void 0:r.call(e,this.error);default:throw Error("Unexpected status: "+this.i)}}};const Ye=(t,e)=>t===e||t.length===e.length&&t.every((i,o)=>!Wt(i,e[o]));var We={circle16:{width:"16px",height:"16px",loader:()=>l(()=>import("./circle_16.svg-ZXVELFJT-CfqpAJaM.js"),__vite__mapDeps([0,1])).then(t=>t.circle16Svg)},cross8:{width:"8px",height:"8px",loader:()=>l(()=>import("./cross_8.svg-UQSEH4S4-BuEuRQfG.js"),__vite__mapDeps([2,1])).then(t=>t.cross8Svg)},startDefault16:{width:"16px",height:"16px",loader:()=>l(()=>import("./start-default_16.svg-CD2J7L7X-bzoOyYg1.js"),__vite__mapDeps([3,1])).then(t=>t.startDefault16Svg)},connect16:{width:"16px",height:"16px",loader:()=>l(()=>import("./connect_16.svg-NSXNVWXM-DZ3Ci65u.js"),__vite__mapDeps([4,1])).then(t=>t.connect16Svg)},cornerDownRight16:{width:"16px",height:"16px",loader:()=>l(()=>import("./corner-down-right_16.svg-YYSNWS3X-CqORAihr.js"),__vite__mapDeps([5,1])).then(t=>t.cornerDownRight16Svg)},chevronDown16:{width:"16px",height:"16px",loader:()=>l(()=>import("./chevron-down_16.svg-BND54YF5-CN4qK-2U.js"),__vite__mapDeps([6,1])).then(t=>t.chevronDown16Svg)},arrowDown16:{width:"16px",height:"16px",loader:()=>l(()=>import("./arrow-down_16.svg-IK237GS3-C2XJNpb3.js"),__vite__mapDeps([7,1])).then(t=>t.arrowDown16Svg)},fusion16:{width:"16px",height:"16px",loader:()=>l(()=>import("./fusion_16.svg-DS2KKM4D-Db3u2rYO.js"),__vite__mapDeps([8,1])).then(t=>t.fusion16Svg)},link16:{width:"16px",height:"16px",loader:()=>l(()=>import("./link_16.svg-ILSOSF3Q-yT2YhujM.js"),__vite__mapDeps([9,1])).then(t=>t.link16Svg)},plusCircle16:{width:"16px",height:"16px",loader:()=>l(()=>import("./plus-circle_16.svg-LAFJERR4-QYcnJITt.js"),__vite__mapDeps([10,1])).then(t=>t.plusCircle16Svg)},circle24:{width:"24px",height:"24px",loader:()=>l(()=>import("./circle_24.svg-NZRHXSXM-DWgNxkYW.js"),__vite__mapDeps([11,1])).then(t=>t.circle24Svg)},arrowDown24:{width:"24px",height:"24px",loader:()=>l(()=>import("./arrow-down_24.svg-QVWWMIAG-oWhqCoR-.js"),__vite__mapDeps([12,1])).then(t=>t.arrowDown24Svg)},arrowLeft24:{width:"24px",height:"24px",loader:()=>l(()=>import("./arrow-left_24.svg-SRUSUV6K-C8tQqhp2.js"),__vite__mapDeps([13,1])).then(t=>t.arrowLeft24Svg)},cross24:{width:"24px",height:"24px",loader:()=>l(()=>import("./cross_24.svg-Y6TXDXMZ-BnxaRXov.js"),__vite__mapDeps([14,1])).then(t=>t.cross24Svg)},search24:{width:"24px",height:"24px",loader:()=>l(()=>import("./search_24.svg-7BVVC7QD-BBGjppZr.js"),__vite__mapDeps([15,1])).then(t=>t.search24Svg)},edit24:{width:"24px",height:"24px",loader:()=>l(()=>import("./edit_24.svg-LIXQVG7G-BBVscRRN.js"),__vite__mapDeps([16,1])).then(t=>t.edit24Svg)},connect24:{width:"24px",height:"24px",loader:()=>l(()=>import("./connect_24.svg-B72L67KC-DyAb1NHi.js"),__vite__mapDeps([17,1])).then(t=>t.connect24Svg)},link24:{width:"24px",height:"24px",loader:()=>l(()=>import("./link_24.svg-ME7P2JZJ-ChcWl_Nj.js"),__vite__mapDeps([18,1])).then(t=>t.link24Svg)},bell24:{width:"24px",height:"24px",loader:()=>l(()=>import("./bell_24.svg-TDYDRRA3-DQWSs5bR.js"),__vite__mapDeps([19,1])).then(t=>t.bell24Svg)},alert24:{width:"24px",height:"24px",loader:()=>l(()=>import("./alert_24.svg-ASSJ27DL-EENzosw5.js"),__vite__mapDeps([20,1])).then(t=>t.alert24Svg)},l2Chain24:{width:"24px",height:"24px",loader:()=>l(()=>import("./l2-chain_24.svg-BVBNWDAX--GcVhXtu.js"),__vite__mapDeps([21,1])).then(t=>t.l2Chain24Svg)},l2ChainRTL24:{width:"24px",height:"24px",loader:()=>l(()=>import("./l2-chain-rtl_24.svg-7UVTOITU-BMEfSMqS.js"),__vite__mapDeps([22,1])).then(t=>t.l2Chain24Svg)},settings24:{width:"24px",height:"24px",loader:()=>l(()=>import("./settings_24.svg-LB2NPHFL-CJm48e-g.js"),__vite__mapDeps([23,1])).then(t=>t.settings24Svg)},fusion24:{width:"24px",height:"24px",loader:()=>l(()=>import("./fusion_24.svg-DJY4GZBN-Dxbm4U0w.js"),__vite__mapDeps([24,1])).then(t=>t.fusion24Svg)},globe24:{width:"24px",height:"24px",loader:()=>l(()=>import("./globe_24.svg-3EBQMDCF-BiOo9wKJ.js"),__vite__mapDeps([25,1])).then(t=>t.globe24Svg)},image24:{width:"24px",height:"24px",loader:()=>l(()=>import("./image_24.svg-LMEQRSRL-DXVsQZB_.js"),__vite__mapDeps([26,1])).then(t=>t.image24Svg)},sun24:{width:"24px",height:"24px",loader:()=>l(()=>import("./sun_24.svg-J2JEBXWO-OjbbSS44.js"),__vite__mapDeps([27,1])).then(t=>t.sun24Svg)},moon24:{width:"24px",height:"24px",loader:()=>l(()=>import("./moon_24.svg-UFSZTNKT-C3AFsERM.js"),__vite__mapDeps([28,1])).then(t=>t.moon24Svg)},command24:{width:"24px",height:"24px",loader:()=>l(()=>import("./command_24.svg-6ZPVIHIB-COkw8R9-.js"),__vite__mapDeps([29,1])).then(t=>t.command24Svg)},wallet24:{width:"24px",height:"24px",loader:()=>l(()=>import("./wallet_24.svg-NRI5NRWL-BFkAuBaJ.js"),__vite__mapDeps([30,1])).then(t=>t.wallet24Svg)},authRefresh36:{width:"36px",height:"36px",loader:()=>l(()=>import("./auth-refresh_36.svg-TLQZRG73-V8nRHet2.js"),__vite__mapDeps([31,1])).then(t=>t.authRefresh36Svg)},logoFull:{width:"102px",height:"40px",loader:()=>l(()=>import("./logo-full.svg-GX4A5T7B-BzcAM5-d.js"),__vite__mapDeps([32,1])).then(t=>t.logoFullSvg)},unicornRun:{width:"38px",height:"24px",loader:()=>l(()=>import("./unicorn_run.svg-FIWXVX57-u2a3WvCy.js"),__vite__mapDeps([33,1])).then(t=>t.unicornRunSvg)},fire48:{width:"48px",height:"48px",loader:()=>l(()=>import("./fire_48.png-H24EZB6E-aZlgZmpu.js"),__vite__mapDeps([34,1])).then(t=>t.fire48Png)},emptySearch:{width:"160px",height:"160px",loader:()=>l(()=>import("./empty_search.svg-HTH3MFNW-B38CNai7.js"),__vite__mapDeps([35,1])).then(t=>t.emptySearch)},eth24:{width:"24px",height:"24px",loader:()=>l(()=>import("./eth_24.svg-QSL6GA7V-C1sLj76l.js"),__vite__mapDeps([36,1])).then(t=>t.eth24Svg)},bnb24:{width:"24px",height:"24px",loader:()=>l(()=>import("./bnb_24.svg-GK3J7TR7-Cfp-wdvL.js"),__vite__mapDeps([37,1])).then(t=>t.bnb24Svg)},op24:{width:"24px",height:"24px",loader:()=>l(()=>import("./op_24.svg-C7QI3DAY-vtdl08O1.js"),__vite__mapDeps([38,1])).then(t=>t.op24Svg)},matic24:{width:"24px",height:"24px",loader:()=>l(()=>import("./matic_24.svg-MR2PZC5O-Du5mDWUX.js"),__vite__mapDeps([39,1])).then(t=>t.matic24Svg)},arbitrum24:{width:"24px",height:"24px",loader:()=>l(()=>import("./arbitrum_24.svg-EOHJT7SH-Cy1JLAw-.js"),__vite__mapDeps([40,1])).then(t=>t.arbitrum24Svg)},gnosis24:{width:"24px",height:"24px",loader:()=>l(()=>import("./gnosis_24.svg-OA645ZO3-DHiBbvjY.js"),__vite__mapDeps([41,1])).then(t=>t.gnosis24Svg)},avalanche24:{width:"24px",height:"24px",loader:()=>l(()=>import("./avalanche_24.svg-RACIZF5H-CxIN8PiJ.js"),__vite__mapDeps([42,1])).then(t=>t.avalanche24Svg)},fantom24:{width:"24px",height:"24px",loader:()=>l(()=>import("./fantom_24.svg-HII4JJB6-BezWQ-rQ.js"),__vite__mapDeps([43,1])).then(t=>t.fantom24Svg)},aurora24:{width:"24px",height:"24px",loader:()=>l(()=>import("./aurora_24.svg-W4HBGYPD-B6X2WY_W.js"),__vite__mapDeps([44,1])).then(t=>t.aurora24Svg)},klaytn24:{width:"24px",height:"24px",loader:()=>l(()=>import("./klaytn_24.svg-3HGJORYN-Z6mVgavZ.js"),__vite__mapDeps([45,1])).then(t=>t.klaytn24Svg)},zkSyncEra24:{width:"24px",height:"24px",loader:()=>l(()=>import("./zksyncera_24.svg-6GCDLJI2-DYP1rI7O.js"),__vite__mapDeps([46,1])).then(t=>t.zkSyncEra24Svg)},base24:{width:"24px",height:"24px",loader:()=>l(()=>import("./base_24.svg-TRYUGEDS-C2e7u54M.js"),__vite__mapDeps([47,1])).then(t=>t.base24Svg)}},z=class extends A{constructor(){super(...arguments),this.iconLoadTask=new oe(this,([t])=>this.loadImage(t),()=>[this.icon])}render(){var e,i;const t={width:this.width??((e=this.iconRecord)==null?void 0:e.width),height:this.height??((i=this.iconRecord)==null?void 0:i.height)};return this.iconLoadTask.render({pending:()=>u`<div style="${Fe(t)}"></div>`,complete:o=>typeof o=="function"?o({...t,props:this.props}):o})}async loadImage(t){if(!t)throw new Error("icon is required field for inch-icon element");if(this.iconRecord=We[t],!this.iconRecord)throw new Error(`icon name ${t} not exist`);return await this.iconRecord.loader()}};z.tagName="inch-icon";z.styles=_`:host{display:flex;width:fit-content;height:fit-content}`;at([f({type:String,attribute:"icon"})],z.prototype,"icon",2);at([f({type:String,attribute:!0})],z.prototype,"width",2);at([f({type:String,attribute:!0})],z.prototype,"height",2);at([f({type:Object})],z.prototype,"props",2);z=at([$(z.tagName)],z);const Qi=Object.freeze(Object.defineProperty({__proto__:null,get IconElement(){return z}},Symbol.toStringTag,{value:"Module"}));const At=nt(class extends Rt{constructor(t){var e;if(super(t),t.type!==mt.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var o,n;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in e)e[r]&&!((o=this.nt)!=null&&o.has(r))&&this.st.add(r);return this.render(e)}const i=t.element.classList;for(const r of this.st)r in e||(i.remove(r),this.st.delete(r));for(const r in e){const s=!!e[r];s===this.st.has(r)||(n=this.nt)!=null&&n.has(r)||(s?(i.add(r),this.st.add(r)):(i.remove(r),this.st.delete(r)))}return dt}});var Xe=Object.defineProperty,Je=Object.getOwnPropertyDescriptor,H=(t,e,i,o)=>{for(var n=o>1?void 0:o?Je(e,i):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(n=(o?s(e,i,n):s(n))||n);return o&&n&&Xe(e,i,n),n},Ke=_`:host{display:block}button{cursor:pointer;font-family:Inter,sans-serif;font-style:normal;font-weight:600;display:flex;align-items:center;justify-content:center;gap:8px;border:1px solid var(--button-border-color,none);background-color:var(--button-background-color);color:var(--button-text-color-ext,var(--button-text-color,var(--color-core-white)));box-sizing:border-box;transition:background-color .2s,box-shadow .2s,color .2s,transform .1s;outline:0;user-select:none;-webkit-tap-highlight-color:transparent;will-change:background-color,color,box-shadow,transform}button.full-size{width:100%}@media (hover:hover){button:enabled:hover{background-color:var(--button-background-color-hover);color:var(--button-text-color-ext-hover,var(--button-text-color-hover,var(--button-text-color)))}}button:enabled:active,button:enabled:focus-visible{transform:scale(.98);box-shadow:0 0 0 2px var(--button-box-shadow-color-active)}.active-box-shadow-inset:enabled:active,.active-box-shadow-inset:enabled:focus-visible{box-shadow:inset 0 0 0 2px var(--button-box-shadow-color-active)}button:disabled{cursor:not-allowed}`,Qe=_`button{border-radius:var(--border-radius)}.xs{padding:0 2px;--border-radius:4px;font-size:12px}.s{padding:2px 6px;--border-radius:4px;font-size:12px}.m{padding:6px 12px;--border-radius:8px;font-size:14px}.l{padding:8px 16px;--border-radius:12px;font-size:14px}.xl{padding:12px 24px;--border-radius:16px;font-size:16px}.xxl{padding:16px 24px;--border-radius:16px;font-size:20px}.m.only-icon{padding:0}.l.only-icon{padding:6px}.xl.only-icon{padding:12px}.xxl.only-icon{padding:18px}`,Ge=_`.primary{--button-background-color:var(--primary);--button-background-color-hover:var(--primary-hover);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-core-white);--loader-color:var(--primary-hover)}.primary-critical{--button-background-color:var(--color-core-red-critical);--button-background-color-hover:var(--color-core-red-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical);--button-text-color:var(--color-core-white)}.primary-warning{--button-background-color:var(--color-core-orange-warning);--button-background-color-hover:var(--color-core-orange-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning);--button-text-color:var(--color-core-white)}.primary-gray{--button-background-color:var(--color-background-bg-primary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary)}.secondary{--button-background-color:var(--secondary);--button-background-color-hover:var(--secondary-hover);--button-box-shadow-color-active:var(--secondary-hover);--button-text-color:var(--primary);--button-text-color-hover:var(--primary-hover)}.secondary-critical{--button-background-color:var(--color-background-bg-critical);--button-background-color-hover:var(--color-background-bg-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical-hover);--button-text-color:var(--color-core-red-critical-hover)}.secondary-warning{--button-background-color:var(--color-background-bg-warning);--button-background-color-hover:var(--color-background-bg-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning-hover);--button-text-color:var(--color-core-orange-warning)}.secondary-gray{--button-background-color:transparent;--button-border-color:var(--color-border-border-tertiary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary);--button-background-color-disabled:transparent;--button-border-color-disabled:var(--color-background-bg-disabled)}.tertiary{--button-background-color:transparent;--button-background-color-hover:var(--secondary);--button-text-color:var(--primary)}.tertiary-gray{--button-background-color:transparent;--button-background-color-hover:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary)}button:disabled{background-color:var(--button-background-color-disabled,var(--color-background-bg-disabled));color:var(--color-content-content-disabled);border:1px solid var(--button-border-color-disabled,none)}`,Ze=_`button.loader{position:relative;--loader-border-size:2px}button.loader:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;border-radius:var(--border-radius);border:var(--loader-border-size) solid var(--loader-color,var(--button-box-shadow-color-active));animation:loader 3s linear infinite}@keyframes loader{0%{clip-path:polygon(0 0,100% 0,100% 5%,0 5%)}10%{clip-path:polygon(50% 0,100% 0,100% 50%,50% 5%)}20%{clip-path:polygon(95% 0,100% 0,100% 100%,95% 100%)}40%{clip-path:polygon(50% 50%,100% 50%,100% 100%,50% 100%)}50%{clip-path:polygon(0 95%,100% 95%,100% 100%,0 100%)}70%{clip-path:polygon(0 50%,50% 50%,50% 100%,0 100%)}80%{clip-path:polygon(0 0,5% 0,5% 100%,0 100%)}90%{clip-path:polygon(0 0,50% 0,50% 50%,0 50%)}100%{clip-path:polygon(0 0,100% 0,100% 5%,0 5%)}}`,O=class extends A{constructor(){super(...arguments),this.size="xl",this.type="primary",this.fullSize=!1,this.disabled=!1,this.loader=!1,this.disabledSlotPointerEvent=!1,this.isIconButton=!1}render(){const t={[this.size]:!0,[this.type]:!0,"only-icon":this.isIconButton,"full-size":this.fullSize,loader:this.loader,"active-box-shadow-inset":this.type.includes("secondary")&&!this.type.includes("gray")};return u`<button class="${At(t)}" @click="${()=>ye()}" ?disabled="${this.disabled}"><slot style="${this.disabledSlotPointerEvent?"pointer-events: none;":""}" @slotchange="${this.handleSlotChange}"></slot></button>`}handleSlotChange(t){const e=t.target;if(!e)return;const i=e.assignedNodes({flatten:!0}).filter(o=>o.nodeName!=="#text");this.isIconButton=i.length===1&&i[0].nodeName.toLowerCase()==="inch-icon",this.requestUpdate()}};O.tagName="inch-button";O.styles=[Ke,Qe,Ge,Ze];H([f({type:String,attribute:!0})],O.prototype,"size",2);H([f({type:String,attribute:!0})],O.prototype,"type",2);H([f({type:Boolean,attribute:!0})],O.prototype,"fullSize",2);H([f({type:Boolean,attribute:!0})],O.prototype,"disabled",2);H([f({type:Boolean,attribute:!0})],O.prototype,"loader",2);H([f({type:Boolean,attribute:!0})],O.prototype,"disabledSlotPointerEvent",2);H([te()],O.prototype,"isIconButton",2);O=H([$(O.tagName)],O);const ti=Object.freeze(Object.defineProperty({__proto__:null,get ButtonElement(){return O}},Symbol.toStringTag,{value:"Module"}));const q=()=>new ei;class ei{}const wt=new WeakMap,Y=nt(class extends Xt{render(t){return xt}update(t,[e]){var o;const i=e!==this.Y;return i&&this.Y!==void 0&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.Y=e,this.ht=(o=t.options)==null?void 0:o.host,this.rt(this.ct=t.element)),xt}rt(t){if(typeof this.Y=="function"){const e=this.ht??globalThis;let i=wt.get(e);i===void 0&&(i=new WeakMap,wt.set(e,i)),i.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),i.set(this.Y,t),t!==void 0&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){var t,e;return typeof this.Y=="function"?(t=wt.get(this.ht??globalThis))==null?void 0:t.get(this.Y):(e=this.Y)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function ne(){return new Promise(t=>requestAnimationFrame(t))}function Gi(t){return new Promise(e=>setTimeout(e,t))}var ii=Object.defineProperty,oi=Object.getOwnPropertyDescriptor,T=(t,e,i,o)=>{for(var n=o>1?void 0:o?oi(e,i):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(n=(o?s(e,i,n):s(n))||n);return o&&n&&ii(e,i,n),n};function Tt(t,e,i){return t?e(t):i==null?void 0:i(t)}const Ft=(t,e,i)=>{const o=new Map;for(let n=e;n<=i;n++)o.set(t[n],n);return o},ni=nt(class extends Rt{constructor(t){if(super(t),t.type!==mt.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,i){let o;i===void 0?i=e:e!==void 0&&(o=e);const n=[],r=[];let s=0;for(const c of t)n[s]=o?o(c,s):s,r[s]=i(c,s),s++;return{values:r,keys:n}}render(t,e,i){return this.dt(t,e,i).values}update(t,[e,i,o]){const n=xe(t),{values:r,keys:s}=this.dt(e,i,o);if(!Array.isArray(n))return this.ut=s,r;const c=this.ut??(this.ut=[]),a=[];let v,w,d=0,m=n.length-1,p=0,b=r.length-1;for(;d<=m&&p<=b;)if(n[d]===null)d++;else if(n[m]===null)m--;else if(c[d]===s[p])a[p]=j(n[d],r[p]),d++,p++;else if(c[m]===s[b])a[b]=j(n[m],r[b]),m--,b--;else if(c[d]===s[b])a[b]=j(n[d],r[b]),it(t,a[b+1],n[d]),d++,b--;else if(c[m]===s[p])a[p]=j(n[m],r[p]),it(t,n[d],n[m]),m--,p++;else if(v===void 0&&(v=Ft(s,p,b),w=Ft(c,d,m)),v.has(c[d]))if(v.has(c[m])){const y=w.get(s[p]),I=y!==void 0?n[y]:null;if(I===null){const E=it(t,n[d]);j(E,r[p]),a[p]=E}else a[p]=j(I,r[p]),it(t,n[d],I),n[y]=null;p++}else _t(n[m]),m--;else _t(n[d]),d++;for(;p<=b;){const y=it(t,a[b+1]);j(y,r[p]),a[p++]=y}for(;d<=m;){const y=n[d++];y!==null&&_t(y)}return this.ut=s,Ce(t,a),dt}});var It=Symbol("scrollContext"),N=class extends A{constructor(){super(...arguments),this.context=new we(this,{context:It})}setScrollTopFromConsumer(t){this.scrollTopFromConsumer=t}firstUpdated(){this.context.setValue(this)}updated(){h(this,{maxHeight:this.maxHeight?`${this.maxHeight}px`:""})}render(){return u`<slot></slot>`}};N.tagName="inch-scroll-view-provider";N.styles=_`:host{display:flex;flex-direction:column}`;T([f({type:Number,attribute:!1})],N.prototype,"maxHeight",2);N=T([$(N.tagName)],N);var Q=class extends A{constructor(){super(...arguments),this.contentRef=q(),this.scrollContainerRef=q(),this.globalOffsetY=0}get contentHeight(){var t;return((t=this.contentRef.value)==null?void 0:t.clientHeight)??0}get scrollContainer(){if(!this.scrollContainerRef.value)throw new Error("");return this.scrollContainerRef.value}firstUpdated(){if(!this.context)throw new Error("inch-scroll-view-consumer must be used inside inch-scroll-view-provider");this.globalOffsetY=this.context.clientHeight-this.clientHeight,P(this,[tt(F(this.context),F(this.contentRef.value)).pipe(S(()=>this.updateView())),g(this.scrollContainer,"scroll",{passive:!0}).pipe(S(()=>{var t;this.context.setScrollTopFromConsumer(((t=this.scrollContainer)==null?void 0:t.scrollTop)??0)}))],{requestUpdate:!1})}render(){return u`<div class="scroll-container" ${Y(this.scrollContainerRef)}><div ${Y(this.contentRef)}><slot></slot></div></div>`}updateView(){this.contentHeight>(this.context.maxHeight??0)?(this.scrollContainer.style.height=`${(this.context.maxHeight??0)-this.globalOffsetY}px`,!this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.add("overflow")):(this.scrollContainer.style.height=`${this.contentHeight}px`,this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.remove("overflow"))}};Q.tagName="inch-scroll-view-consumer";Q.styles=[Gt,_`.scroll-container{display:block;flex-direction:column;transition:height .1s}.overflow{overflow:auto;overscroll-behavior:none;touch-action:pan-y;display:block;position:relative;contain:size layout}`];T([J({context:It,subscribe:!0})],Q.prototype,"context",2);Q=T([$(Q.tagName)],Q);var re=class se extends Event{constructor(e){super(se.eventName,{bubbles:!1}),this.first=e.first,this.last=e.last}};re.eventName="rangeChanged";var ae=class le extends Event{constructor(e){super(le.eventName,{bubbles:!1}),this.first=e.first,this.last=e.last}};ae.eventName="visibilityChanged";var ce=class he extends Event{constructor(){super(he.eventName,{bubbles:!1})}};ce.eventName="unpinned";var ri=class{constructor(t){this._element=null;const e=t??window;this._node=e,t&&(this._element=t)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}},si=class extends ri{constructor(t,e){super(e),this._clients=new Set,this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1,this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this);const i=this._node;this._originalScrollTo=i.scrollTo,this._originalScrollBy=i.scrollBy,this._originalScroll=i.scroll,this._attach(t)}get _destination(){return this.__destination}get scrolling(){return this._destination!==null}scrollTo(t,e){const i=typeof t=="number"&&typeof e=="number"?{left:t,top:e}:t;this._scrollTo(i)}scrollBy(t,e){const i=typeof t=="number"&&typeof e=="number"?{left:t,top:e}:t;i.top!==void 0&&(i.top+=this.scrollTop),i.left!==void 0&&(i.left+=this.scrollLeft),this._scrollTo(i)}_nativeScrollTo(t){this._originalScrollTo.bind(this._element||window)(t)}_scrollTo(t,e=null,i=null){this._end!==null&&this._end(),t.behavior==="smooth"?(this._setDestination(t),this._retarget=e,this._end=i):this._resetScrollState(),this._nativeScrollTo(t)}_setDestination(t){let{top:e,left:i}=t;return e=e===void 0?void 0:Math.max(0,Math.min(e,this.maxScrollTop)),i=i===void 0?void 0:Math.max(0,Math.min(i,this.maxScrollLeft)),this._destination!==null&&i===this._destination.left&&e===this._destination.top?!1:(this.__destination={top:e,left:i,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(t){this._destination&&this._setDestination(t)&&this._nativeScrollTo(this._destination)}managedScrollTo(t,e,i){return this._scrollTo(t,e,i),this._updateManagedScrollTo}correctScrollError(t){this.correctingScrollError=!0,requestAnimationFrame(()=>requestAnimationFrame(()=>this.correctingScrollError=!1)),this._nativeScrollTo(t),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(this._destination!==null){const{scrollTop:t,scrollLeft:e}=this;let{top:i,left:o}=this._destination;i=Math.min(i||0,this.maxScrollTop),o=Math.min(o||0,this.maxScrollLeft);const n=Math.abs(i-t),r=Math.abs(o-e);n<1&&r<1&&(this._end&&this._end(),this._resetScrollState())}}detach(t){return this._clients.delete(t),this._clients.size===0&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(t){this._clients.add(t),this._clients.size===1&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}},Ut=typeof window<"u"?window.ResizeObserver:void 0,Et=Symbol("virtualizerRef"),lt="virtualizer-sizer",qt,ai=class{constructor(t){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,this._layoutInitialized=null,!t)throw new Error("Virtualizer constructor requires a configuration object");if(t.hostElement)this._init(t);else throw new Error('Virtualizer configuration requires the "hostElement" property')}set items(t){Array.isArray(t)&&t!==this._items&&(this._itemsChanged=!0,this._items=t,this._schedule(this._updateLayout))}_init(t){this._isScroller=!!t.scroller,this._initHostElement(t);const e=t.layout||{};this._layoutInitialized=this._initLayout(e)}_initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this)),this._hostElementRO=new Ut(()=>this._hostElementSizeChanged()),this._childrenRO=new Ut(this._childrenSizeChanged.bind(this))}_initHostElement(t){const e=this._hostElement=t.hostElement;this._applyVirtualizerStyles(),e[Et]=this}connected(){this._initObservers();const t=this._isScroller;this._clippingAncestors=hi(this._hostElement,t),this._scrollerController=new si(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen()}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach(t=>{t.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(t),this._hostElementRO.observe(t)}),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach(t=>this._childrenRO.observe(t)),this._scrollEventListeners.forEach(t=>t.addEventListener("scroll",this,this._scrollEventListenerOptions))}disconnected(){var t,e,i,o;this._scrollEventListeners.forEach(n=>n.removeEventListener("scroll",this,this._scrollEventListenerOptions)),this._scrollEventListeners=[],this._clippingAncestors=[],(t=this._scrollerController)==null||t.detach(this),this._scrollerController=null,(e=this._mutationObserver)==null||e.disconnect(),this._mutationObserver=null,(i=this._hostElementRO)==null||i.disconnect(),this._hostElementRO=null,(o=this._childrenRO)==null||o.disconnect(),this._childrenRO=null,this._rejectLayoutCompletePromise("disconnected")}_applyVirtualizerStyles(){const e=this._hostElement.style;e.display=e.display||"block",e.position=e.position||"relative",e.contain=e.contain||"size layout",this._isScroller&&(e.overflow=e.overflow||"auto",e.minHeight=e.minHeight||"150px")}_getSizer(){const t=this._hostElement;if(!this._sizer){let e=t.querySelector(`[${lt}]`);e||(e=document.createElement("div"),e.setAttribute(lt,""),t.appendChild(e)),Object.assign(e.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),e.textContent="&nbsp;",e.setAttribute(lt,""),this._sizer=e}return this._sizer}async updateLayoutConfig(t){await this._layoutInitialized;const e=t.type||qt;if(typeof e=="function"&&this._layout instanceof e){const i={...t};return delete i.type,this._layout.config=i,!0}return!1}async _initLayout(t){let e,i;if(typeof t.type=="function"){i=t.type;const o={...t};delete o.type,e=o}else e=t;i===void 0&&(qt=i=(await l(async()=>{const{FlowLayout:o}=await import("./flow-MWNAY6JH-L9ck0Z9u.js");return{FlowLayout:o}},[])).FlowLayout),this._layout=new i(o=>this._handleLayoutMessage(o),e),this._layout.measureChildren&&typeof this._layout.updateItemSizes=="function"&&(typeof this._layout.measureChildren=="function"&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){this._benchmarkStart===null&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(this._benchmarkStart!==null){const t=window.performance.now(),e=t-this._benchmarkStart,o=performance.getEntriesByName("uv-virtualizing","measure").filter(n=>n.startTime>=this._benchmarkStart&&n.startTime<t).reduce((n,r)=>n+r.duration,0);return this._benchmarkStart=null,{timeElapsed:e,virtualizationTime:o}}return null}_measureChildren(){const t={},e=this._children,i=this._measureChildOverride||this._measureChild;for(let o=0;o<e.length;o++){const n=e[o],r=this._first+o;(this._itemsChanged||this._toBeMeasured.has(n))&&(t[r]=i.call(this,n,this._items[r]))}this._childMeasurements=t,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(t){const{width:e,height:i}=t.getBoundingClientRect();return Object.assign({width:e,height:i},li(t))}async _schedule(t){this._scheduled.has(t)||(this._scheduled.add(t),await Promise.resolve(),this._scheduled.delete(t),t.call(this))}async _updateDOM(t){this._scrollSize=t.scrollSize,this._adjustRange(t.range),this._childrenPos=t.childPositions,this._scrollError=t.scrollError||null;const{_rangeChanged:e,_itemsChanged:i}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),(e||i)&&(this._notifyRange(),this._rangeChanged=!1),this._finishDOMUpdate()}_finishDOMUpdate(){this._children.forEach(t=>this._childrenRO.observe(t)),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end")}_updateLayout(){this._layout&&this._scrollerController&&(this._layout.items=this._items,this._updateView(),this._childMeasurements!==null&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){var t;if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(e){console.warn("Error measuring performance data: ",e)}window.performance.mark("uv-start")}this._scrollerController.correctingScrollError===!1&&((t=this._layout)==null||t.unpin()),this._schedule(this._updateLayout)}handleEvent(t){switch(t.type){case"scroll":(t.currentTarget===window||this._clippingAncestors.includes(t.currentTarget))&&this._handleScrollEvent();break;default:console.warn("event not handled",t)}}_handleLayoutMessage(t){t.type==="stateChanged"?this._updateDOM(t):t.type==="visibilityChanged"?(this._firstVisible=t.firstVisible,this._lastVisible=t.lastVisible,this._notifyVisibility()):t.type==="unpinned"&&this._hostElement.dispatchEvent(new ce)}get _children(){const t=[];let e=this._hostElement.firstElementChild;for(;e;)e.hasAttribute(lt)||t.push(e),e=e.nextElementSibling;return t}_updateView(){var o;const t=this._hostElement,e=(o=this._scrollerController)==null?void 0:o.element,i=this._layout;if(t&&e&&i){let n,r,s,c;const a=t.getBoundingClientRect();n=0,r=0,s=window.innerHeight,c=window.innerWidth;const v=this._clippingAncestors.map(E=>E.getBoundingClientRect());v.unshift(a);for(const E of v)n=Math.max(n,E.top),r=Math.max(r,E.left),s=Math.min(s,E.bottom),c=Math.min(c,E.right);const w=e.getBoundingClientRect(),d={left:a.left-w.left,top:a.top-w.top},m={width:e.scrollWidth,height:e.scrollHeight},p=n-a.top+t.scrollTop,b=r-a.left+t.scrollLeft,y=s-n,I=c-r;i.viewportSize={width:I,height:y},i.viewportScroll={top:p,left:b},i.totalScrollSize=m,i.offsetWithinScroller=d}}_sizeHostElement(t){const i=t&&t.width!==null?Math.min(82e5,t.width):0,o=t&&t.height!==null?Math.min(82e5,t.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${i}px, ${o}px)`;else{const n=this._hostElement.style;n.minWidth=i?`${i}px`:"100%",n.minHeight=o?`${o}px`:"100%"}}_positionChildren(t){t&&t.forEach(({top:e,left:i,width:o,height:n,xOffset:r,yOffset:s},c)=>{const a=this._children[c-this._first];a&&(a.style.position="absolute",a.style.boxSizing="border-box",a.style.transform=`translate(${i}px, ${e}px)`,o!==void 0&&(a.style.width=o+"px"),n!==void 0&&(a.style.height=n+"px"),a.style.left=r===void 0?null:r+"px",a.style.top=s===void 0?null:s+"px")})}async _adjustRange(t){const{_first:e,_last:i,_firstVisible:o,_lastVisible:n}=this;this._first=t.first,this._last=t.last,this._firstVisible=t.firstVisible,this._lastVisible=t.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==e||this._last!==i,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==o||this._lastVisible!==n}_correctScrollError(){if(this._scrollError){const{scrollTop:t,scrollLeft:e}=this._scrollerController,{top:i,left:o}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:t-i,left:e-o})}}element(t){var e;return t===1/0&&(t=this._items.length-1),((e=this._items)==null?void 0:e[t])===void 0?void 0:{scrollIntoView:(i={})=>this._scrollElementIntoView({...i,index:t})}}_scrollElementIntoView(t){if(t.index>=this._first&&t.index<=this._last)this._children[t.index-this._first].scrollIntoView(t);else if(t.index=Math.min(t.index,this._items.length-1),t.behavior==="smooth"){const e=this._layout.getScrollIntoViewCoordinates(t),{behavior:i}=t;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(e,{behavior:i}),()=>this._layout.getScrollIntoViewCoordinates(t),()=>this._scrollIntoViewTarget=null),this._scrollIntoViewTarget=t}else this._layout.pin=t}_checkScrollIntoViewTarget(t){const{index:e}=this._scrollIntoViewTarget||{};e&&(t!=null&&t.has(e))&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new re({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new ae({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise((t,e)=>{this._layoutCompleteResolver=t,this._layoutCompleteRejecter=e})),this._layoutCompletePromise}_rejectLayoutCompletePromise(t){this._layoutCompleteRejecter!==null&&this._layoutCompleteRejecter(t),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&this._pendingLayoutComplete===null&&(this._pendingLayoutComplete=requestAnimationFrame(()=>requestAnimationFrame(()=>this._resolveLayoutCompletePromise())))}_resolveLayoutCompletePromise(){this._layoutCompleteResolver!==null&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(t){var e;if((e=this._layout)!=null&&e.measureChildren){for(const i of t)this._toBeMeasured.set(i.target,i.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}};function li(t){const e=window.getComputedStyle(t);return{marginTop:ct(e.marginTop),marginRight:ct(e.marginRight),marginBottom:ct(e.marginBottom),marginLeft:ct(e.marginLeft)}}function ct(t){const e=t?parseFloat(t):NaN;return Number.isNaN(e)?0:e}function Yt(t){if(t.assignedSlot!==null)return t.assignedSlot;if(t.parentElement!==null)return t.parentElement;const e=t.parentNode;return e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host||null}function ci(t,e=!1){const i=[];let o=e?t:Yt(t);for(;o!==null;)i.push(o),o=Yt(o);return i}function hi(t,e=!1){let i=!1;return ci(t,e).filter(o=>{if(i)return!1;const n=getComputedStyle(o);return i=n.position==="fixed",n.overflow!=="visible"})}var ue=t=>t,de=(t,e)=>u`${e}: ${JSON.stringify(t,null,2)}`,ui=class extends Xt{constructor(t){if(super(t),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(e,i)=>de(e,i+this._first),this._keyFunction=(e,i)=>ue(e,i+this._first),this._items=[],t.type!==mt.CHILD)throw new Error("The virtualize directive can only be used in child expressions")}render(t){t&&this._setFunctions(t);const e=[];if(this._first>=0&&this._last>=this._first)for(let i=this._first;i<=this._last;i++)e.push(this._items[i]);return ni(e,this._keyFunction,this._renderItem)}update(t,[e]){this._setFunctions(e);const i=this._items!==e.items;return this._items=e.items||[],this._virtualizer?this._updateVirtualizerConfig(t,e):this._initialize(t,e),i?dt:this.render()}async _updateVirtualizerConfig(t,e){if(!await this._virtualizer.updateLayoutConfig(e.layout||{})){const o=t.parentNode;this._makeVirtualizer(o,e)}this._virtualizer.items=this._items}_setFunctions(t){const{renderItem:e,keyFunction:i}=t;e&&(this._renderItem=(o,n)=>e(o,n+this._first)),i&&(this._keyFunction=(o,n)=>i(o,n+this._first))}_makeVirtualizer(t,e){this._virtualizer&&this._virtualizer.disconnected();const{layout:i,scroller:o,items:n}=e;this._virtualizer=new ai({hostElement:t,layout:i,scroller:o}),this._virtualizer.items=n,this._virtualizer.connected()}_initialize(t,e){const i=t.parentNode;i&&i.nodeType===1&&(i.addEventListener("rangeChanged",o=>{this._first=o.first,this._last=o.last,this.setValue(this.render())}),this._makeVirtualizer(i,e))}disconnected(){var t;(t=this._virtualizer)==null||t.disconnected()}reconnected(){var t;(t=this._virtualizer)==null||t.connected()}},di=nt(ui),et=class extends A{constructor(){super(...arguments),this.items=[],this.renderItem=de,this.keyFunction=ue,this.layout={},this.scroller=!1}createRenderRoot(){return this}render(){const{items:t,renderItem:e,keyFunction:i,layout:o,scroller:n}=this;return u`${di({items:t,renderItem:e,keyFunction:i,layout:o,scroller:n})}`}element(t){var e;return(e=this[Et])==null?void 0:e.element(t)}get layoutComplete(){var t;return(t=this[Et])==null?void 0:t.layoutComplete}scrollToIndex(t,e="start"){var i;(i=this.element(t))==null||i.scrollIntoView({block:e})}};rt([f({attribute:!1})],et.prototype,"items",void 0);rt([f()],et.prototype,"renderItem",void 0);rt([f()],et.prototype,"keyFunction",void 0);rt([f({attribute:!1})],et.prototype,"layout",void 0);rt([f({reflect:!0,type:Boolean})],et.prototype,"scroller",void 0);customElements.define("lit-virtualizer",et);var pi=Symbol("mainViewportContext"),k=class extends A{constructor(){super(...arguments),this.items=[],this.globalOffsetY=null,this.virtualizerRef=q(),this.headerRef=q(),this.headerStub=document.createElement("div"),this.mobileMedia=Ee(this)}get virtualizer(){if(!this.virtualizerRef.value)throw new Error("");return this.virtualizerRef.value}firstUpdated(){var e;if(!this.context||!this.virtualizerRef.value)return;const t=document.createElement("style");t.textContent=Gt.cssText,(e=this.virtualizerRef.value.shadowRoot)==null||e.appendChild(t),this.updateView(),this.updateHeaderSize(),P(this,[tt(kt(),F(this.context),F(this.virtualizer),this.mainViewportContext?F(this.mainViewportContext):Ae()).pipe(S(()=>this.updateView()))],{requestUpdate:!1}),this.headerRef.value&&P(this,[F(this.headerRef.value).pipe(S(()=>this.updateHeaderSize())),g(this.virtualizerRef.value,"scroll",{passive:!0}).pipe(S(()=>{var i;this.context.setScrollTopFromConsumer(((i=this.virtualizerRef.value)==null?void 0:i.scrollTop)??0),this.updateHeaderBackground()}))],{requestUpdate:!1})}render(){return this.updateView(),this.updateHeaderSize(),u`${Tt(this.header,t=>u`<div ${Y(this.headerRef)} class="scroll-header">${t()}</div>`)}<lit-virtualizer ${Y(this.virtualizerRef)} scroller .items="${this.getItems()}" .keyFunction="${this.keyFunction??((t,e)=>e)}" .renderItem="${(t,e)=>this.renderItemInternal(t,e)}"></lit-virtualizer>`}updateView(){this.mobileMedia.matches?this.updateViewMobile():this.updateViewDesktop()}updateViewMobile(){if(!this.context||!this.virtualizerRef.value)return;const t=this.getViewPortBoundingClientRect(),e=this.virtualizer.getBoundingClientRect();this.globalOffsetY=e.top-t.top+8*2,this.virtualizer.style.minHeight=`${(this.context.maxHeight??0)-this.globalOffsetY}px`}updateViewDesktop(){if(!this.context||!this.virtualizerRef.value||!this.headerRef.value)return;const t=this.getViewPortBoundingClientRect();this.virtualizer.style.minHeight=`${t.height}px`}getViewPortBoundingClientRect(){return this.mainViewportContext?this.mainViewportContext.getBoundingClientRect():this.context.getBoundingClientRect()}getItems(){return this.header?[null,...this.items]:this.items}renderItemInternal(t,e){var i;return this.header&&e===0?u`${this.headerStub}`:((i=this.renderItem)==null?void 0:i.call(this,t,e))??u``}updateHeaderSize(){if(this.headerRef.value){const t=this.headerRef.value.getBoundingClientRect();h(this.headerStub,{height:`${t.height}px`})}}updateHeaderBackground(){var e;const t=((e=this.virtualizerRef.value)==null?void 0:e.scrollTop)??0;t>10&&this.headerRef.value&&!this.headerRef.value.classList.contains("scroll-header-background-color-blur")&&this.headerRef.value.classList.add("scroll-header-background-color-blur"),t<10&&this.headerRef.value&&this.headerRef.value.classList.contains("scroll-header-background-color-blur")&&this.headerRef.value.classList.remove("scroll-header-background-color-blur")}};k.tagName="inch-scroll-view-virtualizer-consumer";k.styles=[Vt("lit-virtualizer",!0),_`:host{position:relative;display:flex;flex-direction:column}.scroll-header{position:absolute;top:0;left:0;width:100%;height:fit-content;z-index:9;overflow:hidden;box-sizing:border-box;background-color:var(--color-background-bg-primary)}${Jt(_`.scroll-header{background-color:transparent;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);padding:8px 8px 0 8px;top:-8px;left:-8px;width:100vw;transition:background-color .2s}.scroll-header-background-color-blur{background:var(--primary-12);background:linear-gradient(to bottom,var(--color-background-bg-primary),var(--primary-12))}`)}`];T([f({type:Array})],k.prototype,"items",2);T([f({type:Object})],k.prototype,"keyFunction",2);T([f({type:Object})],k.prototype,"renderItem",2);T([f({type:Object})],k.prototype,"header",2);T([J({context:It,subscribe:!0})],k.prototype,"context",2);T([J({context:pi,subscribe:!1})],k.prototype,"mainViewportContext",2);k=T([$(k.tagName)],k);var St;function U(){return fi(),St}function fi(){if(St)return;let t=document.querySelector("#overlay-container");t||(t=document.createElement("div"),t.id="overlay-container"),St=t}var mi=1;function pe(){return mi++}var gi=class{constructor(t){this.rootNodeName=t,this.borderRadius="8px",this.brightnessHalfView=".7",this.scale=".9",this.topOffsetPercent=-5,this.backgroundColor="var(--color-background-bg-active)",this.backgroundColorDefault="var(--color-background-bg-body)",this.container=U(),this.activeOverlayMap=new Map,this.subscriptions=new Map}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(t){return this.activeOverlayMap.has(t)}async open(t){const e=document.querySelector(this.rootNodeName),i=this.createOverlayContainer(t);await ne();const o=this.calculateIsHalfView(i);this.appendStyleBeforeTransition(e),await this.transition(i,e,!1,o),this.appendStyleAfterTransition(e,!1,o);const n=pe();return this.activeOverlayMap.set(n,i),this.subscribeOnEvents(n),n}async close(t){if(!this.activeOverlayMap.has(t))return;const e=this.activeOverlayMap.get(t),i=document.querySelector(this.rootNodeName),o=this.calculateIsHalfView(e);await this.transition(e,i,!0,o),this.appendStyleAfterTransition(i,!0,o),this.unsubscribeOnResize(t),e.remove(),this.activeOverlayMap.delete(t),Dt(null)}createOverlayContainer(t){const e=document.createElement(N.tagName),i=this.activeOverlayMap.size+1,o=2,n=zt()&&Pt()?window.innerHeight-10:window.innerHeight;return e.maxHeight=(100-i*o)*n/100,e.setAttribute("overlay-index",i.toString()),h(e,{position:"fixed",display:"flex",width:"100vw",overflow:"hidden",alignItems:"flex-end",bottom:"0",left:"0",zIndex:"2000",boxSizing:"border-box",borderTopLeftRadius:"24px",borderTopRightRadius:"24px"}),zt()&&Pt()&&h(e,{bottom:"10px"}),pt(u`${t}`,e),this.container.appendChild(e),e}subscribeOnEvents(t){const e=this.activeOverlayMap.get(t),i=document.querySelector(this.rootNodeName),o=tt(kt().pipe(S(()=>this.updatePosition(t))),F(e).pipe(L(()=>Number(e.getAttribute("overlay-index"))===this.activeOverlayMap.size),V(()=>this.calculateIsHalfView(e)),gt(),ee(1),x(n=>{const r=document.querySelector(this.rootNodeName);return this.transitionHalfView(r,n)})),g(this.container,"click").pipe(L(()=>Number(e.getAttribute("overlay-index"))===this.activeOverlayMap.size),L(n=>n.target===this.container),S(()=>this.updatePosition(t))),g(e,"touchstart",{passive:!0}).pipe(L(()=>(e.scrollTopFromConsumer??0)===0),x(n=>{const r=this.calculateIsHalfView(e),s=e.clientHeight,c=30,a=n.touches[0].clientY,v=Ht(this.backgroundColor),w=Ht(this.backgroundColorDefault);let d=0,m=0,p=!1,b=Number(this.scale),y=this.topOffsetPercent,I=this.backgroundColor;return g(e,"touchmove",{passive:!0}).pipe(L(()=>!p),S(E=>{const bt=E.touches[0].clientY-a,B=bt*100/s;B<0||(B>c&&(p=!0,this.updatePosition(t)),d=B,m=bt,e.setAttribute("offset",B.toString()),h(e,{transform:`translateY(${bt}px)`}),r||(b=B*(1-Number(this.scale))/c+Number(this.scale),y=this.topOffsetPercent-B*this.topOffsetPercent/c,I=Re(v,w,0,100,B),i.setAttribute("scale",b.toString()),i.setAttribute("offset",y.toString()),i.setAttribute("bgColor",I.toString()),h(i,{transform:`scale(${b}) translate3d(0, ${y}%, 0)`,backgroundColor:I})))}),vt(tt(g(e,"touchend",{passive:!0}),g(e,"touchcancel",{passive:!0})).pipe(x(async E=>{if(m!==0){if(E.timeStamp-n.timeStamp<300&&d>c/2){this.updatePosition(t);return}p||(await Promise.all([e.animate([{transform:`translateY(${m}px)`},{transform:"translateY(0px)"}],this.getDefaultAnimationOptions()).finished,r?Promise.resolve():i.animate([{transform:`scale(${b}) translate3d(0, ${y}%, 0)`,backgroundColor:I},{transform:`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,backgroundColor:this.backgroundColor}],this.getDefaultAnimationOptions()).finished]),e.removeAttribute("offset"),h(e,{transform:""}),r||(i.removeAttribute("scale"),i.removeAttribute("offset"),i.removeAttribute("bgColor"),h(i,{transform:`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,backgroundColor:this.backgroundColor})))}}))))}))).subscribe();this.subscriptions.set(t,o)}unsubscribeOnResize(t){if(!this.subscriptions.has(t))return;const e=this.subscriptions.get(t);e.closed||e.unsubscribe()}updatePosition(t){this.subscriptions.has(t)&&this.close(t).catch()}calculateIsHalfView(t){const e=t.clientHeight,i=t.maxHeight??0;return e*100/i<90}getDefaultAnimationOptions(){return{duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"}}async transition(t,e,i,o){const n=e.getAttribute("scale")??this.scale,r=this.brightnessHalfView,s=Number(e.getAttribute("offset")??this.topOffsetPercent),c=e.getAttribute("bgColor")??this.backgroundColor,a=t.getAttribute("offset")??"0",v=()=>({transform:`translate3d(0, ${i?a:"100"}%, 0)`}),w=()=>({transform:`translate3d(0, ${i?"100":a}%, 0)`}),d=()=>({filter:o?`brightness(${i?r:"1"})`:"",transform:o?"":`scale(${i?n:"1"}) translate3d(0, ${i?s:"0"}%, 0)`,borderRadius:o?"":i?this.borderRadius:"0",backgroundColor:o?"":i?c:this.backgroundColorDefault}),m=()=>({filter:o?`brightness(${i?"1":r})`:"",transform:o?"":`scale(${i?"1":n}) translate3d(0, ${i?"0":s}%, 0)`,borderRadius:o?"":i?"0":this.borderRadius,backgroundColor:o?"":i?this.backgroundColorDefault:c});return this.changeBrowserMetaColor(o,i),await Promise.all([t.animate([v(),w()],this.getDefaultAnimationOptions()).finished,e.animate([d(),m()],this.getDefaultAnimationOptions()).finished])}async transitionHalfView(t,e){const i=this.scale,o=this.brightnessHalfView,n=this.topOffsetPercent,r=()=>({filter:`brightness(${e?"1":o})`,transform:`scale(${e?i:"1"}) translate3d(0, ${e?n:"0"}%, 0)`,borderRadius:e?this.borderRadius:"0",backgroundColor:e?this.backgroundColor:this.backgroundColorDefault}),s=()=>({filter:`brightness(${e?o:"1"})`,transform:`scale(${e?"1":i}) translate3d(0, ${e?"0":n}%, 0)`,borderRadius:e?"0":this.borderRadius,backgroundColor:e?this.backgroundColorDefault:this.backgroundColor});this.changeBrowserMetaColor(e,!1),await t.animate([r(),s()],this.getDefaultAnimationOptions()).finished,h(t,s())}appendStyleBeforeTransition(t){h(t,{willChange:"filter, transform",overflow:"hidden",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"}),t.removeAttribute("scale"),t.removeAttribute("offset"),t.removeAttribute("bgColor")}appendStyleAfterTransition(t,e,i){if(e)return this.resetRootNodeStyle(t);h(t,{filter:i?`brightness(${this.brightnessHalfView})`:"",transform:i?"":`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,borderRadius:i?"":this.borderRadius,backgroundColor:i?"":this.backgroundColor})}changeBrowserMetaColor(t,e){Dt((i,o)=>t&&!e?ke(i,parseFloat(this.brightnessHalfView)):i)}resetRootNodeStyle(t){h(t,{filter:"",transform:"",position:"",willChange:"",overflow:"",top:"",left:"",right:"",bottom:"",zIndex:"",pointerEvents:"",backgroundColor:"",borderRadius:""})}},vi=class{constructor(t,e){this.target=t,this.rootNodeName=e,this.activeOverlayMap=new Map,this.subscriptions=new Map,this.container=U()}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(t){return this.activeOverlayMap.has(t)}async open(t){const e=await this.getPosition(t),i=this.createOverlayContainer(t);i.maxHeight=e[2],this.target==="center"?h(i,{top:"0px",left:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}):h(i,{top:`${e[1]}px`,left:`${e[0]}px`,borderRadius:"24px",boxShadow:"0 -3px 4px 0 var(--primary-12), 0 6px 12px 0 var(--primary-12)"}),await this.animateEnter(i,e[3]);const o=pe();return this.activeOverlayMap.set(o,i),this.subscribe(o),o}async close(t){if(!this.activeOverlayMap.has(t))return;const e=this.activeOverlayMap.get(t);await this.animateLeave(e),this.unsubscribe(t),e.remove(),this.activeOverlayMap.delete(t)}async getPosition(t){if(this.target==="center")return[0,0,window.innerHeight-8*2,null];const i=this.target.getBoundingClientRect(),o=await this.getRect(t);let n=i.right-o.width;n<=0&&(n=i.left);const r=i.top+i.height+8,s=window.innerHeight-r-8;return[n,r,s,i]}async getRect(t){const e=this.createOverlayContainer(t);h(e,{visibility:"hidden"}),document.body.appendChild(e),await new Promise(o=>requestAnimationFrame(o));const i=e.getBoundingClientRect();return e.remove(),i}createOverlayContainer(t){const e=document.createElement(N.tagName);return h(e,{position:"absolute",display:"flex",overflow:"hidden",alignItems:"flex-end",width:"fit-content",height:"fit-content",zIndex:"2000"}),pt(u`${t}`,e),this.container.appendChild(e),e}subscribe(t){const e=new Ve,i=this.activeOverlayMap.get(t);if(!i)return;if(this.target==="center"){e.add(g(i,"click").subscribe(n=>{n.target===i&&this.close(t).catch()}));return}e.add(g(window,"resize").subscribe(()=>this.close(t).catch()));const o=document.querySelector(this.rootNodeName);e.add(g(o,"scroll").subscribe(()=>this.updatePosition(t))),e.add(g(i,"click").subscribe(n=>{n.stopPropagation(),n.preventDefault()})),e.add(g(document,"click").subscribe(()=>{this.close(t).catch()})),this.subscriptions.set(t,e)}unsubscribe(t){if(!this.subscriptions.has(t))return;const e=this.subscriptions.get(t);e.closed||e.unsubscribe()}updatePosition(t){if(this.target==="center"||!this.activeOverlayMap.has(t))return;const e=this.activeOverlayMap.get(t),i=this.target.getBoundingClientRect(),o=e.getBoundingClientRect(),n=i.top+i.height+8,r=i.right-o.width;h(e,{top:`${n}px`,left:`${r}px`})}async animateEnter(t,e){const i={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const o=document.querySelector(this.rootNodeName);await Promise.all([o.animate([{filter:"blur(0)"},{filter:"blur(3px)"}],i),t.animate([{transform:"scale(.3)",opacity:.3},{transform:"scale(1)",opacity:1}],i).finished]),h(o,{filter:"blur(3px)"});return}if(!e)throw new Error("");await t.animate([{transform:`translate3d(${Lt()?-5:5}%, -5%, 0)`,opacity:.3},{transform:"translate3d(0, 0, 0)",opacity:1}],i).finished}async animateLeave(t){const e={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const i=document.querySelector(this.rootNodeName);await Promise.all([i.animate([{filter:"blur(3px)"},{filter:"blur(0)"}],e),t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(0)",opacity:0}],{...e,duration:300}).finished]),h(i,{filter:""});return}await t.animate([{transform:"translate3d(0, 0, 0)",opacity:1},{transform:`translate3d(${Lt()?-5:5}%, -5%, 0)`,opacity:0}],e).finished}},Zi=class{constructor(t,e){this.mobileMedia=Kt(),this.mobileOverlay=new gi(t),this.desktopOverlay=new vi(e,t)}get isOpen(){return this.mobileMedia.matches?this.mobileOverlay.isOpen:this.desktopOverlay.isOpen}isOpenOverlay(t){return this.mobileMedia.matches?this.mobileOverlay.isOpenOverlay(t):this.desktopOverlay.isOpenOverlay(t)}async open(t){return this.mobileMedia.matches?await this.mobileOverlay.open(t):await this.desktopOverlay.open(t)}async close(t){return this.mobileMedia.matches?await this.mobileOverlay.close(t):await this.desktopOverlay.close(t)}};function bi(t,e={}){const{width:i,head:o=6,tail:n=4}=e;return i!==void 0&&(i>1410||940>i&&i>800)?t:`${t.slice(0,o)}...${t.slice(t.length-n)}`}function ht(t,e){const o=_i(t,e).split("."),n=o[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return o.length>1?`${n}.${o[1]}`:n}function _i(t,e){const i=t.indexOf(".");if(i===-1||t.length-i-1<=e)return t;if(e>0){const n=i+e+1;return t.substring(0,n)}return t.substring(0,i)}function Ot(t,e,i=e){if(t.length===1)return t;const o=t.indexOf(".");if(o===-1||t.slice(0,o).length>1)return ht(t,i);let n=0;for(let r=o+1;r<t.length;r++)if(t[r]==="0")n++;else return ht(t,n+e);return ht(t,i)}function to(t,e,i=e){if(t.length===1)return t;const o=Ot(t,e,i),n=o.replace(/\s+/g,""),[r]=n.split("."),s=r.length;if(s<=6)return o;if(s>6&&s<=9){const v=n.slice(0,s-6),w=n.slice(s-6,s-5);return`${v}.${w}M`}const c=n.slice(0,s-9),a=n.slice(s-9,s-8);return`${c}.${a}B`}function eo(t){const e=Math.floor(t/86400);t%=24*3600;const i=Math.floor(t/3600);t%=3600;const o=Math.floor(t/60);t%=60;const n=[];return e>0&&n.push(`${e}D`),i>0&&n.push(`${i}H`),o>0&&n.push(`${o}m`),(t>0||n.length===0)&&n.push(`${t}s`),n.join(" ")}const ot=t=>t??xt;Se({en:()=>l(()=>import("./en-LH2H6NI6-C_uq8EBm.js"),[]).then(t=>t.default),ar:()=>l(()=>import("./ar-5E2DVKJM-qxeDwuXM.js"),[]).then(t=>t.default),fr:()=>l(()=>import("./fr-HW5JB3YP-DGulpzQJ.js"),[]).then(t=>t.default),es:()=>l(()=>import("./es-H5L7GO7Q-BC52Rg6L.js"),[]).then(t=>t.default),de:()=>l(()=>import("./de-6LJ5U5KP-BBNlfbH1.js"),[]).then(t=>t.default)});var wi=_`:host{--offset:72px;position:fixed;z-index:1000;margin-bottom:var(--offset);padding-top:var(--offset);padding-bottom:8px;padding-right:8px;box-sizing:border-box;top:0;right:0;height:100vh;width:300px;display:flex;flex-direction:column;gap:8px;overflow-x:hidden;pointer-events:none}`,fe=class extends A{constructor(){super(),this.notifications=[],this.animationInProgress=!1,this.animationStateQueue=[],this.fullView=!1,this.countShortView=0}connectedCallback(){super.connectedCallback(),P(this,[kt().pipe(ee(1),x(()=>this.controller.closeNotifications()))],{requestUpdate:!1})}setController(t){this.controller=t}setAllNotifications(t){if(this.animationInProgress){this.animationStateQueue.push(t);return}this.notifications=t,!this.fullView&&this.countShortView<this.maxShorthandView&&this.countShortView++,this.requestUpdate()}animationStartHandler(){this.animationInProgress=!0}animationCompleteHandler(){this.animationInProgress=!1;const t=this.animationStateQueue.shift();t&&(this.notifications=t,this.requestUpdate())}openAll(){this.onShowAll()}onShowAll(){this.fullView=!0,this.requestUpdate()}async closeNotification(t){await this.controller.closeNotification(t)}makeNotificationTemplate(t){const e=u`${t.element}`;return t.config.customTemplate?u`${e}`:u`<div class="notification-template">${e}</div>`}getSortedNotifications(){const t=this.notifications;return this.fullView?t:[...t.slice(0,this.countShortView)]}},me=_`.close-button-container{pointer-events:all;margin-left:auto}.notification-close-container{position:relative}.close-notification-button{pointer-events:all;position:absolute;top:-8px;right:-8px;transform:scale(0);transition:transform .2s}.notification-template{font-size:14px}.show-all-button{pointer-events:all}@media (hover:hover){.notification-container:hover{border:1px solid var(--primary-50)}.notification-close-container:hover .close-notification-button{transform:scale(1)}}`,yi=_`:host{position:relative;display:block}.notification-container{--border-color:var(--primary-12);pointer-events:all;color:var(--color-content-content-primary);background-color:var(--color-background-bg-primary);border-radius:8px;padding:8px;box-sizing:border-box;width:100%;min-height:50px;border:1px solid var(--border-color);transition:border .2s}.notification-title{font-size:16px;padding-bottom:4px;display:flex}.notification-time{font-size:11px;color:var(--color-content-content-secondary);margin-left:auto}.notification-time:dir(rtl){margin-left:0;margin-right:auto}.error{--border-color:var(--color-background-bg-critical)}.warning{--border-color:var(--color-background-bg-warning)}.close-notification-button{pointer-events:all;position:absolute;top:-8px;right:-8px;transform:scale(0);transition:transform .2s}@media (hover:hover){.notification-container:hover{--border-color:var(--primary-50)}.notification-container.error:hover{--border-color:var(--color-background-bg-critical-hover)}.notification-container.warning:hover{--border-color:var(--color-background-bg-warning-hover)}.notification-close-container:hover .close-notification-button{transform:scale(1)}}${Jt(_`:host{width:calc(100vw - 16px)}`)}`,W=class extends A{constructor(){super(...arguments),this.isClose=!1}connectedCallback(){super.connectedCallback(),P(this,[this.onTouch()],{requestUpdate:!1})}render(){var e,i,o;const t={"notification-container":!0,warning:((e=this.config)==null?void 0:e.warningStyle)??!1,error:((i=this.config)==null?void 0:i.errorStyle)??!1};return u`<div class="${At(t)}"><div><inch-button class="close-notification-button" @click="${()=>Nt(this,"closeNotification",null)}" size="l" type="secondary"><inch-icon icon="cross8"></inch-icon></inch-button></div><div class="notification-title"><span>${(o=this.config)==null?void 0:o.title}</span><div class="notification-time">${this.formatNotificationTime(this.timestamp)}</div></div><slot></slot></div>`}onTouch(){let t=0;return g(this,"touchstart").pipe(x(e=>{const i=e.touches[0].clientX;return g(document,"touchmove").pipe(S(o=>{if(this.isClose)return;t=o.touches[0].clientX-i,h(this,{transform:`translate3d(${t}px, 0, 0)`}),Math.abs(t)>window.innerWidth*.3&&this.onClose(t).catch()}),vt(g(document,"touchend").pipe(x(()=>this.onResetPosition(t)))))}))}async onResetPosition(t){this.isClose||(await this.animate([{transform:`translate3d(${t}px, 0, 0)`},{transform:"translate3d(0, 0, 0)"}],{duration:200}).finished,h(this,{transform:""}))}async onClose(t){this.isClose=!0,Nt(this,"closeNotification",null),await this.animate([{transform:`translate3d(${t}px, 0, 0)`},{transform:`translate3d(${t*10}px, 0, 0)`}],{duration:200}).finished,h(this,{transform:`translate3d(${t*10}px, 0, 0)`})}formatNotificationTime(t){const e=new Date(t),i=n=>n<10?"0"+n:n,o=[i(e.getHours()),i(e.getMinutes()),i(e.getSeconds())].join(":");return Date.now()-t>6*60*60*1e3?[[i(e.getDate()),i(e.getMonth()+1)].join("."),o].join(" "):o}};W.tagName="inch-notification-view";W.styles=yi;C([f({type:Object})],W.prototype,"config",2);C([f({type:Number})],W.prototype,"timestamp",2);W=C([$(W.tagName)],W);var xi={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"},ge=class{constructor(t){this.element=t,this.direction="vertical",this.vertical="notification-item",this.renderElements=null,this.removeElementsClientHeight=null,this.moveElements=null,this.animationOptions=xi}onKeyExtractor([t,e]){if(t==="fullView")return"item-"+t;const i=new Date(e.timestamp);return"item-"+t+`_${[i.getMinutes(),i.getSeconds()].join("-")}`}onTemplateBuilder([t,e]){return t==="fullView"?u`<inch-button @click="${()=>this.element.openAll()}" class="show-all-button" fullSize size="l" type="secondary"><inch-icon icon="arrowDown24"></inch-icon></inch-button>`:u`<inch-notification-view timestamp="${e.timestamp}" .config="${e.config}" @closeNotification="${()=>this.element.closeNotification(t)}">${this.element.makeNotificationTemplate(e)}</inch-notification-view>`}onAnimationStart(){this.element.animationStartHandler()}onAnimationComplete(){this.element.animationCompleteHandler()}async onBeforeAnimation(t,e,i,o){this.renderElements=e,this.removeElementsClientHeight=new Map,i.forEach((n,r)=>{this.removeElementsClientHeight.set(r,n.clientHeight)}),this.moveElements=o}async onAfterAnimation(){this.renderElements=null,this.removeElementsClientHeight=null,this.moveElements=null}async onAfterRenderAnimateItem(t,e){const i=()=>{this.onAfterRenderAnimateItemSkipTransition(t,e)};if(this.element.scrollTop>=this.topOffset){i();return}const o=t.getBoundingClientRect();if(o.top+o.height-this.topOffset>window.innerHeight){i();return}await this.onAfterRenderAnimateItemTransition(t,e),i()}async onBeforeMoveAnimationItem(t,e,i){return i}getOffsetByIndex(t){var i,o;let e=null;if((i=this.moveElements)==null||i.forEach((n,[r,s])=>{t-1===s&&(e=n.clientHeight*(r>s?-1:1))}),e===null&&this.removeElementsClientHeight){const n=(o=this.renderElements)==null?void 0:o.get(0);e=(n==null?void 0:n.clientHeight)??null}return e===null&&this.removeElementsClientHeight&&this.removeElementsClientHeight.forEach((n,r)=>{r===t&&(e=n*-1)}),e??0}},Ci=class extends ge{constructor(t){super(t),this.topOffset=100}async onBeforeRemoveAnimateItem(t){if(t.id===this.onKeyExtractor(["fullView",null])){t.animate([{opacity:1},{opacity:0}],{...this.animationOptions,duration:150});return}await t.animate([{transform:"translateX(0)"},{transform:"translateX(110%)"}],this.animationOptions).finished}async onBeforeRenderAnimateItem(t){h(t,{transform:"translateX(110%)"})}async onAfterMoveAnimationItem(t,e){if(t.getBoundingClientRect().top>window.innerHeight+this.topOffset)return;const o=this.getOffsetByIndex(e);await t.animate([{transform:`translateY(${o*-1}px)`},{transform:"translateY(0)"}],this.animationOptions).finished}async onAfterRenderAnimateItemTransition(t,e){const i=100+e*50;await t.animate([{transform:`translateX(${i}%)`},{transform:"translateX(0)"}],{...this.animationOptions,duration:this.animationOptions.duration+e*50}).finished}onAfterRenderAnimateItemSkipTransition(t){h(t,{transform:""})}},ut={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"},G=class extends fe{constructor(){super(...arguments),this.isClose=!1,this.maxShorthandView=4,this.animationController=new Ci(this)}connectedCallback(){super.connectedCallback();let t=0;P(this,[tt(Ei(this),Si(this)).pipe(L(()=>!this.isClose),S(e=>{if(Math.abs(e-t)>10&&e===0){this.animate([{transform:`translate3d(${t}px, 0, 0)`},{transform:"translate3d(0, 0, 0)"}],{...ut,delay:200}).finished.then(()=>{h(this,{transform:""})}),t=e;return}if(e*100/this.clientWidth>50){this.isClose=!0,this.animate([{transform:`translate3d(${e}px, 0, 0)`},{transform:"translate3d(100%, 0, 0)"}],ut).finished.then(()=>(h(this,{transform:"translate3d(100%, 0, 0)"}),this.controller.closeNotifications()));return}h(this,{transform:`translate3d(${e}px, 0, 0)`}),t=e}))],{requestUpdate:!1})}preRender(){h(this,{transform:"translateX(100%)"})}async postRender(){await this.animate([{transform:"translateX(100%)"},{transform:"translateX(0)"}],ut).finished,h(this,{transform:""})}async preClose(){this.isClose||(await this.animate([{transform:"translateX(0)"},{transform:"translateX(100%)"}],ut).finished,h(this,{transform:"translateX(100%)"}))}render(){return u`<div class="close-button-container"><inch-button @click="${()=>this.controller.closeNotifications()}" size="l" type="tertiary-gray"><inch-icon icon="cross8"></inch-icon></inch-button></div>${Qt(this.getSortedNotifications(),this.animationController)}`}getSortedNotifications(){const t=super.getSortedNotifications();return this.fullView?t:[...t,["fullView"]]}};G.tagName="inch-notifications-desktop-container";G.styles=[Vt(":host",!0),me,wi];G=C([$(G.tagName)],G);function Ei(t){let e=0,i=0,o=!1;const n=5e4,r=1,s=()=>{e=0,i=0,o=!1},c=a=>{if(a<0){const v=(t.clientWidth-a)*.02;return v>12&&(o=!0),r/n+(a-r)/v}return a};return g(document,"wheel").pipe(L(a=>a.deltaMode===a.DOM_DELTA_PIXEL),V(a=>(o&&a.stopPropagation(),e=e+a.deltaX,i=i+a.deltaY,Math.abs(e)-Math.abs(i)<0?0:e*-1)),x(a=>a===0?(s(),[0]):Ie(100).pipe(V(()=>(s(),0)),st(c(a)))),gt())}function Si(t){const e=g(document,"touchend"),i=5e4,o=1,n=r=>{if(r<0){const s=(t.clientWidth-r)*.02;return o/i+(r-o)/s}return r};return g(t,"touchstart").pipe(x(r=>{const s=r.touches[0].clientX;return g(document,"touchmove").pipe(V(c=>c.touches[0].clientX-s),x(c=>e.pipe(V(()=>0),st(n(c)))),vt(e.pipe($t(100))))}))}var Oi=_`:host{position:fixed;top:0;left:0;z-index:3000;display:grid;flex-direction:column;overflow-x:hidden}.touch-container{position:relative;padding:8px;box-sizing:border-box;max-width:100vw}.background-view{position:fixed;top:0;left:0;width:100%;height:100%;max-height:100vh;transition:background-color .2s;z-index:-1000}.info-view{display:flex;width:100%;height:48px}`,Ri=class extends ge{constructor(t){super(t),this.topOffset=200}onTemplateBuilder([t,e]){return u`<inch-notification-view timestamp="${e.timestamp}" .config="${e.config}" @closeNotification="${()=>this.element.closeNotification(t)}">${this.element.makeNotificationTemplate(e)}</inch-notification-view>`}async onBeforeRemoveAnimateItem(t){await t.animate([{transform:"translateY(0)"},{transform:"translateY(50px) scale(0.7)",opacity:0}],this.animationOptions).finished}async onBeforeRenderAnimateItem(t){h(t,{transform:"translateX(-110%)"})}async onAfterMoveAnimationItem(t,e){if(this.element.scrollTop>=this.topOffset||t.getBoundingClientRect().top>window.innerHeight+this.topOffset)return;const o=this.getOffsetByIndex(e);await t.animate([{transform:`translateY(${o*-1}px)`},{transform:"translateY(0)"}],this.animationOptions).finished}async onAfterRenderAnimateItemTransition(t,e){const i=100+e*10;await t.animate([{transform:`translateY(${i*-1}%)`,zIndex:`-${e}`},{transform:"translateY(0)",zIndex:`-${e}`}],{...this.animationOptions,duration:this.animationOptions.duration,delay:e*200}).finished}onAfterRenderAnimateItemSkipTransition(t){h(t,{transform:""})}},ki=_`:host{width:100%}.grid-container{display:grid;width:100%;height:100%;grid-template-columns:auto 1fr;grid-template-rows:1fr;grid-gap:16px}.address{padding-top:8px;font-size:16px;font-weight:600;line-height:32px;letter-spacing:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:100%;height:fit-content;text-align:center;color:var(--color-content-content-primary);display:flex;gap:8px;justify-content:flex-end;align-items:center}`,Vi={[R.eth]:"eth24",[R.bnb]:"bnb24",[R.matic]:"matic24",[R.op]:"op24",[R.arbitrum]:"arbitrum24",[R.gnosis]:"gnosis24",[R.avalanche]:"avalanche24",[R.fantom]:"fantom24",[R.aurora]:"aurora24",[R.klaytn]:"klaytn24",[R.zkSyncEra]:"zkSyncEra24"},Z=class extends A{constructor(){super(...arguments),this.addressView$=Ct(()=>this.applicationContext.connectWalletController.data.activeAddress$).pipe(V(t=>{if(!t)return"";const e=Math.max(Math.round(window.innerWidth/25),12),i=Math.round(e/2),o=e-i;return bi(t,{width:e,head:i,tail:o})})),this.chainIdIconName$=Ct(()=>this.applicationContext.connectWalletController.data.chainId$).pipe(V(t=>t?Vi[t]:""))}render(){return u`<div class="grid-container"><inch-icon icon="logoFull"></inch-icon><div class="address"><span>${Oe(this.addressView$)}</span></div></div>`}};Z.tagName="inch-notifications-mobile-info";Z.styles=ki;C([J({context:ft})],Z.prototype,"applicationContext",2);Z=C([$(Z.tagName)],Z);var K={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"},X=class extends fe{constructor(){super(...arguments),this.maxShorthandView=1,this.animationController=new Ri(this),this.touchContainerRef=q(),this.contentContainerRef=q(),this.backgroundViewRef=q(),this.upButtonElement=null,this.hostHeight=this.clientHeight,this.infoViewHeight=48,this.open$=new Zt,this.lastOffset=0,this.closeInProgress=!1,this.openInterpolation$=this.open$.pipe(x(()=>ve(10,this.infoViewHeight,200)))}firstUpdated(){P(this,[this.onShowHideUpButton(),this.swipeDownOnShortViewHandler()],{requestUpdate:!1})}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this.upButtonElement)==null||t.remove()}render(){return u`<div ${Y(this.backgroundViewRef)} class="background-view"></div><div ${Y(this.touchContainerRef)} class="touch-container"><div class="info-view"><inch-notifications-mobile-info></inch-notifications-mobile-info></div><div ${Y(this.contentContainerRef)} class="content-view">${Qt(this.getSortedNotifications(),this.animationController)}</div></div>`}async closeNotification(t){if(this.fullView){await this.controller.closeNotification(t);return}await this.controller.closeNotifications()}openAll(){this.hostHeight=this.clientHeight,this.open$.next()}preRender(){h(this,{transform:"translateY(-100%)"})}async postRender(){await this.animate([{transform:"translate3d(0, -100%, 0)"},{transform:`translate3d(0, ${-this.infoViewHeight}px, 0)`}],K).finished,h(this,{transform:`translate3d(0, ${-this.infoViewHeight}px, 0)`})}async preClose(){this.closeInProgress=!0,this.fullView?await Promise.all([this.contentContainerRef.value.animate([{transform:`translate3d(0, ${this.lastOffset}px, 0)`},{transform:"translate3d(0, 100%, 0)"}],{duration:1e3}).finished,this.touchContainerRef.value.animate([{opacity:1},{opacity:0}],{...K,duration:1e3}).finished,this.backgroundViewRef.value.animate([yt("blur(3px)"),yt("blur(0px)")],{...K,duration:1e3})]):await this.touchContainerRef.value.animate([{transform:`translate3d(0, ${this.lastOffset*-1}px, 0)`},{transform:"translate3d(0, -100%, 0)"}],{...K,duration:700}).finished}swipeDownOnShortViewHandler(){let t=this.fullView;return tt(this.openInterpolation$,$i(this,{startHandler:()=>{t=this.fullView,this.hostHeight=this.clientHeight,this.animationStartHandler()},endHandler:()=>{this.animationCompleteHandler()}})).pipe(V(e=>this.fullView&&e<this.infoViewHeight?this.infoViewHeight:e),S(e=>{!this.touchContainerRef.value||this.scrollTop>0||this.closeInProgress||(e<0?this.handleCloseOnShortView(e):(this.applyBackgroundBlur(e),this.applyOffsetOnContentContainer(e),this.applyOffsetOnShowAll(e),this.applyHostHeight(e),this.handleCloseOnFullView(e,t)),this.applyOffsetOnHost(e),this.lastOffset=e)}))}getUpButtonTemplate(){return u`<inch-button @click="${()=>this.scrollToUp()}" size="l"><inch-icon style="transform:rotate(180deg)" icon="arrowDown24"></inch-icon></inch-button>`}onShowHideUpButton(){return g(this,"scroll").pipe(st(null),V(()=>this.scrollTop>80),gt(),$t(300),x(async t=>{var e,i,o,n;if(t){if((e=this.upButtonElement)==null||e.remove(),this.upButtonElement=document.createElement("div"),pt(this.getUpButtonTemplate(),this.upButtonElement),h(this.upButtonElement,{position:"fixed",bottom:"16px",right:"16px",zIndex:"3010",transform:"translateY(200%)"}),U().appendChild(this.upButtonElement),await((i=this.upButtonElement)==null?void 0:i.animate([{transform:"translateY(200%)"},{transform:"translateY(0)"}],K).finished),this.upButtonElement===null)return;h(this.upButtonElement,{transform:""})}else await((o=this.upButtonElement)==null?void 0:o.animate([{transform:"translateY(0)"},{transform:"translateY(200%)"}],K).finished),(n=this.upButtonElement)==null||n.remove(),this.upButtonElement=null;return[]}))}applyBackgroundBlur(t){if(!this.backgroundViewRef.value||this.fullView)return;const e=3;let i=t*e/this.infoViewHeight;i=i>e?e:i,h(this.backgroundViewRef.value,{...yt(`blur(${i}px)`)})}applyOffsetOnContentContainer(t){if(!this.contentContainerRef.value)return;const e=t-this.infoViewHeight;e>=0&&h(this.contentContainerRef.value,{transform:`translate3d(0, ${e}px, 0)`})}applyOffsetOnShowAll(t){t>=this.infoViewHeight&&!this.fullView&&this.onShowAll()}applyOffsetOnHost(t){let e=this.infoViewHeight-t;e=Math.max(e,0),h(this,{transform:e===0?"":`translate3d(0, -${e}px, 0)`})}applyHostHeight(t){const e=window.innerHeight,i=this.hostHeight;let o=t*e/this.infoViewHeight;o=o>e?e:o,o=o<i?i:o,h(this,{height:`${o}px`})}handleCloseOnShortView(t){t<-(this.hostHeight*.25)&&this.controller.closeNotifications().catch(console.error)}handleCloseOnFullView(t,e){t>30*window.innerHeight/100&&e&&this.controller.closeNotifications().catch(console.error)}scrollToUp(){this.scrollTo({top:-1,left:0,behavior:"smooth"})}};X.tagName="inch-notifications-mobile-container";X.styles=[Vt(":host",!0),me,Oi];C([J({context:ft})],X.prototype,"applicationContext",2);X=C([$(X.tagName)],X);function $i(t,e){const i=g(document,"touchend");return g(t,"touchstart").pipe(x(o=>{var r;(r=e==null?void 0:e.startHandler)==null||r.call(e);const n=o.touches[0].clientY;return g(document,"touchmove").pipe(V(s=>s.touches[0].clientY-n),x(s=>i.pipe(x(()=>{var c;return(c=e==null?void 0:e.endHandler)==null||c.call(e),ve(s,0,500)}),st(s))),vt(i.pipe($t(600))))}))}function Ai(t,e){return i=>{const o=1-i,n=i*i,r=o*o,s=r*o,c=n*i;return s*0+3*r*i*t+3*o*n*e+c*1}}function Ti(t,e){const i=Ai(t,e);return(o,n,r)=>{const s=i(r);return o+(n-o)*s}}var Ii=Ti(0,.8);function ve(t,e,i){return new $e(o=>{const n=Date.now(),r=n+i;let s;const c=()=>{const a=Date.now(),v=a-n,w=Math.min(v/i,1),d=Ii(t,e,w);o.next(d),a<r?s=requestAnimationFrame(c):o.complete()};return s=requestAnimationFrame(c),()=>{s&&cancelAnimationFrame(s)}})}function yt(t){return{backdropFilter:t,"-webkit-backdrop-filter":t}}function zi(){return Pe(10)}var Pi=class{constructor(){this.cache=new ze("notifications",3),this.notifications=new Map,this.mobileMatchMedia=Kt(),this.activeContainer=null,this.update$=new Zt,this.notificationsCount$=this.update$.pipe(st(null),V(()=>this.notifications.size),gt())}async init(){const t=await this.cache.getAll();for(const e of t){const i=JSON.parse(e),o=document.createElement("template");o.innerHTML=i.template.trim();const n=o.content.firstChild;this.notifications.set(i.id,{...i,element:n})}this.update$.next()}async openAllNotifications(){const t=this.getNotificationsContainer();U().contains(t)||await this.renderContainer(),t.openAll()}async closeNotifications(){const t=this.getNotificationsContainer();await t.preClose(),t.remove(),this.activeContainer=null,this.update$.next()}async closeNotification(t){if(!this.notifications.has(t))return;if(this.notifications.delete(t),await this.cache.delete(t),this.notifications.size===0){await this.closeNotifications();return}const e=this.getNotificationsContainer();U().contains(e)?e.setAllNotifications(this.getSortedNotifications()):await this.renderContainer(),this.update$.next()}async error(t){return await this.show("Error",t,{errorStyle:!0})}async warning(t){return await this.show("Warning",t,{warningStyle:!0})}async show(t,e,i){return await this.render(e,{...i,title:t})}async render(t,e){const i=zi(),o=typeof t=="string"?u`${t}`:t,n=document.createElement("div");pt(o,n),await ne();const r={id:i,element:n,config:e??{},timestamp:Date.now()};this.notifications.set(i,r),((e==null?void 0:e.notCache)??!1)||await this.cacheNotification(i,r);const s=this.getNotificationsContainer();return U().contains(s)?s.setAllNotifications(this.getSortedNotifications()):await this.renderContainer(),this.update$.next(),i}async renderContainer(){const t=this.getNotificationsContainer();t.setAllNotifications(this.getSortedNotifications()),await t.preRender(),U().appendChild(t),await t.postRender(),this.update$.next()}getNotificationsContainer(){if(this.activeContainer!==null)return this.activeContainer;let t;return this.mobileMatchMedia.matches?t=document.createElement(X.tagName):t=document.createElement(G.tagName),t.setController(this),this.activeContainer=t,t}async cacheNotification(t,e){try{const o=new XMLSerializer().serializeToString(e.element),n=JSON.stringify({...e,template:o,element:void 0});await this.cache.set(t,n)}catch(i){console.warn(i)}}getSortedNotifications(){return[...this.notifications.entries()].sort((t,e)=>{const i=t[1];return e[1].timestamp-i.timestamp})}},Li=_`:host{position:relative}.notification-counter{position:absolute;top:0;right:0;font-size:8px;background-color:var(--color-background-bg-info);border-radius:8px;min-width:10px;height:12px;display:flex;padding-left:2px;padding-right:2px;justify-content:center;align-items:center;color:var(--color-content-content-primary);pointer-events:none}`,M=class extends A{constructor(){super(...arguments),this.count=0,this.count$=Ct(()=>this.applicationContext.notificationsController.notificationsCount$)}firstUpdated(){this.count=this.applicationContext.storageController.get("inch-notifications-open-button__count",Number)??0,P(this,[this.count$.pipe(S(t=>{this.applicationContext.storageController.set("inch-notifications-open-button__count",t),this.count=t}))])}render(){return u`<inch-button disabled="${ot(this.count===0?"":void 0)}" @click="${()=>this.applicationContext.notificationsController.openAllNotifications()}" size="l" type="primary-gray"><inch-icon icon="bell24"></inch-icon></inch-button>${Tt(this.count,()=>u`<span class="notification-counter">${this.count}</span>`)}`}};M.tagName="inch-notifications-open-button";M.styles=[Li];C([J({context:ft})],M.prototype,"applicationContext",2);C([te()],M.prototype,"count",2);M=C([$(M.tagName)],M);var Ni=_`.loading-view{display:flex;gap:8px;align-items:center;min-height:38px}.loader{width:16px;height:16px;border-radius:50%;border:1px solid;border-bottom-color:var(--secondary);border-top-color:var(--secondary);animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.status-view-container{display:flex;align-items:center;gap:8px;width:100%}.token-icon-container{grid-row:1/span 2;position:relative;height:34px;width:34px;min-width:34px}.source-token-icon{display:block}.destination-token-icon{position:absolute;display:block;top:10px;right:0}.amount-status-view{font-size:14px;color:var(--color-content-content-primary)}.symbol-view{font-size:12px;color:var(--color-content-content-secondary)}.status-container{margin-top:4px;display:flex;align-items:center;font-size:11px;gap:4px}.status-view{border-radius:16px;display:flex;align-items:center;justify-content:center;width:fit-content;padding:2px 6px}.status-view__pending{background-color:var(--primary-50)}.status-view__partially-filled{background-color:var(--primary-50)}.status-view__cancelled,.status-view__filled{background-color:var(--color-background-bg-info)}.status-view__expired{background-color:var(--color-background-bg-warning)}.status-view__false-predicate,.status-view__invalid-signature,.status-view__not-enough-balance-or-allowance,.status-view__wrong-permit{background-color:var(--color-background-bg-critical)}.cancel-button{margin-left:auto}.cancel-button:dir(rtl){margin-left:0;margin-right:auto}.swap-info-container{width:100%}`;l(()=>import("./index.esm-BWXo3r6P.js"),__vite__mapDeps([48,1,49,50,51,52,53,54,55,56,57,58,59,60]));l(()=>import("./index.esm-CubW3Ub4.js"),__vite__mapDeps([61,1,52,49,53,51,54,55,56,57,50,58,59,60]));l(()=>Promise.resolve().then(()=>ti),void 0);var D=class extends A{constructor(){super(...arguments),this.task=new oe(this,async([t])=>{const e=this.chainId??await this.applicationContext.connectWalletController.data.getChainId();if(!e||!t)throw new Error("");this.chainId||this.startUpdate(e),this.chainId=e;const i=await this.applicationContext.oneInchDevPortalAdapter.getFusionOrderStatus(e,t);if("statusCode"in i)throw i;if(this.task.value!==void 0){const r=this.task.value[1],s=this.task.value[2];return[i,r,s]}const[o,n]=await Promise.all([this.applicationContext.tokenController.getToken(e,i.order.makerAsset),this.applicationContext.tokenController.getToken(e,i.order.takerAsset)]);return[i,o,n]},()=>[this.orderHash])}connectedCallback(){super.connectedCallback(),this.chainId&&this.startUpdate(this.chainId)}render(){return this.task.render({complete:([t,e,i])=>this.onCompleteView(t,e,i),pending:()=>this.onPendingView(),error:t=>this.onErrorView(t)})}onCompleteView(t,e,i){const o=this.chainId;if(!e||!i||!o)return u``;const n=BigInt(t.order.makingAmount),r=BigInt(t.order.takingAmount);return u`<div class="status-view-container"><div class="token-icon-container"><inch-token-icon class="source-token-icon" symbol="${ot(e==null?void 0:e.symbol)}" address="${ot(e==null?void 0:e.address)}" .chainId="${o}"></inch-token-icon><inch-token-icon class="destination-token-icon" symbol="${ot(i==null?void 0:i.symbol)}" address="${ot(i==null?void 0:i.address)}" .chainId="${o}"></inch-token-icon></div><div class="swap-info-container"><div class="amount-status-view">${Ot(Bt(n,e.decimals),2)} <span class="symbol-view">${e==null?void 0:e.symbol}</span> → ${Ot(Bt(r,i.decimals),2)} <span class="symbol-view">${i==null?void 0:i.symbol}</span></div><div class="swap-status-view">${this.getStatusView(t)}</div></div></div>`}onPendingView(){return this.task.value?this.onCompleteView(...this.task.value):u`<div class="loading-view"><div class="loader"></div><div>Update order status</div></div>`}onErrorView(t){return typeof t=="object"&&t!==null&&"statusCode"in t&&typeof t.statusCode=="number"&&t.statusCode>=400&&t.statusCode<500?u`<div class="error-view"><div>Swap not found</div></div>`:u`<div class="error-view"><div>Error load swap status</div></div>`}getStatusView(t){const e=t.status,i={"status-view":!0,["status-view__"+e]:!0},o=(t.auctionStartDate+t.auctionDuration)*1e3;return u`<div class="status-container"><div class="${At(i)}">${Mt(`widgets.notifications.fusion-swap-view.status.${e}`)}</div>${Tt(e==="pending"||e==="partially-filled",()=>u`<span><inch-timer expirationTime="${o}"></inch-timer></span><inch-button class="cancel-button" size="s" type="secondary-critical" @click="${()=>this.applicationContext.oneInchDevPortalAdapter.cancelFusionOrder(this.chainId,this.orderHash)}">${Mt("widgets.notifications.fusion-swap-view.control.cancel")}</inch-button>`)}</div>`}startUpdate(t){P(this,[Te(t).pipe(S(()=>{if(this.task.status!==Ue.COMPLETE||!this.task.value)return;const e=this.task.value[0];e.status!=="pending"&&e.status!=="partially-filled"||this.task.run([this.orderHash]).catch(console.error)}))],{requestUpdate:!1})}};D.tagName="inch-notification-fusion-swap-view";D.styles=Ni;C([f({type:String})],D.prototype,"orderHash",2);C([J({context:ft})],D.prototype,"applicationContext",2);D=C([$(D.tagName)],D);const io=Object.freeze(Object.defineProperty({__proto__:null,get NotificationFusionSwapViewElement(){return D},NotificationsController:Pi,get NotificationsOpenButtonElement(){return M}},Symbol.toStringTag,{value:"Module"}));export{Zi as O,N as S,Tt as a,Xi as b,J as c,bi as d,At as e,ht as f,Fe as g,oe as h,gi as i,q as j,Y as k,eo as l,to as m,f as n,ot as o,Gi as p,ne as q,te as r,Ot as s,Qi as t,io as u};
//# sourceMappingURL=index.esm-BVphBGE9.js.map
