const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-0DFM4q5h.js","assets/index-DyOQYfny.js","assets/index.esm-BmGDGD-v.js","assets/startWith-CUA0N737.js","assets/index.esm-COc-PyqV.js"])))=>i.map(i=>d[i]);
import{_ as br}from"./index-DyOQYfny.js";import{t as Yi,c as Ji,C as x,s as Gs,o as Xi,a as Qi,T as ea,m as ta,d as na,Q as ra,b as sa}from"./index.esm-BmGDGD-v.js";import{a as Hs,O as qs,f as Bn,s as oa,m as ia}from"./startWith-CUA0N737.js";function aa(e,t){return t===void 0&&(t=Ji),Yi(e,e,t)}const ca="1.0.5";let se=class _n extends Error{constructor(t,n={}){var i;const r=n.cause instanceof _n?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof _n&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${ca}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Fe(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Vs=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ws=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Zs=/^\(.+?\).*?$/,ss=/^tuple(?<array>(\[(\d*)\])*)$/;function Dn(e){let t=e.type;if(ss.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Dn(o),s<n-1&&(t+=", ")}const r=Fe(ss,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Dn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function mt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Dn(s),r!==n-1&&(t+=", ")}return t}function ua(e){return e.type==="function"?`function ${e.name}(${mt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${mt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${mt(e.inputs)})`:e.type==="error"?`error ${e.name}(${mt(e.inputs)})`:e.type==="constructor"?`constructor(${mt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Ks=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function la(e){return Ks.test(e)}function da(e){return Fe(Ks,e)}const Ys=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function fa(e){return Ys.test(e)}function pa(e){return Fe(Ys,e)}const Js=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ba(e){return Js.test(e)}function ha(e){return Fe(Js,e)}const Xs=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Qs(e){return Xs.test(e)}function ma(e){return Fe(Xs,e)}const eo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ya(e){return eo.test(e)}function ga(e){return Fe(eo,e)}const wa=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function va(e){return wa.test(e)}const xa=/^receive\(\) external payable$/;function Pa(e){return xa.test(e)}const Ea=new Set(["indexed"]),Un=new Set(["calldata","memory","storage"]);class Ba extends se{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Ia extends se{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class $a extends se{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Sa extends se{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class ka extends se{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Aa extends se{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ta extends se{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class vt extends se{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Ca extends se{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Oa extends se{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Na extends se{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Fa extends se{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function ja(e,t){return t?`${t}:${e}`:e}const In=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ra(e,t={}){if(ba(e)){const n=ha(e);if(!n)throw new vt({signature:e,type:"function"});const r=ce(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Me(r[a],{modifiers:Un,structs:t,type:"function"}));const i=[];if(n.returns){const a=ce(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Me(a[u],{modifiers:Un,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}if(fa(e)){const n=pa(e);if(!n)throw new vt({signature:e,type:"event"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Me(r[i],{modifiers:Ea,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(la(e)){const n=da(e);if(!n)throw new vt({signature:e,type:"error"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Me(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(ya(e)){const n=ga(e);if(!n)throw new vt({signature:e,type:"constructor"});const r=ce(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Me(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(va(e))return{type:"fallback"};if(Pa(e))return{type:"receive",stateMutability:"payable"};throw new Ca({signature:e})}const za=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ma=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,La=/^u?int$/;function Me(e,t){var d,f;const n=ja(e,t==null?void 0:t.type);if(In.has(n))return In.get(n);const r=Zs.test(e),s=Fe(r?Ma:za,e);if(!s)throw new $a({param:e});if(s.name&&Da(s.name))throw new Sa({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=ce(s.type),b=[],p=h.length;for(let y=0;y<p;y++)b.push(Me(h[y],{structs:a}));u={components:b}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(La.test(s.type))c=`${s.type}256`;else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!to(c))throw new Ia({type:c});if(s.modifier){if(!((f=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&f.call(d,s.modifier)))throw new ka({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Un.has(s.modifier)&&!Ua(c,!!s.array))throw new Aa({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...o,...i,...u};return In.set(n,l),l}function ce(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ce(a,[...t,n.trim()]):ce(a,t,`${n}${i}`,r);case"(":return ce(a,t,`${n}${i}`,r+1);case")":return ce(a,t,`${n}${i}`,r-1);default:return ce(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Fa({current:n,depth:r});return t.push(n.trim()),t}function to(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Vs.test(e)||Ws.test(e)}const _a=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Da(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Vs.test(e)||Ws.test(e)||_a.test(e)}function Ua(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Ga(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Qs(a))continue;const c=ma(a);if(!c)throw new vt({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let f=0;f<d;f++){const b=u[f].trim();if(!b)continue;const p=Me(b,{type:"struct"});l.push(p)}if(!l.length)throw new Oa({signature:a});t[c.name]=l}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=no(c,t)}return r}const Ha=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function no(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Zs.test(i.type))r.push(i);else{const c=Fe(Ha,i.type);if(!(c!=null&&c.type))throw new Ta({abiParameter:i});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new Na({type:l});r.push({...i,type:`tuple${u??""}`,components:no(t[l]??[],t,new Set([...n,l]))})}else if(to(l))r.push(i);else throw new Ba({type:l})}}return r}function he(e){const t=Ga(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Qs(o)||n.push(Ra(o,t))}return n}function N(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function xe(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new ic(e.type);return`${e.name}(${an(e.inputs,{includeName:t})})`}function an(e,{includeName:t=!1}={}){return e?e.map(n=>qa(n,{includeName:t})).join(t?", ":","):""}function qa(e,{includeName:t}){return e.type.startsWith("tuple")?`(${an(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function pe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function U(e){return pe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Va="2.17.0",Wa=e=>e,cn=e=>e,Za=()=>`viem@${Va}`;class P extends Error{constructor(t,n={}){var o;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Za()});const r=n.cause instanceof P?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof P&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${n.docsBaseUrl??"https://viem.sh"}${s}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return ro(this,t)}}function ro(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?ro(e.cause,t):t?null:e}class Ka extends P{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class os extends P{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class so extends P{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${an(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class un extends P{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Ya extends P{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Ja extends P{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${U(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Xa extends P{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class oo extends P{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Qa extends P{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class io extends P{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class is extends P{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class rn extends P{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class ec extends P{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class tc extends P{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${xe(t.abiItem)}\`, and`,`\`${n.type}\` in \`${xe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class nc extends P{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Pt extends P{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${an(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class ln extends P{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${xe(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class rc extends P{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class sc extends P{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class oc extends P{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class ic extends P{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class rp extends P{constructor(t){super(`Type "${t}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class ac extends P{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class ao extends P{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class co extends P{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class as extends P{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function Ke(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ce(e,{dir:t,size:n}):cc(e,{dir:t,size:n})}function Ce(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new co({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function cc(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new co({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}class uc extends P{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class lc extends P{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class dc extends P{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function st(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function me(e,{size:t}){if(U(e)>t)throw new dc({givenSize:U(e),maxSize:t})}function D(e,t={}){const{signed:n}=t;t.size&&me(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function be(e,t={}){return Number(D(e,t))}const fc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function T(e,t={}){return typeof e=="number"||typeof e=="bigint"?j(e,t):typeof e=="string"?Et(e,t):typeof e=="boolean"?uo(e,t):q(e,t)}function uo(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(me(n,{size:t.size}),Ke(n,{size:t.size})):n}function q(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=fc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(me(r,{size:t.size}),Ke(r,{dir:"right",size:t.size})):r}function j(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new uc({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ke(a,{size:r}):a}const pc=new TextEncoder;function Et(e,t={}){const n=pc.encode(e);return q(n,t)}const bc=new TextEncoder;function ue(e,t={}){return typeof e=="number"||typeof e=="bigint"?mc(e,t):typeof e=="boolean"?hc(e,t):pe(e)?le(e,t):De(e,t)}function hc(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(me(n,{size:t.size}),Ke(n,{size:t.size})):n}const ye={zero:48,nine:57,A:65,F:70,a:97,f:102};function cs(e){if(e>=ye.zero&&e<=ye.nine)return e-ye.zero;if(e>=ye.A&&e<=ye.F)return e-(ye.A-10);if(e>=ye.a&&e<=ye.f)return e-(ye.a-10)}function le(e,t={}){let n=e;t.size&&(me(n,{size:t.size}),n=Ke(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=cs(r.charCodeAt(a++)),u=cs(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new P(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function mc(e,t){const n=j(e,t);return le(n)}function De(e,t={}){const n=bc.encode(e);return typeof t.size=="number"?(me(n,{size:t.size}),Ke(n,{dir:"right",size:t.size})):n}function sn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function yc(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ut(e,...t){if(!yc(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function gc(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sn(e.outputLen),sn(e.blockLen)}function ot(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function lo(e,t){Ut(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Jt=BigInt(2**32-1),us=BigInt(32);function wc(e,t=!1){return t?{h:Number(e&Jt),l:Number(e>>us&Jt)}:{h:Number(e>>us&Jt)|0,l:Number(e&Jt)|0}}function vc(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:i}=wc(e[s],t);[n[s],r[s]]=[o,i]}return[n,r]}const xc=(e,t,n)=>e<<n|t>>>32-n,Pc=(e,t,n)=>t<<n|e>>>32-n,Ec=(e,t,n)=>t<<n-32|e>>>64-n,Bc=(e,t,n)=>e<<n-32|t>>>64-n,$n=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const Ic=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Sn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),fe=(e,t)=>e<<32-t|e>>>t,ls=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,$c=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function ds(e){for(let t=0;t<e.length;t++)e[t]=$c(e[t])}function Sc(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function dn(e){return typeof e=="string"&&(e=Sc(e)),Ut(e),e}function kc(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ut(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class hr{clone(){return this._cloneInto()}}function fo(e){const t=r=>e().update(dn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ac(e=32){if($n&&typeof $n.getRandomValues=="function")return $n.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const po=[],bo=[],ho=[],Tc=BigInt(0),yt=BigInt(1),Cc=BigInt(2),Oc=BigInt(7),Nc=BigInt(256),Fc=BigInt(113);for(let e=0,t=yt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],po.push(2*(5*r+n)),bo.push((e+1)*(e+2)/2%64);let s=Tc;for(let o=0;o<7;o++)t=(t<<yt^(t>>Oc)*Fc)%Nc,t&Cc&&(s^=yt<<(yt<<BigInt(o))-yt);ho.push(s)}const[jc,Rc]=vc(ho,!0),fs=(e,t,n)=>n>32?Ec(e,t,n):xc(e,t,n),ps=(e,t,n)=>n>32?Bc(e,t,n):Pc(e,t,n);function zc(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],l=n[c+1],d=fs(u,l,1)^n[a],f=ps(u,l,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=f}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=bo[i],c=fs(s,o,a),u=ps(s,o,a),l=po[i];s=e[l],o=e[l+1],e[l]=c,e[l+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=jc[r],e[1]^=Rc[r]}n.fill(0)}class mr extends hr{constructor(t,n,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ic(this.state)}keccak(){ls||ds(this.state32),zc(this.state32,this.rounds),ls||ds(this.state32),this.posOut=0,this.pos=0}update(t){ot(this);const{blockLen:n,state:r}=this;t=dn(t);const s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){ot(this,!1),Ut(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return sn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(lo(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new mr(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Mc=(e,t,n)=>fo(()=>new mr(t,e,n)),Lc=Mc(1,136,256/8);function J(e,t){const n=t||"hex",r=Lc(pe(e,{strict:!1})?ue(e):e);return n==="bytes"?r:T(r)}const _c=e=>J(ue(e));function Dc(e){return _c(e)}function Uc(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new P("Unable to normalize signature.");return s}const Gc=e=>{const t=typeof e=="string"?e:ua(e);return Uc(t)};function mo(e){return Dc(Gc(e))}const yr=mo;class Y extends P{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class gr extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const kn=new gr(8192);function wr(e,t){if(kn.has(`${e}.${t}`))return kn.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=J(De(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return kn.set(`${e}.${t}`,o),o}function sp(e,t){if(!H(e,{strict:!1}))throw new Y({address:e});return wr(e,t)}const Hc=/^0x[a-fA-F0-9]{40}$/,An=new gr(8192);function H(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(An.has(r))return An.get(r);const s=Hc.test(e)?e.toLowerCase()===e?!0:n?wr(e)===e:!0:!1;return An.set(r,s),s}function Pe(e){return typeof e[0]=="string"?Ie(e):qc(e)}function qc(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ie(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Bt(e,t,n,{strict:r}={}){return pe(e,{strict:!1})?vo(e,t,n,{strict:r}):wo(e,t,n,{strict:r})}function yo(e,t){if(typeof t=="number"&&t>0&&t>U(e)-1)throw new ao({offset:t,position:"start",size:U(e)})}function go(e,t,n){if(typeof t=="number"&&typeof n=="number"&&U(e)!==n-t)throw new ao({offset:n,position:"end",size:U(e)})}function wo(e,t,n,{strict:r}={}){yo(e,t);const s=e.slice(t,n);return r&&go(s,t,n),s}function vo(e,t,n,{strict:r}={}){yo(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&go(s,t,n),s}function Ye(e,t){if(e.length!==t.length)throw new Xa({expectedLength:e.length,givenLength:t.length});const n=Vc({params:e,values:t}),r=xr(n);return r.length===0?"0x":r}function Vc({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(vr({param:e[r],value:t[r]}));return n}function vr({param:e,value:t}){const n=Pr(e.type);if(n){const[r,s]=n;return Zc(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Qc(t,{param:e});if(e.type==="address")return Wc(t);if(e.type==="bool")return Yc(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return Jc(t,{signed:r})}if(e.type.startsWith("bytes"))return Kc(t,{param:e});if(e.type==="string")return Xc(t);throw new rc(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function xr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=U(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(j(t+s,{size:32})),r.push(a),s+=U(a)):n.push(a)}return Pe([...n,...r])}function Wc(e){if(!H(e))throw new Y({address:e});return{dynamic:!1,encoded:Ce(e.toLowerCase())}}function Zc(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new oc(e);if(!r&&e.length!==t)throw new Ya({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=vr({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=xr(o);if(r){const a=j(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Pe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Pe(o.map(({encoded:i})=>i))}}function Kc(e,{param:t}){const[,n]=t.type.split("bytes"),r=U(e);if(!n){let s=e;return r%32!==0&&(s=Ce(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Pe([Ce(j(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new Ja({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Ce(e,{dir:"right"})}}function Yc(e){if(typeof e!="boolean")throw new P(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ce(uo(e))}}function Jc(e,{signed:t}){return{dynamic:!1,encoded:j(e,{size:32,signed:t})}}function Xc(e){const t=Et(e),n=Math.ceil(U(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ce(Bt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Pe([Ce(j(U(t),{size:32})),...r])}}function Qc(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=vr({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?xr(r):Pe(r.map(({encoded:s})=>s))}}function Pr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Je=e=>Bt(mo(e),0,4);function Gt(e){const{abi:t,args:n=[],name:r}=e,s=pe(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Je(a)===r:a.type==="event"?yr(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in a&&a.inputs[l];return d?Gn(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=xo(a.inputs,i.inputs,n);if(u)throw new tc({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Gn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return H(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Gn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Gn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function xo(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return xo(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?H(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?H(n[r],{strict:!1}):!1)return i}}const bs="/docs/contract/encodeEventTopics";function Ht(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Gt({abi:t,name:n});if(!u)throw new is(n,{docsPath:bs});s=u}if(s.type!=="event")throw new is(void 0,{docsPath:bs});const o=xe(s),i=yr(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];l.length>0&&(a=(u==null?void 0:u.map((d,f)=>Array.isArray(l[f])?l[f].map((h,b)=>hs({param:d,value:l[f][b]})):l[f]?hs({param:d,value:l[f]}):null))??[])}return[i,...a]}function hs({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return J(ue(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ac(e.type);return Ye([e],[t])}function fn(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function Po(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=fn(e,{method:"eth_newFilter"}),l=o?Ht({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?j(i):i,toBlock:typeof c=="bigint"?j(c):c,topics:l}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function je(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const ms="/docs/contract/encodeFunctionData";function eu(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Gt({abi:t,args:n,name:r});if(!o)throw new rn(r,{docsPath:ms});s=o}if(s.type!=="function")throw new rn(void 0,{docsPath:ms});return{abi:[s],functionName:Je(xe(s))}}function Re(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:eu(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?Ye(s.inputs,t??[]):void 0;return Ie([o,i??"0x"])}const Eo={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},tu={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},nu={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class ys extends P{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Bo extends P{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class ru extends P{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const su={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ru({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Bo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ys({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ys({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Er(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(su);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function ou(e,t={}){typeof t.size<"u"&&me(e,{size:t.size});const n=q(e,t);return D(n,t)}function iu(e,t={}){let n=e;if(typeof t.size<"u"&&(me(n,{size:t.size}),n=st(n)),n.length>1||n[0]>1)throw new lc(n);return!!n[0]}function ve(e,t={}){typeof t.size<"u"&&me(e,{size:t.size});const n=q(e,t);return be(n,t)}function au(e,t={}){let n=e;return typeof t.size<"u"&&(me(n,{size:t.size}),n=st(n,{dir:"right"})),new TextDecoder().decode(n)}function qt(e,t){const n=typeof t=="string"?le(t):t,r=Er(n);if(U(n)===0&&e.length>0)throw new un;if(U(t)&&U(t)<32)throw new so({data:typeof t=="string"?t:q(t),params:e,size:U(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=rt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function rt(e,t,{staticPosition:n}){const r=Pr(t.type);if(r){const[s,o]=r;return uu(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return pu(e,t,{staticPosition:n});if(t.type==="address")return cu(e);if(t.type==="bool")return lu(e);if(t.type.startsWith("bytes"))return du(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return fu(e,t);if(t.type==="string")return bu(e,{staticPosition:n});throw new sc(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const gs=32,Hn=32;function cu(e){const t=e.readBytes(32);return[wr(q(wo(t,-20))),32]}function uu(e,t,{length:n,staticPosition:r}){if(!n){const i=ve(e.readBytes(Hn)),a=r+i,c=a+gs;e.setPosition(a);const u=ve(e.readBytes(gs)),l=It(t);let d=0;const f=[];for(let h=0;h<u;++h){e.setPosition(c+(l?h*32:d));const[b,p]=rt(e,t,{staticPosition:c});d+=p,f.push(b)}return e.setPosition(r+32),[f,32]}if(It(t)){const i=ve(e.readBytes(Hn)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[l]=rt(e,t,{staticPosition:a});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=rt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function lu(e){return[iu(e.readBytes(32),{size:32}),32]}function du(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=ve(e.readBytes(32));e.setPosition(n+i);const a=ve(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[q(c),32]}return[q(e.readBytes(Number.parseInt(s),32)),32]}function fu(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?ou(s,{signed:n}):ve(s,{signed:n}),32]}function pu(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(It(t)){const i=ve(e.readBytes(Hn)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[l,d]=rt(e,u,{staticPosition:a});o+=d,s[r?c:u==null?void 0:u.name]=l}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=rt(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function bu(e,{staticPosition:t}){const n=ve(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ve(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=au(st(o));return e.setPosition(t+32),[i,32]}function It(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(It);const n=Pr(e.type);return!!(n&&It({...e,type:n[1]}))}function hu(e){const{abi:t,data:n}=e,r=Bt(n,0,4);if(r==="0x")throw new un;const o=[...t||[],tu,nu].find(i=>i.type==="error"&&r===Je(xe(i)));if(!o)throw new oo(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?qt(o.inputs,Bt(n,4)):void 0,errorName:o.name}}const Z=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Io({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?Z(t[o]):t[o]}`).join(", ")})`}const mu={gwei:9,wei:18},yu={ether:-9,wei:9};function $o(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Br(e,t="wei"){return $o(e,mu[t])}function Q(e,t="wei"){return $o(e,yu[t])}class gu extends P{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class wu extends P{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function ws(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function vu(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ws(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ws(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Vt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class xu extends P{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Pu extends P{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class Eu extends P{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Vt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Bu extends P{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class op extends P{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var b;const h=Vt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${Br(f)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Q(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Q(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Q(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class So extends P{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class ko extends P{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class vs extends P{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Ao extends P{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f,stateOverride:h}){var y;const b=n?je(n):void 0;let p=Vt({from:b==null?void 0:b.address,to:d,value:typeof f<"u"&&`${Br(f)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Q(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Q(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Q(u)} gwei`,nonce:l});h&&(p+=`
${vu(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Iu extends P{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Gt({abi:n,args:r,name:i}),u=c?Io({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?xe(c,{includeName:!0}):void 0,d=Vt({address:s&&Wa(s),function:l,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class qn extends P{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=hu({abi:t,data:n});const{abiItem:l,errorName:d,args:f}=i;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=Eo[h]}else{const h=l?xe(l,{includeName:!0}):void 0,b=l&&f?Io({abiItem:l,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(l){o=l}else s&&(c=s);let u;o instanceof oo&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.reason=c,this.signature=u}}class $u extends P{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Su extends P{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CounterfactualDeploymentFailedError"})}}class Ir extends P{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class xt extends P{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${cn(i)}`,t&&`Request body: ${Z(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class ku extends P{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${cn(r)}`,`Request body: ${Z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class pn extends P{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${cn(r)}`,`Request body: ${Z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Vn extends P{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${cn(n)}`,`Request body: ${Z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Au=-1;class ee extends P{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof pn?t.code:n??Au}}class ft extends ee{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class $t extends ee{constructor(t){super(t,{code:$t.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class St extends ee{constructor(t){super(t,{code:St.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class kt extends ee{constructor(t){super(t,{code:kt.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class At extends ee{constructor(t){super(t,{code:At.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class He extends ee{constructor(t){super(t,{code:He.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(He,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class qe extends ee{constructor(t){super(t,{code:qe.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Tt extends ee{constructor(t){super(t,{code:Tt.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ct extends ee{constructor(t){super(t,{code:Ct.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class it extends ee{constructor(t){super(t,{code:it.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ot extends ee{constructor(t){super(t,{code:Ot.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class at extends ee{constructor(t){super(t,{code:at.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(at,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Nt extends ee{constructor(t){super(t,{code:Nt.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Ue extends ft{constructor(t){super(t,{code:Ue.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Ue,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ft extends ft{constructor(t){super(t,{code:Ft.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class jt extends ft{constructor(t){super(t,{code:jt.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Rt extends ft{constructor(t){super(t,{code:Rt.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class zt extends ft{constructor(t){super(t,{code:zt.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Mt extends ft{constructor(t){super(t,{code:Mt.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Tu extends ee{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Cu=3;function Lt(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const{code:a,data:c,message:u,shortMessage:l}=e instanceof Ir?e:e instanceof P?e.walk(f=>"data"in f)||e.walk():{},d=e instanceof un?new $u({functionName:o}):[Cu,He.code].includes(a)&&(c||u||l)?new qn({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:l??u}):e;return new Iu(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}class Ou extends P{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var b;const h=Vt({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${Br(f)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Q(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Q(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Q(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class nt extends P{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(nt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ve extends P{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Q(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Ve,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Wn extends P{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Q(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Wn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Zn extends P{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Zn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Kn extends P{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Kn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Yn extends P{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Jn extends P{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Jn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Xn extends P{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Xn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Qn extends P{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Qn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class er extends P{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(er,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class _t extends P{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Q(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Q(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(_t,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class $r extends P{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function To(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof P?e.walk(s=>s.code===nt.code):e;return r instanceof P?new nt({cause:e,message:r.details}):nt.nodeMessage.test(n)?new nt({cause:e,message:e.details}):Ve.nodeMessage.test(n)?new Ve({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Wn.nodeMessage.test(n)?new Wn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Zn.nodeMessage.test(n)?new Zn({cause:e,nonce:t==null?void 0:t.nonce}):Kn.nodeMessage.test(n)?new Kn({cause:e,nonce:t==null?void 0:t.nonce}):Yn.nodeMessage.test(n)?new Yn({cause:e,nonce:t==null?void 0:t.nonce}):Jn.nodeMessage.test(n)?new Jn({cause:e}):Xn.nodeMessage.test(n)?new Xn({cause:e,gas:t==null?void 0:t.gas}):Qn.nodeMessage.test(n)?new Qn({cause:e,gas:t==null?void 0:t.gas}):er.nodeMessage.test(n)?new er({cause:e}):_t.nodeMessage.test(n)?new _t({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new $r({cause:e})}function Nu(e,{docsPath:t,...n}){const r=(()=>{const s=To(e,n);return s instanceof $r?e:s})();return new Ou(r,{docsPath:t,...n})}function Co(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function bn(e,t){return({exclude:n,format:r})=>({exclude:n,format:s=>{const o=t(s);if(n)for(const i of n)delete o[i];return{...o,...r(s)}},type:e})}const Fu={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Sr(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>q(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=j(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=j(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=j(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=j(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=j(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=j(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Fu[e.type]),typeof e.value<"u"&&(t.value=j(e.value)),t}const ju=bn("transactionRequest",Sr);function xs(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new as({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new as({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Ru(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=j(t)),n!==void 0&&(i.nonce=j(n)),r!==void 0&&(i.state=xs(r)),s!==void 0){if(i.state)throw new wu;i.stateDiff=xs(s)}return i}function Oo(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!H(n,{strict:!1}))throw new Y({address:n});if(t[n])throw new gu({address:n});t[n]=Ru(r)}return t}function kr(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?je(t):void 0;if(i&&!H(i.address))throw new Y({address:i.address});if(o&&!H(o))throw new Y({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new xu;if(r&&r>2n**256n-1n)throw new Ve({maxFeePerGas:r});if(s&&r&&s>r)throw new _t({maxFeePerGas:r,maxPriorityFeePerGas:s})}class zu extends P{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Ar extends P{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Mu extends P{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Q(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class No extends P{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Fo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function hn(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?be(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?be(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Fo[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const jo=bn("transaction",hn);function Tr(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:hn(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Ro=bn("block",Tr);async function Oe(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var l,d,f;const o=r??"latest",i=s??!1,a=n!==void 0?j(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||o,i]},{dedupe:!!a}),!c)throw new No({blockHash:t,blockNumber:n});return(((f=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:f.format)||Tr)(c)}async function Cr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Lu(e,t){return zo(e,t)}async function zo(e,t){var o,i,a;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)=="function"){const c=n||await N(e,Oe,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return D(c)}catch{const[c,u]=await Promise.all([n?Promise.resolve(n):N(e,Oe,"getBlock")({}),N(e,Cr,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Ar;const l=u-c.baseFeePerGas;return l<0n?0n:l}}async function _u(e,t){return tr(e,t)}async function tr(e,t){var f,h;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var b,p;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(i<1)throw new zu;const c=10**(((f=i.toString().split(".")[1])==null?void 0:f.length)??0),u=b=>b*BigInt(Math.ceil(i*c))/BigInt(c),l=n||await N(e,Oe,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(b!==null)return b}if(o==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Ar;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await zo(e,{block:l,chain:r,request:s}),p=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await N(e,Cr,"getGasPrice")({}))}}async function Mo(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?j(r):n]},{dedupe:!!r});return be(s)}function Or(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>le(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>q(o))}function Nr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>le(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>le(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>q(i))}function Du(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}const Uu=(e,t,n)=>e&t^~e&n,Gu=(e,t,n)=>e&t^e&n^t&n;class Hu extends hr{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Sn(this.buffer)}update(t){ot(this);const{view:n,buffer:r,blockLen:s}=this;t=dn(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Sn(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ot(this),lo(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;Du(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Sn(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.length=s,t.pos=a,t.finished=o,t.destroyed=i,s%n&&t.buffer.set(r),t}}const qu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ae=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Te=new Uint32Array(64);class Vu extends Hu{constructor(){super(64,32,8,!1),this.A=Ae[0]|0,this.B=Ae[1]|0,this.C=Ae[2]|0,this.D=Ae[3]|0,this.E=Ae[4]|0,this.F=Ae[5]|0,this.G=Ae[6]|0,this.H=Ae[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Te[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=Te[d-15],h=Te[d-2],b=fe(f,7)^fe(f,18)^f>>>3,p=fe(h,17)^fe(h,19)^h>>>10;Te[d]=p+Te[d-7]+b+Te[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=fe(a,6)^fe(a,11)^fe(a,25),h=l+f+Uu(a,c,u)+qu[d]+Te[d]|0,p=(fe(r,2)^fe(r,13)^fe(r,22))+Gu(r,s,o)|0;l=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,o,i,a,c,u,l)}roundClean(){Te.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Lo=fo(()=>new Vu);function _o(e,t){const n=t||"hex",r=Lo(pe(e,{strict:!1})?ue(e):e);return n==="bytes"?r:T(r)}function Wu(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=_o(t,"bytes");return s.set([n],0),r==="bytes"?s:q(s)}function Do(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Wu({commitment:o,to:r,version:n}));return s}const Ps=6,Uo=32,Fr=4096,Go=Uo*Fr,Es=Go*Ps-1-1*Fr*Ps,Ho=1;class Zu extends P{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class qo extends P{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class Ku extends P{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class Yu extends P{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Ho}`,`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function Ju(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?le(e.data):e.data,r=U(n);if(!r)throw new qo;if(r>Es)throw new Zu({maxSize:Es,size:r});const s=[];let o=!0,i=0;for(;o;){const a=Er(new Uint8Array(Go));let c=0;for(;c<Fr;){const u=n.slice(i,i+(Uo-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>q(a.bytes))}function Vo(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Ju({data:t,to:r}),o=e.commitments??Or({blobs:s,kzg:n,to:r}),i=e.proofs??Nr({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Wo(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Eu({transaction:e})}async function Zo(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return be(t)}const Xu=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Ko(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,parameters:c=Xu,type:u}=t,l=n?je(n):void 0,d={...t,...l?{from:l==null?void 0:l.address}:{}};let f;async function h(){return f||(f=await N(e,Oe,"getBlock")({blockTag:"latest"}),f)}let b;async function p(){return b||(s?s.id:typeof t.chainId<"u"?t.chainId:(b=await N(e,Zo,"getChainId")({}),b))}if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&i){const y=Or({blobs:r,kzg:i});if(c.includes("blobVersionedHashes")){const m=Do({commitments:y,to:"hex"});d.blobVersionedHashes=m}if(c.includes("sidecars")){const m=Nr({blobs:r,commitments:y,kzg:i}),g=Vo({blobs:r,commitments:y,proofs:m,to:"hex"});d.sidecars=g}}if(c.includes("chainId")&&(d.chainId=await p()),c.includes("nonce")&&typeof a>"u"&&l)if(l.nonceManager){const y=await p();d.nonce=await l.nonceManager.consume({address:l.address,chainId:y,client:e})}else d.nonce=await N(e,Mo,"getTransactionCount")({address:l.address,blockTag:"pending"});if((c.includes("fees")||c.includes("type"))&&typeof u>"u")try{d.type=Wo(d)}catch{const y=await h();d.type=typeof(y==null?void 0:y.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(c.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const y=await h(),{maxFeePerGas:m,maxPriorityFeePerGas:g}=await tr(e,{block:y,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<g)throw new Mu({maxPriorityFeePerGas:g});d.maxPriorityFeePerGas=g,d.maxFeePerGas=m}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ar;const y=await h(),{gasPrice:m}=await tr(e,{block:y,chain:s,request:d,type:"legacy"});d.gasPrice=m}return c.includes("gas")&&typeof o>"u"&&(d.gas=await N(e,jr,"estimateGas")({...d,account:l?{address:l.address,type:"json-rpc"}:void 0})),kr(d),delete d.parameters,d}async function jr(e,t){var s,o,i;const n=t.account??e.account,r=n?je(n):void 0;try{const{accessList:a,blobs:c,blobVersionedHashes:u,blockNumber:l,blockTag:d,data:f,gas:h,gasPrice:b,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:m,nonce:g,to:w,value:v,stateOverride:I,...E}=await Ko(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),$=(l?j(l):void 0)||d,A=Oo(I);kr(t);const C=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,R=(C||Sr)({...Co(E,{format:C}),from:r==null?void 0:r.address,accessList:a,blobs:c,blobVersionedHashes:u,data:f,gas:h,gasPrice:b,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:m,nonce:g,to:w,value:v}),L=await e.request({method:"eth_estimateGas",params:A?[R,$??"latest",A]:$?[R,$]:[R]});return BigInt(L)}catch(a){throw Nu(a,{...t,account:r,chain:e.chain})}}async function Qu(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=Re({abi:n,args:s,functionName:o});try{return await N(e,jr,"estimateGas")({data:a,to:r,...i})}catch(c){const u=i.account?je(i.account):void 0;throw Lt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}const Bs="/docs/contract/decodeEventLog";function Rr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new Qa({docsPath:Bs});const c=t.find(p=>p.type==="event"&&i===yr(xe(p)));if(!(c&&"name"in c)||c.type!=="event")throw new io(i,{docsPath:Bs});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(p=>!("name"in p&&p.name));let f=d?[]:{};const h=l.filter(p=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const y=h[p],m=a[p];if(!m)throw new ln({abiItem:c,param:y});f[d?p:y.name||p]=el({param:y,value:m})}const b=l.filter(p=>!("indexed"in p&&p.indexed));if(b.length>0){if(n&&n!=="0x")try{const p=qt(b,n);if(p)if(d)f=[...f,...p];else for(let y=0;y<b.length;y++)f[b[y].name]=p[y]}catch(p){if(o)throw p instanceof so||p instanceof Bo?new Pt({abiItem:c,data:n,params:b,size:U(n)}):p}else if(o)throw new Pt({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function el({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(qt([e],t)||[])[0]}function zr({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{var o;try{const i=Rr({...s,abi:e,strict:r});return t&&!t.includes(i.eventName)?null:{...i,...s}}catch(i){let a,c;if(i instanceof io)return null;if(i instanceof Pt||i instanceof ln){if(r)return null;a=i.abiItem.name,c=(o=i.abiItem.inputs)==null?void 0:o.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:a}}}).filter(Boolean)}function Ee(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Mr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,l=i??(o?[o]:void 0);let d=[];l&&(d=[l.flatMap(p=>Ht({abi:[p],eventName:p.name,args:a}))],o&&(d=d[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?j(r):r,toBlock:typeof s=="bigint"?j(s):s}]});const h=f.map(b=>Ee(b));return l?zr({abi:l,logs:h,strict:u}):h}async function Yo(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,l=i?Gt({abi:n,name:i}):void 0,d=l?void 0:n.filter(f=>f.type==="event");return N(e,Mr,"getLogs")({address:r,args:s,blockHash:o,event:l,events:d,fromBlock:a,toBlock:c,strict:u})}const Tn="/docs/contract/decodeFunctionResult";function pt(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Gt({abi:t,args:n,name:r});if(!a)throw new rn(r,{docsPath:Tn});o=a}if(o.type!=="function")throw new rn(void 0,{docsPath:Tn});if(!o.outputs)throw new ec(o.name,{docsPath:Tn});const i=qt(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const nr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Jo=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Xo=[...Jo,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],tl=[...Jo,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Is=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],$s=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],nl=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],rl="0x82ad56cb",sl="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",ol="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",il="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class rr extends P{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ip extends P{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ap extends P{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class Qo extends P{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class mn extends P{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}const Cn="/docs/contract/encodeDeployData";function Lr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Ka({docsPath:Cn});if(!("inputs"in s))throw new os({docsPath:Cn});if(!s.inputs||s.inputs.length===0)throw new os({docsPath:Cn});const o=Ye(s.inputs,n);return Ie([r,o])}function bt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new rr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new rr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function al(e,{docsPath:t,...n}){const r=(()=>{const s=To(e,n);return s instanceof $r?e:s})();return new Ao(r,{docsPath:t,...n})}const On=new Map;function _r({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const l=c();i();const d=l.map(({args:f})=>f);d.length!==0&&e(d).then(f=>{var h;s&&Array.isArray(f)&&f.sort(s);for(let b=0;b<l.length;b++){const{pendingPromise:p}=l[b];(h=p.resolve)==null||h.call(p,[f[b],f])}}).catch(f=>{var h;for(let b=0;b<l.length;b++){const{pendingPromise:p}=l[b];(h=p.reject)==null||h.call(p,f)}})},i=()=>On.delete(t),a=()=>c().map(({args:l})=>l),c=()=>On.get(t)||[],u=l=>On.set(t,[...c(),l]);return{flush:i,async schedule(l){const d={},f=new Promise((p,y)=>{d.resolve=p,d.reject=y});return(n==null?void 0:n([...a(),l]))&&o(),c().length>0?(u({args:l,pendingPromise:d}),f):(u({args:l,pendingPromise:d}),setTimeout(o,r),f)}}}async function yn(e,t){var O,R,L,te;const{account:n=e.account,batch:r=!!((O=e.batch)!=null&&O.multicall),blockNumber:s,blockTag:o="latest",accessList:i,blobs:a,code:c,data:u,factory:l,factoryData:d,gas:f,gasPrice:h,maxFeePerBlobGas:b,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:m,to:g,value:w,stateOverride:v,...I}=t,E=n?je(n):void 0;if(c&&(l||d))throw new P("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&g)throw new P("Cannot provide both `code` & `to` as parameters.");const B=c&&u,$=l&&d&&g&&u,A=B||$,C=B?ll({code:c,data:u}):$?dl({data:u,factory:l,factoryData:d,to:g}):u;try{kr(t);const k=(s?j(s):void 0)||o,F=Oo(v),z=(te=(L=(R=e.chain)==null?void 0:R.formatters)==null?void 0:L.transactionRequest)==null?void 0:te.format,_=(z||Sr)({...Co(I,{format:z}),from:E==null?void 0:E.address,accessList:i,blobs:a,data:C,gas:f,gasPrice:h,maxFeePerBlobGas:b,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:m,to:A?void 0:g,value:w});if(r&&cl({request:_})&&!F)try{return await ul(e,{..._,blockNumber:s,blockTag:o})}catch(V){if(!(V instanceof Qo)&&!(V instanceof rr))throw V}const K=await e.request({method:"eth_call",params:F?[_,k,F]:[_,k]});return K==="0x"?{data:void 0}:{data:K}}catch(S){const k=fl(S),{offchainLookup:F,offchainLookupSignature:z}=await br(async()=>{const{offchainLookup:M,offchainLookupSignature:_}=await import("./ccip-0DFM4q5h.js");return{offchainLookup:M,offchainLookupSignature:_}},__vite__mapDeps([0,1,2,3,4]));if(e.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===z&&g)return{data:await F(e,{data:k,to:g})};throw A&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new Su({factory:l}):al(S,{...t,account:E,chain:e.chain})}}function cl({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(rl)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function ul(e,t){var p;const{batchSize:n=1024,wait:r=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:i,multicallAddress:a,to:c}=t;let u=a;if(!u){if(!e.chain)throw new Qo;u=bt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?j(s):void 0)||o,{schedule:f}=_r({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((g,{data:w})=>g+(w.length-2),0)>n*2},fn:async y=>{const m=y.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),g=Re({abi:nr,args:[m],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:g,to:u},d]});return pt({abi:nr,args:[m],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:h,success:b}]=await f({data:i,to:c});if(!b)throw new Ir({data:h});return h==="0x"?{data:void 0}:{data:h}}function ll(e){const{code:t,data:n}=e;return Lr({abi:he(["constructor(bytes, bytes)"]),bytecode:sl,args:[t,n]})}function dl(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Lr({abi:he(["constructor(address, bytes, address, bytes)"]),bytecode:ol,args:[s,t,n,r]})}function fl(e){var n;if(!(e instanceof P))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Be(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=Re({abi:n,args:s,functionName:o});try{const{data:c}=await N(e,yn,"call")({...i,data:a,to:r});return pt({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw Lt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function pl(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?je(a.account):e.account,u=Re({abi:n,args:s,functionName:i});try{const{data:l}=await N(e,yn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=pt({abi:n,args:s,functionName:i,data:l||"0x"}),f=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:f,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(l){throw Lt(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const Nn=new Map,Ss=new Map;let bl=0;function Ne(e,t,n){const r=++bl,s=()=>Nn.get(e)||[],o=()=>{const l=s();Nn.set(e,l.filter(d=>d.id!==r))},i=()=>{const l=Ss.get(e);s().length===1&&l&&l(),o()},a=s();if(Nn.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const l in t)c[l]=(...d)=>{var h,b;const f=s();if(f.length!==0)for(const p of f)(b=(h=p.fns)[l])==null||b.call(h,...d)};const u=n(c);return typeof u=="function"&&Ss.set(e,u),i}async function on(e){return new Promise(t=>setTimeout(t,e))}function Wt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await on(c);const u=async()=>{s&&(await e({unpoll:o}),await on(r),u())};u()})(),o}const hl=new Map,ml=new Map;function yl(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,hl),r=t(e,ml);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function gl(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=yl(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const wl=e=>`blockNumber.${e}`;async function Zt(e,{cacheTime:t=e.cacheTime}={}){const n=await gl(()=>e.request({method:"eth_blockNumber"}),{cacheKey:wl(e.uid),cacheTime:t});return BigInt(n)}async function gn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ee(o));return!("abi"in t)||!t.abi?s:zr({abi:t.abi,logs:s,strict:n})}async function wn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function vl(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:f}=t;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const y=f??!1,m=Z(["watchContractEvent",r,s,o,e.uid,i,d,y,a]);return Ne(m,{onLogs:u,onError:c},g=>{let w;a!==void 0&&(w=a-1n);let v,I=!1;const E=Wt(async()=>{var B;if(!I){try{v=await N(e,Po,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:y,fromBlock:a})}catch{}I=!0;return}try{let $;if(v)$=await N(e,gn,"getFilterChanges")({filter:v});else{const A=await N(e,Zt,"getBlockNumber")({});w&&w!==A?$=await N(e,Yo,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:A,strict:y}):$=[],w=A}if($.length===0)return;if(o)g.onLogs($);else for(const A of $)g.onLogs([A])}catch($){v&&$ instanceof qe&&(I=!1),(B=g.onError)==null||B.call(g,$)}},{emitOnBegin:!0,interval:d});return async()=>{v&&await N(e,wn,"uninstallFilter")({filter:v}),E()}})})():(()=>{const y=f??!1,m=Z(["watchContractEvent",r,s,o,e.uid,i,d,y]);let g=!0,w=()=>g=!1;return Ne(m,{onLogs:u,onError:c},v=>((async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(A=>A.config.type==="webSocket");return $?$.value:e.transport}return e.transport})(),E=i?Ht({abi:n,eventName:i,args:s}):[],{unsubscribe:B}=await I.subscribe({params:["logs",{address:r,topics:E}],onData($){var C;if(!g)return;const A=$.result;try{const{eventName:O,args:R}=Rr({abi:n,data:A.data,topics:A.topics,strict:f}),L=Ee(A,{args:R,eventName:O});v.onLogs([L])}catch(O){let R,L;if(O instanceof Pt||O instanceof ln){if(f)return;R=O.abiItem.name,L=(C=O.abiItem.inputs)==null?void 0:C.some(S=>!("name"in S&&S.name))}const te=Ee(A,{args:L?[]:{},eventName:R});v.onLogs([te])}},onError($){var A;(A=v.onError)==null||A.call(v,$)}});w=B,g||w()}catch(I){c==null||c(I)}})(),()=>w()))})()}async function xl(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class Pl extends P{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip712DomainNotFoundError"})}}async function El(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,l,d]=await N(e,Be,"readContract")({abi:Bl,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Pl({address:n}):i}}const Bl=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}],sr=256;let Xt=sr,Qt;function ei(e=11){if(!Qt||Xt+e>sr*2){Qt="",Xt=0;for(let t=0;t<sr;t++)Qt+=(256+Math.random()*256|0).toString(16).substring(1)}return Qt.substring(Xt,Xt+++e)}function Il(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:i=4e3,type:a="base"}=e,c=e.chain,u=e.account?je(e.account):void 0,{config:l,request:d,value:f}=e.transport({chain:c,pollingInterval:i}),h={...l,...f},b={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:o,pollingInterval:i,request:d,transport:h,type:a,uid:ei()};function p(y){return m=>{const g=m(y);for(const v in b)delete g[v];const w={...y,...g};return Object.assign(w,{extend:p(w)})}}return Object.assign(b,{extend:p(b)})}const en=new gr(8192);function $l(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(en.get(n))return en.get(n);const r=e().finally(()=>en.delete(n));return en.set(n,r),r}function or(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await on(l),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function Sl(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,retryDelay:o=150,retryCount:i=3,uid:a}={...t,...r},c=s?J(Et(`${a}.${Z(n)}`)):void 0;return $l(()=>or(async()=>{try{return await e(n)}catch(u){const l=u;switch(l.code){case $t.code:throw new $t(l);case St.code:throw new St(l);case kt.code:throw new kt(l);case At.code:throw new At(l);case He.code:throw new He(l);case qe.code:throw new qe(l);case Tt.code:throw new Tt(l);case Ct.code:throw new Ct(l);case it.code:throw new it(l);case Ot.code:throw new Ot(l);case at.code:throw new at(l);case Nt.code:throw new Nt(l);case Ue.code:throw new Ue(l);case Ft.code:throw new Ft(l);case jt.code:throw new jt(l);case Rt.code:throw new Rt(l);case zt.code:throw new zt(l);case Mt.code:throw new Mt(l);case 5e3:throw new Ue(l);default:throw u instanceof P?u:new Tu(l)}}},{delay:({count:u,error:l})=>{var d;if(l&&l instanceof xt){const f=(d=l==null?void 0:l.headers)==null?void 0:d.get("Retry-After");if(f!=null&&f.match(/\d/))return Number.parseInt(f)*1e3}return~~(1<<u)*o},retryCount:i,shouldRetry:({error:u})=>kl(u)}),{enabled:s,id:c})}}function kl(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===at.code||e.code===He.code:e instanceof xt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function vn({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:o,type:i},a){const c=ei();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:o,type:i},request:Sl(n,{retryCount:r,retryDelay:s,uid:c}),value:a}}function Al(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:o,retryDelay:i}=t;return({chain:a,pollingInterval:c=4e3,timeout:u,...l})=>{let d=e,f=()=>{};const h=vn({key:n,name:r,async request({method:b,params:p}){const y=async(m=0)=>{const g=d[m]({...l,chain:a,retryCount:0,timeout:u});try{const w=await g.request({method:b,params:p});return f({method:b,params:p,response:w,transport:g,status:"success"}),w}catch(w){if(f({error:w,method:b,params:p,transport:g,status:"error"}),Tl(w)||m===d.length-1)throw w;return y(m+1)}};return y()},retryCount:o,retryDelay:i,type:"fallback"},{onResponse:b=>f=b,transports:d.map(b=>b({chain:a,retryCount:0}))});if(s){const b=typeof s=="object"?s:{};Cl({chain:a,interval:b.interval??c,onTransports:p=>d=p,sampleCount:b.sampleCount,timeout:b.timeout,transports:d,weights:b.weights})}return h}}function Tl(e){return"code"in e&&typeof e.code=="number"&&(e.code===it.code||e.code===Ue.code||e.code===5e3)}function Cl({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:o,weights:i={}}){const{stability:a=.7,latency:c=.3}=i,u=[],l=async()=>{const d=await Promise.all(o.map(async b=>{const p=b({chain:e,retryCount:0,timeout:s}),y=Date.now();let m,g;try{await p.request({method:"net_listening"}),g=1}catch{g=0}finally{m=Date.now()}return{latency:m-y,success:g}}));u.push(d),u.length>r&&u.shift();const f=Math.max(...u.map(b=>Math.max(...b.map(({latency:p})=>p)))),h=o.map((b,p)=>{const y=u.map(I=>I[p].latency),g=1-y.reduce((I,E)=>I+E,0)/y.length/f,w=u.map(I=>I[p].success),v=w.reduce((I,E)=>I+E,0)/w.length;return v===0?[0,p]:[c*g+a*v,p]}).sort((b,p)=>p[0]-b[0]);n(h.map(([,b])=>o[b])),await on(t),l()};l()}class Dr extends P{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function ti(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function Ol(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ir=Ol();function ni(e,t={}){return{async request(n){var d;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=a;try{const f=await ti(async({signal:b})=>{const p={...a,body:Array.isArray(r)?Z(r.map(g=>({jsonrpc:"2.0",id:g.id??ir.take(),...g}))):Z({jsonrpc:"2.0",id:r.id??ir.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:l||(i>0?b:null)},y=new Request(e,p);return s&&await s(y),await fetch(e,p)},{errorInstance:new Vn({body:r,url:e}),timeout:i,signal:!0});o&&await o(f);let h;if((d=f.headers.get("Content-Type"))!=null&&d.startsWith("application/json")?h=await f.json():(h=await f.text(),h=JSON.parse(h||"{}")),!f.ok)throw new xt({body:r,details:Z(h.error)||f.statusText,headers:f.headers,status:f.status,url:e});return h}catch(f){throw f instanceof xt||f instanceof Vn?f:new xt({body:r,cause:f,url:e})}}}}function Nl(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:a,retryDelay:c}=t;return({chain:u,retryCount:l,timeout:d})=>{const{batchSize:f=1e3,wait:h=0}=typeof n=="object"?n:{},b=t.retryCount??l,p=d??t.timeout??1e4,y=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!y)throw new Dr;const m=ni(y,{fetchOptions:r,onRequest:i,onResponse:a,timeout:p});return vn({key:s,name:o,async request({method:g,params:w}){const v={method:g,params:w},{schedule:I}=_r({id:y,wait:h,shouldSplitBatch(A){return A.length>f},fn:A=>m.request({body:A}),sort:(A,C)=>A.id-C.id}),E=async A=>n?I(A):[await m.request({body:A})],[{error:B,result:$}]=await E(v);if(B)throw new pn({body:v,error:B,url:y});return $},retryCount:b,retryDelay:c,timeout:p,type:"http"},{fetchOptions:r,url:y})}}function Ur(e,t){var r,s,o,i,a,c;if(!(e instanceof P))return!1;const n=e.walk(u=>u instanceof qn);return n instanceof qn?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((i=n.data)==null?void 0:i.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Eo[50]):!1}function ri(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return pe(t)?t:null}function tn(e){let t=new Uint8Array(32).fill(0);if(!e)return q(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=ri(n[r]),o=s?ue(s):J(De(n[r]),"bytes");t=J(Pe([t,o]),"bytes")}return q(t)}function Fl(e){return`[${e.slice(2)}]`}function jl(e){const t=new Uint8Array(32).fill(0);return e?ri(e)||J(De(e)):q(t)}function xn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(De(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=De(s[o]);i.byteLength>255&&(i=De(Fl(jl(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Rl(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=bt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=Re({abi:$s,functionName:"addr",...r!=null?{args:[tn(s),BigInt(r)]}:{args:[tn(s)]}}),l={address:c,abi:Xo,functionName:"resolve",args:[T(xn(s)),u],blockNumber:t,blockTag:n},d=N(e,Be,"readContract"),f=o?await d({...l,args:[...l.args,o]}):await d(l);if(f[0]==="0x")return null;const h=pt({abi:$s,args:r!=null?[tn(s),BigInt(r)]:void 0,functionName:"addr",data:f[0]});return h==="0x"||st(h)==="0x00"?null:h}catch(u){if(i)throw u;if(Ur(u,"resolve"))return null;throw u}}class zl extends P{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class gt extends P{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Gr extends P{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Ml extends P{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Ll=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,_l=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Dl=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ul=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Gl(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function ks(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function si({uri:e,gatewayUrls:t}){const n=Dl.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=ks(t==null?void 0:t.ipfs,"https://ipfs.io"),s=ks(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Ll),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},l=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||_l.test(e);if(e.startsWith("http")&&!l&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Ul,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Gr({uri:e})}function oi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new zl({data:e});return e.image||e.image_url||e.image_data}async function Hl({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Hr({gatewayUrls:e,uri:oi(n)})}catch{throw new Gr({uri:t})}}async function Hr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=si({uri:t,gatewayUrls:e});if(r||await Gl(n))return n;throw new Gr({uri:t})}function ql(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new gt({reason:"Only EIP-155 supported"});if(!i)throw new gt({reason:"Chain ID not found"});if(!c)throw new gt({reason:"Contract address not found"});if(!s)throw new gt({reason:"Token ID not found"});if(!a)throw new gt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Vl(e,{nft:t}){if(t.namespace==="erc721")return Be(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Be(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Ml({namespace:t.namespace})}async function Wl(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Zl(e,{gatewayUrls:t,record:n}):Hr({uri:n,gatewayUrls:t})}async function Zl(e,{gatewayUrls:t,record:n}){const r=ql(n),s=await Vl(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=si({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,l=JSON.parse(u);return Hr({uri:oi(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Hl({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function ii(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=bt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:Xo,functionName:"resolve",args:[T(xn(r)),Re({abi:Is,functionName:"text",args:[tn(r),s]})],blockNumber:t,blockTag:n},l=N(e,Be,"readContract"),d=o?await l({...u,args:[...u.args,o]}):await l(u);if(d[0]==="0x")return null;const f=pt({abi:Is,functionName:"text",data:d[0]});return f===""?null:f}catch(u){if(i)throw u;if(Ur(u,"resolve"))return null;throw u}}async function Kl(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await N(e,ii,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Wl(e,{record:c,gatewayUrls:r})}catch{return null}}async function Yl(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=bt({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:tl,functionName:"reverse",args:[T(xn(c))],blockNumber:n,blockTag:r},l=N(e,Be,"readContract"),[d,f]=s?await l({...u,args:[...u.args,s]}):await l(u);return t.toLowerCase()!==f.toLowerCase()?null:d}catch(u){if(o)throw u;if(Ur(u,"reverse"))return null;throw u}}async function Jl(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=bt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[i]=await N(e,Be,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[T(xn(r))],blockNumber:t,blockTag:n});return i}async function Xl(e){const t=fn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function ai(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=fn(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(h=>Ht({abi:[h],eventName:h.name,args:n}))],r&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?j(o):o,toBlock:typeof a=="bigint"?j(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function ci(e){const t=fn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Ql(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?j(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function ed(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function td(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?j(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),be(o)}async function ar(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?j(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function nd(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function rd(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?j(n):void 0,i=await e.request({method:"eth_feeHistory",params:[j(t),o||r,s]},{dedupe:!!o});return nd(i)}async function sd(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ee(o));return t.abi?zr({abi:t.abi,logs:s,strict:n}):s}function ui(e,t){if(!H(e,{strict:!1}))throw new Y({address:e});if(!H(t,{strict:!1}))throw new Y({address:t});return e.toLowerCase()===t.toLowerCase()}function de(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const cp=/^(.*)\[([0-9]*)\]$/,od=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,id=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Fn=new Map;async function ad(e){const{getSocket:t,key:n="socket",reconnect:r=!0,url:s}=e,{attempts:o=5,delay:i=2e3}=typeof r=="object"?r:{};let a=Fn.get(`${n}:${s}`);if(a)return a;let c=0;const{schedule:u}=_r({id:`${n}:${s}`,fn:async()=>{const f=new Map,h=new Map;let b,p;async function y(){return t({onError(m){var g,w;b=m;for(const v of f.values())(g=v.onError)==null||g.call(v,b);for(const v of h.values())(w=v.onError)==null||w.call(v,b);f.clear(),h.clear(),r&&c<o&&setTimeout(async()=>{c++,p=await y().catch(console.error)},i)},onOpen(){b=void 0,c=0},onResponse(m){const g=m.method==="eth_subscription",w=g?m.params.subscription:m.id,v=g?h:f,I=v.get(w);I&&I.onResponse(m),g||v.delete(w)}})}return p=await y(),b=void 0,a={close(){p.close(),Fn.delete(`${n}:${s}`)},socket:p,request({body:m,onError:g,onResponse:w}){b&&g&&g(b);const v=m.id??ir.take(),I=E=>{var B;typeof E.id=="number"&&v!==E.id||(m.method==="eth_subscribe"&&typeof E.result=="string"&&h.set(E.result,{onResponse:I,onError:g}),m.method==="eth_unsubscribe"&&h.delete((B=m.params)==null?void 0:B[0]),w(E))};f.set(v,{onResponse:I,onError:g});try{p.request({body:{jsonrpc:"2.0",id:v,...m}})}catch(E){g==null||g(E)}},requestAsync({body:m,timeout:g=1e4}){return ti(()=>new Promise((w,v)=>this.request({body:m,onError:v,onResponse:w})),{errorInstance:new Vn({body:m,url:s}),timeout:g})},requests:f,subscriptions:h,url:s},Fn.set(`${n}:${s}`,a),[a]}}),[l,[d]]=await u();return d}async function nn(e,t={}){const{reconnect:n}=t;return ad({async getSocket({onError:r,onOpen:s,onResponse:o}){const i=await br(()=>import("./native-DCTjMhwz.js"),[]).then(d=>d.WebSocket),a=new i(e);function c(){a.removeEventListener("close",c),a.removeEventListener("message",u),a.removeEventListener("error",r),a.removeEventListener("open",s)}function u({data:d}){o(JSON.parse(d))}a.addEventListener("close",c),a.addEventListener("message",u),a.addEventListener("error",r),a.addEventListener("open",s),a.readyState===i.CONNECTING&&await new Promise((d,f)=>{a&&(a.onopen=d,a.onerror=f)});const{close:l}=a;return Object.assign(a,{close(){l.bind(a)(),c()},request({body:d}){if(a.readyState===a.CLOSED||a.readyState===a.CLOSING)throw new ku({body:d,url:a.url,details:"Socket is closed."});return a.send(JSON.stringify(d))}})},reconnect:n,url:e})}async function cd(e){const t=await nn(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function ud(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:bd({domain:t}),...e.types};pd({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(ld({domain:t,types:s})),r!=="EIP712Domain"&&o.push(li({data:n,primaryType:r,types:s})),J(Pe(o))}function ld({domain:e,types:t}){return li({data:e,primaryType:"EIP712Domain",types:t})}function li({data:e,primaryType:t,types:n}){const r=di({data:e,primaryType:t,types:n});return J(r)}function di({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[dd({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=pi({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Ye(r,s)}function dd({primaryType:e,types:t}){const n=T(fd({primaryType:e,types:t}));return J(n)}function fd({primaryType:e,types:t}){let n="";const r=fi({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function fi({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])fi({primaryType:o.type,types:t},n);return n}function pi({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},J(di({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},J(r)];if(n==="string")return[{type:"bytes32"},J(T(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>pi({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},J(Ye(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function up(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const l={...u};for(const d of c){const{name:f,type:h}=d;h==="address"&&(l[f]=l[f].toLowerCase())}return l},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return Z({domain:i,message:a,primaryType:r,types:s})}function pd(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:l}=c,d=a[u],f=l.match(id);if(f&&(typeof d=="number"||typeof d=="bigint")){const[p,y,m]=f;j(d,{signed:y==="int",size:Number.parseInt(m)/8})}if(l==="address"&&typeof d=="string"&&!H(d))throw new Y({address:d});const h=l.match(od);if(h){const[p,y]=h;if(y&&U(d)!==Number.parseInt(y))throw new nc({expectedSize:Number.parseInt(y),givenSize:U(d)})}const b=s[l];b&&o(b,d)}};s.EIP712Domain&&t&&o(s.EIP712Domain,t),r!=="EIP712Domain"&&o(s[r],n)}function bd({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function We(e,t="hex"){const n=bi(e),r=Er(new Uint8Array(n.length));return n.encode(r),t==="hex"?q(r.bytes):r.bytes}function bi(e){return Array.isArray(e)?hd(e.map(t=>bi(t))):md(e)}function hd(e){const t=e.reduce((s,o)=>s+o.length,0),n=hi(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function md(e){const t=typeof e=="string"?le(e):e,n=hi(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function hi(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new P("Length is too large.")}const yd={"0x0":"reverted","0x1":"success"};function mi(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Ee(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?be(e.transactionIndex):null,status:e.status?yd[e.status]:null,type:e.type?Fo[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const yi=bn("transactionReceipt",mi),gd=`Ethereum Signed Message:
`;function wd(e){const t=typeof e=="string"?Et(e):typeof e.raw=="string"?e.raw:q(e.raw),n=Et(`${gd}${U(t)}`);return Pe([n,t])}function gi(e,t){return J(wd(e),t)}const wi="0x6492649264926492649264926492649264926492649264926492649264926492";function vd(e){return vo(e,-32)===wi}function xd(e){const{address:t,data:n,signature:r}=e;return Ie([Ye([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),wi])}function Pd(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new qo;for(const n of t){const r=U(n),s=be(Bt(n,0,1));if(r!==32)throw new Ku({hash:n,size:r});if(s!==Ho)throw new Yu({hash:n,version:s})}}vi(e)}function vi(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new mn({chainId:t});if(s&&!H(s))throw new Y({address:s});if(r&&r>2n**256n-1n)throw new Ve({maxFeePerGas:r});if(n&&r&&n>r)throw new _t({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Ed(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new mn({chainId:t});if(o&&!H(o))throw new Y({address:o});if(n||s)throw new P("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new Ve({maxFeePerGas:r})}function Bd(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o,accessList:i}=e;if(o&&!H(o))throw new Y({address:o});if(typeof t<"u"&&t<=0)throw new mn({chainId:t});if(n||s)throw new P("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new Ve({maxFeePerGas:r});if(i)throw new P("`accessList` is not a valid Legacy Transaction attribute.")}function qr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new Bu({storageKey:s[o]});if(!H(r,{strict:!1}))throw new Y({address:r});t.push([r,s])}return t}function xi(e,t){const n=Wo(e);return n==="eip1559"?$d(e,t):n==="eip2930"?Sd(e,t):n==="eip4844"?Id(e,t):kd(e,t)}function Id(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;Pd(e);let f=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof f>"u"||typeof h>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(E=>q(E)),v=e.kzg,I=Or({blobs:w,kzg:v});if(typeof f>"u"&&(f=Do({commitments:I})),typeof h>"u"){const E=Nr({blobs:w,commitments:I,kzg:v});h=Vo({blobs:w,commitments:I,proofs:E})}}const b=qr(l),p=[T(n),s?T(s):"0x",u?T(u):"0x",c?T(c):"0x",r?T(r):"0x",o??"0x",i?T(i):"0x",d??"0x",b,a?T(a):"0x",f??[],...Vr(e,t)],y=[],m=[],g=[];if(h)for(let w=0;w<h.length;w++){const{blob:v,commitment:I,proof:E}=h[w];y.push(v),m.push(I),g.push(E)}return Ie(["0x03",We(h?[p,y,m,g]:p)])}function $d(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=e;vi(e);const d=qr(u),f=[T(n),s?T(s):"0x",c?T(c):"0x",a?T(a):"0x",r?T(r):"0x",o??"0x",i?T(i):"0x",l??"0x",d,...Vr(e,t)];return Ie(["0x02",We(f)])}function Sd(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;Ed(e);const l=qr(c),d=[T(n),o?T(o):"0x",u?T(u):"0x",r?T(r):"0x",i??"0x",a?T(a):"0x",s??"0x",l,...Vr(e,t)];return Ie(["0x01",We(d)])}function kd(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;Bd(e);let u=[o?T(o):"0x",c?T(c):"0x",r?T(r):"0x",i??"0x",a?T(a):"0x",s??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const d=27n+(t.v===27n?0n:1n);if(t.v!==d)throw new Pu({v:t.v});return d})();u=[...u,T(l),t.r,t.s]}else n>0&&(u=[...u,T(n),"0x","0x"]);return We(u)}function Vr(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=st(n.r),i=st(n.s);return[typeof s=="number"?s?T(1):"0x":r===0n?"0x":r===1n?T(1):r===27n?"0x":T(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function Ad(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Td(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?be(e.nonce):void 0,storageProof:e.storageProof?Ad(e.storageProof):void 0}}async function Cd(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?j(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Td(a)}async function Od(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?j(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Wr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var l,d,f;const i=r||"latest",a=n!==void 0?j(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,j(o)]},{dedupe:!0}):(a||i)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,j(o)]},{dedupe:!!a})),!c)throw new So({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((f=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||hn)(c)}async function Nd(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([N(e,Zt,"getBlockNumber")({}),t?N(e,Wr,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function cr(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new ko({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||mi)(n)}async function Fd(e,t){var y;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:i,stateOverride:a}=t,c=t.contracts,u=r??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let l=i;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=bt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let f=0,h=0;for(let m=0;m<c.length;m++){const{abi:g,address:w,args:v,functionName:I}=c[m];try{const E=Re({abi:g,args:v,functionName:I});h+=(E.length-2)/2,u>0&&h>u&&d[f].length>0&&(f++,h=(E.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:E,target:w}]}catch(E){const B=Lt(E,{abi:g,address:w,args:v,docsPath:"/docs/contract/multicall",functionName:I});if(!n)throw B;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:w}]}}const b=await Promise.allSettled(d.map(m=>N(e,Be,"readContract")({abi:nr,address:l,args:[m],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:a}))),p=[];for(let m=0;m<b.length;m++){const g=b[m];if(g.status==="rejected"){if(!n)throw g.reason;for(let v=0;v<d[m].length;v++)p.push({status:"failure",error:g.reason,result:void 0});continue}const w=g.value;for(let v=0;v<w.length;v++){const{returnData:I,success:E}=w[v],{callData:B}=d[m][v],{abi:$,address:A,functionName:C,args:O}=c[p.length];try{if(B==="0x")throw new un;if(!E)throw new Ir({data:I});const R=pt({abi:$,args:O,data:I,functionName:C});p.push(n?{result:R,status:"success"}:R)}catch(R){const L=Lt(R,{abi:$,address:A,args:O,docsPath:"/docs/contract/multicall",functionName:C});if(!n)throw L;p.push({error:L,result:void 0,status:"failure"})}}}if(p.length!==c.length)throw new P("multicall results mismatch");return p}const Pi=BigInt(0),Pn=BigInt(1),jd=BigInt(2);function Ze(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Kt(e){if(!Ze(e))throw new Error("Uint8Array expected")}const Rd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ct(e){Kt(e);let t="";for(let n=0;n<e.length;n++)t+=Rd[e[n]];return t}function Ei(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Zr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const ge={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function As(e){if(e>=ge._0&&e<=ge._9)return e-ge._0;if(e>=ge._A&&e<=ge._F)return e-(ge._A-10);if(e>=ge._a&&e<=ge._f)return e-(ge._a-10)}function ut(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=As(e.charCodeAt(o)),a=As(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function Ge(e){return Zr(ct(e))}function Kr(e){return Kt(e),Zr(ct(Uint8Array.from(e).reverse()))}function lt(e,t){return ut(e.toString(16).padStart(t*2,"0"))}function Yr(e,t){return lt(e,t).reverse()}function zd(e){return ut(Ei(e))}function ae(e,t,n){let r;if(typeof t=="string")try{r=ut(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Ze(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function Dt(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Kt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function Bi(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function Md(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ld(e){let t;for(t=0;e>Pi;e>>=Pn,t+=1);return t}function _d(e,t){return e>>BigInt(t)&Pn}function Dd(e,t,n){return e|(n?Pn:Pi)<<BigInt(t)}const Jr=e=>(jd<<BigInt(e-1))-Pn,jn=e=>new Uint8Array(e),Ts=e=>Uint8Array.from(e);function Ii(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=jn(e),s=jn(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=jn())=>{s=a(Ts([0]),d),r=a(),d.length!==0&&(s=a(Ts([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<t;){r=a();const h=r.slice();f.push(h),d+=r.length}return Dt(...f)};return(d,f)=>{i(),c(d);let h;for(;!(h=f(u()));)c();return i(),h}}const Ud={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ze(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Yt(e,t,n={}){const r=(s,o,i)=>{const a=Ud[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const Gd=Object.freeze(Object.defineProperty({__proto__:null,abytes:Kt,bitGet:_d,bitLen:Ld,bitMask:Jr,bitSet:Dd,bytesToHex:ct,bytesToNumberBE:Ge,bytesToNumberLE:Kr,concatBytes:Dt,createHmacDrbg:Ii,ensureBytes:ae,equalBytes:Bi,hexToBytes:ut,hexToNumber:Zr,isBytes:Ze,numberToBytesBE:lt,numberToBytesLE:Yr,numberToHexUnpadded:Ei,numberToVarBytesBE:zd,utf8ToBytes:Md,validateObject:Yt},Symbol.toStringTag,{value:"Module"}));function Hd(e,t){const n=pe(e)?ue(e):e,r=pe(t)?ue(t):t;return Bi(n,r)}const W=BigInt(0),G=BigInt(1),Le=BigInt(2),qd=BigInt(3),ur=BigInt(4),Cs=BigInt(5),Os=BigInt(8);BigInt(9);BigInt(16);function X(e,t){const n=e%t;return n>=W?n:t+n}function Vd(e,t,n){if(n<=W||t<W)throw new Error("Expected power/modulo > 0");if(n===G)return W;let r=G;for(;t>W;)t&G&&(r=r*e%n),e=e*e%n,t>>=G;return r}function ne(e,t,n){let r=e;for(;t-- >W;)r*=r,r%=n;return r}function lr(e,t){if(e===W||t<=W)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=X(e,t),r=t,s=W,o=G;for(;n!==W;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==G)throw new Error("invert: does not exist");return X(s,t)}function Wd(e){const t=(e-G)/Le;let n,r,s;for(n=e-G,r=0;n%Le===W;n/=Le,r++);for(s=Le;s<e&&Vd(s,t,e)!==e-G;s++);if(r===1){const i=(e+G)/ur;return function(c,u){const l=c.pow(u,i);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const o=(n+G)/Le;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),n),d=a.pow(c,o),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(f);h<u&&!a.eql(p,a.ONE);h++)p=a.sqr(p);const b=a.pow(l,G<<BigInt(u-h-1));l=a.sqr(b),d=a.mul(d,b),f=a.mul(f,l),u=h}return d}}function Zd(e){if(e%ur===qd){const t=(e+G)/ur;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%Os===Cs){const t=(e-Cs)/Os;return function(r,s){const o=r.mul(s,Le),i=r.pow(o,t),a=r.mul(s,i),c=r.mul(r.mul(a,Le),i),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Wd(e)}const Kd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yd(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Kd.reduce((r,s)=>(r[s]="function",r),t);return Yt(e,n)}function Jd(e,t,n){if(n<W)throw new Error("Expected power > 0");if(n===W)return e.ONE;if(n===G)return t;let r=e.ONE,s=t;for(;n>W;)n&G&&(r=e.mul(r,s)),s=e.sqr(s),n>>=G;return r}function Xd(e,t){const n=new Array(t.length),r=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),s=e.inv(r);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),s),n}function $i(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Qd(e,t,n=!1,r={}){if(e<=W)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=$i(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=Zd(e),a=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:Jr(s),ZERO:W,ONE:G,create:c=>X(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return W<=c&&c<e},is0:c=>c===W,isOdd:c=>(c&G)===G,neg:c=>X(-c,e),eql:(c,u)=>c===u,sqr:c=>X(c*c,e),add:(c,u)=>X(c+u,e),sub:(c,u)=>X(c-u,e),mul:(c,u)=>X(c*u,e),pow:(c,u)=>Jd(a,c,u),div:(c,u)=>X(c*lr(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>lr(c,e),sqrt:r.sqrt||(c=>i(a,c)),invertBatch:c=>Xd(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?Yr(c,o):lt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?Kr(c):Ge(c)}});return Object.freeze(a)}function Si(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ki(e){const t=Si(e);return t+Math.ceil(t/2)}function ef(e,t,n=!1){const r=e.length,s=Si(t),o=ki(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const i=n?Ge(e):Kr(e),a=X(i,t-G)+G;return n?Yr(a,s):lt(a,s)}const tf=BigInt(0),Rn=BigInt(1);function nf(e,t){const n=(s,o)=>{const i=o.negate();return s?i:o},r=s=>{const o=Math.ceil(t/s)+1,i=2**(s-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(s,o){let i=e.ZERO,a=s;for(;o>tf;)o&Rn&&(i=i.add(a)),a=a.double(),o>>=Rn;return i},precomputeWindow(s,o){const{windows:i,windowSize:a}=r(o),c=[];let u=s,l=u;for(let d=0;d<i;d++){l=u,c.push(l);for(let f=1;f<a;f++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,o,i){const{windows:a,windowSize:c}=r(s);let u=e.ZERO,l=e.BASE;const d=BigInt(2**s-1),f=2**s,h=BigInt(s);for(let b=0;b<a;b++){const p=b*c;let y=Number(i&d);i>>=h,y>c&&(y-=f,i+=Rn);const m=p,g=p+Math.abs(y)-1,w=b%2!==0,v=y<0;y===0?l=l.add(n(w,o[m])):u=u.add(n(v,o[g]))}return{p:u,f:l}},wNAFCached(s,o,i,a){const c=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&o.set(s,a(u))),this.wNAF(c,u,i)}}}function Ai(e){return Yd(e.Fp),Yt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$i(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function rf(e){const t=Ai(e);Yt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:sf,hexToBytes:of}=Gd,_e={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=_e;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:sf(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=_e,n=typeof e=="string"?of(e):e;Kt(n);let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:o}=_e._parseInt(n.subarray(2)),{d:i,l:a}=_e._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=t(n(e.s)),s=t(n(e.r)),o=r.length/2,i=s.length/2,a=n(o),c=n(i);return`30${n(i+o+4)}02${c}${s}02${a}${r}`}},we=BigInt(0),re=BigInt(1);BigInt(2);const Ns=BigInt(3);BigInt(4);function af(e){const t=rf(e),{Fp:n}=t,r=t.toBytes||((b,p,y)=>{const m=p.toAffine();return Dt(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),s=t.fromBytes||(b=>{const p=b.subarray(1),y=n.fromBytes(p.subarray(0,n.BYTES)),m=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:y,y:m}});function o(b){const{a:p,b:y}=t,m=n.sqr(b),g=n.mul(m,b);return n.add(n.add(g,n.mul(b,p)),y)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(b){return typeof b=="bigint"&&we<b&&b<t.n}function a(b){if(!i(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(b){const{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:m,n:g}=t;if(p&&typeof b!="bigint"){if(Ze(b)&&(b=ct(b)),typeof b!="string"||!p.includes(b.length))throw new Error("Invalid key");b=b.padStart(y*2,"0")}let w;try{w=typeof b=="bigint"?b:Ge(ae("private key",b,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof b}`)}return m&&(w=X(w,g)),a(w),w}const u=new Map;function l(b){if(!(b instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(p,y,m){if(this.px=p,this.py=y,this.pz=m,p==null||!n.isValid(p))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required")}static fromAffine(p){const{x:y,y:m}=p||{};if(!p||!n.isValid(y)||!n.isValid(m))throw new Error("invalid affine point");if(p instanceof d)throw new Error("projective point not allowed");const g=w=>n.eql(w,n.ZERO);return g(y)&&g(m)?d.ZERO:new d(y,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const y=n.invertBatch(p.map(m=>m.pz));return p.map((m,g)=>m.toAffine(y[g])).map(d.fromAffine)}static fromHex(p){const y=d.fromAffine(s(ae("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return d.BASE.multiply(c(p))}_setWindowSize(p){this._WINDOW_SIZE=p,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:p,y}=this.toAffine();if(!n.isValid(p)||!n.isValid(y))throw new Error("bad point: x or y not FE");const m=n.sqr(y),g=o(p);if(!n.eql(m,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){l(p);const{px:y,py:m,pz:g}=this,{px:w,py:v,pz:I}=p,E=n.eql(n.mul(y,I),n.mul(w,g)),B=n.eql(n.mul(m,I),n.mul(v,g));return E&&B}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:y}=t,m=n.mul(y,Ns),{px:g,py:w,pz:v}=this;let I=n.ZERO,E=n.ZERO,B=n.ZERO,$=n.mul(g,g),A=n.mul(w,w),C=n.mul(v,v),O=n.mul(g,w);return O=n.add(O,O),B=n.mul(g,v),B=n.add(B,B),I=n.mul(p,B),E=n.mul(m,C),E=n.add(I,E),I=n.sub(A,E),E=n.add(A,E),E=n.mul(I,E),I=n.mul(O,I),B=n.mul(m,B),C=n.mul(p,C),O=n.sub($,C),O=n.mul(p,O),O=n.add(O,B),B=n.add($,$),$=n.add(B,$),$=n.add($,C),$=n.mul($,O),E=n.add(E,$),C=n.mul(w,v),C=n.add(C,C),$=n.mul(C,O),I=n.sub(I,$),B=n.mul(C,A),B=n.add(B,B),B=n.add(B,B),new d(I,E,B)}add(p){l(p);const{px:y,py:m,pz:g}=this,{px:w,py:v,pz:I}=p;let E=n.ZERO,B=n.ZERO,$=n.ZERO;const A=t.a,C=n.mul(t.b,Ns);let O=n.mul(y,w),R=n.mul(m,v),L=n.mul(g,I),te=n.add(y,m),S=n.add(w,v);te=n.mul(te,S),S=n.add(O,R),te=n.sub(te,S),S=n.add(y,g);let k=n.add(w,I);return S=n.mul(S,k),k=n.add(O,L),S=n.sub(S,k),k=n.add(m,g),E=n.add(v,I),k=n.mul(k,E),E=n.add(R,L),k=n.sub(k,E),$=n.mul(A,S),E=n.mul(C,L),$=n.add(E,$),E=n.sub(R,$),$=n.add(R,$),B=n.mul(E,$),R=n.add(O,O),R=n.add(R,O),L=n.mul(A,L),S=n.mul(C,S),R=n.add(R,L),L=n.sub(O,L),L=n.mul(A,L),S=n.add(S,L),O=n.mul(R,S),B=n.add(B,O),O=n.mul(k,S),E=n.mul(te,E),E=n.sub(E,O),O=n.mul(te,R),$=n.mul(k,$),$=n.add($,O),new d(E,B,$)}subtract(p){return this.add(p.negate())}is0(){return this.equals(d.ZERO)}wNAF(p){return h.wNAFCached(this,u,p,y=>{const m=n.invertBatch(y.map(g=>g.pz));return y.map((g,w)=>g.toAffine(m[w])).map(d.fromAffine)})}multiplyUnsafe(p){const y=d.ZERO;if(p===we)return y;if(a(p),p===re)return this;const{endo:m}=t;if(!m)return h.unsafeLadder(this,p);let{k1neg:g,k1:w,k2neg:v,k2:I}=m.splitScalar(p),E=y,B=y,$=this;for(;w>we||I>we;)w&re&&(E=E.add($)),I&re&&(B=B.add($)),$=$.double(),w>>=re,I>>=re;return g&&(E=E.negate()),v&&(B=B.negate()),B=new d(n.mul(B.px,m.beta),B.py,B.pz),E.add(B)}multiply(p){a(p);let y=p,m,g;const{endo:w}=t;if(w){const{k1neg:v,k1:I,k2neg:E,k2:B}=w.splitScalar(y);let{p:$,f:A}=this.wNAF(I),{p:C,f:O}=this.wNAF(B);$=h.constTimeNegate(v,$),C=h.constTimeNegate(E,C),C=new d(n.mul(C.px,w.beta),C.py,C.pz),m=$.add(C),g=A.add(O)}else{const{p:v,f:I}=this.wNAF(y);m=v,g=I}return d.normalizeZ([m,g])[0]}multiplyAndAddUnsafe(p,y,m){const g=d.BASE,w=(I,E)=>E===we||E===re||!I.equals(g)?I.multiplyUnsafe(E):I.multiply(E),v=w(this,y).add(w(p,m));return v.is0()?void 0:v}toAffine(p){const{px:y,py:m,pz:g}=this,w=this.is0();p==null&&(p=w?n.ONE:n.inv(g));const v=n.mul(y,p),I=n.mul(m,p),E=n.mul(g,p);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:v,y:I}}isTorsionFree(){const{h:p,isTorsionFree:y}=t;if(p===re)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:y}=t;return p===re?this:y?y(d,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return this.assertValidity(),r(d,this,p)}toHex(p=!0){return ct(this.toRawBytes(p))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,h=nf(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:i}}function cf(e){const t=Ai(e);return Yt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function uf(e){const t=cf(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function i(S){return we<S&&S<n.ORDER}function a(S){return X(S,r)}function c(S){return lr(S,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=af({...t,toBytes(S,k,F){const z=k.toAffine(),M=n.toBytes(z.x),_=Dt;return F?_(Uint8Array.from([k.hasEvenY()?2:3]),M):_(Uint8Array.from([4]),M,n.toBytes(z.y))},fromBytes(S){const k=S.length,F=S[0],z=S.subarray(1);if(k===s&&(F===2||F===3)){const M=Ge(z);if(!i(M))throw new Error("Point is not on curve");const _=d(M);let K;try{K=n.sqrt(_)}catch(oe){const Se=oe instanceof Error?": "+oe.message:"";throw new Error("Point is not on curve"+Se)}const V=(K&re)===re;return(F&1)===1!==V&&(K=n.neg(K)),{x:M,y:K}}else if(k===o&&F===4){const M=n.fromBytes(z.subarray(0,n.BYTES)),_=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:M,y:_}}else throw new Error(`Point of length ${k} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),h=S=>ct(lt(S,t.nByteLength));function b(S){const k=r>>re;return S>k}function p(S){return b(S)?a(-S):S}const y=(S,k,F)=>Ge(S.slice(k,F));class m{constructor(k,F,z){this.r=k,this.s=F,this.recovery=z,this.assertValidity()}static fromCompact(k){const F=t.nByteLength;return k=ae("compactSignature",k,F*2),new m(y(k,0,F),y(k,F,2*F))}static fromDER(k){const{r:F,s:z}=_e.toSig(ae("DER",k));return new m(F,z)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new m(this.r,this.s,k)}recoverPublicKey(k){const{r:F,s:z,recovery:M}=this,_=B(ae("msgHash",k));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const K=M===2||M===3?F+t.n:F;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=M&1?"03":"02",$e=u.fromHex(V+h(K)),oe=c(K),Se=a(-_*oe),ht=a(z*oe),ke=u.BASE.multiplyAndAddUnsafe($e,Se,ht);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ut(this.toDERHex())}toDERHex(){return _e.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ut(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const g={isValidPrivateKey(S){try{return l(S),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const S=ki(t.n);return ef(t.randomBytes(S),t.n)},precompute(S=8,k=u.BASE){return k._setWindowSize(S),k.multiply(BigInt(3)),k}};function w(S,k=!0){return u.fromPrivateKey(S).toRawBytes(k)}function v(S){const k=Ze(S),F=typeof S=="string",z=(k||F)&&S.length;return k?z===s||z===o:F?z===2*s||z===2*o:S instanceof u}function I(S,k,F=!0){if(v(S))throw new Error("first arg must be private key");if(!v(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(l(S)).toRawBytes(F)}const E=t.bits2int||function(S){const k=Ge(S),F=S.length*8-t.nBitLength;return F>0?k>>BigInt(F):k},B=t.bits2int_modN||function(S){return a(E(S))},$=Jr(t.nBitLength);function A(S){if(typeof S!="bigint")throw new Error("bigint expected");if(!(we<=S&&S<$))throw new Error(`bigint expected < 2^${t.nBitLength}`);return lt(S,t.nByteLength)}function C(S,k,F=O){if(["recovered","canonical"].some(ze=>ze in F))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:M}=t;let{lowS:_,prehash:K,extraEntropy:V}=F;_==null&&(_=!0),S=ae("msgHash",S),K&&(S=ae("prehashed msgHash",z(S)));const $e=B(S),oe=l(k),Se=[A(oe),A($e)];if(V!=null&&V!==!1){const ze=V===!0?M(n.BYTES):V;Se.push(ae("extraEntropy",ze))}const ht=Dt(...Se),ke=$e;function En(ze){const Qe=E(ze);if(!f(Qe))return;const ts=c(Qe),et=u.BASE.multiply(Qe).toAffine(),ie=a(et.x);if(ie===we)return;const tt=a(ts*a(ke+ie*oe));if(tt===we)return;let ns=(et.x===ie?0:2)|Number(et.y&re),rs=tt;return _&&b(tt)&&(rs=p(tt),ns^=1),new m(ie,rs,ns)}return{seed:ht,k2sig:En}}const O={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function L(S,k,F=O){const{seed:z,k2sig:M}=C(S,k,F),_=t;return Ii(_.hash.outputLen,_.nByteLength,_.hmac)(z,M)}u.BASE._setWindowSize(8);function te(S,k,F,z=R){var et;const M=S;if(k=ae("msgHash",k),F=ae("publicKey",F),"strict"in z)throw new Error("options.strict was renamed to lowS");const{lowS:_,prehash:K}=z;let V,$e;try{if(typeof M=="string"||Ze(M))try{V=m.fromDER(M)}catch(ie){if(!(ie instanceof _e.Err))throw ie;V=m.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){const{r:ie,s:tt}=M;V=new m(ie,tt)}else throw new Error("PARSE");$e=u.fromHex(F)}catch(ie){if(ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(_&&V.hasHighS())return!1;K&&(k=t.hash(k));const{r:oe,s:Se}=V,ht=B(k),ke=c(Se),En=a(ht*ke),ze=a(oe*ke),Qe=(et=u.BASE.multiplyAndAddUnsafe($e,En,ze))==null?void 0:et.toAffine();return Qe?a(Qe.x)===oe:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:I,sign:L,verify:te,ProjectivePoint:u,Signature:m,utils:g}}class Ti extends hr{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,gc(t);const r=dn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return ot(this),this.iHash.update(t),this}digestInto(t){ot(this),Ut(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ci=(e,t,n)=>new Ti(e,t).update(n).digest();Ci.create=(e,t)=>new Ti(e,t);function lf(e){return{hash:e,hmac:(t,...n)=>Ci(e,t,kc(...n)),randomBytes:Ac}}function df(e,t){const n=r=>uf({...e,...lf(r)});return Object.freeze({...n(t),create:n})}const Oi=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Fs=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ff=BigInt(1),dr=BigInt(2),js=(e,t)=>(e+t/dr)/t;function pf(e){const t=Oi,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=ne(l,n,t)*l%t,f=ne(d,n,t)*l%t,h=ne(f,dr,t)*u%t,b=ne(h,s,t)*h%t,p=ne(b,o,t)*b%t,y=ne(p,a,t)*p%t,m=ne(y,c,t)*y%t,g=ne(m,a,t)*p%t,w=ne(g,n,t)*l%t,v=ne(w,i,t)*b%t,I=ne(v,r,t)*u%t,E=ne(I,dr,t);if(!fr.eql(fr.sqr(E),e))throw new Error("Cannot find square root");return E}const fr=Qd(Oi,void 0,void 0,{sqrt:pf}),Xr=df({a:BigInt(0),b:BigInt(7),Fp:fr,n:Fs,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Fs,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ff*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=js(o*e,t),c=js(-r*e,t);let u=X(e-a*n-c*s,t),l=X(-a*r-c*o,t);const d=u>i,f=l>i;if(d&&(u=t-u),f&&(l=t-l),u>i||l>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},Lo);BigInt(0);Xr.ProjectivePoint;function bf({r:e,s:t,v:n,yParity:r}){const s=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new Xr.Signature(D(e),D(t)).toCompactHex()}${s===0?"1b":"1c"}`}async function Qr(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,...a}=t,c=pe(i)?i:typeof i=="object"&&"r"in i&&"s"in i?bf(i):q(i),u=await(async()=>!r&&!s||vd(c)||await N(e,ar,"getCode")({address:n})?c:xd({address:r,data:s,signature:c}))();try{const{data:l}=await N(e,yn,"call")({data:Lr({abi:nl,args:[n,o,u],bytecode:il}),...a});return Hd(l??"0x0","0x1")}catch(l){if(l instanceof Ao)return!1;throw l}}async function hf(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=gi(n);return Qr(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function mf(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...l}=t,d=ud({message:i,primaryType:a,types:c,domain:u});return Qr(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...l})}function Ni(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const d=Z(["watchBlockNumber",e.uid,t,n,i]);return Ne(d,{onBlockNumber:r,onError:s},f=>Wt(async()=>{var h;try{const b=await N(e,Zt,"getBlockNumber")({cacheTime:0});if(c){if(b===c)return;if(b-c>1&&n)for(let p=c+1n;p<b;p++)f.onBlockNumber(p,c),c=p}(!c||b>c)&&(f.onBlockNumber(b,c),c=b)}catch(b){(h=f.onError)==null||h.call(f,b)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=Z(["watchBlockNumber",e.uid,t,n]);return Ne(d,{onBlockNumber:r,onError:s},f=>{let h=!0,b=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(g=>g.config.type==="webSocket");return m?m.value:e.transport}return e.transport})(),{unsubscribe:y}=await p.subscribe({params:["newHeads"],onData(m){var w;if(!h)return;const g=D((w=m.result)==null?void 0:w.number);f.onBlockNumber(g,c),c=g},onError(m){var g;(g=f.onError)==null||g.call(f,m)}});b=y,h||b()}catch(p){s==null||s(p)}})(),()=>b()})})()}async function yf(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:i=({count:c})=>~~(1<<c)*200,timeout:a}){const c=Z(["waitForTransactionReceipt",e.uid,n]);let u=0,l,d,f,h=!1;return new Promise((b,p)=>{a&&setTimeout(()=>p(new vs({hash:n})),a);const y=Ne(c,{onReplaced:r,resolve:b,reject:p},m=>{const g=N(e,Ni,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(w){const v=E=>{g(),E(),y()};let I=w;if(!h){u>o&&v(()=>m.reject(new vs({hash:n})));try{if(f){if(t>1&&(!f.blockNumber||I-f.blockNumber+1n<t))return;v(()=>m.resolve(f));return}if(l||(h=!0,await or(async()=>{l=await N(e,Wr,"getTransaction")({hash:n}),l.blockNumber&&(I=l.blockNumber)},{delay:i,retryCount:o}),h=!1),f=await N(e,cr,"getTransactionReceipt")({hash:n}),t>1&&(!f.blockNumber||I-f.blockNumber+1n<t))return;v(()=>m.resolve(f))}catch(E){if(E instanceof So||E instanceof ko){if(!l){h=!1;return}try{d=l,h=!0;const B=await or(()=>N(e,Oe,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:C})=>C instanceof No});h=!1;const $=B.transactions.find(({from:C,nonce:O})=>C===d.from&&O===d.nonce);if(!$||(f=await N(e,cr,"getTransactionReceipt")({hash:$.hash}),t>1&&(!f.blockNumber||I-f.blockNumber+1n<t)))return;let A="replaced";$.to===d.to&&$.value===d.value?A="repriced":$.from===$.to&&$.value===0n&&(A="cancelled"),v(()=>{var C;(C=m.onReplaced)==null||C.call(m,{reason:A,replacedTransaction:d,transaction:$,transactionReceipt:f}),m.resolve(f)})}catch(B){v(()=>m.reject(B))}}else v(()=>m.reject(E))}finally{u++}}}})})})}function gf(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),l=i??!1;let d;return u?(()=>{const b=Z(["watchBlocks",e.uid,t,n,r,l,c]);return Ne(b,{onBlock:s,onError:o},p=>Wt(async()=>{var y;try{const m=await N(e,Oe,"getBlock")({blockTag:t,includeTransactions:l});if(m.number&&(d!=null&&d.number)){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let g=(d==null?void 0:d.number)+1n;g<m.number;g++){const w=await N(e,Oe,"getBlock")({blockNumber:g,includeTransactions:l});p.onBlock(w,d),d=w}}(!(d!=null&&d.number)||t==="pending"&&!(m!=null&&m.number)||m.number&&m.number>d.number)&&(p.onBlock(m,d),d=m)}catch(m){(y=p.onError)==null||y.call(p,m)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,p=()=>b=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(w=>w.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:m}=await y.subscribe({params:["newHeads"],onData(g){var I,E,B;if(!b)return;const v=(((B=(E=(I=e.chain)==null?void 0:I.formatters)==null?void 0:E.block)==null?void 0:B.format)||Tr)(g.result);s(v,d),d=v},onError(g){o==null||o(g)}});p=m,b||p()}catch(y){o==null||o(y)}})(),()=>p()})()}function wf(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const f=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),h=d??!1;return f?(()=>{const y=Z(["watchEvent",t,n,r,e.uid,s,l,i]);return Ne(y,{onLogs:c,onError:a},m=>{let g;i!==void 0&&(g=i-1n);let w,v=!1;const I=Wt(async()=>{var E;if(!v){try{w=await N(e,ai,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}v=!0;return}try{let B;if(w)B=await N(e,gn,"getFilterChanges")({filter:w});else{const $=await N(e,Zt,"getBlockNumber")({});g&&g!==$?B=await N(e,Mr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:g+1n,toBlock:$}):B=[],g=$}if(B.length===0)return;if(r)m.onLogs(B);else for(const $ of B)m.onLogs([$])}catch(B){w&&B instanceof qe&&(v=!1),(E=m.onError)==null||E.call(m,B)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await N(e,wn,"uninstallFilter")({filter:w}),I()}})})():(()=>{let y=!0,m=()=>y=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(B=>B.config.type==="webSocket");return E?E.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let v=[];w&&(v=[w.flatMap(B=>Ht({abi:[B],eventName:B.name,args:n}))],s&&(v=v[0]));const{unsubscribe:I}=await g.subscribe({params:["logs",{address:t,topics:v}],onData(E){var $;if(!y)return;const B=E.result;try{const{eventName:A,args:C}=Rr({abi:w??[],data:B.data,topics:B.topics,strict:h}),O=Ee(B,{args:C,eventName:A});c([O])}catch(A){let C,O;if(A instanceof Pt||A instanceof ln){if(d)return;C=A.abiItem.name,O=($=A.abiItem.inputs)==null?void 0:$.some(L=>!("name"in L&&L.name))}const R=Ee(B,{args:O?[]:{},eventName:C});c([R])}},onError(E){a==null||a(E)}});m=I,y||m()}catch(g){a==null||a(g)}})(),()=>m()})()}function vf(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=Z(["watchPendingTransactions",e.uid,t,o]);return Ne(u,{onTransactions:r,onError:n},l=>{let d;const f=Wt(async()=>{var h;try{if(!d)try{d=await N(e,ci,"createPendingTransactionFilter")({});return}catch(p){throw f(),p}const b=await N(e,gn,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)l.onTransactions(b);else for(const p of b)l.onTransactions([p])}catch(b){(h=l.onError)==null||h.call(l,b)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await N(e,wn,"uninstallFilter")({filter:d}),f()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});l=d,u||l()}catch(d){n==null||n(d)}})(),()=>l()})()}function xf(e){var d,f,h;const{scheme:t,statement:n,...r}=((d=e.match(Pf))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((f=e.match(Ef))==null?void 0:f.groups)??{},l=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Pf=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Ef=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Bf(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||t&&!ui(r.address,t))return!1}catch{return!1}return!0}async function If(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,l=xf(s);if(!l.address||!Bf({address:n,domain:r,message:l,nonce:o,scheme:i,time:c}))return!1;const f=gi(s);return Qr(e,{address:l.address,hash:f,signature:a,...u})}function $f(e){return{call:t=>yn(e,t),createBlockFilter:()=>Xl(e),createContractEventFilter:t=>Po(e,t),createEventFilter:t=>ai(e,t),createPendingTransactionFilter:()=>ci(e),estimateContractGas:t=>Qu(e,t),estimateGas:t=>jr(e,t),getBalance:t=>Ql(e,t),getBlobBaseFee:()=>ed(e),getBlock:t=>Oe(e,t),getBlockNumber:t=>Zt(e,t),getBlockTransactionCount:t=>td(e,t),getBytecode:t=>ar(e,t),getChainId:()=>Zo(e),getCode:t=>ar(e,t),getContractEvents:t=>Yo(e,t),getEip712Domain:t=>El(e,t),getEnsAddress:t=>Rl(e,t),getEnsAvatar:t=>Kl(e,t),getEnsName:t=>Yl(e,t),getEnsResolver:t=>Jl(e,t),getEnsText:t=>ii(e,t),getFeeHistory:t=>rd(e,t),estimateFeesPerGas:t=>_u(e,t),getFilterChanges:t=>gn(e,t),getFilterLogs:t=>sd(e,t),getGasPrice:()=>Cr(e),getLogs:t=>Mr(e,t),getProof:t=>Cd(e,t),estimateMaxPriorityFeePerGas:t=>Lu(e,t),getStorageAt:t=>Od(e,t),getTransaction:t=>Wr(e,t),getTransactionConfirmations:t=>Nd(e,t),getTransactionCount:t=>Mo(e,t),getTransactionReceipt:t=>cr(e,t),multicall:t=>Fd(e,t),prepareTransactionRequest:t=>Ko(e,t),readContract:t=>Be(e,t),sendRawTransaction:t=>xl(e,t),simulateContract:t=>pl(e,t),verifyMessage:t=>hf(e,t),verifySiweMessage:t=>If(e,t),verifyTypedData:t=>mf(e,t),uninstallFilter:t=>wn(e,t),waitForTransactionReceipt:t=>yf(e,t),watchBlocks:t=>gf(e,t),watchBlockNumber:t=>Ni(e,t),watchContractEvent:t=>vl(e,t),watchEvent:t=>wf(e,t),watchPendingTransactions:t=>vf(e,t)}}function Sf(e){const{key:t="public",name:n="Public Client"}=e;return Il({...e,key:t,name:n,type:"publicClient"}).extend($f)}function kf(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:s,retryDelay:o}=t;return({chain:i,retryCount:a,timeout:c})=>{var f;const u=t.retryCount??a,l=c??t.timeout??1e4,d=e||((f=i==null?void 0:i.rpcUrls.default.webSocket)==null?void 0:f[0]);if(!d)throw new Dr;return vn({key:n,name:r,async request({method:h,params:b}){const p={method:h,params:b},y=await nn(d,{reconnect:s}),{error:m,result:g}=await y.requestAsync({body:p,timeout:l});if(m)throw new pn({body:p,error:m,url:d});return g},retryCount:u,retryDelay:o,timeout:l,type:"webSocket"},{getSocket(){return cd(d)},getRpcClient(){return nn(d)},async subscribe({params:h,onData:b,onError:p}){const y=await nn(d),{result:m}=await new Promise((g,w)=>y.request({body:{method:"eth_subscribe",params:h},onResponse(v){if(v.error){w(v.error),p==null||p(v.error);return}if(typeof v.id=="number"){g(v);return}v.method==="eth_subscription"&&b(v.params)}}));return{subscriptionId:m,async unsubscribe(){return new Promise(g=>y.request({body:{method:"eth_unsubscribe",params:[m]},onResponse:g}))}}}})}}const Af=2n**16n-1n,dt=2n**48n-1n,Tf=2n**160n-1n,Cf=2n**256n-1n;function Of(e){const{r:t,s:n}=Xr.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,o]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:j(t,{size:32}),s:j(n,{size:32}),v:s,yParity:o}:{r:j(t,{size:32}),s:j(n,{size:32}),yParity:o}}var Nf={oneInchDevPortalHost:"https://jellyfish-app-8xwqz.ondigitalocean.app/",walletConnectProjectId:"2dd59e55b1b7bbfb98ddf9266f813b3b",baseHref:"",infuraApiKey:"",appVersion:"1.0.0-dev.31"};function Ff(e){return Nf[e]}const jf={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Rf={block:Ro({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=hn(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?D(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:jo({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?D(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:yi({format(e){return{l1GasPrice:e.l1GasPrice?D(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?D(e.l1GasUsed):null,l1Fee:e.l1Fee?D(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function zf(e,t){return _f(e)?Lf(e):xi(e,t)}const Mf={transaction:zf};function Lf(e){Df(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?T(i):"0x",c?T(c):"0x",s?T(s):"0x",o?"0x1":"0x",n??"0x"];return Ie(["0x7e",We(u)])}function _f(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function Df(e){const{from:t,to:n}=e;if(t&&!H(t))throw new Y({address:t});if(n&&!H(n))throw new Y({address:n})}const Rs={contracts:jf,formatters:Rf,serializers:Mf},Uf=de({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Gf=de({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),Hf=de({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),qf=de({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Vf=de({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),Wf=de({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),Zf=de({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),es=50000n,zs=Af*32n,Fi={block:Ro({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var o;if(typeof r=="string")return r;const s=(o=Fi.transaction)==null?void 0:o.format(r);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:e.l1BatchNumber?D(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?D(e.l1BatchTimestamp):null,transactions:t}}}),transaction:jo({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?D(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?D(e.l1BatchTxIndex):null}}}),transactionReceipt:yi({format(e){return{l1BatchNumber:e.l1BatchNumber?D(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?D(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...Ee(t),l1BatchNumber:t.l1BatchNumber?D(t.l1BatchNumber):null,transactionLogIndex:be(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:D(t.blockHash),blockHash:t.blockHash,l1BatchNumber:D(t.l1BatchNumber),transactionIndex:D(t.transactionIndex),shardId:D(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:D(t.logIndex)}))}}}),transactionRequest:ju({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:T(e.gasPerPubdata)}:{gasPerPubdata:T(es)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(le(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(le(t)))}:{},...e.customSignature?{customSignature:Array.from(le(e.customSignature))}:{}},type:"0x71"}:{}}})};class Kf extends P{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidEip712TransactionError"})}}function ji(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function Ri(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:o}=e;if(!ji(e))throw new Kf;if(!t||t<=0)throw new mn({chainId:t});if(n&&!H(n))throw new Y({address:n});if(r&&!H(r))throw new Y({address:r});if(s&&!H(s))throw new Y({address:s});if(s&&!o)throw new P("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&o)throw new P("`paymaster` must be provided when `paymasterInput` is defined")}function Yf(e,t){return ji(e)?Xf(e):xi(e,t)}const Jf={transaction:Yf};function Xf(e){const{chainId:t,gas:n,nonce:r,to:s,from:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:l,paymaster:d,paymasterInput:f,gasPerPubdata:h,data:b}=e;Ri(e);const p=[r?T(r):"0x",c?T(c):"0x",a?T(a):"0x",n?T(n):"0x",s??"0x",i?T(i):"0x",b??"0x0",T(t),T(""),T(""),T(t),o??"0x",T(h||es),l??[],u??"0x",d&&f?[d,f]:[]];return Ie(["0x71",We(p)])}class Qf extends P{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthExceedsMaxSizeError"})}}class e0 extends P{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthInWordsMustBeOddError"})}}class t0 extends P{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthMustBeDivisibleBy32Error"})}}function n0(e){const t=ue(e);if(t.length%32!==0)throw new t0({givenLength:t.length});if(t.length>zs)throw new Qf({givenLength:t.length,maxBytecodeSize:zs});const n=_o(t),r=ue(n),s=t.length/32;if(s%2===0)throw new e0({givenLengthInWords:s});const o=ue(s),i=Ke(o,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(i,2),r}const r0=e=>{Ri(e);const t=s0(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function s0(e){const{gas:t,nonce:n,to:r,from:s,value:o,maxFeePerGas:i,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:u,paymasterInput:l,gasPerPubdata:d,data:f}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:d??es,maxFeePerGas:i??0n,maxPriorityFeePerGas:a??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:o??0n,data:f||"0x0",factoryDeps:(c==null?void 0:c.map(h=>T(n0(h))))??[],paymasterInput:l||"0x"}}const o0={formatters:Fi,serializers:Jf,custom:{getEip712Domain:r0}},i0=de({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),wt=1,a0=de({...Rs,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Rs.contracts,disputeGameFactory:{[wt]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[wt]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[wt]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[wt]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:wt}),c0=de({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),u0=de({...o0,id:324,name:"zkSync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"zkSync Explorer",url:"https://explorer.zksync.io/"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}});var zn=new Map;function l0({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const l=c();i();const d=l.map(({args:f})=>f);d.length!==0&&e(d).then(f=>{var h;s&&Array.isArray(f)&&f.sort(s);for(let b=0;b<l.length;b++){const{pendingPromise:p}=l[b];(h=p.resolve)==null||h.call(p,[f[b],f])}}).catch(f=>{var h;for(let b=0;b<l.length;b++){const{pendingPromise:p}=l[b];(h=p.reject)==null||h.call(p,f)}})},i=()=>zn.delete(t),a=()=>c().map(({args:l})=>l),c=()=>zn.get(t)||[],u=l=>zn.set(t,[...c(),l]);return{flush:i,async schedule(l){const d={},f=new Promise((p,y)=>{d.resolve=p,d.reject=y});return(n==null?void 0:n([...a(),l]))&&o(),c().length>0?(u({args:l,pendingPromise:d}),f):(u({args:l,pendingPromise:d}),setTimeout(o,r),f)}}}function d0(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:a,retryDelay:c}=t;return({chain:u,retryCount:l,timeout:d})=>{const{batchSize:f=1e3,wait:h=0}=typeof n=="object"?n:{},b=t.retryCount??l,p=d??t.timeout??1e4,y=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!y)throw new Dr;const m=ni(y,{fetchOptions:r,onRequest:i,onResponse:a,timeout:p});return vn({key:s,name:o,async request({method:g,params:w}){if(Ms[g])return Ms[g]();const v={method:g,params:w},{schedule:I}=l0({id:y,wait:h,shouldSplitBatch(A){return A.length>f},fn:A=>m.request({body:A}),sort:(A,C)=>A.id-C.id}),E=async A=>n?I(A):[await m.request({body:A})],[{error:B,result:$}]=await E(v);if(B)throw new pn({body:v,error:B,url:y});return $},retryCount:b,retryDelay:c,timeout:p,type:"http"},{fetchOptions:r,url:y})}}var Ms={net_listening:()=>!0},pr={wait:50,batchSize:50};function f0(e){const t=h0[e],n=m0[e],r=[...n.map(o=>kf(o,{reconnect:{attempts:5,delay:5e3}})),...t.map(o=>Nl(o,{batch:pr}))],s=p0(e);return s&&r.push(d0(s,{batch:pr,key:"infura"})),Al(r,{retryCount:10,retryDelay:3e4,rank:{interval:6e4*5,sampleCount:t.length+n.length,timeout:500,weights:{latency:.4,stability:.7}}})}function p0(e){const t=Ff("infuraApiKey"),n=b0[e];return!t||n===""?null:`${n}${t}`}var b0={[x.eth]:"https://mainnet.infura.io/v3/",[x.bnb]:"",[x.matic]:"https://polygon-mainnet.infura.io/v3/",[x.op]:"https://optimism-mainnet.infura.io/v3/",[x.arbitrum]:"https://arbitrum-mainnet.infura.io/v3/",[x.gnosis]:"",[x.avalanche]:"https://avalanche-mainnet.infura.io/v3/",[x.fantom]:"",[x.aurora]:"",[x.klaytn]:"",[x.zkSyncEra]:""},h0={[x.eth]:["https://ethereum-rpc.publicnode.com","https://ethereum.publicnode.com","https://rpc.mevblocker.io","https://eth.merkle.io","https://1rpc.io/eth","https://rpc.flashbots.net","https://eth-pokt.nodies.app","https://eth.meowrpc.com","https://eth.drpc.org","https://eth.llamarpc.com","https://eth-mainnet.public.blastapi.io","https://rpc.ankr.com/eth","https://cloudflare-eth.com","https://eth-mainnet.gateway.pokt.network/v1/5f3453978e354ab992c4da79","https://nodes.mewapi.io/rpc/eth","https://endpoints.omniatech.io/v1/eth/mainnet/public","https://ethereum-mainnet-rpc.allthatnode.com","https://ethereum-mainnet-archive.allthatnode.com","https://ethereum-mainnet-rpc-germany.allthatnode.com","https://ethereum-mainnet-archive-germany.allthatnode.com","https://ethereum-mainnet-rpc-korea.allthatnode.com","https://ethereum-mainnet-archive-korea.allthatnode.com"],[x.bnb]:["https://bsc.publicnode.com","https://bsc-rpc.publicnode.com","https://endpoints.omniatech.io/v1/bsc/mainnet/public","https://bsc-pokt.nodies.app","https://bsc.meowrpc.com","https://bsc.drpc.org","https://1rpc.io/bnb"],[x.matic]:["https://polygon-bor-rpc.publicnode.com","https://polygon-rpc.com","https://polygon-pokt.nodies.app","https://polygon-heimdall-rpc.publicnode.com:443","https://endpoints.omniatech.io/v1/matic/mainnet/public","https://polygon-bor.publicnode.com","https://polygon.drpc.org","https://polygon.meowrpc.com","https://polygon.llamarpc.com"],[x.op]:["https://optimism-rpc.publicnode.com","https://optimism.llamarpc.com","https://optimism.publicnode.com","https://op-pokt.nodies.app","https://optimism.meowrpc.com","https://optimism.drpc.org","https://endpoints.omniatech.io/v1/op/mainnet/public"],[x.arbitrum]:["https://arbitrum-one.publicnode.com","https://arb-pokt.nodies.app","https://arbitrum.meowrpc.com","https://arbitrum.drpc.org","https://endpoints.omniatech.io/v1/arbitrum/one/public"],[x.gnosis]:["https://gnosis.publicnode.com","https://gnosis-rpc.publicnode.com","https://rpc.gnosischain.com","https://gnosis.drpc.org"],[x.avalanche]:["https://avalanche-c-chain.publicnode.com","https://1rpc.io/avax/c","https://endpoints.omniatech.io/v1/avax/mainnet/public","https://avax.meowrpc.com","https://avalanche.drpc.org"],[x.fantom]:["https://fantom.publicnode.com","https://fantom-pokt.nodies.app","https://1rpc.io/ftm","https://fantom.drpc.org"],[x.aurora]:["https://mainnet.aurora.dev","https://endpoints.omniatech.io/v1/aurora/mainnet/public","https://1rpc.io/aurora","https://aurora.drpc.org"],[x.klaytn]:["https://klaytn.drpc.org","https://rpc.ankr.com/klaytn","https://klaytn.blockpi.network/v1/rpc/public"],[x.zkSyncEra]:["https://mainnet.era.zksync.io","https://zksync-era.blockpi.network/v1/rpc/public","https://zksync.meowrpc.com","https://zksync.drpc.org"]},m0={[x.eth]:["wss://ethereum-rpc.publicnode.com","wss://ethereum.publicnode.com","wss://eth.drpc.org"],[x.bnb]:["wss://bsc.publicnode.com","wss://bsc-rpc.publicnode.com"],[x.matic]:["wss://polygon.drpc.org","wss://polygon-bor-rpc.publicnode.com","wss://polygon-bor.publicnode.com","wss://polygon-heimdall-rpc.publicnode.com:443/websocket"],[x.op]:["wss://optimism.publicnode.com"],[x.arbitrum]:["wss://arbitrum-one.publicnode.com"],[x.gnosis]:["wss://rpc.gnosischain.com/wss","wss://gnosis-rpc.publicnode.com","wss://gnosis.publicnode.com"],[x.avalanche]:["wss://avalanche-c-chain.publicnode.com"],[x.fantom]:["wss://gnosis.publicnode.com"],[x.aurora]:["wss://mainnet.aurora.dev"],[x.klaytn]:["wss://public-en-cypress.klaytn.net/ws"],[x.zkSyncEra]:["wss://mainnet.era.zksync.io/ws"]},y0={[x.eth]:i0,[x.bnb]:qf,[x.matic]:c0,[x.op]:a0,[x.arbitrum]:Uf,[x.gnosis]:Wf,[x.avalanche]:Hf,[x.fantom]:Vf,[x.aurora]:Gf,[x.klaytn]:Zf,[x.zkSyncEra]:u0};function zi(e){return y0[e]}var Mn={[x.eth]:null,[x.bnb]:null,[x.matic]:null,[x.op]:null,[x.arbitrum]:null,[x.gnosis]:null,[x.avalanche]:null,[x.fantom]:null,[x.aurora]:null,[x.klaytn]:null,[x.zkSyncEra]:null};function g0(e){const t=zi(e),n=f0(e);return Sf({batch:{multicall:pr},chain:t,transport:n})}function Xe(e){return Mn[e]||(Mn[e]=g0(e)),Mn[e]}var w0={[x.eth]:!1,[x.bnb]:!1,[x.matic]:!1,[x.op]:!0,[x.arbitrum]:!0,[x.gnosis]:!1,[x.avalanche]:!1,[x.fantom]:!1,[x.aurora]:!1,[x.klaytn]:!1,[x.zkSyncEra]:!0};function dp(e){return w0[e]}var Mi={[x.eth]:11e3,[x.bnb]:3e3,[x.matic]:3e3,[x.op]:3e3,[x.arbitrum]:3e3,[x.gnosis]:5e3,[x.avalanche]:3e3,[x.fantom]:3e3,[x.aurora]:3e3,[x.klaytn]:3e3,[x.zkSyncEra]:3e3},Ln={[x.eth]:null,[x.bnb]:null,[x.matic]:null,[x.op]:null,[x.arbitrum]:null,[x.gnosis]:null,[x.avalanche]:null,[x.fantom]:null,[x.aurora]:null,[x.klaytn]:null,[x.zkSyncEra]:null},Li=Date.now();document.addEventListener("mousemove",()=>Li=Date.now());function v0(e){let t,n=!1;const r=()=>Date.now()-Li>60*1e3;return new qs(s=>{const o=i=>{s.next(i);const a=r();a&&!n?(n=!0,t==null||t.unsubscribe(),t=x0(e).subscribe(o),console.log("slow block loader")):!a&&n&&(n=!1,t==null||t.unsubscribe(),t=Ls(e).subscribe(o),console.log("regular block loader"))};return t=Ls(e).subscribe(o),()=>{t==null||t.unsubscribe()}})}function Ls(e){return new qs(t=>Xe(e).watchBlocks({onBlock:r=>t.next(r)})).pipe(Hs({bufferSize:1,refCount:!0}))}function x0(e){const t=Xe(e);return aa(30*1e3).pipe(Gs(()=>t.getBlock()))}function P0(){const e=document.hasFocus(),t=document.visibilityState==="visible";return e&&t}function E0(){let e=!0;return ta(Bn(window,"focus"),Bn(window,"blur"),Bn(document,"visibilitychange")).pipe(oa(null),ia(()=>e?(e=!1,!0):P0()),na())}function fp(e){return Ln[e]===null&&(Ln[e]=E0().pipe(Gs(t=>t?v0(e):Xi()),Qi(Mi[e]/2),Hs({bufferSize:1,refCount:!0}))),Ln[e]}var B0="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function _i(e){return ui(B0,e)}var Di=class{constructor(){this.timeCacheStorage={}}set(e,t,n){let r=this.timeCacheStorage[e];r||(r=new ea(Mi[e]),this.timeCacheStorage[e]=r),r.set(t,n)}get(e,t){const n=this.timeCacheStorage[e];return n?n.get(t):null}},I0=he(["function balanceOf(address _owner) public view returns (uint256 balance)"]),_s=new Di;async function $0(e,t,n){const r=[t,n].join(":"),s=_s.get(e,r);if(s!==null)return s;const o=Xe(e);if(_i(n))return await o.getBalance({address:t});const i=await o.readContract({abi:I0,functionName:"balanceOf",args:[t],address:n});return _s.set(e,r,i),i}async function pp(e,t,n){const r={};return await Promise.all(n.map(s=>$0(e,t,s).then(o=>r[s]=o.toString()))),r}var S0=he(["function allowance(address owner, address spender) public view returns (uint256)"]),Ds=new Di;async function bp(e,t,n,r){const s=[e,t,n,r].join(":"),o=Ds.get(e,s);if(o!==null)return o;const i=Xe(e);if(_i(t))return Cf;const a=await i.readContract({abi:S0,functionName:"allowance",args:[n,r],address:t});return Ds.set(e,s,a),a}var k0="function permit(address owner, address spender, uint value, uint deadline, uint8 v, bytes32 r, bytes32 s) external",A0="function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s) external",Ui=()=>he([k0,A0]),T0=()=>he(["function nonces(address owner) external view returns (uint)","function nonce(address owner) external view returns (uint)","function getNonce(address owner) external view returns (uint)","function _nonces(address owner) external view returns (uint)"]),C0=he(["function DOMAIN_SEPARATOR() external view returns (bytes32)"]);he(["function version() view returns (string)"]);he(["function name() view returns (string)"]);var O0=()=>Je(Ui()[0]),N0=()=>Je(Ui()[0]),F0=()=>Je(C0[0]),j0=()=>T0().map(e=>Je(e)),Us=new ra(5);async function R0(e,t){const n=[e,t].join(":"),r=Us.get(n);if(r)return r;const o=await Xe(e).getBytecode({address:t});if(!o)throw new Error(`Contract not found: ${t}`);return Us.set(n,o),o}function z0(e){return e.includes(F0().replace("0x","").toLowerCase())}function M0(e){return j0().some(t=>e.includes(t.replace("0x","").toLowerCase()))}function L0(e){const t=O0().replace("0x","").toLowerCase();return e.includes(t)||_0(e)}function _0(e){const t=N0().replace("0x","").toLowerCase();return e.includes(t)}async function hp(e,t){try{const r=(await R0(e,t)).toLowerCase();let s=!0;return s&&(s=L0(r)),s&&(s=z0(r)),s&&(s=M0(r)),s}catch{return!1}}function D0(e){return x[e]!==void 0}function Gi(e){if(!D0(e))throw new Error(`chain ${e} not supported`)}function mp(e){return Gi(e),e===x.zkSyncEra?"0x6fd4383cb451173d5f9304f041c7bcbf27d561ff":"0x111111125421ca6dc452d289314280a0f8842a65"}function Hi(e){return Gi(e),e===x.zkSyncEra?"0x0000000000225e31D15943971F47aD3022F714Fa":"0x000000000022D473030F116dDEE9F6B43aC78BA3"}var qi=new sa("permit2",29),U0={[x.eth]:!1,[x.bnb]:!1,[x.matic]:!1,[x.op]:!1,[x.arbitrum]:!1,[x.gnosis]:!1,[x.avalanche]:!1,[x.fantom]:!1,[x.aurora]:!1,[x.klaytn]:!1,[x.zkSyncEra]:!0},Vi=()=>br(()=>import("./permit2_abi-TSO4Q6OK-5IYTefWS.js"),[]).then(e=>e.default);function Wi(e){return U0[e]??!1}async function yp(e,t,n,r){if(!Wi(e))throw new Error(`chain ${e} not supported Permit2`);const{nonce:s}=await G0(e,t,n,r),o={details:{token:t,amount:Tf,expiration:Number(dt),nonce:s},spender:r,sigDeadline:Number(dt)};return{domain:{chainId:e,name:"Permit2",verifyingContract:Hi(e)},account:n,primaryType:"PermitSingle",types:J0,message:o}}async function G0(e,t,n,r){if(!Wi(e))throw new Error(`chain ${e} not supported Permit2`);const o=await Xe(e).readContract({address:Hi(e),abi:await Vi(),functionName:"allowance",args:[t,n,r]}),[i,a,c]=o;return{amount:i,expiration:a,nonce:c}}async function gp(e,t,n,r,s,o){const i=[e,t,n,r].join(":");await qi.set(i,{permitSingle:o,signature:s})}async function H0(e,t,n,r){const s=[e,t,n,r].join(":");return await qi.get(s)}async function wp(e,t,n,r){return await H0(e,t,n,r)!==null}async function vp(e,t,n,r){const s=Of(n),o=Re({abi:await Vi(),functionName:"permit",args:[t,r,`${s.r}${Zi(q0(s.s,s.v===27n?0:1))}`]}),i=V0(o),a=r.details.token,c=r.spender;return Z0(W0(i),a,t,c)}function q0(e,t){const n=ue(e);return t===1&&(n[0]|=128),T(n)}function V0(e){const t="0x";return t+e.substring(t.length+8)}function Zi(e){const t=e.toString();return t.startsWith("0x")?t.substring(2):t}function W0(e){if(e.length!==706)throw new Error("");const[t,n,r,s,o,i,a,c]=qt([{name:"owner",type:"address"},{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"},{name:"signature",type:"bytes"}],e);return`0x${[r.toString(16).padStart(40,"0"),s.toString()===dt.toString()?"00000000":(BigInt(s)+1n).toString(16).padStart(8,"0"),o.toString(16).padStart(8,"0"),a.toString()===dt.toString()?"00000000":(a+1n).toString(16).padStart(8,"0"),BigInt(c).toString(16).padStart(128,"0")].join("")}`}function Z0(e,t,n,r){if(e.length!==194)throw new Error("");const s={amount:BigInt(e.slice(0,42)),expiration:+("0x"+e.slice(42,50)),nonce:+("0x"+e.slice(50,58)),sigDeadline:BigInt("0x"+e.slice(58,66)),r:"0x"+e.slice(66,130),vs:"0x"+e.slice(130,194)};return Ye([{name:"owner",type:"address"},{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"},{name:"signature",type:"bytes"}],[n,t,s.amount,s.expiration===0?Number(dt):s.expiration-1,s.nonce,r,s.sigDeadline===0n?dt:s.sigDeadline-1n,s.r+Zi(s.vs)])}var K0=[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],Y0=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],J0={PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:K0,EIP712Domain:Y0},Ki={[x.eth]:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",[x.bnb]:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",[x.matic]:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",[x.op]:"0x4200000000000000000000000000000000000006",[x.arbitrum]:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",[x.gnosis]:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",[x.avalanche]:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",[x.fantom]:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",[x.aurora]:"0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb",[x.klaytn]:"0xe4f05a66ec68b54a58b17c22107b02e0232cc817",[x.zkSyncEra]:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91"},X0=he(["function deposit() public payable"]);function Q0(e){return Ki[e]}function xp(e){const t=zi(e);return{chainId:e,symbol:`W${t.nativeCurrency.symbol}`,name:`W${t.nativeCurrency.symbol}`,decimals:t.nativeCurrency.decimals,address:Ki[e],isInternalWrapToken:!0}}function Pp(e){return e.isInternalWrapToken?e.symbol.slice(1):e.symbol}async function Ep(e,t){const n=Xe(e),r=Q0(e);return await n.estimateContractGas({abi:X0,address:r,value:t,functionName:"deposit"})}export{ui as $,Re as A,P as B,ap as C,j as D,vn as E,Xa as F,Ie as G,H,Y as I,Ke as J,Et as K,uo as L,id as M,od as N,nc as O,cp as P,rp as Q,Lr as R,wr as S,op as T,Ue as U,sp as V,T as W,bd as X,pd as Y,up as Z,Il as _,Ff as a,H0 as a0,yp as a1,gp as a2,vp as a3,Ep as a4,Xe as a5,he as a6,Di as a7,hp as a8,pp as a9,cn as aa,Z as ab,hu as ac,yn as ad,Pe as ae,Ye as af,xt as ag,pe as ah,_i as b,xp as c,Pp as d,fp as e,$o as f,zi as g,D0 as h,dp as i,mp as j,bp as k,Wi as l,wp as m,B0 as n,ip as o,To as p,$r as q,kr as r,N as s,Zo as t,Ko as u,Xu as v,xl as w,Sr as x,Co as y,je as z};
//# sourceMappingURL=index.esm-DQpf5hpN.js.map
