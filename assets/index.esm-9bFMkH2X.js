const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-Cm1eufIX.js","assets/index-20wzK8GH.js","assets/index.esm-DhwY4kHm.js","assets/index.esm-COc-PyqV.js","assets/import-wrapper-CAGJVX77-HE6k9jgZ.js"])))=>i.map(i=>d[i]);
import{_ as yn}from"./index-20wzK8GH.js";import{p as Za,A as Ka,O as Hn,v as _o,b as Mo,y as Ya,z as Ja,i as Oo,D as Xa,o as ss,c as Ln,r as Qa,C as k,a as Uo,f as fr,s as ec,m as tc}from"./index.esm-DhwY4kHm.js";import{storage as qs,JsonParser as nc}from"./index.esm-COc-PyqV.js";var os=new Za(Ka),rc=os,sc=new Hn(function(e){return e.complete()});function oc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_o(e);return Mo(e,n)}function ic(e){return e instanceof Date&&!isNaN(e)}function ac(e,t,n){e===void 0&&(e=0),n===void 0&&(n=rc);var r=-1;return t!=null&&(Ya(t)?n=t:r=t),new Hn(function(s){var i=ic(e)?+e-n.now():e;i<0&&(i=0);var o=0;return n.schedule(function(){s.closed||(s.next(o++),0<=r?this.schedule(void 0,r):s.complete())},i)})}function cc(e,t){return t===void 0&&(t=os),ac(e,e,t)}function uc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_o(e),r=Ja(e,1/0),s=e;return s.length?s.length===1?Oo(s[0]):Xa(r)(Mo(s,n)):sc}function lc(e,t){return t===void 0&&(t=os),ss(function(n,r){var s=null,i=null,o=null,c=function(){if(s){s.unsubscribe(),s=null;var f=i;i=null,r.next(f)}};function l(){var f=o+e,d=t.now();if(d<f){s=this.schedule(void 0,f-d),r.add(s);return}c()}n.subscribe(Ln(r,function(f){i=f,o=t.now(),s||(s=t.schedule(l,e),r.add(s))},function(){c(),r.complete()},void 0,function(){i=s=null}))})}function fc(e,t){return t===void 0&&(t=Qa),e=e??dc,ss(function(n,r){var s,i=!0;n.subscribe(Ln(r,function(o){var c=t(o);(i||!e(s,c))&&(i=!1,s=c,r.next(o))}))})}function dc(e,t){return e===t}function Lo(e,t){return ss(function(n,r){var s=null,i=0,o=!1,c=function(){return o&&!s&&r.complete()};n.subscribe(Ln(r,function(l){s==null||s.unsubscribe();var f=0,d=i++;Oo(e(l,d)).subscribe(s=Ln(r,function(p){return r.next(t?t(l,p,d,f++):p)},function(){s=null,c()}))},function(){o=!0,c()}))})}const pc="1.0.5";let Be=class $r extends Error{constructor(t,n={}){var o;const r=n.cause instanceof $r?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof $r&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${pc}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function st(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const zo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Do=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,jo=/^\(.+?\).*?$/,Vs=/^tuple(?<array>(\[(\d*)\])*)$/;function Tr(e){let t=e.type;if(Vs.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Tr(i),s<n-1&&(t+=", ")}const r=st(Vs,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Tr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function jt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Tr(s),r!==n-1&&(t+=", ")}return t}function hc(e){return e.type==="function"?`function ${e.name}(${jt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${jt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${jt(e.inputs)})`:e.type==="error"?`error ${e.name}(${jt(e.inputs)})`:e.type==="constructor"?`constructor(${jt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Go=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function mc(e){return Go.test(e)}function yc(e){return st(Go,e)}const Ho=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function bc(e){return Ho.test(e)}function gc(e){return st(Ho,e)}const qo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function wc(e){return qo.test(e)}function xc(e){return st(qo,e)}const Vo=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Wo(e){return Vo.test(e)}function vc(e){return st(Vo,e)}const Zo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Ec(e){return Zo.test(e)}function Bc(e){return st(Zo,e)}const Pc=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ic(e){return Pc.test(e)}const Ac=/^receive\(\) external payable$/;function Sc(e){return Ac.test(e)}const $c=new Set(["indexed"]),kr=new Set(["calldata","memory","storage"]);class Tc extends Be{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class kc extends Be{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Cc extends Be{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Nc extends Be{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Rc extends Be{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Fc extends Be{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class _c extends Be{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Vt extends Be{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Mc extends Be{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Oc extends Be{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Uc extends Be{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Lc extends Be{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function zc(e,t){return t?`${t}:${e}`:e}const dr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Dc(e,t={}){if(wc(e)){const n=xc(e);if(!n)throw new Vt({signature:e,type:"function"});const r=$e(n.parameters),s=[],i=r.length;for(let c=0;c<i;c++)s.push(ct(r[c],{modifiers:kr,structs:t,type:"function"}));const o=[];if(n.returns){const c=$e(n.returns),l=c.length;for(let f=0;f<l;f++)o.push(ct(c[f],{modifiers:kr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}if(bc(e)){const n=gc(e);if(!n)throw new Vt({signature:e,type:"event"});const r=$e(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ct(r[o],{modifiers:$c,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(mc(e)){const n=yc(e);if(!n)throw new Vt({signature:e,type:"error"});const r=$e(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ct(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(Ec(e)){const n=Bc(e);if(!n)throw new Vt({signature:e,type:"constructor"});const r=$e(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ct(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(Ic(e))return{type:"fallback"};if(Sc(e))return{type:"receive",stateMutability:"payable"};throw new Mc({signature:e})}const jc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Gc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Hc=/^u?int$/;function ct(e,t){var p,m;const n=zc(e,t==null?void 0:t.type);if(dr.has(n))return dr.get(n);const r=jo.test(e),s=st(r?Gc:jc,e);if(!s)throw new Cc({param:e});if(s.name&&Vc(s.name))throw new Nc({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},c=(t==null?void 0:t.structs)??{};let l,f={};if(r){l="tuple";const w=$e(s.type),g=[],y=w.length;for(let v=0;v<y;v++)g.push(ct(w[v],{structs:c}));f={components:g}}else if(s.type in c)l="tuple",f={components:c[s.type]};else if(Hc.test(s.type))l=`${s.type}256`;else if(l=s.type,(t==null?void 0:t.type)!=="struct"&&!Ko(l))throw new kc({type:l});if(s.modifier){if(!((m=(p=t==null?void 0:t.modifiers)==null?void 0:p.has)!=null&&m.call(p,s.modifier)))throw new Rc({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(kr.has(s.modifier)&&!Wc(l,!!s.array))throw new Fc({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const d={type:`${l}${s.array??""}`,...i,...o,...f};return dr.set(n,d),d}function $e(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],c=e.slice(i+1);switch(o){case",":return r===0?$e(c,[...t,n.trim()]):$e(c,t,`${n}${o}`,r);case"(":return $e(c,t,`${n}${o}`,r+1);case")":return $e(c,t,`${n}${o}`,r-1);default:return $e(c,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Lc({current:n,depth:r});return t.push(n.trim()),t}function Ko(e){return e==="address"||e==="bool"||e==="function"||e==="string"||zo.test(e)||Do.test(e)}const qc=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Vc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||zo.test(e)||Do.test(e)||qc.test(e)}function Wc(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Zc(e){const t={},n=e.length;for(let o=0;o<n;o++){const c=e[o];if(!Wo(c))continue;const l=vc(c);if(!l)throw new Vt({signature:c,type:"struct"});const f=l.properties.split(";"),d=[],p=f.length;for(let m=0;m<p;m++){const g=f[m].trim();if(!g)continue;const y=ct(g,{type:"struct"});d.push(y)}if(!d.length)throw new Oc({signature:c});t[l.name]=d}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[c,l]=s[o];r[c]=Yo(l,t)}return r}const Kc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Yo(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(jo.test(o.type))r.push(o);else{const l=st(Kc,o.type);if(!(l!=null&&l.type))throw new _c({abiParameter:o});const{array:f,type:d}=l;if(d in t){if(n.has(d))throw new Uc({type:d});r.push({...o,type:`tuple${f??""}`,components:Yo(t[d]??[],t,new Set([...n,d]))})}else if(Ko(d))r.push(o);else throw new Tc({type:d})}}return r}function Pe(e){const t=Zc(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];Wo(i)||n.push(Dc(i,t))}return n}function G(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}function De(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new cu(e.type);return`${e.name}(${qn(e.inputs,{includeName:t})})`}function qn(e,{includeName:t=!1}={}){return e?e.map(n=>Yc(n,{includeName:t})).join(t?", ":","):""}function Yc(e,{includeName:t}){return e.type.startsWith("tuple")?`(${qn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ee(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function te(e){return Ee(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Jo="2.21.5";let Nn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:Jo};class C extends Error{constructor(t,n={}){var c;const r=(()=>{var l;return n.cause instanceof C?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),s=n.cause instanceof C&&n.cause.docsPath||n.docsPath,i=(c=Nn.getDocsUrl)==null?void 0:c.call(Nn,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],`Version: ${Nn.version}`].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Jo}walk(t){return Xo(this,t)}}function Xo(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?Xo(e.cause,t):t?null:e}class Jc extends C{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Ws extends C{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Qo extends C{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${qn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Vn extends C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Xc extends C{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Qc extends C{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${te(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class eu extends C{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class ei extends C{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class tu extends C{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class ti extends C{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Zs extends C{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class zn extends C{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class nu extends C{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class ru extends C{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${De(t.abiItem)}\`, and`,`\`${n.type}\` in \`${De(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class su extends C{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class Kt extends C{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${qn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Wn extends C{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${De(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class ou extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class iu extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class au extends C{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class cu extends C{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Fh extends C{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class uu extends C{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}class ni extends C{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class ri extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class Ks extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function gt(e,{dir:t,size:n=32}={}){return typeof e=="string"?et(e,{dir:t,size:n}):lu(e,{dir:t,size:n})}function et(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ri({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function lu(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ri({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class fu extends C{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class du extends C{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class pu extends C{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function tt(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function _e(e,{size:t}){if(te(e)>t)throw new pu({givenSize:te(e),maxSize:t})}function J(e,t={}){const{signed:n}=t;t.size&&_e(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Te(e,t={}){return Number(J(e,t))}const hu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function O(e,t={}){return typeof e=="number"||typeof e=="bigint"?D(e,t):typeof e=="string"?Yt(e,t):typeof e=="boolean"?si(e,t):oe(e,t)}function si(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(_e(n,{size:t.size}),gt(n,{size:t.size})):n}function oe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=hu[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(_e(r,{size:t.size}),gt(r,{dir:"right",size:t.size})):r}function D(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof e=="bigint"?"n":"";throw new fu({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?gt(c,{size:r}):c}const mu=new TextEncoder;function Yt(e,t={}){const n=mu.encode(e);return oe(n,t)}const yu=new TextEncoder;function ve(e,t={}){return typeof e=="number"||typeof e=="bigint"?gu(e,t):typeof e=="boolean"?bu(e,t):Ee(e)?me(e,t):ft(e,t)}function bu(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(_e(n,{size:t.size}),gt(n,{size:t.size})):n}const Oe={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ys(e){if(e>=Oe.zero&&e<=Oe.nine)return e-Oe.zero;if(e>=Oe.A&&e<=Oe.F)return e-(Oe.A-10);if(e>=Oe.a&&e<=Oe.f)return e-(Oe.a-10)}function me(e,t={}){let n=e;t.size&&(_e(n,{size:t.size}),n=gt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,c=0;o<s;o++){const l=Ys(r.charCodeAt(c++)),f=Ys(r.charCodeAt(c++));if(l===void 0||f===void 0)throw new C(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);i[o]=l*16+f}return i}function gu(e,t){const n=D(e,t);return me(n)}function ft(e,t={}){const n=yu.encode(e);return typeof t.size=="number"?(_e(n,{size:t.size}),gt(n,{dir:"right",size:t.size})):n}function Dn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function wu(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bn(e,...t){if(!wu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function xu(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Dn(e.outputLen),Dn(e.blockLen)}function kt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function oi(e,t){bn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Rn=BigInt(2**32-1),Js=BigInt(32);function vu(e,t=!1){return t?{h:Number(e&Rn),l:Number(e>>Js&Rn)}:{h:Number(e>>Js&Rn)|0,l:Number(e&Rn)|0}}function Eu(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=vu(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const Bu=(e,t,n)=>e<<n|t>>>32-n,Pu=(e,t,n)=>t<<n|e>>>32-n,Iu=(e,t,n)=>t<<n-32|e>>>64-n,Au=(e,t,n)=>e<<n-32|t>>>64-n,pr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const Su=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),hr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Fe=(e,t)=>e<<32-t|e>>>t,Xs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,$u=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function Qs(e){for(let t=0;t<e.length;t++)e[t]=$u(e[t])}function Tu(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Zn(e){return typeof e=="string"&&(e=Tu(e)),bn(e),e}function ku(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];bn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class is{clone(){return this._cloneInto()}}function ii(e){const t=r=>e().update(Zn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Cu(e=32){if(pr&&typeof pr.getRandomValues=="function")return pr.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const ai=[],ci=[],ui=[],Nu=BigInt(0),Gt=BigInt(1),Ru=BigInt(2),Fu=BigInt(7),_u=BigInt(256),Mu=BigInt(113);for(let e=0,t=Gt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ai.push(2*(5*r+n)),ci.push((e+1)*(e+2)/2%64);let s=Nu;for(let i=0;i<7;i++)t=(t<<Gt^(t>>Fu)*Mu)%_u,t&Ru&&(s^=Gt<<(Gt<<BigInt(i))-Gt);ui.push(s)}const[Ou,Uu]=Eu(ui,!0),eo=(e,t,n)=>n>32?Iu(e,t,n):Bu(e,t,n),to=(e,t,n)=>n>32?Au(e,t,n):Pu(e,t,n);function Lu(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,l=(o+2)%10,f=n[l],d=n[l+1],p=eo(f,d,1)^n[c],m=to(f,d,1)^n[c+1];for(let w=0;w<50;w+=10)e[o+w]^=p,e[o+w+1]^=m}let s=e[2],i=e[3];for(let o=0;o<24;o++){const c=ci[o],l=eo(s,i,c),f=to(s,i,c),d=ai[o];s=e[d],i=e[d+1],e[d]=l,e[d+1]=f}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=Ou[r],e[1]^=Uu[r]}n.fill(0)}class as extends is{constructor(t,n,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Dn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Su(this.state)}keccak(){Xs||Qs(this.state32),Lu(this.state32,this.rounds),Xs||Qs(this.state32),this.posOut=0,this.pos=0}update(t){kt(this);const{blockLen:n,state:r}=this;t=Zn(t);const s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let c=0;c<o;c++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){kt(this,!1),bn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Dn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(oi(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new as(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const zu=(e,t,n)=>ii(()=>new as(t,e,n)),Du=zu(1,136,256/8);function ae(e,t){const n=t||"hex",r=Du(Ee(e,{strict:!1})?ve(e):e);return n==="bytes"?r:O(r)}const ju=e=>ae(ve(e));function Gu(e){return ju(e)}function Hu(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const c=e[o];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function",""].includes(s))s="";else if(s+=c,c===")"){i=!0;break}continue}if(c===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!i)throw new C("Unable to normalize signature.");return s}const qu=e=>{const t=typeof e=="string"?e:hc(e);return Hu(t)};function li(e){return Gu(qu(e))}const Kn=li;class ue extends C{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class cs extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const mr=new cs(8192);function Yn(e,t){if(mr.has(`${e}.${t}`))return mr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ae(ft(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return mr.set(`${e}.${t}`,i),i}function Vu(e,t){if(!se(e,{strict:!1}))throw new ue({address:e});return Yn(e,t)}const Wu=/^0x[a-fA-F0-9]{40}$/,yr=new cs(8192);function se(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(yr.has(r))return yr.get(r);const s=Wu.test(e)?e.toLowerCase()===e?!0:n?Yn(e)===e:!0:!1;return yr.set(r,s),s}function je(e){return typeof e[0]=="string"?ke(e):Zu(e)}function Zu(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function ke(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Jt(e,t,n,{strict:r}={}){return Ee(e,{strict:!1})?hi(e,t,n,{strict:r}):pi(e,t,n,{strict:r})}function fi(e,t){if(typeof t=="number"&&t>0&&t>te(e)-1)throw new ni({offset:t,position:"start",size:te(e)})}function di(e,t,n){if(typeof t=="number"&&typeof n=="number"&&te(e)!==n-t)throw new ni({offset:n,position:"end",size:te(e)})}function pi(e,t,n,{strict:r}={}){fi(e,t);const s=e.slice(t,n);return r&&di(s,t,n),s}function hi(e,t,n,{strict:r}={}){fi(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&di(s,t,n),s}function wt(e,t){if(e.length!==t.length)throw new eu({expectedLength:e.length,givenLength:t.length});const n=Ku({params:e,values:t}),r=ls(n);return r.length===0?"0x":r}function Ku({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(us({param:e[r],value:t[r]}));return n}function us({param:e,value:t}){const n=fs(e.type);if(n){const[r,s]=n;return Ju(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return nl(t,{param:e});if(e.type==="address")return Yu(t);if(e.type==="bool")return Qu(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return el(t,{signed:r})}if(e.type.startsWith("bytes"))return Xu(t,{param:e});if(e.type==="string")return tl(t);throw new ou(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ls(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:c}=e[i];o?t+=32:t+=te(c)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:c}=e[i];o?(n.push(D(t+s,{size:32})),r.push(c),s+=te(c)):n.push(c)}return je([...n,...r])}function Yu(e){if(!se(e))throw new ue({address:e});return{dynamic:!1,encoded:et(e.toLowerCase())}}function Ju(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new au(e);if(!r&&e.length!==t)throw new Xc({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const c=us({param:n,value:e[o]});c.dynamic&&(s=!0),i.push(c)}if(r||s){const o=ls(i);if(r){const c=D(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?je([c,o]):c}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:je(i.map(({encoded:o})=>o))}}function Xu(e,{param:t}){const[,n]=t.type.split("bytes"),r=te(e);if(!n){let s=e;return r%32!==0&&(s=et(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:je([et(D(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new Qc({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:et(e,{dir:"right"})}}function Qu(e){if(typeof e!="boolean")throw new C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:et(si(e))}}function el(e,{signed:t}){return{dynamic:!1,encoded:D(e,{size:32,signed:t})}}function tl(e){const t=Yt(e),n=Math.ceil(te(t)/32),r=[];for(let s=0;s<n;s++)r.push(et(Jt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:je([et(D(te(t),{size:32})),...r])}}function nl(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,c=us({param:i,value:e[o]});r.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ls(r):je(r.map(({encoded:s})=>s))}}function fs(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const xt=e=>Jt(li(e),0,4);function gn(e){const{abi:t,args:n=[],name:r}=e,s=Ee(r,{strict:!1}),i=t.filter(c=>s?c.type==="function"?xt(c)===r:c.type==="event"?Kn(c)===r:!1:"name"in c&&c.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const c of i){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((f,d)=>{const p="inputs"in c&&c.inputs[d];return p?Cr(f,p):!1})){if(o&&"inputs"in o&&o.inputs){const f=mi(c.inputs,o.inputs,n);if(f)throw new ru({abiItem:c,type:f[0]},{abiItem:o,type:f[1]})}o=c}}return o||i[0]}function Cr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return se(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>Cr(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Cr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function mi(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return mi(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?se(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?se(n[r],{strict:!1}):!1)return o}}const no="/docs/contract/encodeEventTopics";function wn(e){var l;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const f=gn({abi:t,name:n});if(!f)throw new Zs(n,{docsPath:no});s=f}if(s.type!=="event")throw new Zs(void 0,{docsPath:no});const i=De(s),o=Kn(i);let c=[];if(r&&"inputs"in s){const f=(l=s.inputs)==null?void 0:l.filter(p=>"indexed"in p&&p.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(f==null?void 0:f.map(p=>r[p.name]))??[]:[];d.length>0&&(c=(f==null?void 0:f.map((p,m)=>Array.isArray(d[m])?d[m].map((w,g)=>ro({param:p,value:d[m][g]})):d[m]?ro({param:p,value:d[m]}):null))??[])}return[o,...c]}function ro({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ae(ve(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new uu(e.type);return wt([e],[t])}function Jn(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:c,transport:l})=>{c==="success"&&t===i&&(n[o]=l.request)})),i=>n[i]||e.request}async function yi(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:c,toBlock:l}=t,f=Jn(e,{method:"eth_newFilter"}),d=i?wn({abi:r,args:s,eventName:i}):void 0,p=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?D(o):o,toBlock:typeof l=="bigint"?D(l):l,topics:d}]});return{abi:r,args:s,eventName:i,id:p,request:f(p),strict:!!c,type:"event"}}function ot(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const so="/docs/contract/encodeFunctionData";function rl(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=gn({abi:t,args:n,name:r});if(!i)throw new zn(r,{docsPath:so});s=i}if(s.type!=="function")throw new zn(void 0,{docsPath:so});return{abi:[s],functionName:xt(De(s))}}function it(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var c;return e.abi.length===1&&((c=e.functionName)!=null&&c.startsWith("0x"))?e:rl(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?wt(s.inputs,t??[]):void 0;return ke([i,o??"0x"])}const bi={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},sl={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ol={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class oo extends C{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class gi extends C{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class il extends C{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const al={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new il({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new gi({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new oo({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new oo({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function ds(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(al);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function cl(e,t={}){typeof t.size<"u"&&_e(e,{size:t.size});const n=oe(e,t);return J(n,t)}function ul(e,t={}){let n=e;if(typeof t.size<"u"&&(_e(n,{size:t.size}),n=tt(n)),n.length>1||n[0]>1)throw new du(n);return!!n[0]}function ze(e,t={}){typeof t.size<"u"&&_e(e,{size:t.size});const n=oe(e,t);return Te(n,t)}function ll(e,t={}){let n=e;return typeof t.size<"u"&&(_e(n,{size:t.size}),n=tt(n,{dir:"right"})),new TextDecoder().decode(n)}function xn(e,t){const n=typeof t=="string"?me(t):t,r=ds(n);if(te(n)===0&&e.length>0)throw new Vn;if(te(t)&&te(t)<32)throw new Qo({data:typeof t=="string"?t:oe(t),params:e,size:te(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const c=e[o];r.setPosition(s);const[l,f]=Tt(r,c,{staticPosition:0});s+=f,i.push(l)}return i}function Tt(e,t,{staticPosition:n}){const r=fs(t.type);if(r){const[s,i]=r;return dl(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return yl(e,t,{staticPosition:n});if(t.type==="address")return fl(e);if(t.type==="bool")return pl(e);if(t.type.startsWith("bytes"))return hl(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ml(e,t);if(t.type==="string")return bl(e,{staticPosition:n});throw new iu(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const io=32,Nr=32;function fl(e){const t=e.readBytes(32);return[Yn(oe(pi(t,-20))),32]}function dl(e,t,{length:n,staticPosition:r}){if(!n){const o=ze(e.readBytes(Nr)),c=r+o,l=c+io;e.setPosition(c);const f=ze(e.readBytes(io)),d=Xt(t);let p=0;const m=[];for(let w=0;w<f;++w){e.setPosition(l+(d?w*32:p));const[g,y]=Tt(e,t,{staticPosition:l});p+=y,m.push(g)}return e.setPosition(r+32),[m,32]}if(Xt(t)){const o=ze(e.readBytes(Nr)),c=r+o,l=[];for(let f=0;f<n;++f){e.setPosition(c+f*32);const[d]=Tt(e,t,{staticPosition:c});l.push(d)}return e.setPosition(r+32),[l,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[c,l]=Tt(e,t,{staticPosition:r+s});s+=l,i.push(c)}return[i,s]}function pl(e){return[ul(e.readBytes(32),{size:32}),32]}function hl(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=ze(e.readBytes(32));e.setPosition(n+o);const c=ze(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(c);return e.setPosition(n+32),[oe(l),32]}return[oe(e.readBytes(Number.parseInt(s),32)),32]}function ml(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?cl(s,{signed:n}):ze(s,{signed:n}),32]}function yl(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Xt(t)){const o=ze(e.readBytes(Nr)),c=n+o;for(let l=0;l<t.components.length;++l){const f=t.components[l];e.setPosition(c+i);const[d,p]=Tt(e,f,{staticPosition:c});i+=p,s[r?l:f==null?void 0:f.name]=d}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const c=t.components[o],[l,f]=Tt(e,c,{staticPosition:n});s[r?o:c==null?void 0:c.name]=l,i+=f}return[s,i]}function bl(e,{staticPosition:t}){const n=ze(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ze(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=ll(tt(i));return e.setPosition(t+32),[o,32]}function Xt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Xt);const n=fs(e.type);return!!(n&&Xt({...e,type:n[1]}))}function gl(e){const{abi:t,data:n}=e,r=Jt(n,0,4);if(r==="0x")throw new Vn;const i=[...t||[],sl,ol].find(o=>o.type==="error"&&r===xt(De(o)));if(!i)throw new ei(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?xn(i.inputs,Jt(n,4)):void 0,errorName:i.name}}const le=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function wi({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?le(t[i]):t[i]}`).join(", ")})`}const wl={gwei:9,wei:18},xl={ether:-9,wei:9};function xi(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function ps(e,t="wei"){return xi(e,wl[t])}function ye(e,t="wei"){return xi(e,xl[t])}class vl extends C{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class El extends C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ao(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Bl(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ao(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ao(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function vn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Pl extends C{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Il extends C{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Al extends C{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",vn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Sl extends C{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class _h extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:d,to:p,value:m}){var g;const w=vn({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:p,value:typeof m<"u"&&`${ps(m)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof c<"u"&&`${ye(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ye(l)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${ye(f)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class vi extends C{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Ei extends C{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class co extends C{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const $l=e=>e,En=e=>e;class Bi extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:d,to:p,value:m,stateOverride:w}){var v;const g=n?ot(n):void 0;let y=vn({from:g==null?void 0:g.address,to:p,value:typeof m<"u"&&`${ps(m)} ${((v=s==null?void 0:s.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof c<"u"&&`${ye(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ye(l)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${ye(f)} gwei`,nonce:d});w&&(y+=`
${Bl(w)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Tl extends C{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:c}){const l=gn({abi:n,args:r,name:o}),f=l?wi({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=l?De(l,{includeName:!0}):void 0,p=vn({address:s&&$l(s),function:d,args:f&&f!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${f}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=c}}class Rr extends C{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,c,l;if(n&&n!=="0x")try{o=gl({abi:t,data:n});const{abiItem:d,errorName:p,args:m}=o;if(p==="Error")l=m[0];else if(p==="Panic"){const[w]=m;l=bi[w]}else{const w=d?De(d,{includeName:!0}):void 0,g=d&&m?wi({abiItem:d,args:m,includeFunctionName:!1,includeName:!1}):void 0;c=[w?`Error: ${w}`:"",g&&g!=="()"?`       ${[...Array((p==null?void 0:p.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(d){i=d}else s&&(l=s);let f;i instanceof ei&&(f=i.signature,c=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(l&&l!=="execution reverted"||f?[`The contract function "${r}" reverted with the following ${f?"signature":"reason"}:`,l||f].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=l,this.signature=f}}class kl extends C{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Cl extends C{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class hs extends C{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Zt extends C{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${En(o)}`,t&&`Request body: ${le(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class uo extends C{constructor({body:t,cause:n,details:r,url:s}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${En(s)}`,t&&`Request body: ${le(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}class Xn extends C{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${En(r)}`,`Request body: ${le(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class jn extends C{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${En(t)}`].filter(Boolean),name:"SocketClosedError"})}}class Fr extends C{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${En(n)}`,`Request body: ${le(t)}`],name:"TimeoutError"})}}const Nl=-1;class be extends C{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Xn?t.code:n??Nl}}class Ot extends be{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Qt extends be{constructor(t){super(t,{code:Qt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class en extends be{constructor(t){super(t,{code:en.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class tn extends be{constructor(t,{method:n}={}){super(t,{code:tn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class nn extends be{constructor(t){super(t,{code:nn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ht extends be{constructor(t){super(t,{code:ht.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class mt extends be{constructor(t){super(t,{code:mt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class rn extends be{constructor(t){super(t,{code:rn.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class sn extends be{constructor(t){super(t,{code:sn.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ct extends be{constructor(t){super(t,{code:Ct.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class on extends be{constructor(t,{method:n}={}){super(t,{code:on.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not implemented.`})}}Object.defineProperty(on,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Nt extends be{constructor(t){super(t,{code:Nt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class an extends be{constructor(t){super(t,{code:an.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class dt extends Ot{constructor(t){super(t,{code:dt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class cn extends Ot{constructor(t){super(t,{code:cn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class un extends Ot{constructor(t,{method:n}={}){super(t,{code:un.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(un,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ln extends Ot{constructor(t){super(t,{code:ln.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class fn extends Ot{constructor(t){super(t,{code:fn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class dn extends Ot{constructor(t){super(t,{code:dn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Rl extends be{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Fl=3;function pn(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const{code:c,data:l,message:f,shortMessage:d}=e instanceof hs?e:e instanceof C?e.walk(m=>"data"in m)||e.walk():{},p=e instanceof Vn?new kl({functionName:i}):[Fl,ht.code].includes(c)&&(l||f||d)?new Rr({abi:t,data:typeof l=="object"?l.data:l,functionName:i,message:d??f}):e;return new Tl(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function _l(e){const t=ae(`0x${e.substring(4)}`).substring(26);return Yn(`0x${t}`)}async function Ml({hash:e,signature:t}){const n=Ee(e)?e:O(e),{secp256k1:r}=await yn(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>$0);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:f,s:d,v:p,yParity:m}=t,w=Number(m??p),g=lo(w);return new r.Signature(J(f),J(d)).addRecoveryBit(g)}const o=Ee(t)?t:O(t),c=Te(`0x${o.slice(130)}`),l=lo(c);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function lo(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Pi({hash:e,signature:t}){return _l(await Ml({hash:e,signature:t}))}function Ge(e,t="hex"){const n=Ii(e),r=ds(new Uint8Array(n.length));return n.encode(r),t==="hex"?oe(r.bytes):r.bytes}function Ii(e){return Array.isArray(e)?Ol(e.map(t=>Ii(t))):Ul(e)}function Ol(e){const t=e.reduce((s,i)=>s+i.length,0),n=Ai(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function Ul(e){const t=typeof e=="string"?me(e):e,n=Ai(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Ai(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new C("Length is too large.")}function Ll(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,i=ae(ke(["0x05",Ge([D(t),n,D(r)])]));return s==="bytes"?me(i):i}async function zl(e){const{authorization:t,signature:n}=e;return Pi({hash:Ll(t),signature:n??t})}class Dl extends C{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:d,to:p,value:m}){var g;const w=vn({from:n==null?void 0:n.address,to:p,value:typeof m<"u"&&`${ps(m)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof c<"u"&&`${ye(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ye(l)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${ye(f)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class $t extends C{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty($t,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class yt extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ye(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class _r extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ye(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(_r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Mr extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Or extends C{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Or,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ur extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Ur,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Lr extends C{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Lr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class zr extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(zr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Dr extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Dr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class jr extends C{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class hn extends C{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ye(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ye(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(hn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ms extends C{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Si(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof C?e.walk(s=>s.code===$t.code):e;return r instanceof C?new $t({cause:e,message:r.details}):$t.nodeMessage.test(n)?new $t({cause:e,message:e.details}):yt.nodeMessage.test(n)?new yt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):_r.nodeMessage.test(n)?new _r({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Mr.nodeMessage.test(n)?new Mr({cause:e,nonce:t==null?void 0:t.nonce}):Or.nodeMessage.test(n)?new Or({cause:e,nonce:t==null?void 0:t.nonce}):Ur.nodeMessage.test(n)?new Ur({cause:e,nonce:t==null?void 0:t.nonce}):Lr.nodeMessage.test(n)?new Lr({cause:e}):zr.nodeMessage.test(n)?new zr({cause:e,gas:t==null?void 0:t.gas}):Dr.nodeMessage.test(n)?new Dr({cause:e,gas:t==null?void 0:t.gas}):jr.nodeMessage.test(n)?new jr({cause:e}):hn.nodeMessage.test(n)?new hn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new ms({cause:e})}function jl(e,{docsPath:t,...n}){const r=(()=>{const s=Si(e,n);return s instanceof ms?e:s})();return new Dl(r,{docsPath:t,...n})}function $i(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const c of o)c in e&&(n[c]=e[c]),i[c]&&typeof i[c]=="object"&&!Array.isArray(i[c])&&r(i[c])}const s=t(e||{});return r(s),n}function Qn(e,t){return({exclude:n,format:r})=>({exclude:n,format:s=>{const i=t(s);if(n)for(const o of n)delete i[o];return{...i,...r(s)}},type:e})}const Gl={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ys(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=ql(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>oe(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=D(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=D(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=D(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=D(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=D(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=D(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Gl[e.type]),typeof e.value<"u"&&(t.value=D(e.value)),t}const Hl=Qn("transactionRequest",ys);function ql(e){return e.map(t=>({address:t.contractAddress,r:t.r,s:t.s,chainId:D(t.chainId),nonce:D(t.nonce),...typeof t.yParity<"u"?{yParity:D(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:D(t.v)}:{}}))}function fo(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ks({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ks({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Vl(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=D(t)),n!==void 0&&(o.nonce=D(n)),r!==void 0&&(o.state=fo(r)),s!==void 0){if(o.state)throw new El;o.stateDiff=fo(s)}return o}function Ti(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!se(n,{strict:!1}))throw new ue({address:n});if(t[n])throw new vl({address:n});t[n]=Vl(r)}return t}const Wl=2n**16n-1n,Rt=2n**48n-1n,Zl=2n**160n-1n,Bn=2n**256n-1n;function bs(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?ot(t):void 0;if(o&&!se(o.address))throw new ue({address:o.address});if(i&&!se(i))throw new ue({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Pl;if(r&&r>Bn)throw new yt({maxFeePerGas:r});if(s&&r&&s>r)throw new hn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Kl extends C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class gs extends C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Yl extends C{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ye(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ki extends C{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Ci={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function er(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Te(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Te(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Ci[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=Jl(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const Ni=Qn("transaction",er);function Jl(e){return e.map(t=>({contractAddress:t.address,r:t.r,s:t.s,chainId:Number(t.chainId),nonce:Number(t.nonce),...typeof t.yParity<"u"?{yParity:Number(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:Number(t.v)}:{}}))}function ws(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:er(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Ri=Qn("block",ws);async function nt(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var d,p,m;const i=r??"latest",o=s??!1,c=n!==void 0?D(n):void 0;let l=null;if(t?l=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):l=await e.request({method:"eth_getBlockByNumber",params:[c||i,o]},{dedupe:!!c}),!l)throw new ki({blockHash:t,blockNumber:n});return(((m=(p=(d=e.chain)==null?void 0:d.formatters)==null?void 0:p.block)==null?void 0:m.format)||ws)(l)}async function xs(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Xl(e,t){return Fi(e,t)}async function Fi(e,t){var i,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof c=="function"){const f=n||await G(e,nt,"getBlock")({}),d=await c({block:f,client:e,request:s});if(d===null)throw new Error;return d}if(typeof c<"u")return c;const l=await e.request({method:"eth_maxPriorityFeePerGas"});return J(l)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):G(e,nt,"getBlock")({}),G(e,xs,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new gs;const f=l-c.baseFeePerGas;return f<0n?0n:f}}async function Ql(e,t){return Gr(e,t)}async function Gr(e,t){var m,w;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var g,y;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(o<1)throw new Kl;const l=10**(((m=o.toString().split(".")[1])==null?void 0:m.length)??0),f=g=>g*BigInt(Math.ceil(o*l))/BigInt(l),d=n||await G(e,nt,"getBlock")({});if(typeof((w=r==null?void 0:r.fees)==null?void 0:w.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:f,request:s,type:i});if(g!==null)return g}if(i==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new gs;const g=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Fi(e,{block:d,chain:r,request:s}),y=f(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??y+g,maxPriorityFeePerGas:g}}return{gasPrice:(s==null?void 0:s.gasPrice)??f(await G(e,xs,"getGasPrice")({}))}}async function _i(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?D(r):n]},{dedupe:!!r});return Te(s)}function vs(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>me(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>oe(i))}function Es(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>me(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>me(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const c=r[o],l=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(c,l)))}return n==="bytes"?i:i.map(o=>oe(o))}function ef(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),c=Number(n&i),l=r?4:0,f=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+f,c,r)}const tf=(e,t,n)=>e&t^~e&n,nf=(e,t,n)=>e&t^e&n^t&n;class rf extends is{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=hr(this.buffer)}update(t){kt(this);const{view:n,buffer:r,blockLen:s}=this;t=Zn(t);const i=t.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const l=hr(t);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){kt(this),oi(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let p=o;p<s;p++)n[p]=0;ef(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=hr(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=l/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)c.setUint32(4*p,d[p],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:c}=this;return t.length=s,t.pos=c,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const sf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ye=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Je=new Uint32Array(64);class of extends rf{constructor(){super(64,32,8,!1),this.A=Ye[0]|0,this.B=Ye[1]|0,this.C=Ye[2]|0,this.D=Ye[3]|0,this.E=Ye[4]|0,this.F=Ye[5]|0,this.G=Ye[6]|0,this.H=Ye[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:c,H:l}=this;return[t,n,r,s,i,o,c,l]}set(t,n,r,s,i,o,c,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=l|0}process(t,n){for(let p=0;p<16;p++,n+=4)Je[p]=t.getUint32(n,!1);for(let p=16;p<64;p++){const m=Je[p-15],w=Je[p-2],g=Fe(m,7)^Fe(m,18)^m>>>3,y=Fe(w,17)^Fe(w,19)^w>>>10;Je[p]=y+Je[p-7]+g+Je[p-16]|0}let{A:r,B:s,C:i,D:o,E:c,F:l,G:f,H:d}=this;for(let p=0;p<64;p++){const m=Fe(c,6)^Fe(c,11)^Fe(c,25),w=d+m+tf(c,l,f)+sf[p]+Je[p]|0,y=(Fe(r,2)^Fe(r,13)^Fe(r,22))+nf(r,s,i)|0;d=f,f=l,l=c,c=o+w|0,o=i,i=s,s=r,r=w+y|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,l=l+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,s,i,o,c,l,f,d)}roundClean(){Je.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Mi=ii(()=>new of);function Oi(e,t){const n=t||"hex",r=Mi(Ee(e,{strict:!1})?ve(e):e);return n==="bytes"?r:O(r)}function af(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Oi(t,"bytes");return s.set([n],0),r==="bytes"?s:oe(s)}function Ui(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(af({commitment:i,to:r,version:n}));return s}const po=6,Li=32,Bs=4096,zi=Li*Bs,ho=zi*po-1-1*Bs*po,Di=1;class cf extends C{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ji extends C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class uf extends C{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class lf extends C{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Di}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function ff(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?me(e.data):e.data,r=te(n);if(!r)throw new ji;if(r>ho)throw new cf({maxSize:ho,size:r});const s=[];let i=!0,o=0;for(;i;){const c=ds(new Uint8Array(zi));let l=0;for(;l<Bs;){const f=n.slice(o,o+(Li-1));if(c.pushByte(0),c.pushBytes(f),f.length<31){c.pushByte(128),i=!1;break}l++,o+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>oe(c.bytes))}function Gi(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??ff({data:t,to:r}),i=e.commitments??vs({blobs:s,kzg:n,to:r}),o=e.proofs??Es({blobs:s,commitments:i,kzg:n,to:r}),c=[];for(let l=0;l<s.length;l++)c.push({blob:s[l],commitment:i[l],proof:o[l]});return c}function Hi(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Al({transaction:e})}async function qi(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Te(t)}const df=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Vi(e,t){const{account:n=e.account,blobs:r,chain:s,gas:i,kzg:o,nonce:c,nonceManager:l,parameters:f=df,type:d}=t,p=n?ot(n):void 0,m={...t,...p?{from:p==null?void 0:p.address}:{}};let w;async function g(){return w||(w=await G(e,nt,"getBlock")({blockTag:"latest"}),w)}let y;async function v(){return y||(s?s.id:typeof t.chainId<"u"?t.chainId:(y=await G(e,qi,"getChainId")({}),y))}if((f.includes("blobVersionedHashes")||f.includes("sidecars"))&&r&&o){const x=vs({blobs:r,kzg:o});if(f.includes("blobVersionedHashes")){const B=Ui({commitments:x,to:"hex"});m.blobVersionedHashes=B}if(f.includes("sidecars")){const B=Es({blobs:r,commitments:x,kzg:o}),P=Gi({blobs:r,commitments:x,proofs:B,to:"hex"});m.sidecars=P}}if(f.includes("chainId")&&(m.chainId=await v()),f.includes("nonce")&&typeof c>"u"&&p)if(l){const x=await v();m.nonce=await l.consume({address:p.address,chainId:x,client:e})}else m.nonce=await G(e,_i,"getTransactionCount")({address:p.address,blockTag:"pending"});if((f.includes("fees")||f.includes("type"))&&typeof d>"u")try{m.type=Hi(m)}catch{const x=await g();m.type=typeof(x==null?void 0:x.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(f.includes("fees"))if(m.type!=="legacy"&&m.type!=="eip2930"){if(typeof m.maxFeePerGas>"u"||typeof m.maxPriorityFeePerGas>"u"){const x=await g(),{maxFeePerGas:B,maxPriorityFeePerGas:P}=await Gr(e,{block:x,chain:s,request:m});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<P)throw new Yl({maxPriorityFeePerGas:P});m.maxPriorityFeePerGas=P,m.maxFeePerGas=B}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new gs;const x=await g(),{gasPrice:B}=await Gr(e,{block:x,chain:s,request:m,type:"legacy"});m.gasPrice=B}return f.includes("gas")&&typeof i>"u"&&(m.gas=await G(e,Ps,"estimateGas")({...m,account:p?{address:p.address,type:"json-rpc"}:void 0})),bs(m),delete m.parameters,m}async function Wi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?D(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function Ps(e,t){var s,i,o;const n=t.account??e.account,r=n?ot(n):void 0;try{let ie=function(M){const{block:z,request:H,rpcStateOverride:q}=M;return e.request({method:"eth_estimateGas",params:q?[H,z??"latest",q]:z?[H,z]:[H]})};const{accessList:c,authorizationList:l,blobs:f,blobVersionedHashes:d,blockNumber:p,blockTag:m,data:w,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:x,maxPriorityFeePerGas:B,nonce:P,value:S,stateOverride:A,...$}=await Vi(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),R=(p?D(p):void 0)||m,_=Ti(A),U=await(async()=>{if($.to)return $.to;if(l&&l.length>0)return await zl({authorization:l[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`")})})();bs(t);const L=(o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,W=(L||ys)({...$i($,{format:L}),from:r==null?void 0:r.address,accessList:c,authorizationList:l,blobs:f,blobVersionedHashes:d,data:w,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:x,maxPriorityFeePerGas:B,nonce:P,to:U,value:S});let F=BigInt(await ie({block:R,request:W,rpcStateOverride:_}));if(l){const M=await Wi(e,{address:W.from}),z=await Promise.all(l.map(async H=>{const{contractAddress:q}=H,j=await ie({block:R,request:{authorizationList:void 0,data:w,from:r==null?void 0:r.address,to:q,value:D(M)},rpcStateOverride:_}).catch(()=>100000n);return 2n*BigInt(j)}));F+=z.reduce((H,q)=>H+q,0n)}return F}catch(c){throw jl(c,{...t,account:r,chain:e.chain})}}async function pf(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,c=it({abi:n,args:s,functionName:i});try{return await G(e,Ps,"estimateGas")({data:c,to:r,...o})}catch(l){const f=o.account?ot(o.account):void 0;throw pn(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f==null?void 0:f.address})}}function tr(e,t){if(!se(e,{strict:!1}))throw new ue({address:e});if(!se(t,{strict:!1}))throw new ue({address:t});return e.toLowerCase()===t.toLowerCase()}const mo="/docs/contract/decodeEventLog";function Is(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...c]=s;if(!o)throw new tu({docsPath:mo});const l=t.length===1?t[0]:t.find(y=>y.type==="event"&&o===Kn(De(y)));if(!(l&&"name"in l)||l.type!=="event")throw new ti(o,{docsPath:mo});const{name:f,inputs:d}=l,p=d==null?void 0:d.some(y=>!("name"in y&&y.name));let m=p?[]:{};const w=d.filter(y=>"indexed"in y&&y.indexed);for(let y=0;y<w.length;y++){const v=w[y],x=c[y];if(!x)throw new Wn({abiItem:l,param:v});m[p?y:v.name||y]=hf({param:v,value:x})}const g=d.filter(y=>!("indexed"in y&&y.indexed));if(g.length>0){if(n&&n!=="0x")try{const y=xn(g,n);if(y)if(p)m=[...m,...y];else for(let v=0;v<g.length;v++)m[g[v].name]=y[v]}catch(y){if(i)throw y instanceof Qo||y instanceof gi?new Kt({abiItem:l,data:n,params:g,size:te(n)}):y}else if(i)throw new Kt({abiItem:l,data:"0x",params:g,size:0})}return{eventName:f,args:Object.values(m).length>0?m:void 0}}function hf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(xn([e],t)||[])[0]}function As(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var c;try{const l=t.find(d=>d.type==="event"&&o.topics[0]===Kn(d));if(!l)return null;const f=Is({...o,abi:[l],strict:s});return i&&!i.includes(f.eventName)||!mf({args:f.args,inputs:l.inputs,matchArgs:n})?null:{...f,...o}}catch(l){let f,d;if(l instanceof ti)return null;if(l instanceof Kt||l instanceof Wn){if(s)return null;f=l.abiItem.name,d=(c=l.abiItem.inputs)==null?void 0:c.some(p=>!("name"in p&&p.name))}return{...o,args:d?[]:{},eventName:f}}}).filter(Boolean)}function mf(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,c){try{return i.type==="address"?tr(o,c):i.type==="string"||i.type==="bytes"?ae(ve(o))===c:o===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(!i)return!0;const c=n[o];return c?(Array.isArray(i)?i:[i]).some(f=>s(c,f,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(!o)return!0;const c=n.find(f=>f.name===i);return c?(Array.isArray(o)?o:[o]).some(f=>s(c,f,t[i])):!1}):!1}function He(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Ss(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:c,strict:l}={}){const f=l??!1,d=o??(i?[i]:void 0);let p=[];d&&(p=[d.flatMap(y=>wn({abi:[y],eventName:y.name,args:o?void 0:c}))],i&&(p=p[0]));let m;n?m=await e.request({method:"eth_getLogs",params:[{address:t,topics:p,blockHash:n}]}):m=await e.request({method:"eth_getLogs",params:[{address:t,topics:p,fromBlock:typeof r=="bigint"?D(r):r,toBlock:typeof s=="bigint"?D(s):s}]});const w=m.map(g=>He(g));return d?As({abi:d,args:c,logs:w,strict:f}):w}async function Zi(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:c,toBlock:l,strict:f}=t,d=o?gn({abi:n,name:o}):void 0,p=d?void 0:n.filter(m=>m.type==="event");return G(e,Ss,"getLogs")({address:r,args:s,blockHash:i,event:d,events:p,fromBlock:c,toBlock:l,strict:f})}const br="/docs/contract/decodeFunctionResult";function Ut(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const c=gn({abi:t,args:n,name:r});if(!c)throw new zn(r,{docsPath:br});i=c}if(i.type!=="function")throw new zn(void 0,{docsPath:br});if(!i.outputs)throw new nu(i.name,{docsPath:br});const o=xn(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Hr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Ki=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Yi=[...Ki,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],yf=[...Ki,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],yo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],bo=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],bf=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],gf="0x82ad56cb",wf="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",xf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",vf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class qr extends C{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Mh extends C{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Oh extends C{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Ji extends C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Pn extends C{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const gr="/docs/contract/encodeDeployData";function $s(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Jc({docsPath:gr});if(!("inputs"in s))throw new Ws({docsPath:gr});if(!s.inputs||s.inputs.length===0)throw new Ws({docsPath:gr});const i=wt(s.inputs,n);return ke([r,i])}function Lt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new qr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new qr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Ef(e,{docsPath:t,...n}){const r=(()=>{const s=Si(e,n);return s instanceof ms?e:s})();return new Bi(r,{docsPath:t,...n})}const wr=new Map;function Ts({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const d=l();o();const p=d.map(({args:m})=>m);p.length!==0&&e(p).then(m=>{var w;s&&Array.isArray(m)&&m.sort(s);for(let g=0;g<d.length;g++){const{pendingPromise:y}=d[g];(w=y.resolve)==null||w.call(y,[m[g],m])}}).catch(m=>{var w;for(let g=0;g<d.length;g++){const{pendingPromise:y}=d[g];(w=y.reject)==null||w.call(y,m)}})},o=()=>wr.delete(t),c=()=>l().map(({args:d})=>d),l=()=>wr.get(t)||[],f=d=>wr.set(t,[...l(),d]);return{flush:o,async schedule(d){const p={},m=new Promise((y,v)=>{p.resolve=y,p.reject=v});return(n==null?void 0:n([...c(),d]))&&i(),l().length>0?(f({args:d,pendingPromise:p}),m):(f({args:d,pendingPromise:p}),setTimeout(i,r),m)}}}async function nr(e,t){var L,K,W,ie;const{account:n=e.account,batch:r=!!((L=e.batch)!=null&&L.multicall),blockNumber:s,blockTag:i="latest",accessList:o,blobs:c,code:l,data:f,factory:d,factoryData:p,gas:m,gasPrice:w,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:x,to:B,value:P,stateOverride:S,...A}=t,$=n?ot(n):void 0;if(l&&(d||p))throw new C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&B)throw new C("Cannot provide both `code` & `to` as parameters.");const N=l&&f,R=d&&p&&B&&f,_=N||R,U=N?If({code:l,data:f}):R?Af({data:f,factory:d,factoryData:p,to:B}):f;try{bs(t);const M=(s?D(s):void 0)||i,z=Ti(S),H=(ie=(W=(K=e.chain)==null?void 0:K.formatters)==null?void 0:W.transactionRequest)==null?void 0:ie.format,j=(H||ys)({...$i(A,{format:H}),from:$==null?void 0:$.address,accessList:o,blobs:c,data:U,gas:m,gasPrice:w,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:x,to:_?void 0:B,value:P});if(r&&Bf({request:j})&&!z)try{return await Pf(e,{...j,blockNumber:s,blockTag:i})}catch(ne){if(!(ne instanceof Ji)&&!(ne instanceof qr))throw ne}const Z=await e.request({method:"eth_call",params:z?[j,M,z]:[j,M]});return Z==="0x"?{data:void 0}:{data:Z}}catch(F){const M=Sf(F),{offchainLookup:z,offchainLookupSignature:H}=await yn(async()=>{const{offchainLookup:q,offchainLookupSignature:j}=await import("./ccip-Cm1eufIX.js");return{offchainLookup:q,offchainLookupSignature:j}},__vite__mapDeps([0,1,2,3]));if(e.ccipRead!==!1&&(M==null?void 0:M.slice(0,10))===H&&B)return{data:await z(e,{data:M,to:B})};throw _&&(M==null?void 0:M.slice(0,10))==="0x101bb98d"?new Cl({factory:d}):Ef(F,{...t,account:$,chain:e.chain})}}function Bf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(gf)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Pf(e,t){var y;const{batchSize:n=1024,wait:r=0}=typeof((y=e.batch)==null?void 0:y.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:c,to:l}=t;let f=c;if(!f){if(!e.chain)throw new Ji;f=Lt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const p=(s?D(s):void 0)||i,{schedule:m}=Ts({id:`${e.uid}.${p}`,wait:r,shouldSplitBatch(v){return v.reduce((B,{data:P})=>B+(P.length-2),0)>n*2},fn:async v=>{const x=v.map(S=>({allowFailure:!0,callData:S.data,target:S.to})),B=it({abi:Hr,args:[x],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{data:B,to:f},p]});return Ut({abi:Hr,args:[x],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:w,success:g}]=await m({data:o,to:l});if(!g)throw new hs({data:w});return w==="0x"?{data:void 0}:{data:w}}function If(e){const{code:t,data:n}=e;return $s({abi:Pe(["constructor(bytes, bytes)"]),bytecode:wf,args:[t,n]})}function Af(e){const{data:t,factory:n,factoryData:r,to:s}=e;return $s({abi:Pe(["constructor(address, bytes, address, bytes)"]),bytecode:xf,args:[s,t,n,r]})}function Sf(e){var n;if(!(e instanceof C))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function qe(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,c=it({abi:n,args:s,functionName:i});try{const{data:l}=await G(e,nr,"call")({...o,data:c,to:r});return Ut({abi:n,args:s,functionName:i,data:l||"0x"})}catch(l){throw pn(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function $f(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...c}=t,l=c.account?ot(c.account):e.account,f=it({abi:n,args:s,functionName:o});try{const{data:d}=await G(e,nr,"call")({batch:!1,data:`${f}${i?i.replace("0x",""):""}`,to:r,...c,account:l}),p=Ut({abi:n,args:s,functionName:o,data:d||"0x"}),m=n.filter(w=>"name"in w&&w.name===t.functionName);return{result:p,request:{abi:m,address:r,args:s,dataSuffix:i,functionName:o,...c,account:l}}}catch(d){throw pn(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l==null?void 0:l.address})}}const xr=new Map,go=new Map;let Tf=0;function rt(e,t,n){const r=++Tf,s=()=>xr.get(e)||[],i=()=>{const d=s();xr.set(e,d.filter(p=>p.id!==r))},o=()=>{const d=go.get(e);s().length===1&&d&&d(),i()},c=s();if(xr.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return o;const l={};for(const d in t)l[d]=(...p)=>{var w,g;const m=s();if(m.length!==0)for(const y of m)(g=(w=y.fns)[d])==null||g.call(w,...p)};const f=n(l);return typeof f=="function"&&go.set(e,f),o}async function Gn(e){return new Promise(t=>setTimeout(t,e))}function In(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:i}));const l=await(n==null?void 0:n(c))??r;await Gn(l);const f=async()=>{s&&(await e({unpoll:i}),await Gn(r),f())};f()})(),i}const kf=new Map,Cf=new Map;function Nf(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,kf),r=t(e,Cf);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Rf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Nf(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Ff=e=>`blockNumber.${e}`;async function An(e,{cacheTime:t=e.cacheTime}={}){const n=await Rf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ff(e.uid),cacheTime:t});return BigInt(n)}async function rr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>He(i));return!("abi"in t)||!t.abi?s:As({abi:t.abi,logs:s,strict:n})}async function sr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function _f(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:c,onError:l,onLogs:f,poll:d,pollingInterval:p=e.pollingInterval,strict:m}=t;return(typeof d<"u"?d:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const v=m??!1,x=le(["watchContractEvent",r,s,i,e.uid,o,p,v,c]);return rt(x,{onLogs:f,onError:l},B=>{let P;c!==void 0&&(P=c-1n);let S,A=!1;const $=In(async()=>{var N;if(!A){try{S=await G(e,yi,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:v,fromBlock:c})}catch{}A=!0;return}try{let R;if(S)R=await G(e,rr,"getFilterChanges")({filter:S});else{const _=await G(e,An,"getBlockNumber")({});P&&P<_?R=await G(e,Zi,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:P+1n,toBlock:_,strict:v}):R=[],P=_}if(R.length===0)return;if(i)B.onLogs(R);else for(const _ of R)B.onLogs([_])}catch(R){S&&R instanceof mt&&(A=!1),(N=B.onError)==null||N.call(B,R)}},{emitOnBegin:!0,interval:p});return async()=>{S&&await G(e,sr,"uninstallFilter")({filter:S}),$()}})})():(()=>{const v=m??!1,x=le(["watchContractEvent",r,s,i,e.uid,o,p,v]);let B=!0,P=()=>B=!1;return rt(x,{onLogs:f,onError:l},S=>((async()=>{try{const A=(()=>{if(e.transport.type==="fallback"){const R=e.transport.transports.find(_=>_.config.type==="webSocket");return R?R.value:e.transport}return e.transport})(),$=o?wn({abi:n,eventName:o,args:s}):[],{unsubscribe:N}=await A.subscribe({params:["logs",{address:r,topics:$}],onData(R){var U;if(!B)return;const _=R.result;try{const{eventName:L,args:K}=Is({abi:n,data:_.data,topics:_.topics,strict:m}),W=He(_,{args:K,eventName:L});S.onLogs([W])}catch(L){let K,W;if(L instanceof Kt||L instanceof Wn){if(m)return;K=L.abiItem.name,W=(U=L.abiItem.inputs)==null?void 0:U.some(F=>!("name"in F&&F.name))}const ie=He(_,{args:W?[]:{},eventName:K});S.onLogs([ie])}},onError(R){var _;(_=S.onError)==null||_.call(S,R)}});P=N,B||P()}catch(A){l==null||l(A)}})(),()=>P()))})()}async function Mf(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class Of extends C{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Uf(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,c,l,f,d,p]=await G(e,qe,"readContract")({abi:Lf,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:c,chainId:Number(l),verifyingContract:f,salt:d},extensions:p,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Of({address:n}):o}}const Lf=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}],Vr=256;let Fn=Vr,_n;function Xi(e=11){if(!_n||Fn+e>Vr*2){_n="",Fn=0;for(let t=0;t<Vr;t++)_n+=(256+Math.random()*256|0).toString(16).substring(1)}return _n.substring(Fn,Fn+++e)}function zf(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:i="Base Client",pollingInterval:o=4e3,type:c="base"}=e,l=e.chain,f=e.account?ot(e.account):void 0,{config:d,request:p,value:m}=e.transport({chain:l,pollingInterval:o}),w={...d,...m},g={account:f,batch:t,cacheTime:n,ccipRead:r,chain:l,key:s,name:i,pollingInterval:o,request:p,transport:w,type:c,uid:Xi()};function y(v){return x=>{const B=x(v);for(const S in g)delete B[S];const P={...v,...B};return Object.assign(P,{extend:y(P)})}}return Object.assign(g,{extend:y(g)})}const Mn=new cs(8192);function Df(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Mn.get(n))return Mn.get(n);const r=e().finally(()=>Mn.delete(n));return Mn.set(n,r),r}function Wr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:c=0}={})=>{const l=async({error:f})=>{const d=typeof t=="function"?t({count:c,error:f}):t;d&&await Gn(d),o({count:c+1})};try{const f=await e();s(f)}catch(f){if(c<n&&await r({count:c,error:f}))return l({error:f});i(f)}};o()})}function jf(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,retryDelay:i=150,retryCount:o=3,uid:c}={...t,...r},l=s?ae(Yt(`${c}.${le(n)}`)):void 0;return Df(()=>Wr(async()=>{try{return await e(n)}catch(f){const d=f;switch(d.code){case Qt.code:throw new Qt(d);case en.code:throw new en(d);case tn.code:throw new tn(d,{method:n.method});case nn.code:throw new nn(d);case ht.code:throw new ht(d);case mt.code:throw new mt(d);case rn.code:throw new rn(d);case sn.code:throw new sn(d);case Ct.code:throw new Ct(d);case on.code:throw new on(d,{method:n.method});case Nt.code:throw new Nt(d);case an.code:throw new an(d);case dt.code:throw new dt(d);case cn.code:throw new cn(d);case un.code:throw new un(d);case ln.code:throw new ln(d);case fn.code:throw new fn(d);case dn.code:throw new dn(d);case 5e3:throw new dt(d);default:throw f instanceof C?f:new Rl(d)}}},{delay:({count:f,error:d})=>{var p;if(d&&d instanceof Zt){const m=(p=d==null?void 0:d.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<f)*i},retryCount:o,shouldRetry:({error:f})=>Gf(f)}),{enabled:s,id:l})}}function Gf(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Nt.code||e.code===ht.code:e instanceof Zt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function or({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:i,type:o},c){const l=Xi();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:i,type:o},request:jf(n,{retryCount:r,retryDelay:s,uid:l}),value:c}}function Hf(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:i,retryDelay:o}=t;return({chain:c,pollingInterval:l=4e3,timeout:f,...d})=>{let p=e,m=()=>{};const w=or({key:n,name:r,async request({method:g,params:y}){const v=async(x=0)=>{const B=p[x]({...d,chain:c,retryCount:0,timeout:f});try{const P=await B.request({method:g,params:y});return m({method:g,params:y,response:P,transport:B,status:"success"}),P}catch(P){if(m({error:P,method:g,params:y,transport:B,status:"error"}),qf(P)||x===p.length-1)throw P;return v(x+1)}};return v()},retryCount:i,retryDelay:o,type:"fallback"},{onResponse:g=>m=g,transports:p.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};Vf({chain:c,interval:g.interval??l,onTransports:y=>p=y,sampleCount:g.sampleCount,timeout:g.timeout,transports:p,weights:g.weights})}return w}}function qf(e){return"code"in e&&typeof e.code=="number"&&(e.code===Ct.code||e.code===dt.code||e.code===5e3)}function Vf({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:i,weights:o={}}){const{stability:c=.7,latency:l=.3}=o,f=[],d=async()=>{const p=await Promise.all(i.map(async g=>{const y=g({chain:e,retryCount:0,timeout:s}),v=Date.now();let x,B;try{await y.request({method:"net_listening"}),B=1}catch{B=0}finally{x=Date.now()}return{latency:x-v,success:B}}));f.push(p),f.length>r&&f.shift();const m=Math.max(...f.map(g=>Math.max(...g.map(({latency:y})=>y)))),w=i.map((g,y)=>{const v=f.map(A=>A[y].latency),B=1-v.reduce((A,$)=>A+$,0)/v.length/m,P=f.map(A=>A[y].success),S=P.reduce((A,$)=>A+$,0)/P.length;return S===0?[0,y]:[l*B+c*S,y]}).sort((g,y)=>y[0]-g[0]);n(w.map(([,g])=>i[g])),await Gn(t),d()};d()}class ks extends C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Qi(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const c=new AbortController;n>0&&(o=setTimeout(()=>{r?c.abort():i(t)},n)),s(await e({signal:(c==null?void 0:c.signal)||null}))}catch(c){(c==null?void 0:c.name)==="AbortError"&&i(t),i(c)}finally{clearTimeout(o)}})()})}function Wf(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Zr=Wf();function ea(e,t={}){return{async request(n){var p;const{body:r,onRequest:s=t.onRequest,onResponse:i=t.onResponse,timeout:o=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:f,signal:d}=c;try{const m=await Qi(async({signal:g})=>{const y={...c,body:Array.isArray(r)?le(r.map(B=>({jsonrpc:"2.0",id:B.id??Zr.take(),...B}))):le({jsonrpc:"2.0",id:r.id??Zr.take(),...r}),headers:{"Content-Type":"application/json",...l},method:f||"POST",signal:d||(o>0?g:null)},v=new Request(e,y);return s&&await s(v),await fetch(e,y)},{errorInstance:new Fr({body:r,url:e}),timeout:o,signal:!0});i&&await i(m);let w;if((p=m.headers.get("Content-Type"))!=null&&p.startsWith("application/json")?w=await m.json():(w=await m.text(),w=JSON.parse(w||"{}")),!m.ok)throw new Zt({body:r,details:le(w.error)||m.statusText,headers:m.headers,status:m.status,url:e});return w}catch(m){throw m instanceof Zt||m instanceof Fr?m:new Zt({body:r,cause:m,url:e})}}}}function Zf(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:l}=t;return({chain:f,retryCount:d,timeout:p})=>{const{batchSize:m=1e3,wait:w=0}=typeof n=="object"?n:{},g=t.retryCount??d,y=p??t.timeout??1e4,v=e||(f==null?void 0:f.rpcUrls.default.http[0]);if(!v)throw new ks;const x=ea(v,{fetchOptions:r,onRequest:o,onResponse:c,timeout:y});return or({key:s,name:i,async request({method:B,params:P}){const S={method:B,params:P},{schedule:A}=Ts({id:v,wait:w,shouldSplitBatch(_){return _.length>m},fn:_=>x.request({body:_}),sort:(_,U)=>_.id-U.id}),$=async _=>n?A(_):[await x.request({body:_})],[{error:N,result:R}]=await $(S);if(N)throw new Xn({body:S,error:N,url:v});return R},retryCount:g,retryDelay:l,timeout:y,type:"http"},{fetchOptions:r,url:v})}}function Cs(e,t){var r,s,i,o,c,l;if(!(e instanceof C))return!1;const n=e.walk(f=>f instanceof Rr);return n instanceof Rr?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((c=n.data)==null?void 0:c.errorName)==="HttpError"||(l=n.reason)!=null&&l.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===bi[50]):!1}function ta(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ee(t)?t:null}function On(e){let t=new Uint8Array(32).fill(0);if(!e)return oe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=ta(n[r]),i=s?ve(s):ae(ft(n[r]),"bytes");t=ae(je([t,i]),"bytes")}return oe(t)}function Kf(e){return`[${e.slice(2)}]`}function Yf(e){const t=new Uint8Array(32).fill(0);return e?ta(e)||ae(ft(e)):oe(t)}function ir(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ft(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=ft(s[i]);o.byteLength>255&&(o=ft(Kf(Yf(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Jf(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:c}){let l=c;if(!l){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");l=Lt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const f=it({abi:bo,functionName:"addr",...r!=null?{args:[On(s),BigInt(r)]}:{args:[On(s)]}}),d={address:l,abi:Yi,functionName:"resolve",args:[O(ir(s)),f],blockNumber:t,blockTag:n},p=G(e,qe,"readContract"),m=i?await p({...d,args:[...d.args,i]}):await p(d);if(m[0]==="0x")return null;const w=Ut({abi:bo,args:r!=null?[On(s),BigInt(r)]:void 0,functionName:"addr",data:m[0]});return w==="0x"||tt(w)==="0x00"?null:w}catch(f){if(o)throw f;if(Cs(f,"resolve"))return null;throw f}}class Xf extends C{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ht extends C{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ns extends C{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Qf extends C{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const ed=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,td=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,nd=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,rd=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function sd(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function wo(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function na({uri:e,gatewayUrls:t}){const n=nd.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=wo(t==null?void 0:t.ipfs,"https://ipfs.io"),s=wo(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(ed),{protocol:o,subpath:c,target:l,subtarget:f=""}=(i==null?void 0:i.groups)||{},d=o==="ipns:/"||c==="ipns/",p=o==="ipfs:/"||c==="ipfs/"||td.test(e);if(e.startsWith("http")&&!d&&!p){let w=e;return t!=null&&t.arweave&&(w=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:w,isOnChain:!1,isEncoded:!1}}if((d||p)&&l)return{uri:`${r}/${d?"ipns":"ipfs"}/${l}${f}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${s}/${l}${f||""}`,isOnChain:!1,isEncoded:!1};let m=e.replace(rd,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new Ns({uri:e})}function ra(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Xf({data:e});return e.image||e.image_url||e.image_data}async function od({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Rs({gatewayUrls:e,uri:ra(n)})}catch{throw new Ns({uri:t})}}async function Rs({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=na({uri:t,gatewayUrls:e});if(r||await sd(n))return n;throw new Ns({uri:t})}function id(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[c,l]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new Ht({reason:"Only EIP-155 supported"});if(!o)throw new Ht({reason:"Chain ID not found"});if(!l)throw new Ht({reason:"Contract address not found"});if(!s)throw new Ht({reason:"Token ID not found"});if(!c)throw new Ht({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:c.toLowerCase(),contractAddress:l,tokenID:s}}async function ad(e,{nft:t}){if(t.namespace==="erc721")return qe(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return qe(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Qf({namespace:t.namespace})}async function cd(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?ud(e,{gatewayUrls:t,record:n}):Rs({uri:n,gatewayUrls:t})}async function ud(e,{gatewayUrls:t,record:n}){const r=id(n),s=await ad(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:c}=na({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const f=c?atob(i.replace("data:application/json;base64,","")):i,d=JSON.parse(f);return Rs({uri:ra(d),gatewayUrls:t})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),od({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,l)})}async function sa(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:i,strict:o,universalResolverAddress:c}){let l=c;if(!l){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");l=Lt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const f={address:l,abi:Yi,functionName:"resolve",args:[O(ir(r)),it({abi:yo,functionName:"text",args:[On(r),s]})],blockNumber:t,blockTag:n},d=G(e,qe,"readContract"),p=i?await d({...f,args:[...f.args,i]}):await d(f);if(p[0]==="0x")return null;const m=Ut({abi:yo,functionName:"text",data:p[0]});return m===""?null:m}catch(f){if(o)throw f;if(Cs(f,"resolve"))return null;throw f}}async function ld(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:c}){const l=await G(e,sa,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:i,strict:o});if(!l)return null;try{return await cd(e,{record:l,gatewayUrls:r})}catch{return null}}async function fd(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Lt({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const l=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const f={address:c,abi:yf,functionName:"reverse",args:[O(ir(l))],blockNumber:n,blockTag:r},d=G(e,qe,"readContract"),[p,m]=s?await d({...f,args:[...f.args,s]}):await d(f);return t.toLowerCase()!==m.toLowerCase()?null:p}catch(f){if(i)throw f;if(Cs(f,"reverse"))return null;throw f}}async function dd(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Lt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await G(e,qe,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[O(ir(r))],blockNumber:t,blockTag:n});return o}async function pd(e){const t=Jn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function oa(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:c}={}){const l=s??(r?[r]:void 0),f=Jn(e,{method:"eth_newFilter"});let d=[];l&&(d=[l.flatMap(w=>wn({abi:[w],eventName:w.name,args:n}))],r&&(d=d[0]));const p=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?D(i):i,toBlock:typeof c=="bigint"?D(c):c,...d.length?{topics:d}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:i,id:p,request:f(p),strict:!!o,toBlock:c,type:"event"}}async function ia(e){const t=Jn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function hd(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function md(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?D(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Te(i)}async function xo(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?D(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}function yd(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function bd(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?D(n):void 0,o=await e.request({method:"eth_feeHistory",params:[D(t),i||r,s]},{dedupe:!!i});return yd(o)}async function gd(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>He(i));return t.abi?As({abi:t.abi,logs:s,strict:n}):s}function Ce(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Uh=/^(.*)\[([0-9]*)\]$/,wd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xd=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,vr=new Map;async function vd(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:i}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:c=5,delay:l=2e3}=typeof s=="object"?s:{};let f=vr.get(`${r}:${i}`);if(f)return f;let d=0;const{schedule:p}=Ts({id:`${r}:${i}`,fn:async()=>{const g=new Map,y=new Map;let v,x,B;async function P(){const S=await t({onClose(){var A,$;for(const N of g.values())(A=N.onError)==null||A.call(N,new jn({url:i}));for(const N of y.values())($=N.onError)==null||$.call(N,new jn({url:i}));g.clear(),y.clear(),s&&d<c&&setTimeout(async()=>{d++,await P().catch(console.error)},l)},onError(A){var $,N;v=A;for(const R of g.values())($=R.onError)==null||$.call(R,v);for(const R of y.values())(N=R.onError)==null||N.call(R,v);g.clear(),y.clear(),s&&d<c&&setTimeout(async()=>{d++,await P().catch(console.error)},l)},onOpen(){v=void 0,d=0},onResponse(A){const $=A.method==="eth_subscription",N=$?A.params.subscription:A.id,R=$?y:g,_=R.get(N);_&&_.onResponse(A),$||R.delete(N)}});return x=S,n&&(B&&clearInterval(B),B=setInterval(()=>{var A;return(A=x.ping)==null?void 0:A.call(x)},o)),S}return await P(),v=void 0,f={close(){B&&clearInterval(B),x.close(),vr.delete(`${r}:${i}`)},get socket(){return x},request({body:S,onError:A,onResponse:$}){v&&A&&A(v);const N=S.id??Zr.take(),R=_=>{var U;typeof _.id=="number"&&N!==_.id||(S.method==="eth_subscribe"&&typeof _.result=="string"&&y.set(_.result,{onResponse:R,onError:A}),S.method==="eth_unsubscribe"&&y.delete((U=S.params)==null?void 0:U[0]),$(_))};g.set(N,{onResponse:R,onError:A});try{x.request({body:{jsonrpc:"2.0",id:N,...S}})}catch(_){A==null||A(_)}},requestAsync({body:S,timeout:A=1e4}){return Qi(()=>new Promise(($,N)=>this.request({body:S,onError:N,onResponse:$})),{errorInstance:new Fr({body:S,url:i}),timeout:A})},requests:g,subscriptions:y,url:i},vr.set(`${r}:${i}`,f),[f]}}),[m,[w]]=await p();return w}async function Un(e,t={}){const{keepAlive:n,reconnect:r}=t;return vd({async getSocket({onClose:s,onError:i,onOpen:o,onResponse:c}){const l=await yn(()=>import("./native-DCTjMhwz.js"),[]).then(w=>w.WebSocket),f=new l(e);function d(){s(),f.removeEventListener("close",d),f.removeEventListener("message",p),f.removeEventListener("error",i),f.removeEventListener("open",o)}function p({data:w}){c(JSON.parse(w))}f.addEventListener("close",d),f.addEventListener("message",p),f.addEventListener("error",i),f.addEventListener("open",o),f.readyState===l.CONNECTING&&await new Promise((w,g)=>{f&&(f.onopen=w,f.onerror=g)});const{close:m}=f;return Object.assign(f,{close(){m.bind(f)(),s()},ping(){try{if(f.readyState===f.CLOSED||f.readyState===f.CLOSING)throw new uo({url:f.url,cause:new jn({url:f.url})});const w={jsonrpc:"2.0",method:"net_version",params:[]};f.send(JSON.stringify(w))}catch(w){i(w)}},request({body:w}){if(f.readyState===f.CLOSED||f.readyState===f.CLOSING)throw new uo({body:w,url:f.url,cause:new jn({url:f.url})});return f.send(JSON.stringify(w))}})},keepAlive:n,reconnect:r,url:e})}async function Ed(e){const t=await Un(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function Bd(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:$d({domain:t}),...e.types};Sd({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(Pd({domain:t,types:s})),r!=="EIP712Domain"&&i.push(aa({data:n,primaryType:r,types:s})),ae(je(i))}function Pd({domain:e,types:t}){return aa({data:e,primaryType:"EIP712Domain",types:t})}function aa({data:e,primaryType:t,types:n}){const r=ca({data:e,primaryType:t,types:n});return ae(r)}function ca({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Id({primaryType:t,types:n})];for(const i of n[t]){const[o,c]=la({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(c)}return wt(r,s)}function Id({primaryType:e,types:t}){const n=O(Ad({primaryType:e,types:t}));return ae(n)}function Ad({primaryType:e,types:t}){let n="";const r=ua({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:c})=>`${c} ${o}`).join(",")})`;return n}function ua({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])ua({primaryType:i.type,types:t},n);return n}function la({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ae(ca({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ae(r)];if(n==="string")return[{type:"bytes32"},ae(O(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>la({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},ae(wt(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}function Lh(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(l,f)=>{const d={...f};for(const p of l){const{name:m,type:w}=p;w==="address"&&(d[m]=d[m].toLowerCase())}return d},o=s.EIP712Domain?t?i(s.EIP712Domain,t):{}:{},c=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return le({domain:o,message:c,primaryType:r,types:s})}function Sd(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,c)=>{for(const l of o){const{name:f,type:d}=l,p=c[f],m=d.match(xd);if(m&&(typeof p=="number"||typeof p=="bigint")){const[y,v,x]=m;D(p,{signed:v==="int",size:Number.parseInt(x)/8})}if(d==="address"&&typeof p=="string"&&!se(p))throw new ue({address:p});const w=d.match(wd);if(w){const[y,v]=w;if(v&&te(p)!==Number.parseInt(v))throw new su({expectedSize:Number.parseInt(v),givenSize:te(p)})}const g=s[d];g&&i(g,p)}};s.EIP712Domain&&t&&i(s.EIP712Domain,t),r!=="EIP712Domain"&&i(s[r],n)}function $d({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Td={"0x0":"reverted","0x1":"success"};function fa(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>He(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Te(e.transactionIndex):null,status:e.status?Td[e.status]:null,type:e.type?Ci[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const da=Qn("transactionReceipt",fa),kd=`Ethereum Signed Message:
`;function Cd(e){const t=typeof e=="string"?Yt(e):typeof e.raw=="string"?e.raw:oe(e.raw),n=Yt(`${kd}${te(t)}`);return je([n,t])}function pa(e,t){return ae(Cd(e),t)}const ha="0x6492649264926492649264926492649264926492649264926492649264926492";function Nd(e){return hi(e,-32)===ha}function Rd(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=ke([wt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),ha]);return s==="hex"?i:me(i)}function Fd(e){const{authorizationList:t}=e;if(t)for(const n of t){const{contractAddress:r,chainId:s}=n;if(!se(r))throw new ue({address:r});if(s<=0)throw new Pn({chainId:s})}Fs(e)}function _d(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new ji;for(const n of t){const r=te(n),s=Te(Jt(n,0,1));if(r!==32)throw new uf({hash:n,size:r});if(s!==Di)throw new lf({hash:n,version:s})}}Fs(e)}function Fs(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Pn({chainId:t});if(s&&!se(s))throw new ue({address:s});if(r&&r>Bn)throw new yt({maxFeePerGas:r});if(n&&r&&n>r)throw new hn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Md(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new Pn({chainId:t});if(i&&!se(i))throw new ue({address:i});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Bn)throw new yt({maxFeePerGas:r})}function Od(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!se(i))throw new ue({address:i});if(typeof t<"u"&&t<=0)throw new Pn({chainId:t});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Bn)throw new yt({maxFeePerGas:r})}function Ud(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{contractAddress:r,chainId:s,nonce:i,...o}=n;t.push([O(s),r,O(i),...Sn({},o)])}return t}function ar(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new Sl({storageKey:s[i]});if(!se(r,{strict:!1}))throw new ue({address:r});t.push([r,s])}return t}function ma(e,t){const n=Hi(e);return n==="eip1559"?Dd(e,t):n==="eip2930"?jd(e,t):n==="eip4844"?zd(e,t):n==="eip7702"?Ld(e,t):Gd(e,t)}function Ld(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:c,maxFeePerGas:l,maxPriorityFeePerGas:f,accessList:d,data:p}=e;Fd(e);const m=ar(d),w=Ud(n);return ke(["0x04",Ge([O(r),i?O(i):"0x",f?O(f):"0x",l?O(l):"0x",s?O(s):"0x",o??"0x",c?O(c):"0x",p??"0x",m,w,...Sn(e,t)])])}function zd(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:c,maxFeePerGas:l,maxPriorityFeePerGas:f,accessList:d,data:p}=e;_d(e);let m=e.blobVersionedHashes,w=e.sidecars;if(e.blobs&&(typeof m>"u"||typeof w>"u")){const P=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map($=>oe($)),S=e.kzg,A=vs({blobs:P,kzg:S});if(typeof m>"u"&&(m=Ui({commitments:A})),typeof w>"u"){const $=Es({blobs:P,commitments:A,kzg:S});w=Gi({blobs:P,commitments:A,proofs:$})}}const g=ar(d),y=[O(n),s?O(s):"0x",f?O(f):"0x",l?O(l):"0x",r?O(r):"0x",i??"0x",o?O(o):"0x",p??"0x",g,c?O(c):"0x",m??[],...Sn(e,t)],v=[],x=[],B=[];if(w)for(let P=0;P<w.length;P++){const{blob:S,commitment:A,proof:$}=w[P];v.push(S),x.push(A),B.push($)}return ke(["0x03",Ge(w?[y,v,x,B]:y)])}function Dd(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:f,data:d}=e;Fs(e);const p=ar(f),m=[O(n),s?O(s):"0x",l?O(l):"0x",c?O(c):"0x",r?O(r):"0x",i??"0x",o?O(o):"0x",d??"0x",p,...Sn(e,t)];return ke(["0x02",Ge(m)])}function jd(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:c,accessList:l,gasPrice:f}=e;Md(e);const d=ar(l),p=[O(n),i?O(i):"0x",f?O(f):"0x",r?O(r):"0x",o??"0x",c?O(c):"0x",s??"0x",d,...Sn(e,t)];return ke(["0x01",Ge(p)])}function Gd(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:c,gasPrice:l}=e;Od(e);let f=[i?O(i):"0x",l?O(l):"0x",r?O(r):"0x",o??"0x",c?O(c):"0x",s??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const w=27n+(t.v===27n?0n:1n);if(t.v!==w)throw new Il({v:t.v});return w})(),p=tt(t.r),m=tt(t.s);f=[...f,O(d),p==="0x00"?"0x":p,m==="0x00"?"0x":m]}else n>0&&(f=[...f,O(n),"0x","0x"]);return Ge(f)}function Sn(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=tt(n.r),o=tt(n.s);return[typeof s=="number"?s?O(1):"0x":r===0n?"0x":r===1n?O(1):r===27n?"0x":O(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function Hd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function qd(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Te(e.nonce):void 0,storageProof:e.storageProof?Hd(e.storageProof):void 0}}async function Vd(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?D(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,o||i]});return qd(c)}async function Wd(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?D(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function _s(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){var d,p,m;const o=r||"latest",c=n!==void 0?D(n):void 0;let l=null;if(s?l=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,D(i)]},{dedupe:!0}):(c||o)&&(l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||o,D(i)]},{dedupe:!!c})),!l)throw new vi({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(((m=(p=(d=e.chain)==null?void 0:d.formatters)==null?void 0:p.transaction)==null?void 0:m.format)||er)(l)}async function Zd(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([G(e,An,"getBlockNumber")({}),t?G(e,_s,"getTransaction")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function Kr(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Ei({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||fa)(n)}async function Kd(e,t){var v;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,multicallAddress:o,stateOverride:c}=t,l=t.contracts,f=r??(typeof((v=e.batch)==null?void 0:v.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=o;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=Lt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const p=[[]];let m=0,w=0;for(let x=0;x<l.length;x++){const{abi:B,address:P,args:S,functionName:A}=l[x];try{const $=it({abi:B,args:S,functionName:A});w+=($.length-2)/2,f>0&&w>f&&p[m].length>0&&(m++,w=($.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:$,target:P}]}catch($){const N=pn($,{abi:B,address:P,args:S,docsPath:"/docs/contract/multicall",functionName:A});if(!n)throw N;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:P}]}}const g=await Promise.allSettled(p.map(x=>G(e,qe,"readContract")({abi:Hr,address:d,args:[x],blockNumber:s,blockTag:i,functionName:"aggregate3",stateOverride:c}))),y=[];for(let x=0;x<g.length;x++){const B=g[x];if(B.status==="rejected"){if(!n)throw B.reason;for(let S=0;S<p[x].length;S++)y.push({status:"failure",error:B.reason,result:void 0});continue}const P=B.value;for(let S=0;S<P.length;S++){const{returnData:A,success:$}=P[S],{callData:N}=p[x][S],{abi:R,address:_,functionName:U,args:L}=l[y.length];try{if(N==="0x")throw new Vn;if(!$)throw new hs({data:A});const K=Ut({abi:R,args:L,data:A,functionName:U});y.push(n?{result:K,status:"success"}:K)}catch(K){const W=pn(K,{abi:R,address:_,args:L,docsPath:"/docs/contract/multicall",functionName:U});if(!n)throw W;y.push({error:W,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new C("multicall results mismatch");return y}const ya=BigInt(0),cr=BigInt(1),Yd=BigInt(2);function bt(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function $n(e){if(!bt(e))throw new Error("Uint8Array expected")}const Jd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ft(e){$n(e);let t="";for(let n=0;n<e.length;n++)t+=Jd[e[n]];return t}function ba(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Ms(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Ue={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function vo(e){if(e>=Ue._0&&e<=Ue._9)return e-Ue._0;if(e>=Ue._A&&e<=Ue._F)return e-(Ue._A-10);if(e>=Ue._a&&e<=Ue._f)return e-(Ue._a-10)}function _t(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=vo(e.charCodeAt(i)),c=vo(e.charCodeAt(i+1));if(o===void 0||c===void 0){const l=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+c}return r}function pt(e){return Ms(Ft(e))}function Os(e){return $n(e),Ms(Ft(Uint8Array.from(e).reverse()))}function Mt(e,t){return _t(e.toString(16).padStart(t*2,"0"))}function Us(e,t){return Mt(e,t).reverse()}function Xd(e){return _t(ba(e))}function Se(e,t,n){let r;if(typeof t=="string")try{r=_t(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(bt(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function mn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];$n(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function ga(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function Qd(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function e0(e){let t;for(t=0;e>ya;e>>=cr,t+=1);return t}function t0(e,t){return e>>BigInt(t)&cr}function n0(e,t,n){return e|(n?cr:ya)<<BigInt(t)}const Ls=e=>(Yd<<BigInt(e-1))-cr,Er=e=>new Uint8Array(e),Eo=e=>Uint8Array.from(e);function wa(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Er(e),s=Er(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},c=(...p)=>n(s,r,...p),l=(p=Er())=>{s=c(Eo([0]),p),r=c(),p.length!==0&&(s=c(Eo([1]),p),r=c())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<t;){r=c();const w=r.slice();m.push(w),p+=r.length}return mn(...m)};return(p,m)=>{o(),l(p);let w;for(;!(w=m(f()));)l();return o(),w}}const r0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||bt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Tn(e,t,n={}){const r=(s,i,o)=>{const c=r0[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=e[s];if(!(o&&l===void 0)&&!c(l,e))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}const s0=Object.freeze(Object.defineProperty({__proto__:null,abytes:$n,bitGet:t0,bitLen:e0,bitMask:Ls,bitSet:n0,bytesToHex:Ft,bytesToNumberBE:pt,bytesToNumberLE:Os,concatBytes:mn,createHmacDrbg:wa,ensureBytes:Se,equalBytes:ga,hexToBytes:_t,hexToNumber:Ms,isBytes:bt,numberToBytesBE:Mt,numberToBytesLE:Us,numberToHexUnpadded:ba,numberToVarBytesBE:Xd,utf8ToBytes:Qd,validateObject:Tn},Symbol.toStringTag,{value:"Module"}));function o0(e,t){const n=Ee(e)?ve(e):e,r=Ee(t)?ve(t):t;return ga(n,r)}const ce=BigInt(0),re=BigInt(1),ut=BigInt(2),i0=BigInt(3),Yr=BigInt(4),Bo=BigInt(5),Po=BigInt(8);BigInt(9);BigInt(16);function he(e,t){const n=e%t;return n>=ce?n:t+n}function a0(e,t,n){if(n<=ce||t<ce)throw new Error("Expected power/modulo > 0");if(n===re)return ce;let r=re;for(;t>ce;)t&re&&(r=r*e%n),e=e*e%n,t>>=re;return r}function we(e,t,n){let r=e;for(;t-- >ce;)r*=r,r%=n;return r}function Jr(e,t){if(e===ce||t<=ce)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=he(e,t),r=t,s=ce,i=re;for(;n!==ce;){const c=r/n,l=r%n,f=s-i*c;r=n,n=l,s=i,i=f}if(r!==re)throw new Error("invert: does not exist");return he(s,t)}function c0(e){const t=(e-re)/ut;let n,r,s;for(n=e-re,r=0;n%ut===ce;n/=ut,r++);for(s=ut;s<e&&a0(s,t,e)!==e-re;s++);if(r===1){const o=(e+re)/Yr;return function(l,f){const d=l.pow(f,o);if(!l.eql(l.sqr(d),f))throw new Error("Cannot find square root");return d}}const i=(n+re)/ut;return function(c,l){if(c.pow(l,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=r,d=c.pow(c.mul(c.ONE,s),n),p=c.pow(l,i),m=c.pow(l,n);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let w=1;for(let y=c.sqr(m);w<f&&!c.eql(y,c.ONE);w++)y=c.sqr(y);const g=c.pow(d,re<<BigInt(f-w-1));d=c.sqr(g),p=c.mul(p,g),m=c.mul(m,d),f=w}return p}}function u0(e){if(e%Yr===i0){const t=(e+re)/Yr;return function(r,s){const i=r.pow(s,t);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(e%Po===Bo){const t=(e-Bo)/Po;return function(r,s){const i=r.mul(s,ut),o=r.pow(i,t),c=r.mul(s,o),l=r.mul(r.mul(c,ut),o),f=r.mul(c,r.sub(l,r.ONE));if(!r.eql(r.sqr(f),s))throw new Error("Cannot find square root");return f}}return c0(e)}const l0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function f0(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=l0.reduce((r,s)=>(r[s]="function",r),t);return Tn(e,n)}function d0(e,t,n){if(n<ce)throw new Error("Expected power > 0");if(n===ce)return e.ONE;if(n===re)return t;let r=e.ONE,s=t;for(;n>ce;)n&re&&(r=e.mul(r,s)),s=e.sqr(s),n>>=re;return r}function p0(e,t){const n=new Array(t.length),r=t.reduce((i,o,c)=>e.is0(o)?i:(n[c]=i,e.mul(i,o)),e.ONE),s=e.inv(r);return t.reduceRight((i,o,c)=>e.is0(o)?i:(n[c]=e.mul(i,n[c]),e.mul(i,o)),s),n}function xa(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function h0(e,t,n=!1,r={}){if(e<=ce)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:i}=xa(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=u0(e),c=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:Ls(s),ZERO:ce,ONE:re,create:l=>he(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return ce<=l&&l<e},is0:l=>l===ce,isOdd:l=>(l&re)===re,neg:l=>he(-l,e),eql:(l,f)=>l===f,sqr:l=>he(l*l,e),add:(l,f)=>he(l+f,e),sub:(l,f)=>he(l-f,e),mul:(l,f)=>he(l*f,e),pow:(l,f)=>d0(c,l,f),div:(l,f)=>he(l*Jr(f,e),e),sqrN:l=>l*l,addN:(l,f)=>l+f,subN:(l,f)=>l-f,mulN:(l,f)=>l*f,inv:l=>Jr(l,e),sqrt:r.sqrt||(l=>o(c,l)),invertBatch:l=>p0(c,l),cmov:(l,f,d)=>d?f:l,toBytes:l=>n?Us(l,i):Mt(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return n?Os(l):pt(l)}});return Object.freeze(c)}function va(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ea(e){const t=va(e);return t+Math.ceil(t/2)}function m0(e,t,n=!1){const r=e.length,s=va(t),i=Ea(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?pt(e):Os(e),c=he(o,t-re)+re;return n?Us(c,s):Mt(c,s)}const y0=BigInt(0),Br=BigInt(1);function b0(e,t){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(t/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=e.ZERO,c=s;for(;i>y0;)i&Br&&(o=o.add(c)),c=c.double(),i>>=Br;return o},precomputeWindow(s,i){const{windows:o,windowSize:c}=r(i),l=[];let f=s,d=f;for(let p=0;p<o;p++){d=f,l.push(d);for(let m=1;m<c;m++)d=d.add(f),l.push(d);f=d.double()}return l},wNAF(s,i,o){const{windows:c,windowSize:l}=r(s);let f=e.ZERO,d=e.BASE;const p=BigInt(2**s-1),m=2**s,w=BigInt(s);for(let g=0;g<c;g++){const y=g*l;let v=Number(o&p);o>>=w,v>l&&(v-=m,o+=Br);const x=y,B=y+Math.abs(v)-1,P=g%2!==0,S=v<0;v===0?d=d.add(n(P,i[x])):f=f.add(n(S,i[B]))}return{p:f,f:d}},wNAFCached(s,i,o,c){const l=s._WINDOW_SIZE||1;let f=i.get(s);return f||(f=this.precomputeWindow(s,l),l!==1&&i.set(s,c(f))),this.wNAF(l,f,o)}}}function Ba(e){return f0(e.Fp),Tn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xa(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function g0(e){const t=Ba(e);Tn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:w0,hexToBytes:x0}=s0,lt={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=lt;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:w0(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=lt,n=typeof e=="string"?x0(e):e;$n(n);let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=lt._parseInt(n.subarray(2)),{d:o,l:c}=lt._parseInt(i);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(e){const t=f=>Number.parseInt(f[0],16)&8?"00"+f:f,n=f=>{const d=f.toString(16);return d.length&1?`0${d}`:d},r=t(n(e.s)),s=t(n(e.r)),i=r.length/2,o=s.length/2,c=n(i),l=n(o);return`30${n(o+i+4)}02${l}${s}02${c}${r}`}},Le=BigInt(0),xe=BigInt(1);BigInt(2);const Io=BigInt(3);BigInt(4);function v0(e){const t=g0(e),{Fp:n}=t,r=t.toBytes||((g,y,v)=>{const x=y.toAffine();return mn(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),s=t.fromBytes||(g=>{const y=g.subarray(1),v=n.fromBytes(y.subarray(0,n.BYTES)),x=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:v,y:x}});function i(g){const{a:y,b:v}=t,x=n.sqr(g),B=n.mul(x,g);return n.add(n.add(B,n.mul(g,y)),v)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&Le<g&&g<t.n}function c(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(g){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:x,n:B}=t;if(y&&typeof g!="bigint"){if(bt(g)&&(g=Ft(g)),typeof g!="string"||!y.includes(g.length))throw new Error("Invalid key");g=g.padStart(v*2,"0")}let P;try{P=typeof g=="bigint"?g:pt(Se("private key",g,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof g}`)}return x&&(P=he(P,B)),c(P),P}const f=new Map;function d(g){if(!(g instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(y,v,x){if(this.px=y,this.py=v,this.pz=x,y==null||!n.isValid(y))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required")}static fromAffine(y){const{x:v,y:x}=y||{};if(!y||!n.isValid(v)||!n.isValid(x))throw new Error("invalid affine point");if(y instanceof p)throw new Error("projective point not allowed");const B=P=>n.eql(P,n.ZERO);return B(v)&&B(x)?p.ZERO:new p(v,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=n.invertBatch(y.map(x=>x.pz));return y.map((x,B)=>x.toAffine(v[B])).map(p.fromAffine)}static fromHex(y){const v=p.fromAffine(s(Se("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return p.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,f.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=this.toAffine();if(!n.isValid(y)||!n.isValid(v))throw new Error("bad point: x or y not FE");const x=n.sqr(v),B=i(y);if(!n.eql(x,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){d(y);const{px:v,py:x,pz:B}=this,{px:P,py:S,pz:A}=y,$=n.eql(n.mul(v,A),n.mul(P,B)),N=n.eql(n.mul(x,A),n.mul(S,B));return $&&N}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:v}=t,x=n.mul(v,Io),{px:B,py:P,pz:S}=this;let A=n.ZERO,$=n.ZERO,N=n.ZERO,R=n.mul(B,B),_=n.mul(P,P),U=n.mul(S,S),L=n.mul(B,P);return L=n.add(L,L),N=n.mul(B,S),N=n.add(N,N),A=n.mul(y,N),$=n.mul(x,U),$=n.add(A,$),A=n.sub(_,$),$=n.add(_,$),$=n.mul(A,$),A=n.mul(L,A),N=n.mul(x,N),U=n.mul(y,U),L=n.sub(R,U),L=n.mul(y,L),L=n.add(L,N),N=n.add(R,R),R=n.add(N,R),R=n.add(R,U),R=n.mul(R,L),$=n.add($,R),U=n.mul(P,S),U=n.add(U,U),R=n.mul(U,L),A=n.sub(A,R),N=n.mul(U,_),N=n.add(N,N),N=n.add(N,N),new p(A,$,N)}add(y){d(y);const{px:v,py:x,pz:B}=this,{px:P,py:S,pz:A}=y;let $=n.ZERO,N=n.ZERO,R=n.ZERO;const _=t.a,U=n.mul(t.b,Io);let L=n.mul(v,P),K=n.mul(x,S),W=n.mul(B,A),ie=n.add(v,x),F=n.add(P,S);ie=n.mul(ie,F),F=n.add(L,K),ie=n.sub(ie,F),F=n.add(v,B);let M=n.add(P,A);return F=n.mul(F,M),M=n.add(L,W),F=n.sub(F,M),M=n.add(x,B),$=n.add(S,A),M=n.mul(M,$),$=n.add(K,W),M=n.sub(M,$),R=n.mul(_,F),$=n.mul(U,W),R=n.add($,R),$=n.sub(K,R),R=n.add(K,R),N=n.mul($,R),K=n.add(L,L),K=n.add(K,L),W=n.mul(_,W),F=n.mul(U,F),K=n.add(K,W),W=n.sub(L,W),W=n.mul(_,W),F=n.add(F,W),L=n.mul(K,F),N=n.add(N,L),L=n.mul(M,F),$=n.mul(ie,$),$=n.sub($,L),L=n.mul(ie,K),R=n.mul(M,R),R=n.add(R,L),new p($,N,R)}subtract(y){return this.add(y.negate())}is0(){return this.equals(p.ZERO)}wNAF(y){return w.wNAFCached(this,f,y,v=>{const x=n.invertBatch(v.map(B=>B.pz));return v.map((B,P)=>B.toAffine(x[P])).map(p.fromAffine)})}multiplyUnsafe(y){const v=p.ZERO;if(y===Le)return v;if(c(y),y===xe)return this;const{endo:x}=t;if(!x)return w.unsafeLadder(this,y);let{k1neg:B,k1:P,k2neg:S,k2:A}=x.splitScalar(y),$=v,N=v,R=this;for(;P>Le||A>Le;)P&xe&&($=$.add(R)),A&xe&&(N=N.add(R)),R=R.double(),P>>=xe,A>>=xe;return B&&($=$.negate()),S&&(N=N.negate()),N=new p(n.mul(N.px,x.beta),N.py,N.pz),$.add(N)}multiply(y){c(y);let v=y,x,B;const{endo:P}=t;if(P){const{k1neg:S,k1:A,k2neg:$,k2:N}=P.splitScalar(v);let{p:R,f:_}=this.wNAF(A),{p:U,f:L}=this.wNAF(N);R=w.constTimeNegate(S,R),U=w.constTimeNegate($,U),U=new p(n.mul(U.px,P.beta),U.py,U.pz),x=R.add(U),B=_.add(L)}else{const{p:S,f:A}=this.wNAF(v);x=S,B=A}return p.normalizeZ([x,B])[0]}multiplyAndAddUnsafe(y,v,x){const B=p.BASE,P=(A,$)=>$===Le||$===xe||!A.equals(B)?A.multiplyUnsafe($):A.multiply($),S=P(this,v).add(P(y,x));return S.is0()?void 0:S}toAffine(y){const{px:v,py:x,pz:B}=this,P=this.is0();y==null&&(y=P?n.ONE:n.inv(B));const S=n.mul(v,y),A=n.mul(x,y),$=n.mul(B,y);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:S,y:A}}isTorsionFree(){const{h:y,isTorsionFree:v}=t;if(y===xe)return!0;if(v)return v(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=t;return y===xe?this:v?v(p,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),r(p,this,y)}toHex(y=!0){return Ft(this.toRawBytes(y))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,w=b0(p,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function E0(e){const t=Ba(e);return Tn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function B0(e){const t=E0(e),{Fp:n,n:r}=t,s=n.BYTES+1,i=2*n.BYTES+1;function o(F){return Le<F&&F<n.ORDER}function c(F){return he(F,r)}function l(F){return Jr(F,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:m}=v0({...t,toBytes(F,M,z){const H=M.toAffine(),q=n.toBytes(H.x),j=mn;return z?j(Uint8Array.from([M.hasEvenY()?2:3]),q):j(Uint8Array.from([4]),q,n.toBytes(H.y))},fromBytes(F){const M=F.length,z=F[0],H=F.subarray(1);if(M===s&&(z===2||z===3)){const q=pt(H);if(!o(q))throw new Error("Point is not on curve");const j=p(q);let Z;try{Z=n.sqrt(j)}catch(pe){const Ae=pe instanceof Error?": "+pe.message:"";throw new Error("Point is not on curve"+Ae)}const ne=(Z&xe)===xe;return(z&1)===1!==ne&&(Z=n.neg(Z)),{x:q,y:Z}}else if(M===i&&z===4){const q=n.fromBytes(H.subarray(0,n.BYTES)),j=n.fromBytes(H.subarray(n.BYTES,2*n.BYTES));return{x:q,y:j}}else throw new Error(`Point of length ${M} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),w=F=>Ft(Mt(F,t.nByteLength));function g(F){const M=r>>xe;return F>M}function y(F){return g(F)?c(-F):F}const v=(F,M,z)=>pt(F.slice(M,z));class x{constructor(M,z,H){this.r=M,this.s=z,this.recovery=H,this.assertValidity()}static fromCompact(M){const z=t.nByteLength;return M=Se("compactSignature",M,z*2),new x(v(M,0,z),v(M,z,2*z))}static fromDER(M){const{r:z,s:H}=lt.toSig(Se("DER",M));return new x(z,H)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new x(this.r,this.s,M)}recoverPublicKey(M){const{r:z,s:H,recovery:q}=this,j=N(Se("msgHash",M));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const Z=q===2||q===3?z+t.n:z;if(Z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ne=q&1?"03":"02",Ie=f.fromHex(ne+w(Z)),pe=l(Z),Ae=c(-j*pe),Ve=c(H*pe),de=f.BASE.multiplyAndAddUnsafe(Ie,Ae,Ve);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return _t(this.toDERHex())}toDERHex(){return lt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return _t(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const B={isValidPrivateKey(F){try{return d(F),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const F=Ea(t.n);return m0(t.randomBytes(F),t.n)},precompute(F=8,M=f.BASE){return M._setWindowSize(F),M.multiply(BigInt(3)),M}};function P(F,M=!0){return f.fromPrivateKey(F).toRawBytes(M)}function S(F){const M=bt(F),z=typeof F=="string",H=(M||z)&&F.length;return M?H===s||H===i:z?H===2*s||H===2*i:F instanceof f}function A(F,M,z=!0){if(S(F))throw new Error("first arg must be private key");if(!S(M))throw new Error("second arg must be public key");return f.fromHex(M).multiply(d(F)).toRawBytes(z)}const $=t.bits2int||function(F){const M=pt(F),z=F.length*8-t.nBitLength;return z>0?M>>BigInt(z):M},N=t.bits2int_modN||function(F){return c($(F))},R=Ls(t.nBitLength);function _(F){if(typeof F!="bigint")throw new Error("bigint expected");if(!(Le<=F&&F<R))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Mt(F,t.nByteLength)}function U(F,M,z=L){if(["recovered","canonical"].some(Ne=>Ne in z))throw new Error("sign() legacy options not supported");const{hash:H,randomBytes:q}=t;let{lowS:j,prehash:Z,extraEntropy:ne}=z;j==null&&(j=!0),F=Se("msgHash",F),Z&&(F=Se("prehashed msgHash",H(F)));const Ie=N(F),pe=d(M),Ae=[_(pe),_(Ie)];if(ne!=null&&ne!==!1){const Ne=ne===!0?q(n.BYTES):ne;Ae.push(Se("extraEntropy",Ne))}const Ve=mn(...Ae),de=Ie;function at(Ne){const We=$(Ne);if(!m(We))return;const Dt=l(We),ge=f.BASE.multiply(We).toAffine(),fe=c(ge.x);if(fe===Le)return;const Ze=c(Dt*c(de+fe*pe));if(Ze===Le)return;let kn=(ge.x===fe?0:2)|Number(ge.y&xe),It=Ze;return j&&g(Ze)&&(It=y(Ze),kn^=1),new x(fe,It,kn)}return{seed:Ve,k2sig:at}}const L={lowS:t.lowS,prehash:!1},K={lowS:t.lowS,prehash:!1};function W(F,M,z=L){const{seed:H,k2sig:q}=U(F,M,z),j=t;return wa(j.hash.outputLen,j.nByteLength,j.hmac)(H,q)}f.BASE._setWindowSize(8);function ie(F,M,z,H=K){var ge;const q=F;if(M=Se("msgHash",M),z=Se("publicKey",z),"strict"in H)throw new Error("options.strict was renamed to lowS");const{lowS:j,prehash:Z}=H;let ne,Ie;try{if(typeof q=="string"||bt(q))try{ne=x.fromDER(q)}catch(fe){if(!(fe instanceof lt.Err))throw fe;ne=x.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){const{r:fe,s:Ze}=q;ne=new x(fe,Ze)}else throw new Error("PARSE");Ie=f.fromHex(z)}catch(fe){if(fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&ne.hasHighS())return!1;Z&&(M=t.hash(M));const{r:pe,s:Ae}=ne,Ve=N(M),de=l(Ae),at=c(Ve*de),Ne=c(pe*de),We=(ge=f.BASE.multiplyAndAddUnsafe(Ie,at,Ne))==null?void 0:ge.toAffine();return We?c(We.x)===pe:!1}return{CURVE:t,getPublicKey:P,getSharedSecret:A,sign:W,verify:ie,ProjectivePoint:f,Signature:x,utils:B}}class Pa extends is{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,xu(t);const r=Zn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return kt(this),this.iHash.update(t),this}digestInto(t){kt(this),bn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ia=(e,t,n)=>new Pa(e,t).update(n).digest();Ia.create=(e,t)=>new Pa(e,t);function P0(e){return{hash:e,hmac:(t,...n)=>Ia(e,t,ku(...n)),randomBytes:Cu}}function I0(e,t){const n=r=>B0({...e,...P0(r)});return Object.freeze({...n(t),create:n})}const Aa=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ao=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),A0=BigInt(1),Xr=BigInt(2),So=(e,t)=>(e+t/Xr)/t;function S0(e){const t=Aa,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),l=BigInt(88),f=e*e*e%t,d=f*f*e%t,p=we(d,n,t)*d%t,m=we(p,n,t)*d%t,w=we(m,Xr,t)*f%t,g=we(w,s,t)*w%t,y=we(g,i,t)*g%t,v=we(y,c,t)*y%t,x=we(v,l,t)*v%t,B=we(x,c,t)*y%t,P=we(B,n,t)*d%t,S=we(P,o,t)*g%t,A=we(S,r,t)*f%t,$=we(A,Xr,t);if(!Qr.eql(Qr.sqr($),e))throw new Error("Cannot find square root");return $}const Qr=h0(Aa,void 0,void 0,{sqrt:S0}),ur=I0({a:BigInt(0),b:BigInt(7),Fp:Qr,n:Ao,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ao,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-A0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),c=So(i*e,t),l=So(-r*e,t);let f=he(e-c*n-l*s,t),d=he(-c*r-l*i,t);const p=f>o,m=d>o;if(p&&(f=t-f),m&&(d=t-d),f>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:p,k1:f,k2neg:m,k2:d}}}},Mi);BigInt(0);ur.ProjectivePoint;const $0=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ur},Symbol.toStringTag,{value:"Module"}));function T0({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new ur.Signature(J(e),J(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:me(o)}async function zs(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,...c}=t,l=Ee(o)?o:typeof o=="object"&&"r"in o&&"s"in o?T0(o):oe(o),f=await(async()=>!r&&!s||Nd(l)?l:Rd({address:r,data:s,signature:l}))();try{const{data:d}=await G(e,nr,"call")({data:$s({abi:bf,args:[n,i,f],bytecode:vf}),...c});return o0(d??"0x0","0x1")}catch(d){try{if(tr(Vu(n),await Pi({hash:i,signature:o})))return!0}catch{}if(d instanceof Bi)return!1;throw d}}async function k0(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const c=pa(n);return zs(e,{address:t,factory:r,factoryData:s,hash:c,signature:i,...o})}async function C0(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:c,types:l,domain:f,...d}=t,p=Bd({message:o,primaryType:c,types:l,domain:f});return zs(e,{address:n,factory:r,factoryData:s,hash:p,signature:i,...d})}function Sa(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const c=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let l;return c?(()=>{const p=le(["watchBlockNumber",e.uid,t,n,o]);return rt(p,{onBlockNumber:r,onError:s},m=>In(async()=>{var w;try{const g=await G(e,An,"getBlockNumber")({cacheTime:0});if(l){if(g===l)return;if(g-l>1&&n)for(let y=l+1n;y<g;y++)m.onBlockNumber(y,l),l=y}(!l||g>l)&&(m.onBlockNumber(g,l),l=g)}catch(g){(w=m.onError)==null||w.call(m,g)}},{emitOnBegin:t,interval:o}))})():(()=>{const p=le(["watchBlockNumber",e.uid,t,n]);return rt(p,{onBlockNumber:r,onError:s},m=>{let w=!0,g=()=>w=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(B=>B.config.type==="webSocket");return x?x.value:e.transport}return e.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],onData(x){var P;if(!w)return;const B=J((P=x.result)==null?void 0:P.number);m.onBlockNumber(B,l),l=B},onError(x){var B;(B=m.onError)==null||B.call(m,x)}});g=v,w||g()}catch(y){s==null||s(y)}})(),()=>g()})})()}async function N0(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:i=6,retryDelay:o=({count:l})=>~~(1<<l)*200,timeout:c}){const l=le(["waitForTransactionReceipt",e.uid,n]);let f=0,d,p,m,w=!1;return new Promise((g,y)=>{c&&setTimeout(()=>y(new co({hash:n})),c);const v=rt(l,{onReplaced:r,resolve:g,reject:y},x=>{const B=G(e,Sa,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(P){const S=$=>{B(),$(),v()};let A=P;if(!w){f>i&&S(()=>x.reject(new co({hash:n})));try{if(m){if(t>1&&(!m.blockNumber||A-m.blockNumber+1n<t))return;S(()=>x.resolve(m));return}if(d||(w=!0,await Wr(async()=>{d=await G(e,_s,"getTransaction")({hash:n}),d.blockNumber&&(A=d.blockNumber)},{delay:o,retryCount:i}),w=!1),m=await G(e,Kr,"getTransactionReceipt")({hash:n}),t>1&&(!m.blockNumber||A-m.blockNumber+1n<t))return;S(()=>x.resolve(m))}catch($){if($ instanceof vi||$ instanceof Ei){if(!d){w=!1;return}try{p=d,w=!0;const N=await Wr(()=>G(e,nt,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:U})=>U instanceof ki});w=!1;const R=N.transactions.find(({from:U,nonce:L})=>U===p.from&&L===p.nonce);if(!R||(m=await G(e,Kr,"getTransactionReceipt")({hash:R.hash}),t>1&&(!m.blockNumber||A-m.blockNumber+1n<t)))return;let _="replaced";R.to===p.to&&R.value===p.value?_="repriced":R.from===R.to&&R.value===0n&&(_="cancelled"),S(()=>{var U;(U=x.onReplaced)==null||U.call(x,{reason:_,replacedTransaction:p,transaction:R,transactionReceipt:m}),x.resolve(m)})}catch(N){S(()=>x.reject(N))}}else S(()=>x.reject($))}finally{f++}}}})})})}function R0(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:c,pollingInterval:l=e.pollingInterval}){const f=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=o??!1;let p;return f?(()=>{const g=le(["watchBlocks",e.uid,t,n,r,d,l]);return rt(g,{onBlock:s,onError:i},y=>In(async()=>{var v;try{const x=await G(e,nt,"getBlock")({blockTag:t,includeTransactions:d});if(x.number&&(p!=null&&p.number)){if(x.number===p.number)return;if(x.number-p.number>1&&n)for(let B=(p==null?void 0:p.number)+1n;B<x.number;B++){const P=await G(e,nt,"getBlock")({blockNumber:B,includeTransactions:d});y.onBlock(P,p),p=P}}(!(p!=null&&p.number)||t==="pending"&&!(x!=null&&x.number)||x.number&&x.number>p.number)&&(y.onBlock(x,p),p=x)}catch(x){(v=y.onError)==null||v.call(y,x)}},{emitOnBegin:r,interval:l}))})():(()=>{let g=!0,y=()=>g=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(P=>P.config.type==="webSocket");return B?B.value:e.transport}return e.transport})(),{unsubscribe:x}=await v.subscribe({params:["newHeads"],onData(B){var A,$,N;if(!g)return;const S=(((N=($=(A=e.chain)==null?void 0:A.formatters)==null?void 0:$.block)==null?void 0:N.format)||ws)(B.result);s(S,p),p=S},onError(B){i==null||i(B)}});y=x,g||y()}catch(v){i==null||i(v)}})(),()=>y()})()}function F0(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:c,onLogs:l,poll:f,pollingInterval:d=e.pollingInterval,strict:p}){const m=typeof f<"u"?f:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),w=p??!1;return m?(()=>{const v=le(["watchEvent",t,n,r,e.uid,s,d,o]);return rt(v,{onLogs:l,onError:c},x=>{let B;o!==void 0&&(B=o-1n);let P,S=!1;const A=In(async()=>{var $;if(!S){try{P=await G(e,oa,"createEventFilter")({address:t,args:n,event:s,events:i,strict:w,fromBlock:o})}catch{}S=!0;return}try{let N;if(P)N=await G(e,rr,"getFilterChanges")({filter:P});else{const R=await G(e,An,"getBlockNumber")({});B&&B!==R?N=await G(e,Ss,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:B+1n,toBlock:R}):N=[],B=R}if(N.length===0)return;if(r)x.onLogs(N);else for(const R of N)x.onLogs([R])}catch(N){P&&N instanceof mt&&(S=!1),($=x.onError)==null||$.call(x,N)}},{emitOnBegin:!0,interval:d});return async()=>{P&&await G(e,sr,"uninstallFilter")({filter:P}),A()}})})():(()=>{let v=!0,x=()=>v=!1;return(async()=>{try{const B=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(N=>N.config.type==="webSocket");return $?$.value:e.transport}return e.transport})(),P=i??(s?[s]:void 0);let S=[];P&&(S=[P.flatMap(N=>wn({abi:[N],eventName:N.name,args:n}))],s&&(S=S[0]));const{unsubscribe:A}=await B.subscribe({params:["logs",{address:t,topics:S}],onData($){var R;if(!v)return;const N=$.result;try{const{eventName:_,args:U}=Is({abi:P??[],data:N.data,topics:N.topics,strict:w}),L=He(N,{args:U,eventName:_});l([L])}catch(_){let U,L;if(_ instanceof Kt||_ instanceof Wn){if(p)return;U=_.abiItem.name,L=(R=_.abiItem.inputs)==null?void 0:R.some(W=>!("name"in W&&W.name))}const K=He(N,{args:L?[]:{},eventName:U});l([K])}},onError($){c==null||c($)}});x=A,v||x()}catch(B){c==null||c(B)}})(),()=>x()})()}function _0(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const f=le(["watchPendingTransactions",e.uid,t,i]);return rt(f,{onTransactions:r,onError:n},d=>{let p;const m=In(async()=>{var w;try{if(!p)try{p=await G(e,ia,"createPendingTransactionFilter")({});return}catch(y){throw m(),y}const g=await G(e,rr,"getFilterChanges")({filter:p});if(g.length===0)return;if(t)d.onTransactions(g);else for(const y of g)d.onTransactions([y])}catch(g){(w=d.onError)==null||w.call(d,g)}},{emitOnBegin:!0,interval:i});return async()=>{p&&await G(e,sr,"uninstallFilter")({filter:p}),m()}})})():(()=>{let f=!0,d=()=>f=!1;return(async()=>{try{const{unsubscribe:p}=await e.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!f)return;const w=m.result;r([w])},onError(m){n==null||n(m)}});d=p,f||d()}catch(p){n==null||n(p)}})(),()=>d()})()}function M0(e){var p,m,w;const{scheme:t,statement:n,...r}=((p=e.match(O0))==null?void 0:p.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:c,requestId:l,...f}=((m=e.match(U0))==null?void 0:m.groups)??{},d=(w=e.split("Resources:")[1])==null?void 0:w.split(`
- `).slice(1);return{...r,...f,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...l?{requestId:l}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const O0=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,U0=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function L0(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||t&&!tr(r.address,t))return!1}catch{return!1}return!0}async function z0(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:c,time:l=new Date,...f}=t,d=M0(s);if(!d.address||!L0({address:n,domain:r,message:d,nonce:i,scheme:o,time:l}))return!1;const m=pa(s);return zs(e,{address:d.address,hash:m,signature:c,...f})}function D0(e){return{call:t=>nr(e,t),createBlockFilter:()=>pd(e),createContractEventFilter:t=>yi(e,t),createEventFilter:t=>oa(e,t),createPendingTransactionFilter:()=>ia(e),estimateContractGas:t=>pf(e,t),estimateGas:t=>Ps(e,t),getBalance:t=>Wi(e,t),getBlobBaseFee:()=>hd(e),getBlock:t=>nt(e,t),getBlockNumber:t=>An(e,t),getBlockTransactionCount:t=>md(e,t),getBytecode:t=>xo(e,t),getChainId:()=>qi(e),getCode:t=>xo(e,t),getContractEvents:t=>Zi(e,t),getEip712Domain:t=>Uf(e,t),getEnsAddress:t=>Jf(e,t),getEnsAvatar:t=>ld(e,t),getEnsName:t=>fd(e,t),getEnsResolver:t=>dd(e,t),getEnsText:t=>sa(e,t),getFeeHistory:t=>bd(e,t),estimateFeesPerGas:t=>Ql(e,t),getFilterChanges:t=>rr(e,t),getFilterLogs:t=>gd(e,t),getGasPrice:()=>xs(e),getLogs:t=>Ss(e,t),getProof:t=>Vd(e,t),estimateMaxPriorityFeePerGas:t=>Xl(e,t),getStorageAt:t=>Wd(e,t),getTransaction:t=>_s(e,t),getTransactionConfirmations:t=>Zd(e,t),getTransactionCount:t=>_i(e,t),getTransactionReceipt:t=>Kr(e,t),multicall:t=>Kd(e,t),prepareTransactionRequest:t=>Vi(e,t),readContract:t=>qe(e,t),sendRawTransaction:t=>Mf(e,t),simulateContract:t=>$f(e,t),verifyMessage:t=>k0(e,t),verifySiweMessage:t=>z0(e,t),verifyTypedData:t=>C0(e,t),uninstallFilter:t=>sr(e,t),waitForTransactionReceipt:t=>N0(e,t),watchBlocks:t=>R0(e,t),watchBlockNumber:t=>Sa(e,t),watchContractEvent:t=>_f(e,t),watchEvent:t=>F0(e,t),watchPendingTransactions:t=>_0(e,t)}}function j0(e){const{key:t="public",name:n="Public Client"}=e;return zf({...e,key:t,name:n,type:"publicClient"}).extend(D0)}function G0(e,t={}){const{keepAlive:n,key:r="webSocket",name:s="WebSocket JSON-RPC",reconnect:i,retryDelay:o}=t;return({chain:c,retryCount:l,timeout:f})=>{var w;const d=t.retryCount??l,p=f??t.timeout??1e4,m=e||((w=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:w[0]);if(!m)throw new ks;return or({key:r,name:s,async request({method:g,params:y}){const v={method:g,params:y},x=await Un(m,{keepAlive:n,reconnect:i}),{error:B,result:P}=await x.requestAsync({body:v,timeout:p});if(B)throw new Xn({body:v,error:B,url:m});return P},retryCount:d,retryDelay:o,timeout:p,type:"webSocket"},{getSocket(){return Ed(m)},getRpcClient(){return Un(m)},async subscribe({params:g,onData:y,onError:v}){const x=await Un(m),{result:B}=await new Promise((P,S)=>x.request({body:{method:"eth_subscribe",params:g},onError(A){S(A),v==null||v(A)},onResponse(A){if(A.error){S(A.error),v==null||v(A.error);return}if(typeof A.id=="number"){P(A);return}A.method==="eth_subscription"&&y(A.params)}}));return{subscriptionId:B,async unsubscribe(){return new Promise(P=>x.request({body:{method:"eth_unsubscribe",params:[B]},onResponse:P}))}}}})}}function H0(e){const{r:t,s:n}=ur.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:D(t,{size:32}),s:D(n,{size:32}),v:s,yParity:i}:{r:D(t,{size:32}),s:D(n,{size:32}),yParity:i}}var q0={oneInchDevPortalHost:"https://oyster-app-gc4jn.ondigitalocean.app",walletConnectProjectId:"2dd59e55b1b7bbfb98ddf9266f813b3b",baseHref:"",infuraApiKey:"",appVersion:"1.0.0-dev.50"},V0={oneInchDevPortalHost:"https://api.1inch.dev"};function W0(e){return q0[e]??V0[e]}const Ds=50000n,$o=Wl*32n,$a={block:Ri({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var i;if(typeof r=="string")return r;const s=(i=$a.transaction)==null?void 0:i.format(r);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:e.l1BatchNumber?J(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?J(e.l1BatchTimestamp):null,transactions:t}}}),transaction:Ni({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?J(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?J(e.l1BatchTxIndex):null}}}),transactionReceipt:da({format(e){return{l1BatchNumber:e.l1BatchNumber?J(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?J(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...He(t),l1BatchNumber:t.l1BatchNumber?J(t.l1BatchNumber):null,transactionLogIndex:Te(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:J(t.blockHash),blockHash:t.blockHash,l1BatchNumber:J(t.l1BatchNumber),transactionIndex:J(t.transactionIndex),shardId:J(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:J(t.logIndex)}))}}}),transactionRequest:Hl({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:O(e.gasPerPubdata)}:{gasPerPubdata:O(Ds)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(me(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(me(t)))}:{},...e.customSignature?{customSignature:Array.from(me(e.customSignature))}:{}},type:"0x71"}:{}}})};class Z0 extends C{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function Ta(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function ka(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:i}=e;if(!Ta(e))throw new Z0;if(!t||t<=0)throw new Pn({chainId:t});if(n&&!se(n))throw new ue({address:n});if(r&&!se(r))throw new ue({address:r});if(s&&!se(s))throw new ue({address:s});if(s&&!i)throw new C("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&i)throw new C("`paymaster` must be provided when `paymasterInput` is defined")}function K0(e,t){return Ta(e)?J0(e):ma(e,t)}const Y0={transaction:K0};function J0(e){const{chainId:t,gas:n,nonce:r,to:s,from:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,customSignature:f,factoryDeps:d,paymaster:p,paymasterInput:m,gasPerPubdata:w,data:g}=e;ka(e);const y=[r?O(r):"0x",l?O(l):"0x",c?O(c):"0x",n?O(n):"0x",s??"0x",o?O(o):"0x",g??"0x0",O(t),O(""),O(""),O(t),i??"0x",O(w||Ds),d??[],f??"0x",p&&m?[p,m]:[]];return ke(["0x71",Ge(y)])}class X0 extends C{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class Q0 extends C{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class ep extends C{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function tp(e){const t=ve(e);if(t.length%32!==0)throw new ep({givenLength:t.length});if(t.length>$o)throw new X0({givenLength:t.length,maxBytecodeSize:$o});const n=Oi(t),r=ve(n),s=t.length/32;if(s%2===0)throw new Q0({givenLengthInWords:s});const i=ve(s),o=gt(i,{size:2}),c=new Uint8Array([1,0]);return r.set(c,0),r.set(o,2),r}const np=e=>{ka(e);const t=rp(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function rp(e){const{gas:t,nonce:n,to:r,from:s,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,factoryDeps:l,paymaster:f,paymasterInput:d,gasPerPubdata:p,data:m}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:p??Ds,maxFeePerGas:o??0n,maxPriorityFeePerGas:c??0n,paymaster:f?BigInt(f):0n,nonce:n?BigInt(n):0n,value:i??0n,data:m||"0x0",factoryDeps:(l==null?void 0:l.map(w=>O(tp(w))))??[],paymasterInput:d||"0x"}}const sp={formatters:$a,serializers:Y0,custom:{getEip712Domain:np}},op={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},ip={block:Ri({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=er(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?J(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:Ni({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?J(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:da({format(e){return{l1GasPrice:e.l1GasPrice?J(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?J(e.l1GasUsed):null,l1Fee:e.l1Fee?J(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function ap(e,t){return lp(e)?up(e):ma(e,t)}const cp={transaction:ap};function up(e){fp(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:c,value:l}=e,f=[t,r,c??"0x",o?O(o):"0x",l?O(l):"0x",s?O(s):"0x",i?"0x1":"0x",n??"0x"];return ke(["0x7e",Ge(f)])}function lp(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function fp(e){const{from:t,to:n}=e;if(t&&!se(t))throw new ue({address:t});if(n&&!se(n))throw new ue({address:n})}const To={contracts:op,formatters:ip,serializers:cp},dp=Ce({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),pp=Ce({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),hp=Ce({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),mp=Ce({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),yp=Ce({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),bp=Ce({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),gp=Ce({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),wp=Ce({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),qt=1,xp=Ce({...To,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...To.contracts,disputeGameFactory:{[qt]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[qt]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[qt]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[qt]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:qt}),vp=Ce({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),Ep=Ce({...sp,id:324,name:"ZKsync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://explorer.zksync.io/",apiUrl:"https://block-explorer-api.mainnet.zksync.io/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}});var Bp=Object.create,Ca=Object.defineProperty,Pp=Object.getOwnPropertyDescriptor,js=Object.getOwnPropertyNames,Ip=Object.getPrototypeOf,Ap=Object.prototype.hasOwnProperty,zt=(e,t)=>function(){return e&&(t=(0,e[js(e)[0]])(e=0)),t},Dh=(e,t)=>function(){return t||(0,e[js(e)[0]])((t={exports:{}}).exports,t),t.exports},Sp=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of js(t))!Ap.call(e,s)&&s!==n&&Ca(e,s,{get:()=>t[s],enumerable:!(r=Pp(t,s))||r.enumerable});return e},jh=(e,t,n)=>(n=e!=null?Bp(Ip(e)):{},Sp(Ca(n,"default",{value:e,enumerable:!0}),e)),vt=zt({"<define:__environment__>"(){}}),Et=zt({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.23.1/node_modules/esbuild-plugin-polyfill-node/polyfills/__dirname.js"(){}});function $p(){if(es)return St;es=!0,St.byteLength=c,St.toByteArray=f,St.fromByteArray=m;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)e[s]=r[s],t[r.charCodeAt(s)]=s;t[45]=62,t[95]=63;function o(w){var g=w.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=w.indexOf("=");y===-1&&(y=g);var v=y===g?0:4-y%4;return[y,v]}function c(w){var g=o(w),y=g[0],v=g[1];return(y+v)*3/4-v}function l(w,g,y){return(g+y)*3/4-y}function f(w){var g,y=o(w),v=y[0],x=y[1],B=new n(l(w,v,x)),P=0,S=x>0?v-4:v,A;for(A=0;A<S;A+=4)g=t[w.charCodeAt(A)]<<18|t[w.charCodeAt(A+1)]<<12|t[w.charCodeAt(A+2)]<<6|t[w.charCodeAt(A+3)],B[P++]=g>>16&255,B[P++]=g>>8&255,B[P++]=g&255;return x===2&&(g=t[w.charCodeAt(A)]<<2|t[w.charCodeAt(A+1)]>>4,B[P++]=g&255),x===1&&(g=t[w.charCodeAt(A)]<<10|t[w.charCodeAt(A+1)]<<4|t[w.charCodeAt(A+2)]>>2,B[P++]=g>>8&255,B[P++]=g&255),B}function d(w){return e[w>>18&63]+e[w>>12&63]+e[w>>6&63]+e[w&63]}function p(w,g,y){for(var v,x=[],B=g;B<y;B+=3)v=(w[B]<<16&16711680)+(w[B+1]<<8&65280)+(w[B+2]&255),x.push(d(v));return x.join("")}function m(w){for(var g,y=w.length,v=y%3,x=[],B=16383,P=0,S=y-v;P<S;P+=B)x.push(p(w,P,P+B>S?S:P+B));return v===1?(g=w[y-1],x.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(w[y-2]<<8)+w[y-1],x.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),x.join("")}return St}function Tp(){return ts||(ts=!0,Wt.read=function(e,t,n,r,s){var i,o,c=s*8-r-1,l=(1<<c)-1,f=l>>1,d=-7,p=n?s-1:0,m=n?-1:1,w=e[t+p];for(p+=m,i=w&(1<<-d)-1,w>>=-d,d+=c;d>0;i=i*256+e[t+p],p+=m,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=r;d>0;o=o*256+e[t+p],p+=m,d-=8);if(i===0)i=1-f;else{if(i===l)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-f}return(w?-1:1)*o*Math.pow(2,i-r)},Wt.write=function(e,t,n,r,s,i){var o,c,l,f=i*8-s-1,d=(1<<f)-1,p=d>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:i-1,g=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+p>=1?t+=m/l:t+=m*Math.pow(2,1-p),t*l>=2&&(o++,l/=2),o+p>=d?(c=0,o=d):o+p>=1?(c=(t*l-1)*Math.pow(2,s),o=o+p):(c=t*Math.pow(2,p-1)*Math.pow(2,s),o=0));s>=8;e[n+w]=c&255,w+=g,c/=256,s-=8);for(o=o<<s|c,f+=s;f>0;e[n+w]=o&255,w+=g,o/=256,f-=8);e[n+w-g]|=y*128}),Wt}function kp(){if(ns)return Qe;ns=!0;const e=$p(),t=Tp(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Qe.Buffer=o,Qe.SlowBuffer=x,Qe.INSPECT_MAX_BYTES=50;const r=2147483647;Qe.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const h=new Uint8Array(1),a={foo:function(){return 42}};return Object.setPrototypeOf(a,Uint8Array.prototype),Object.setPrototypeOf(h,a),h.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(h){if(h>r)throw new RangeError('The value "'+h+'" is invalid for option "size"');const a=new Uint8Array(h);return Object.setPrototypeOf(a,o.prototype),a}function o(h,a,u){if(typeof h=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(h)}return c(h,a,u)}o.poolSize=8192;function c(h,a,u){if(typeof h=="string")return p(h,a);if(ArrayBuffer.isView(h))return w(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(Re(h,ArrayBuffer)||h&&Re(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Re(h,SharedArrayBuffer)||h&&Re(h.buffer,SharedArrayBuffer)))return g(h,a,u);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const b=h.valueOf&&h.valueOf();if(b!=null&&b!==h)return o.from(b,a,u);const E=y(h);if(E)return E;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return o.from(h[Symbol.toPrimitive]("string"),a,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}o.from=function(h,a,u){return c(h,a,u)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function f(h,a,u){return l(h),h<=0?i(h):a!==void 0?typeof u=="string"?i(h).fill(a,u):i(h).fill(a):i(h)}o.alloc=function(h,a,u){return f(h,a,u)};function d(h){return l(h),i(h<0?0:v(h)|0)}o.allocUnsafe=function(h){return d(h)},o.allocUnsafeSlow=function(h){return d(h)};function p(h,a){if((typeof a!="string"||a==="")&&(a="utf8"),!o.isEncoding(a))throw new TypeError("Unknown encoding: "+a);const u=B(h,a)|0;let b=i(u);const E=b.write(h,a);return E!==u&&(b=b.slice(0,E)),b}function m(h){const a=h.length<0?0:v(h.length)|0,u=i(a);for(let b=0;b<a;b+=1)u[b]=h[b]&255;return u}function w(h){if(Re(h,Uint8Array)){const a=new Uint8Array(h);return g(a.buffer,a.byteOffset,a.byteLength)}return m(h)}function g(h,a,u){if(a<0||h.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<a+(u||0))throw new RangeError('"length" is outside of buffer bounds');let b;return a===void 0&&u===void 0?b=new Uint8Array(h):u===void 0?b=new Uint8Array(h,a):b=new Uint8Array(h,a,u),Object.setPrototypeOf(b,o.prototype),b}function y(h){if(o.isBuffer(h)){const a=v(h.length)|0,u=i(a);return u.length===0||h.copy(u,0,0,a),u}if(h.length!==void 0)return typeof h.length!="number"||lr(h.length)?i(0):m(h);if(h.type==="Buffer"&&Array.isArray(h.data))return m(h.data)}function v(h){if(h>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return h|0}function x(h){return+h!=h&&(h=0),o.alloc(+h)}o.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==o.prototype},o.compare=function(a,u){if(Re(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),Re(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(a)||!o.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===u)return 0;let b=a.length,E=u.length;for(let I=0,T=Math.min(b,E);I<T;++I)if(a[I]!==u[I]){b=a[I],E=u[I];break}return b<E?-1:E<b?1:0},o.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(a,u){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return o.alloc(0);let b;if(u===void 0)for(u=0,b=0;b<a.length;++b)u+=a[b].length;const E=o.allocUnsafe(u);let I=0;for(b=0;b<a.length;++b){let T=a[b];if(Re(T,Uint8Array))I+T.length>E.length?(o.isBuffer(T)||(T=o.from(T)),T.copy(E,I)):Uint8Array.prototype.set.call(E,T,I);else if(o.isBuffer(T))T.copy(E,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=T.length}return E};function B(h,a){if(o.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||Re(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);const u=h.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&u===0)return 0;let E=!1;for(;;)switch(a){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return It(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return Hs(h).length;default:if(E)return b?-1:It(h).length;a=(""+a).toLowerCase(),E=!0}}o.byteLength=B;function P(h,a,u){let b=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,a>>>=0,u<=a))return"";for(h||(h="utf8");;)switch(h){case"hex":return H(this,a,u);case"utf8":case"utf-8":return W(this,a,u);case"ascii":return M(this,a,u);case"latin1":case"binary":return z(this,a,u);case"base64":return K(this,a,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,a,u);default:if(b)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),b=!0}}o.prototype._isBuffer=!0;function S(h,a,u){const b=h[a];h[a]=h[u],h[u]=b}o.prototype.swap16=function(){const a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<a;u+=2)S(this,u,u+1);return this},o.prototype.swap32=function(){const a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<a;u+=4)S(this,u,u+3),S(this,u+1,u+2);return this},o.prototype.swap64=function(){const a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<a;u+=8)S(this,u,u+7),S(this,u+1,u+6),S(this,u+2,u+5),S(this,u+3,u+4);return this},o.prototype.toString=function(){const a=this.length;return a===0?"":arguments.length===0?W(this,0,a):P.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(a){if(!o.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:o.compare(this,a)===0},o.prototype.inspect=function(){let a="";const u=Qe.INSPECT_MAX_BYTES;return a=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(a+=" ... "),"<Buffer "+a+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(a,u,b,E,I){if(Re(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),!o.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(u===void 0&&(u=0),b===void 0&&(b=a?a.length:0),E===void 0&&(E=0),I===void 0&&(I=this.length),u<0||b>a.length||E<0||I>this.length)throw new RangeError("out of range index");if(E>=I&&u>=b)return 0;if(E>=I)return-1;if(u>=b)return 1;if(u>>>=0,b>>>=0,E>>>=0,I>>>=0,this===a)return 0;let T=I-E,V=b-u;const Q=Math.min(T,V),X=this.slice(E,I),ee=a.slice(u,b);for(let Y=0;Y<Q;++Y)if(X[Y]!==ee[Y]){T=X[Y],V=ee[Y];break}return T<V?-1:V<T?1:0};function A(h,a,u,b,E){if(h.length===0)return-1;if(typeof u=="string"?(b=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,lr(u)&&(u=E?0:h.length-1),u<0&&(u=h.length+u),u>=h.length){if(E)return-1;u=h.length-1}else if(u<0)if(E)u=0;else return-1;if(typeof a=="string"&&(a=o.from(a,b)),o.isBuffer(a))return a.length===0?-1:$(h,a,u,b,E);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(h,a,u):Uint8Array.prototype.lastIndexOf.call(h,a,u):$(h,[a],u,b,E);throw new TypeError("val must be string, number or Buffer")}function $(h,a,u,b,E){let I=1,T=h.length,V=a.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(h.length<2||a.length<2)return-1;I=2,T/=2,V/=2,u/=2}function Q(ee,Y){return I===1?ee[Y]:ee.readUInt16BE(Y*I)}let X;if(E){let ee=-1;for(X=u;X<T;X++)if(Q(h,X)===Q(a,ee===-1?0:X-ee)){if(ee===-1&&(ee=X),X-ee+1===V)return ee*I}else ee!==-1&&(X-=X-ee),ee=-1}else for(u+V>T&&(u=T-V),X=u;X>=0;X--){let ee=!0;for(let Y=0;Y<V;Y++)if(Q(h,X+Y)!==Q(a,Y)){ee=!1;break}if(ee)return X}return-1}o.prototype.includes=function(a,u,b){return this.indexOf(a,u,b)!==-1},o.prototype.indexOf=function(a,u,b){return A(this,a,u,b,!0)},o.prototype.lastIndexOf=function(a,u,b){return A(this,a,u,b,!1)};function N(h,a,u,b){u=Number(u)||0;const E=h.length-u;b?(b=Number(b),b>E&&(b=E)):b=E;const I=a.length;b>I/2&&(b=I/2);let T;for(T=0;T<b;++T){const V=parseInt(a.substr(T*2,2),16);if(lr(V))return T;h[u+T]=V}return T}function R(h,a,u,b){return Cn(It(a,h.length-u),h,u,b)}function _(h,a,u,b){return Cn(Ha(a),h,u,b)}function U(h,a,u,b){return Cn(Hs(a),h,u,b)}function L(h,a,u,b){return Cn(qa(a,h.length-u),h,u,b)}o.prototype.write=function(a,u,b,E){if(u===void 0)E="utf8",b=this.length,u=0;else if(b===void 0&&typeof u=="string")E=u,b=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(b)?(b=b>>>0,E===void 0&&(E="utf8")):(E=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-u;if((b===void 0||b>I)&&(b=I),a.length>0&&(b<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");let T=!1;for(;;)switch(E){case"hex":return N(this,a,u,b);case"utf8":case"utf-8":return R(this,a,u,b);case"ascii":case"latin1":case"binary":return _(this,a,u,b);case"base64":return U(this,a,u,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,a,u,b);default:if(T)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),T=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(h,a,u){return a===0&&u===h.length?e.fromByteArray(h):e.fromByteArray(h.slice(a,u))}function W(h,a,u){u=Math.min(h.length,u);const b=[];let E=a;for(;E<u;){const I=h[E];let T=null,V=I>239?4:I>223?3:I>191?2:1;if(E+V<=u){let Q,X,ee,Y;switch(V){case 1:I<128&&(T=I);break;case 2:Q=h[E+1],(Q&192)===128&&(Y=(I&31)<<6|Q&63,Y>127&&(T=Y));break;case 3:Q=h[E+1],X=h[E+2],(Q&192)===128&&(X&192)===128&&(Y=(I&15)<<12|(Q&63)<<6|X&63,Y>2047&&(Y<55296||Y>57343)&&(T=Y));break;case 4:Q=h[E+1],X=h[E+2],ee=h[E+3],(Q&192)===128&&(X&192)===128&&(ee&192)===128&&(Y=(I&15)<<18|(Q&63)<<12|(X&63)<<6|ee&63,Y>65535&&Y<1114112&&(T=Y))}}T===null?(T=65533,V=1):T>65535&&(T-=65536,b.push(T>>>10&1023|55296),T=56320|T&1023),b.push(T),E+=V}return F(b)}const ie=4096;function F(h){const a=h.length;if(a<=ie)return String.fromCharCode.apply(String,h);let u="",b=0;for(;b<a;)u+=String.fromCharCode.apply(String,h.slice(b,b+=ie));return u}function M(h,a,u){let b="";u=Math.min(h.length,u);for(let E=a;E<u;++E)b+=String.fromCharCode(h[E]&127);return b}function z(h,a,u){let b="";u=Math.min(h.length,u);for(let E=a;E<u;++E)b+=String.fromCharCode(h[E]);return b}function H(h,a,u){const b=h.length;(!a||a<0)&&(a=0),(!u||u<0||u>b)&&(u=b);let E="";for(let I=a;I<u;++I)E+=Va[h[I]];return E}function q(h,a,u){const b=h.slice(a,u);let E="";for(let I=0;I<b.length-1;I+=2)E+=String.fromCharCode(b[I]+b[I+1]*256);return E}o.prototype.slice=function(a,u){const b=this.length;a=~~a,u=u===void 0?b:~~u,a<0?(a+=b,a<0&&(a=0)):a>b&&(a=b),u<0?(u+=b,u<0&&(u=0)):u>b&&(u=b),u<a&&(u=a);const E=this.subarray(a,u);return Object.setPrototypeOf(E,o.prototype),E};function j(h,a,u){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+a>u)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(a,u,b){a=a>>>0,u=u>>>0,b||j(a,u,this.length);let E=this[a],I=1,T=0;for(;++T<u&&(I*=256);)E+=this[a+T]*I;return E},o.prototype.readUintBE=o.prototype.readUIntBE=function(a,u,b){a=a>>>0,u=u>>>0,b||j(a,u,this.length);let E=this[a+--u],I=1;for(;u>0&&(I*=256);)E+=this[a+--u]*I;return E},o.prototype.readUint8=o.prototype.readUInt8=function(a,u){return a=a>>>0,u||j(a,1,this.length),this[a]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(a,u){return a=a>>>0,u||j(a,2,this.length),this[a]|this[a+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(a,u){return a=a>>>0,u||j(a,2,this.length),this[a]<<8|this[a+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(a,u){return a=a>>>0,u||j(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(a,u){return a=a>>>0,u||j(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},o.prototype.readBigUInt64LE=Ke(function(a){a=a>>>0,ge(a,"offset");const u=this[a],b=this[a+7];(u===void 0||b===void 0)&&fe(a,this.length-8);const E=u+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24,I=this[++a]+this[++a]*2**8+this[++a]*2**16+b*2**24;return BigInt(E)+(BigInt(I)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ke(function(a){a=a>>>0,ge(a,"offset");const u=this[a],b=this[a+7];(u===void 0||b===void 0)&&fe(a,this.length-8);const E=u*2**24+this[++a]*2**16+this[++a]*2**8+this[++a],I=this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+b;return(BigInt(E)<<BigInt(32))+BigInt(I)}),o.prototype.readIntLE=function(a,u,b){a=a>>>0,u=u>>>0,b||j(a,u,this.length);let E=this[a],I=1,T=0;for(;++T<u&&(I*=256);)E+=this[a+T]*I;return I*=128,E>=I&&(E-=Math.pow(2,8*u)),E},o.prototype.readIntBE=function(a,u,b){a=a>>>0,u=u>>>0,b||j(a,u,this.length);let E=u,I=1,T=this[a+--E];for(;E>0&&(I*=256);)T+=this[a+--E]*I;return I*=128,T>=I&&(T-=Math.pow(2,8*u)),T},o.prototype.readInt8=function(a,u){return a=a>>>0,u||j(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},o.prototype.readInt16LE=function(a,u){a=a>>>0,u||j(a,2,this.length);const b=this[a]|this[a+1]<<8;return b&32768?b|4294901760:b},o.prototype.readInt16BE=function(a,u){a=a>>>0,u||j(a,2,this.length);const b=this[a+1]|this[a]<<8;return b&32768?b|4294901760:b},o.prototype.readInt32LE=function(a,u){return a=a>>>0,u||j(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},o.prototype.readInt32BE=function(a,u){return a=a>>>0,u||j(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},o.prototype.readBigInt64LE=Ke(function(a){a=a>>>0,ge(a,"offset");const u=this[a],b=this[a+7];(u===void 0||b===void 0)&&fe(a,this.length-8);const E=this[a+4]+this[a+5]*2**8+this[a+6]*2**16+(b<<24);return(BigInt(E)<<BigInt(32))+BigInt(u+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24)}),o.prototype.readBigInt64BE=Ke(function(a){a=a>>>0,ge(a,"offset");const u=this[a],b=this[a+7];(u===void 0||b===void 0)&&fe(a,this.length-8);const E=(u<<24)+this[++a]*2**16+this[++a]*2**8+this[++a];return(BigInt(E)<<BigInt(32))+BigInt(this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+b)}),o.prototype.readFloatLE=function(a,u){return a=a>>>0,u||j(a,4,this.length),t.read(this,a,!0,23,4)},o.prototype.readFloatBE=function(a,u){return a=a>>>0,u||j(a,4,this.length),t.read(this,a,!1,23,4)},o.prototype.readDoubleLE=function(a,u){return a=a>>>0,u||j(a,8,this.length),t.read(this,a,!0,52,8)},o.prototype.readDoubleBE=function(a,u){return a=a>>>0,u||j(a,8,this.length),t.read(this,a,!1,52,8)};function Z(h,a,u,b,E,I){if(!o.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>E||a<I)throw new RangeError('"value" argument is out of bounds');if(u+b>h.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(a,u,b,E){if(a=+a,u=u>>>0,b=b>>>0,!E){const V=Math.pow(2,8*b)-1;Z(this,a,u,b,V,0)}let I=1,T=0;for(this[u]=a&255;++T<b&&(I*=256);)this[u+T]=a/I&255;return u+b},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(a,u,b,E){if(a=+a,u=u>>>0,b=b>>>0,!E){const V=Math.pow(2,8*b)-1;Z(this,a,u,b,V,0)}let I=b-1,T=1;for(this[u+I]=a&255;--I>=0&&(T*=256);)this[u+I]=a/T&255;return u+b},o.prototype.writeUint8=o.prototype.writeUInt8=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,1,255,0),this[u]=a&255,u+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,2,65535,0),this[u]=a&255,this[u+1]=a>>>8,u+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,2,65535,0),this[u]=a>>>8,this[u+1]=a&255,u+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,4,4294967295,0),this[u+3]=a>>>24,this[u+2]=a>>>16,this[u+1]=a>>>8,this[u]=a&255,u+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,4,4294967295,0),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=a&255,u+4};function ne(h,a,u,b,E){Dt(a,b,E,h,u,7);let I=Number(a&BigInt(4294967295));h[u++]=I,I=I>>8,h[u++]=I,I=I>>8,h[u++]=I,I=I>>8,h[u++]=I;let T=Number(a>>BigInt(32)&BigInt(4294967295));return h[u++]=T,T=T>>8,h[u++]=T,T=T>>8,h[u++]=T,T=T>>8,h[u++]=T,u}function Ie(h,a,u,b,E){Dt(a,b,E,h,u,7);let I=Number(a&BigInt(4294967295));h[u+7]=I,I=I>>8,h[u+6]=I,I=I>>8,h[u+5]=I,I=I>>8,h[u+4]=I;let T=Number(a>>BigInt(32)&BigInt(4294967295));return h[u+3]=T,T=T>>8,h[u+2]=T,T=T>>8,h[u+1]=T,T=T>>8,h[u]=T,u+8}o.prototype.writeBigUInt64LE=Ke(function(a,u=0){return ne(this,a,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ke(function(a,u=0){return Ie(this,a,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(a,u,b,E){if(a=+a,u=u>>>0,!E){const Q=Math.pow(2,8*b-1);Z(this,a,u,b,Q-1,-Q)}let I=0,T=1,V=0;for(this[u]=a&255;++I<b&&(T*=256);)a<0&&V===0&&this[u+I-1]!==0&&(V=1),this[u+I]=(a/T>>0)-V&255;return u+b},o.prototype.writeIntBE=function(a,u,b,E){if(a=+a,u=u>>>0,!E){const Q=Math.pow(2,8*b-1);Z(this,a,u,b,Q-1,-Q)}let I=b-1,T=1,V=0;for(this[u+I]=a&255;--I>=0&&(T*=256);)a<0&&V===0&&this[u+I+1]!==0&&(V=1),this[u+I]=(a/T>>0)-V&255;return u+b},o.prototype.writeInt8=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,1,127,-128),a<0&&(a=255+a+1),this[u]=a&255,u+1},o.prototype.writeInt16LE=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,2,32767,-32768),this[u]=a&255,this[u+1]=a>>>8,u+2},o.prototype.writeInt16BE=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,2,32767,-32768),this[u]=a>>>8,this[u+1]=a&255,u+2},o.prototype.writeInt32LE=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,4,2147483647,-2147483648),this[u]=a&255,this[u+1]=a>>>8,this[u+2]=a>>>16,this[u+3]=a>>>24,u+4},o.prototype.writeInt32BE=function(a,u,b){return a=+a,u=u>>>0,b||Z(this,a,u,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=a&255,u+4},o.prototype.writeBigInt64LE=Ke(function(a,u=0){return ne(this,a,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ke(function(a,u=0){return Ie(this,a,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(h,a,u,b,E,I){if(u+b>h.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Ae(h,a,u,b,E){return a=+a,u=u>>>0,E||pe(h,a,u,4),t.write(h,a,u,b,23,4),u+4}o.prototype.writeFloatLE=function(a,u,b){return Ae(this,a,u,!0,b)},o.prototype.writeFloatBE=function(a,u,b){return Ae(this,a,u,!1,b)};function Ve(h,a,u,b,E){return a=+a,u=u>>>0,E||pe(h,a,u,8),t.write(h,a,u,b,52,8),u+8}o.prototype.writeDoubleLE=function(a,u,b){return Ve(this,a,u,!0,b)},o.prototype.writeDoubleBE=function(a,u,b){return Ve(this,a,u,!1,b)},o.prototype.copy=function(a,u,b,E){if(!o.isBuffer(a))throw new TypeError("argument should be a Buffer");if(b||(b=0),!E&&E!==0&&(E=this.length),u>=a.length&&(u=a.length),u||(u=0),E>0&&E<b&&(E=b),E===b||a.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),a.length-u<E-b&&(E=a.length-u+b);const I=E-b;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,b,E):Uint8Array.prototype.set.call(a,this.subarray(b,E),u),I},o.prototype.fill=function(a,u,b,E){if(typeof a=="string"){if(typeof u=="string"?(E=u,u=0,b=this.length):typeof b=="string"&&(E=b,b=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!o.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(a.length===1){const T=a.charCodeAt(0);(E==="utf8"&&T<128||E==="latin1")&&(a=T)}}else typeof a=="number"?a=a&255:typeof a=="boolean"&&(a=Number(a));if(u<0||this.length<u||this.length<b)throw new RangeError("Out of range index");if(b<=u)return this;u=u>>>0,b=b===void 0?this.length:b>>>0,a||(a=0);let I;if(typeof a=="number")for(I=u;I<b;++I)this[I]=a;else{const T=o.isBuffer(a)?a:o.from(a,E),V=T.length;if(V===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(I=0;I<b-u;++I)this[I+u]=T[I%V]}return this};const de={};function at(h,a,u){de[h]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:a.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(E){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:E,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(h,a){return`The "${h}" argument must be of type number. Received type ${typeof a}`},TypeError),at("ERR_OUT_OF_RANGE",function(h,a,u){let b=`The value of "${h}" is out of range.`,E=u;return Number.isInteger(u)&&Math.abs(u)>2**32?E=Ne(String(u)):typeof u=="bigint"&&(E=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(E=Ne(E)),E+="n"),b+=` It must be ${a}. Received ${E}`,b},RangeError);function Ne(h){let a="",u=h.length;const b=h[0]==="-"?1:0;for(;u>=b+4;u-=3)a=`_${h.slice(u-3,u)}${a}`;return`${h.slice(0,u)}${a}`}function We(h,a,u){ge(a,"offset"),(h[a]===void 0||h[a+u]===void 0)&&fe(a,h.length-(u+1))}function Dt(h,a,u,b,E,I){if(h>u||h<a){const T=typeof a=="bigint"?"n":"";let V;throw a===0||a===BigInt(0)?V=`>= 0${T} and < 2${T} ** ${(I+1)*8}${T}`:V=`>= -(2${T} ** ${(I+1)*8-1}${T}) and < 2 ** ${(I+1)*8-1}${T}`,new de.ERR_OUT_OF_RANGE("value",V,h)}We(b,E,I)}function ge(h,a){if(typeof h!="number")throw new de.ERR_INVALID_ARG_TYPE(a,"number",h)}function fe(h,a,u){throw Math.floor(h)!==h?(ge(h,u),new de.ERR_OUT_OF_RANGE("offset","an integer",h)):a<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${a}`,h)}const Ze=/[^+/0-9A-Za-z-_]/g;function kn(h){if(h=h.split("=")[0],h=h.trim().replace(Ze,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function It(h,a){a=a||1/0;let u;const b=h.length;let E=null;const I=[];for(let T=0;T<b;++T){if(u=h.charCodeAt(T),u>55295&&u<57344){if(!E){if(u>56319){(a-=3)>-1&&I.push(239,191,189);continue}else if(T+1===b){(a-=3)>-1&&I.push(239,191,189);continue}E=u;continue}if(u<56320){(a-=3)>-1&&I.push(239,191,189),E=u;continue}u=(E-55296<<10|u-56320)+65536}else E&&(a-=3)>-1&&I.push(239,191,189);if(E=null,u<128){if((a-=1)<0)break;I.push(u)}else if(u<2048){if((a-=2)<0)break;I.push(u>>6|192,u&63|128)}else if(u<65536){if((a-=3)<0)break;I.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((a-=4)<0)break;I.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return I}function Ha(h){const a=[];for(let u=0;u<h.length;++u)a.push(h.charCodeAt(u)&255);return a}function qa(h,a){let u,b,E;const I=[];for(let T=0;T<h.length&&!((a-=2)<0);++T)u=h.charCodeAt(T),b=u>>8,E=u%256,I.push(E),I.push(b);return I}function Hs(h){return e.toByteArray(kn(h))}function Cn(h,a,u,b){let E;for(E=0;E<b&&!(E+u>=a.length||E>=h.length);++E)a[E+u]=h[E];return E}function Re(h,a){return h instanceof a||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===a.name}function lr(h){return h!==h}const Va=function(){const h="0123456789abcdef",a=new Array(256);for(let u=0;u<16;++u){const b=u*16;for(let E=0;E<16;++E)a[b+E]=h[u]+h[E]}return a}();function Ke(h){return typeof BigInt>"u"?Wa:h}function Wa(){throw new Error("BigInt not supported")}return Qe}var St,es,Wt,ts,Qe,ns,Xe,Cp=zt({"node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/buffer.js"(){vt(),Et(),Bt(),Pt(),St={},es=!1,Wt={},ts=!1,Qe={},ns=!1,Xe=kp(),Xe.Buffer,Xe.SlowBuffer,Xe.INSPECT_MAX_BYTES,Xe.kMaxLength,Xe.Buffer,Xe.INSPECT_MAX_BYTES,Xe.kMaxLength}}),Bt=zt({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.23.1/node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){Cp()}}),At,Pr,Np=zt({"node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/process.js"(){vt(),Et(),Bt(),Pt(),At={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},At.now===void 0&&(Pr=Date.now(),At.timing&&At.timing.navigationStart&&(Pr=At.timing.navigationStart),At.now=()=>Date.now()-Pr)}}),Pt=zt({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.23.1/node_modules/esbuild-plugin-polyfill-node/polyfills/process.js"(){Np()}});vt();Et();Bt();Pt();vt();Et();Bt();Pt();var Rp=class{constructor(e,t=!1){this.ttlMs=e,this.autoClean=t,this.cache=new Map,this.enabledAutoClean()}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()})}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),null):t.value:null}has(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),!1):!0:!1}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.autoCleanTimer&&clearInterval(this.autoCleanTimer)}size(){return 0}enabledAutoClean(){this.autoClean&&(this.autoCleanTimer=setInterval(()=>{for(const e of[...this.cache.keys()])this.get(e)},this.ttlMs))}};vt();Et();Bt();Pt();var Fp=class{constructor(e){this.bufferSize=e,this.cache=new Map,this.indexes=new Map,this.lastIndex=0}set(e,t){if(this.has(e))return;if(this.cache.size>=this.bufferSize){const r=Math.min(...this.indexes.keys()),s=this.indexes.get(r);this.indexes.delete(r),this.cache.delete(s);return}const n=this.lastIndex++;this.indexes.set(n,e),this.cache.set(e,t)}get(e){return this.cache.get(e)??null}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.indexes.clear(),this.lastIndex=0}size(){return this.cache.size}};vt();Et();Bt();Pt();var Hh=class{constructor(e,t){this.storageKey=e,this.ttlDays=t,this.cache=new Map;const n=qs.get(this.storageKeyAndVersion,nc);this.cache=new Map(n)}get storageKeyAndVersion(){return[this.storageKey,"v2"].join(":")}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()}),this.updatePersistence()}get(e){var t;return this.checkCacheData(e),((t=this.cache.get(e))==null?void 0:t.value)??null}has(e){return this.checkCacheData(e),this.cache.has(e)}delete(e){const t=this.cache.delete(e);return this.updatePersistence(),t}clear(){this.cache.clear(),this.updatePersistence()}size(){let e=!1;return this.cache.forEach((t,n)=>{this.checkCacheData(n,!0)&&!e&&(e=!0)}),e&&this.updatePersistence(),this.cache.size}checkCacheData(e,t){const n=this.cache.get(e);if(!n)return!1;let r=!1;return Date.now()-n.timestamp>this.ttlDays*864e5&&(this.cache.delete(e),r=!0,(t??!1)||this.updatePersistence()),r}updatePersistence(){qs.set(this.storageKeyAndVersion,Array.from(this.cache.entries()))}};vt();Et();Bt();Pt();var _p=1;async function Mp(e){const t=await yn(()=>import("./import-wrapper-CAGJVX77-HE6k9jgZ.js"),__vite__mapDeps([4,1,2,3])).then(r=>r.Dexie),n=new t("one-inch-long-time-async-cache_"+e);return n.version(_p).stores({cache:["key","value","timestamp"].join(", ")}),Reflect.get(n,"cache")}var Op=class{constructor(e,t){this.storageKey=e,this.ttlDays=t}async set(e,t){await(await this.getDexie(this.storageKey)).put({key:e.toLowerCase(),value:t,timestamp:Date.now()}),this.cleanOldRecords().catch(console.error)}async get(e){const t=e.toLowerCase(),r=await(await this.getDexie(this.storageKey)).filter(s=>Date.now()-s.timestamp<this.ttlDays*864e5&&s.key===t).first();return this.cleanOldRecords().catch(console.error),(r==null?void 0:r.value)??null}async getAll(){const t=await(await this.getDexie(this.storageKey)).filter(n=>Date.now()-n.timestamp<this.ttlDays*864e5).toArray();return this.cleanOldRecords().catch(console.error),t.map(n=>n.value)}async has(e){return await this.get(e)!==null}async delete(e){try{return await(await this.getDexie(this.storageKey)).delete(e),this.cleanOldRecords().catch(console.error),!0}catch{return!1}}async clear(){(await this.getDexie(this.storageKey)).clear()}async size(){return await this.cleanOldRecords().catch(console.error),(await this.getDexie(this.storageKey)).count()}async cleanOldRecords(){await(await this.getDexie(this.storageKey)).where("timestamp").below(Date.now()-this.ttlDays*864e5).delete()}async getDexie(e){return this.storage!==void 0?this.storage:(this.storage=await Mp(e),this.storage)}},Ir=new Map;function Up({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const d=l();o();const p=d.map(({args:m})=>m);p.length!==0&&e(p).then(m=>{var w;s&&Array.isArray(m)&&m.sort(s);for(let g=0;g<d.length;g++){const{pendingPromise:y}=d[g];(w=y.resolve)==null||w.call(y,[m[g],m])}}).catch(m=>{var w;for(let g=0;g<d.length;g++){const{pendingPromise:y}=d[g];(w=y.reject)==null||w.call(y,m)}})},o=()=>Ir.delete(t),c=()=>l().map(({args:d})=>d),l=()=>Ir.get(t)||[],f=d=>Ir.set(t,[...l(),d]);return{flush:o,async schedule(d){const p={},m=new Promise((y,v)=>{p.resolve=y,p.reject=v});return(n==null?void 0:n([...c(),d]))&&i(),l().length>0?(f({args:d,pendingPromise:p}),m):(f({args:d,pendingPromise:p}),setTimeout(i,r),m)}}}function Lp(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:l}=t;return({chain:f,retryCount:d,timeout:p})=>{const{batchSize:m=1e3,wait:w=0}=typeof n=="object"?n:{},g=t.retryCount??d,y=p??t.timeout??1e4,v=e||(f==null?void 0:f.rpcUrls.default.http[0]);if(!v)throw new ks;const x=ea(v,{fetchOptions:r,onRequest:o,onResponse:c,timeout:y});return or({key:s,name:i,async request({method:B,params:P}){if(ko[B])return ko[B]();const S={method:B,params:P},{schedule:A}=Up({id:v,wait:w,shouldSplitBatch(_){return _.length>m},fn:_=>x.request({body:_}),sort:(_,U)=>_.id-U.id}),$=async _=>n?A(_):[await x.request({body:_})],[{error:N,result:R}]=await $(S);if(N)throw new Xn({body:S,error:N,url:v});return R},retryCount:g,retryDelay:l,timeout:y,type:"http"},{fetchOptions:r,url:v})}}var ko={net_listening:()=>!0},rs={wait:50,batchSize:50};function zp(e){const t=Gp[e],n=Hp[e],r=[...n.map(i=>G0(i,{reconnect:{attempts:5,delay:5e3}})),...t.map(i=>Zf(i,{batch:rs}))],s=Dp(e);return s&&r.push(Lp(s,{batch:rs,key:"infura"})),Hf(r,{retryCount:10,retryDelay:3e4,rank:{interval:6e4*5,sampleCount:t.length+n.length,timeout:500,weights:{latency:.4,stability:.7}}})}function Dp(e){const t=W0("infuraApiKey"),n=jp[e];return!t||n===""?null:`${n}${t}`}var jp={[k.eth]:"https://mainnet.infura.io/v3/",[k.bnb]:"",[k.matic]:"https://polygon-mainnet.infura.io/v3/",[k.op]:"https://optimism-mainnet.infura.io/v3/",[k.arbitrum]:"https://arbitrum-mainnet.infura.io/v3/",[k.gnosis]:"",[k.avalanche]:"https://avalanche-mainnet.infura.io/v3/",[k.fantom]:"",[k.aurora]:"",[k.klaytn]:"",[k.zkSyncEra]:""},Gp={[k.eth]:["https://ethereum-rpc.publicnode.com","https://ethereum.publicnode.com","https://rpc.mevblocker.io","https://eth.merkle.io","https://1rpc.io/eth","https://eth-pokt.nodies.app","https://eth.meowrpc.com","https://eth.drpc.org","https://eth.llamarpc.com","https://eth-mainnet.public.blastapi.io","https://rpc.ankr.com/eth","https://cloudflare-eth.com","https://endpoints.omniatech.io/v1/eth/mainnet/public"],[k.bnb]:["https://bsc.publicnode.com","https://bsc-rpc.publicnode.com","https://endpoints.omniatech.io/v1/bsc/mainnet/public","https://bsc-pokt.nodies.app","https://bsc.meowrpc.com","https://bsc.drpc.org"],[k.matic]:["https://polygon-bor-rpc.publicnode.com","https://polygon-rpc.com","https://polygon-pokt.nodies.app","https://polygon-heimdall-rpc.publicnode.com:443","https://polygon-bor.publicnode.com","https://polygon.drpc.org","https://polygon.meowrpc.com","https://polygon.llamarpc.com"],[k.op]:["https://optimism-rpc.publicnode.com","https://optimism.llamarpc.com","https://optimism.publicnode.com","https://op-pokt.nodies.app","https://optimism.meowrpc.com","https://optimism.drpc.org","https://endpoints.omniatech.io/v1/op/mainnet/public"],[k.arbitrum]:["https://arbitrum-one.publicnode.com","https://arb-pokt.nodies.app","https://arbitrum.meowrpc.com","https://arbitrum.drpc.org"],[k.gnosis]:["https://gnosis.publicnode.com","https://gnosis-rpc.publicnode.com","https://rpc.gnosischain.com","https://gnosis.drpc.org"],[k.avalanche]:["https://avalanche-c-chain.publicnode.com","https://1rpc.io/avax/c","https://endpoints.omniatech.io/v1/avax/mainnet/public","https://avax.meowrpc.com","https://avalanche.drpc.org"],[k.fantom]:["https://fantom.publicnode.com","https://fantom-pokt.nodies.app","https://1rpc.io/ftm","https://fantom.drpc.org"],[k.aurora]:["https://mainnet.aurora.dev","https://endpoints.omniatech.io/v1/aurora/mainnet/public","https://1rpc.io/aurora","https://aurora.drpc.org"],[k.klaytn]:["https://klaytn.drpc.org","https://rpc.ankr.com/klaytn","https://klaytn.blockpi.network/v1/rpc/public"],[k.zkSyncEra]:["https://mainnet.era.zksync.io","https://zksync-era.blockpi.network/v1/rpc/public","https://zksync.meowrpc.com","https://zksync.drpc.org"]},Hp={[k.eth]:["wss://ethereum-rpc.publicnode.com","wss://ethereum.publicnode.com","wss://eth.drpc.org"],[k.bnb]:["wss://bsc.publicnode.com","wss://bsc-rpc.publicnode.com"],[k.matic]:["wss://polygon.drpc.org","wss://polygon-bor-rpc.publicnode.com","wss://polygon-bor.publicnode.com","wss://polygon-heimdall-rpc.publicnode.com:443/websocket"],[k.op]:["wss://optimism.publicnode.com"],[k.arbitrum]:["wss://arbitrum-one.publicnode.com"],[k.gnosis]:["wss://rpc.gnosischain.com/wss","wss://gnosis-rpc.publicnode.com","wss://gnosis.publicnode.com"],[k.avalanche]:["wss://avalanche-c-chain.publicnode.com"],[k.fantom]:["wss://gnosis.publicnode.com"],[k.aurora]:["wss://mainnet.aurora.dev"],[k.klaytn]:["wss://public-en-cypress.klaytn.net/ws"],[k.zkSyncEra]:["wss://mainnet.era.zksync.io/ws"]},qp={[k.eth]:wp,[k.bnb]:mp,[k.matic]:vp,[k.op]:xp,[k.arbitrum]:dp,[k.gnosis]:bp,[k.avalanche]:hp,[k.fantom]:yp,[k.aurora]:pp,[k.klaytn]:gp,[k.zkSyncEra]:Ep};function Na(e){return qp[e]}var Ar={[k.eth]:null,[k.bnb]:null,[k.matic]:null,[k.op]:null,[k.arbitrum]:null,[k.gnosis]:null,[k.avalanche]:null,[k.fantom]:null,[k.aurora]:null,[k.klaytn]:null,[k.zkSyncEra]:null};function Vp(e){const t=Na(e),n=zp(e);return j0({batch:{multicall:rs},chain:t,transport:n})}function Me(e){return Ar[e]||(Ar[e]=Vp(e)),Ar[e]}var Wp={[k.eth]:!1,[k.bnb]:!1,[k.matic]:!1,[k.op]:!0,[k.arbitrum]:!0,[k.gnosis]:!1,[k.avalanche]:!1,[k.fantom]:!1,[k.aurora]:!1,[k.klaytn]:!1,[k.zkSyncEra]:!0};function qh(e){return Wp[e]}var Ra={[k.eth]:11e3,[k.bnb]:3e3,[k.matic]:3e3,[k.op]:3e3,[k.arbitrum]:3e3,[k.gnosis]:5e3,[k.avalanche]:3e3,[k.fantom]:3e3,[k.aurora]:3e3,[k.klaytn]:3e3,[k.zkSyncEra]:3e3},Sr={[k.eth]:null,[k.bnb]:null,[k.matic]:null,[k.op]:null,[k.arbitrum]:null,[k.gnosis]:null,[k.avalanche]:null,[k.fantom]:null,[k.aurora]:null,[k.klaytn]:null,[k.zkSyncEra]:null},Fa=Date.now();document.addEventListener("mousemove",()=>Fa=Date.now());function Zp(e){let t,n=!1;const r=()=>Date.now()-Fa>60*1e3;return new Hn(s=>{const i=o=>{s.next(o);const c=r();c&&!n?(n=!0,t==null||t.unsubscribe(),t=Kp(e).subscribe(i),console.log("slow block loader")):!c&&n&&(n=!1,t==null||t.unsubscribe(),t=Co(e).subscribe(i),console.log("regular block loader"))};return t=Co(e).subscribe(i),()=>{t==null||t.unsubscribe()}})}function Co(e){return new Hn(t=>Me(e).watchBlocks({onBlock:r=>t.next(r)})).pipe(Uo({bufferSize:1,refCount:!0}))}function Kp(e){const t=Me(e);return cc(30*1e3).pipe(Lo(()=>t.getBlock()))}function Yp(){const e=document.hasFocus(),t=document.visibilityState==="visible";return e&&t}function Jp(){let e=!0;return uc(fr(window,"focus"),fr(window,"blur"),fr(document,"visibilitychange")).pipe(ec(null),tc(()=>e?(e=!1,!0):Yp()),fc())}function Vh(e){return Sr[e]===null&&(Sr[e]=Jp().pipe(Lo(t=>t?Zp(e):oc()),lc(Ra[e]/2),Uo({bufferSize:1,refCount:!0}))),Sr[e]}var Xp="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function Gs(e){return tr(Xp,e)}var _a=class{constructor(){this.timeCacheStorage={}}set(e,t,n){let r=this.timeCacheStorage[e];r||(r=new Rp(Ra[e]),this.timeCacheStorage[e]=r),r.set(t,n)}get(e,t){const n=this.timeCacheStorage[e];return n?n.get(t):null}},Qp=Pe(["function balanceOf(address _owner) public view returns (uint256 balance)"]),No=new _a;async function eh(e,t,n){const r=[t,n].join(":"),s=No.get(e,r);if(s!==null)return s;const i=Me(e);if(Gs(n))return await i.getBalance({address:t});const o=await i.readContract({abi:Qp,functionName:"balanceOf",args:[t],address:n});return No.set(e,r,o),o}async function Wh(e,t,n){const r={};return await Promise.all(n.map(s=>eh(e,t,s).then(i=>r[s]=i.toString()))),r}var th=Pe(["function allowance(address owner, address spender) public view returns (uint256)"]),Ro=new _a;async function Zh(e,t,n,r){const s=[e,t,n,r].join(":"),i=Ro.get(e,s);if(i!==null)return i;const o=Me(e);if(Gs(t))return Bn;const c=await o.readContract({abi:th,functionName:"allowance",args:[n,r],address:t});return Ro.set(e,s,c),c}var nh="function permit(address owner, address spender, uint value, uint deadline, uint8 v, bytes32 r, bytes32 s) external",rh="function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s) external",Ma=()=>Pe([nh,rh]),sh=()=>Pe(["function nonces(address owner) external view returns (uint)","function nonce(address owner) external view returns (uint)","function getNonce(address owner) external view returns (uint)","function _nonces(address owner) external view returns (uint)"]),oh=Pe(["function DOMAIN_SEPARATOR() external view returns (bytes32)"]);Pe(["function version() view returns (string)"]);Pe(["function name() view returns (string)"]);var ih=()=>xt(Ma()[0]),ah=()=>xt(Ma()[0]),ch=()=>xt(oh[0]),uh=()=>sh().map(e=>xt(e)),Fo=new Fp(5);async function lh(e,t){const n=[e,t].join(":"),r=Fo.get(n);if(r)return r;const i=await Me(e).getBytecode({address:t});if(!i)throw new Error(`Contract not found: ${t}`);return Fo.set(n,i),i}function fh(e){return e.includes(ch().replace("0x","").toLowerCase())}function dh(e){return uh().some(t=>e.includes(t.replace("0x","").toLowerCase()))}function ph(e){const t=ih().replace("0x","").toLowerCase();return e.includes(t)||hh(e)}function hh(e){const t=ah().replace("0x","").toLowerCase();return e.includes(t)}async function Kh(e,t){try{const r=(await lh(e,t)).toLowerCase();let s=!0;return s&&(s=ph(r)),s&&(s=fh(r)),s&&(s=dh(r)),s}catch{return!1}}function mh(e){return k[e]!==void 0}function Oa(e){if(!mh(e))throw new Error(`chain ${e} not supported`)}function yh(e){return Oa(e),e===k.zkSyncEra?"0x6fd4383cb451173d5f9304f041c7bcbf27d561ff":"0x111111125421ca6dc452d289314280a0f8842a65"}function Ua(e){return Oa(e),e===k.zkSyncEra?"0x0000000000225e31D15943971F47aD3022F714Fa":"0x000000000022D473030F116dDEE9F6B43aC78BA3"}var La=new Op("permit2",29),bh={[k.eth]:!1,[k.bnb]:!1,[k.matic]:!1,[k.op]:!1,[k.arbitrum]:!1,[k.gnosis]:!1,[k.avalanche]:!1,[k.fantom]:!1,[k.aurora]:!1,[k.klaytn]:!1,[k.zkSyncEra]:!0},za=()=>yn(()=>import("./permit2_abi-TSO4Q6OK-5IYTefWS.js"),[]).then(e=>e.default);function Da(e){return bh[e]??!1}async function Yh(e,t,n,r){if(!Da(e))throw new Error(`chain ${e} not supported Permit2`);const{nonce:s}=await gh(e,t,n,r),i={details:{token:t,amount:Zl,expiration:Number(Rt),nonce:s},spender:r,sigDeadline:Number(Rt)};return{domain:{chainId:e,name:"Permit2",verifyingContract:Ua(e)},account:n,primaryType:"PermitSingle",types:Ah,message:i}}async function gh(e,t,n,r){if(!Da(e))throw new Error(`chain ${e} not supported Permit2`);const i=await Me(e).readContract({address:Ua(e),abi:await za(),functionName:"allowance",args:[t,n,r]}),[o,c,l]=i;return{amount:o,expiration:c,nonce:l}}async function Jh(e,t,n,r,s,i){const o=[e,t,n,r].join(":");await La.set(o,{permitSingle:i,signature:s})}async function wh(e,t,n,r){const s=[e,t,n,r].join(":");return await La.get(s)}async function Xh(e,t,n,r){return await wh(e,t,n,r)!==null}async function Qh(e,t,n,r){const s=H0(n),i=it({abi:await za(),functionName:"permit",args:[t,r,`${s.r}${ja(xh(s.s,s.v===27n?0:1))}`]}),o=vh(i),c=r.details.token,l=r.spender;return Bh(Eh(o),c,t,l)}function xh(e,t){const n=ve(e);return t===1&&(n[0]|=128),O(n)}function vh(e){const t="0x";return t+e.substring(t.length+8)}function ja(e){const t=e.toString();return t.startsWith("0x")?t.substring(2):t}function Eh(e){if(e.length!==706)throw new Error("");const[t,n,r,s,i,o,c,l]=xn([{name:"owner",type:"address"},{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"},{name:"signature",type:"bytes"}],e);return`0x${[r.toString(16).padStart(40,"0"),s.toString()===Rt.toString()?"00000000":(BigInt(s)+1n).toString(16).padStart(8,"0"),i.toString(16).padStart(8,"0"),c.toString()===Rt.toString()?"00000000":(c+1n).toString(16).padStart(8,"0"),BigInt(l).toString(16).padStart(128,"0")].join("")}`}function Bh(e,t,n,r){if(e.length!==194)throw new Error("");const s={amount:BigInt(e.slice(0,42)),expiration:+("0x"+e.slice(42,50)),nonce:+("0x"+e.slice(50,58)),sigDeadline:BigInt("0x"+e.slice(58,66)),r:"0x"+e.slice(66,130),vs:"0x"+e.slice(130,194)};return wt([{name:"owner",type:"address"},{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"},{name:"signature",type:"bytes"}],[n,t,s.amount,s.expiration===0?Number(Rt):s.expiration-1,s.nonce,r,s.sigDeadline===0n?Rt:s.sigDeadline-1n,s.r+ja(s.vs)])}var Ph=[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],Ih=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Ah={PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:Ph,EIP712Domain:Ih},Ga={[k.eth]:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",[k.bnb]:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",[k.matic]:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",[k.op]:"0x4200000000000000000000000000000000000006",[k.arbitrum]:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",[k.gnosis]:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",[k.avalanche]:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",[k.fantom]:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",[k.aurora]:"0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb",[k.klaytn]:"0xe4f05a66ec68b54a58b17c22107b02e0232cc817",[k.zkSyncEra]:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91"},Sh=Pe(["function deposit() public payable"]);function $h(e){return Ga[e]}function em(e){const t=Na(e);return{chainId:e,symbol:`W${t.nativeCurrency.symbol}`,name:`W${t.nativeCurrency.symbol}`,decimals:t.nativeCurrency.decimals,address:Ga[e],isInternalWrapToken:!0}}function tm(e){return e.isInternalWrapToken?e.symbol.slice(1):e.symbol}async function nm(e,t){const n=Me(e),r=$h(e);return await n.estimateContractGas({abi:Sh,address:r,value:t,functionName:"deposit"})}function rm(e,t,n="latest"){const r=Me(e);return new Promise(s=>{const i=async()=>{try{(await r.getTransaction({hash:t,blockTag:n})).blockNumber&&(o(),s())}catch{}},o=r.watchBlocks({onBlock:i});i().catch()})}var Th=Pe(["function approve(address _spender, uint256 _value) public returns (bool success)"]);async function sm(e,t,n,r,s){const i=Me(e);if(Gs(t))throw new Error("");return await i.simulateContract({abi:Th,account:n,functionName:"approve",args:[r,s],address:t})}var kh=Pe(["function cancelOrder(uint256 makerTraits, bytes32 orderHash) public"]);async function om(e,t,n,r){const s=Me(e),i=yh(e);return await s.simulateContract({abi:kh,account:t,functionName:"cancelOrder",args:[BigInt(n),r],address:i})}export{Uh as $,qi as A,C as B,Oh as C,ys as D,sc as E,$i as F,Vi as G,df as H,Mf as I,ot as J,it as K,Hh as L,pn as M,D as N,or as O,eu as P,ke as Q,se as R,ue as S,_h as T,dt as U,gt as V,Yt as W,si as X,xd as Y,wd as Z,su as _,W0 as a,Fh as a0,$s as a1,Yn as a2,Vu as a3,O as a4,$d as a5,Sd as a6,Lh as a7,zf as a8,tr as a9,gl as aA,nr as aB,je as aC,wt as aD,Zt as aE,Ee as aF,ac as aa,Op as ab,sm as ac,wh as ad,Yh as ae,Jh as af,nm as ag,Qh as ah,os as ai,Bn as aj,Pe as ak,Fp as al,Me as am,_a as an,Kh as ao,Wh as ap,Rp as aq,om as ar,vt as as,Et as at,Bt as au,Pt as av,jh as aw,Dh as ax,En as ay,le as az,lc as b,Gs as c,fc as d,tm as e,xi as f,Na as g,em as h,qh as i,Vh as j,mh as k,yh as l,uc as m,Xp as n,oc as o,Zh as p,Da as q,Xh as r,Lo as s,Mh as t,Si as u,ms as v,rm as w,bs as x,zl as y,G as z};
//# sourceMappingURL=index.esm-9bFMkH2X.js.map
