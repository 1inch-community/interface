import{j as m,k as v,l as f,A as h,p}from"./index.esm-DhwY4kHm.js";var I=1,s,d={};function o(n){return n in d?(delete d[n],!0):!1}var c={setImmediate:function(n){var t=I++;return d[t]=!0,s||(s=Promise.resolve()),s.then(function(){return o(t)&&n()}),t},clearImmediate:function(n){o(n)}},A=c.setImmediate,y=c.clearImmediate,u={setImmediate:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return A.apply(void 0,m([],v(n)))},clearImmediate:function(n){var t=u.delegate;return((t==null?void 0:t.clearImmediate)||y)(n)},delegate:void 0},g=function(n){f(t,n);function t(e,i){var r=n.call(this,e,i)||this;return r.scheduler=e,r.work=i,r}return t.prototype.requestAsyncId=function(e,i,r){return r===void 0&&(r=0),r!==null&&r>0?n.prototype.requestAsyncId.call(this,e,i,r):(e.actions.push(this),e._scheduled||(e._scheduled=u.setImmediate(e.flush.bind(e,void 0))))},t.prototype.recycleAsyncId=function(e,i,r){var a;if(r===void 0&&(r=0),r!=null?r>0:this.delay>0)return n.prototype.recycleAsyncId.call(this,e,i,r);var l=e.actions;i!=null&&((a=l[l.length-1])===null||a===void 0?void 0:a.id)!==i&&(u.clearImmediate(i),e._scheduled===i&&(e._scheduled=void 0))},t}(h),_=function(n){f(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.flush=function(e){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var r=this.actions,a;e=e||r.shift();do if(a=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===i&&r.shift());if(this._active=!1,a){for(;(e=r[0])&&e.id===i&&r.shift();)e.unsubscribe();throw a}},t}(p),w=new _(g);export{w as a};
//# sourceMappingURL=asap-D-qxMtYG.js.map
