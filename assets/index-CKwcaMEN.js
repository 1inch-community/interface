(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const gg="modulepreload",yg=function(e){return"/interface/"+e},hh={},R=function(t,n,r){let i=Promise.resolve();return n&&n.length>0&&(document.getElementsByTagName("link"),i=Promise.all(n.map(s=>{if(s=yg(s),s in hh)return;hh[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":gg,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((l,u)=>{c.addEventListener("load",l),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})}))),i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};const lo=globalThis,Tl=lo.ShadowRoot&&(lo.ShadyCSS===void 0||lo.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Il=Symbol(),dh=new WeakMap;let nf=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==Il)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(Tl&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=dh.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&dh.set(n,t))}return t}toString(){return this.cssText}};const re=e=>new nf(typeof e=="string"?e:e+"",void 0,Il),M=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new nf(n,e,Il)},vg=(e,t)=>{if(Tl)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=lo.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},fh=Tl?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return re(n)})(e):e;const{is:wg,defineProperty:xg,getOwnPropertyDescriptor:_g,getOwnPropertyNames:Eg,getOwnPropertySymbols:$g,getPrototypeOf:kg}=Object,xn=globalThis,ph=xn.trustedTypes,Sg=ph?ph.emptyScript:"",Aa=xn.reactiveElementPolyfillSupport,Ti=(e,t)=>e,xo={toAttribute(e,t){switch(t){case Boolean:e=e?Sg:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},zo=(e,t)=>!wg(e,t),mh={attribute:!0,type:String,converter:xo,reflect:!1,hasChanged:zo};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),xn.litPropertyMetadata??(xn.litPropertyMetadata=new WeakMap);let jr=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=mh){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&xg(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:s}=_g(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get(){return i==null?void 0:i.call(this)},set(o){const a=i==null?void 0:i.call(this);s.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??mh}static _$Ei(){if(this.hasOwnProperty(Ti("elementProperties")))return;const t=kg(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Ti("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ti("properties"))){const n=this.properties,r=[...Eg(n),...$g(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(fh(i))}else t!==void 0&&n.push(fh(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return vg(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var s;const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:xo).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(t,n){var s;const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const o=r.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)==null?void 0:s.fromAttribute)!==void 0?o.converter:xo;this._$Em=i,this[i]=a.fromAttribute(n,o.type),this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){if(r??(r=this.constructor.getPropertyOptions(t)),!(r.hasChanged??zo)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}};jr.elementStyles=[],jr.shadowRootOptions={mode:"open"},jr[Ti("elementProperties")]=new Map,jr[Ti("finalized")]=new Map,Aa==null||Aa({ReactiveElement:jr}),(xn.reactiveElementVersions??(xn.reactiveElementVersions=[])).push("2.0.4");const Ii=globalThis,_o=Ii.trustedTypes,bh=_o?_o.createPolicy("lit-html",{createHTML:e=>e}):void 0,Ol="$lit$",Ht=`lit$${Math.random().toFixed(9).slice(2)}$`,Bl="?"+Ht,Ag=`<${Bl}>`,pr=document,Gi=()=>pr.createComment(""),Ki=e=>e===null||typeof e!="object"&&typeof e!="function",rf=Array.isArray,sf=e=>rf(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Ca=`[ 	
\f\r]`,vi=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gh=/-->/g,yh=/>/g,Hn=RegExp(`>|${Ca}(?:([^\\s"'>=/]+)(${Ca}*=${Ca}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),vh=/'/g,wh=/"/g,of=/^(?:script|style|textarea|title)$/i,af=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),A=af(1),nC=af(2),Rt=Symbol.for("lit-noChange"),de=Symbol.for("lit-nothing"),xh=new WeakMap,Zn=pr.createTreeWalker(pr,129);function cf(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return bh!==void 0?bh.createHTML(t):t}const lf=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":"",o=vi;for(let a=0;a<n;a++){const c=e[a];let l,u,h=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===vi?u[1]==="!--"?o=gh:u[1]!==void 0?o=yh:u[2]!==void 0?(of.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Hn):u[3]!==void 0&&(o=Hn):o===Hn?u[0]===">"?(o=i??vi,h=-1):u[1]===void 0?h=-2:(h=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Hn:u[3]==='"'?wh:vh):o===wh||o===vh?o=Hn:o===gh||o===yh?o=vi:(o=Hn,i=void 0);const p=o===Hn&&e[a+1].startsWith("/>")?" ":"";s+=o===vi?c+Ag:h>=0?(r.push(l),c.slice(0,h)+Ol+c.slice(h)+Ht+p):c+Ht+(h===-2?a:p)}return[cf(e,s+(e[n]||"<?>")+(t===2?"</svg>":"")),r]};let mc=class uf{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[l,u]=lf(t,n);if(this.el=uf.createElement(l,r),Zn.currentNode=this.el.content,n===2){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=Zn.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Ol)){const d=u[o++],p=i.getAttribute(h).split(Ht),m=/([.?@])?(.*)/.exec(d);c.push({type:1,index:s,name:m[2],strings:p,ctor:m[1]==="."?ff:m[1]==="?"?pf:m[1]==="@"?mf:_s}),i.removeAttribute(h)}else h.startsWith(Ht)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(of.test(i.tagName)){const h=i.textContent.split(Ht),d=h.length-1;if(d>0){i.textContent=_o?_o.emptyScript:"";for(let p=0;p<d;p++)i.append(h[p],Gi()),Zn.nextNode(),c.push({type:2,index:++s});i.append(h[d],Gi())}}}else if(i.nodeType===8)if(i.data===Bl)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(Ht,h+1))!==-1;)c.push({type:7,index:s}),h+=Ht.length-1}s++}}static createElement(t,n){const r=pr.createElement("template");return r.innerHTML=t,r}};function mr(e,t,n=e,r){var o,a;if(t===Rt)return t;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=Ki(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(t=mr(e,i._$AS(e,t.values),i,r)),t}let hf=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=((t==null?void 0:t.creationScope)??pr).importNode(n,!0);Zn.currentNode=i;let s=Zn.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Vo(s,s.nextSibling,this,t):c.type===1?l=new c.ctor(s,c.name,c.strings,this,t):c.type===6&&(l=new bf(s,this,t)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=Zn.nextNode(),o++)}return Zn.currentNode=pr,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}},Vo=class df{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=de,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=mr(this,t,n),Ki(t)?t===de||t==null||t===""?(this._$AH!==de&&this._$AR(),this._$AH=de):t!==this._$AH&&t!==Rt&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):sf(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==de&&Ki(this._$AH)?this._$AA.nextSibling.data=t:this.T(pr.createTextNode(t)),this._$AH=t}$(t){var s;const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=mc.createElement(cf(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new hf(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(t){let n=xh.get(t.strings);return n===void 0&&xh.set(t.strings,n=new mc(t)),n}k(t){rf(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new df(this.S(Gi()),this.S(Gi()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}},_s=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=de,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=de}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=mr(this,t,n,0),o=!Ki(t)||t!==this._$AH&&t!==Rt,o&&(this._$AH=t);else{const a=t;let c,l;for(t=s[0],c=0;c<s.length-1;c++)l=mr(this,a[r+c],n,c),l===Rt&&(l=this._$AH[c]),o||(o=!Ki(l)||l!==this._$AH[c]),l===de?t=de:t!==de&&(t+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(t)}j(t){t===de?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},ff=class extends _s{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===de?void 0:t}},pf=class extends _s{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==de)}},mf=class extends _s{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=mr(this,t,n,0)??de)===Rt)return;const r=this._$AH,i=t===de&&r!==de||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==de&&(r===de||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}},bf=class{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){mr(this,t)}};const Cg={P:Ol,A:Ht,C:Bl,M:1,L:lf,R:hf,D:sf,V:mr,I:Vo,H:_s,N:pf,U:mf,B:ff,F:bf},Pa=Ii.litHtmlPolyfillSupport;Pa==null||Pa(mc,Vo),(Ii.litHtmlVersions??(Ii.litHtmlVersions=[])).push("3.1.3");const Jr=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new Vo(t.insertBefore(Gi(),s),s,void 0,n??{})}return i._$AI(e),i};let G=class extends jr{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Jr(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Rt}};var tf;G._$litElement$=!0,G.finalized=!0,(tf=globalThis.litElementHydrateSupport)==null||tf.call(globalThis,{LitElement:G});const Ta=globalThis.litElementPolyfillSupport;Ta==null||Ta({LitElement:G});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.5");const X=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};const Pg={attribute:!0,type:String,converter:xo,reflect:!1,hasChanged:zo},Tg=(e=Pg,t,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.P(o,void 0,e),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function j(e){return(t,n)=>typeof n=="object"?Tg(e,t,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,o?{...r,wrapped:!0}:r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(e,t,n)}function Oe(e){return j({...e,state:!0,attribute:!1})}const{I:Ig}=Cg,Og=e=>e.strings===void 0,_h=()=>document.createComment(""),wi=(e,t,n)=>{var s;const r=e._$AA.parentNode,i=t===void 0?e._$AB:t._$AA;if(n===void 0){const o=r.insertBefore(_h(),i),a=r.insertBefore(_h(),i);n=new Ig(o,a,e,e.options)}else{const o=n._$AB.nextSibling,a=n._$AM,c=a!==e;if(c){let l;(s=n._$AQ)==null||s.call(n,e),n._$AM=e,n._$AP!==void 0&&(l=e._$AU)!==a._$AU&&n._$AP(l)}if(o!==i||c){let l=n._$AA;for(;l!==o;){const u=l.nextSibling;r.insertBefore(l,i),l=u}}}return n},qn=(e,t,n=e)=>(e._$AI(t,n),e),Bg={},Rg=(e,t=Bg)=>e._$AH=t,Mg=e=>e._$AH,Ia=e=>{var r;(r=e._$AP)==null||r.call(e,!1,!0);let t=e._$AA;const n=e._$AB.nextSibling;for(;t!==n;){const i=t.nextSibling;t.remove(),t=i}};const Es={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},ln=e=>(...t)=>({_$litDirective$:e,values:t});let $s=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};const Oi=(e,t)=>{var r;const n=e._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,t,!1),Oi(i,t);return!0},Eo=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while((n==null?void 0:n.size)===0)},gf=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),Dg(t)}};function Fg(e){this._$AN!==void 0?(Eo(this),this._$AM=e,gf(this)):this._$AM=e}function Ng(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let s=n;s<r.length;s++)Oi(r[s],!1),Eo(r[s]);else r!=null&&(Oi(r,!1),Eo(r));else Oi(this,e)}const Dg=e=>{e.type==Es.CHILD&&(e._$AP??(e._$AP=Ng),e._$AQ??(e._$AQ=Fg))};let ks=class extends $s{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),gf(this),this.isConnected=t._$AU}_$AO(t,n=!0){var r,i;t!==this.isConnected&&(this.isConnected=t,t?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(Oi(this,t),Eo(this))}setValue(t){if(Og(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};var bc=function(e,t){return bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},bc(e,t)};function We(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ss(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function jg(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function yf(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Xr(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ot(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Et(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Vr(e){return this instanceof Vr?(this.v=e,this):new Vr(e)}function Lg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(m,f){s.push([d,p,m,f])>1||a(d,p)})})}function a(d,p){try{c(r[d](p))}catch(m){h(s[0][3],m)}}function c(d){d.value instanceof Vr?Promise.resolve(d.value.v).then(l,u):h(s[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function h(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function zg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Xr=="function"?Xr(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function ie(e){return typeof e=="function"}function Rl(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oa=Rl(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function $o(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Dn=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Xr(o),c=a.next();!c.done;c=a.next()){var l=c.value;l.remove(this)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(ie(u))try{u()}catch(f){s=f instanceof Oa?f.errors:[f]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Xr(h),p=d.next();!p.done;p=d.next()){var m=p.value;try{Eh(m)}catch(f){s=s??[],f instanceof Oa?s=Et(Et([],ot(s)),ot(f.errors)):s.push(f)}}}catch(f){r={error:f}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Oa(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Eh(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&$o(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&$o(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),vf=Dn.EMPTY;function wf(e){return e instanceof Dn||e&&"closed"in e&&ie(e.remove)&&ie(e.add)&&ie(e.unsubscribe)}function Eh(e){ie(e)?e():e.unsubscribe()}var xf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_f={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Et([e,t],ot(n)))},clearTimeout:function(e){var t=_f.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Ef(e){_f.setTimeout(function(){throw e})}function ko(){}function uo(e){e()}var Ml=function(e){We(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,wf(n)&&n.add(r)):r.destination=qg,r}return t.create=function(n,r,i){return new Qr(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Dn),Vg=Function.prototype.bind;function Ba(e,t){return Vg.call(e,t)}var Ug=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Ks(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Ks(r)}else Ks(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ks(n)}},e}(),Qr=function(e){We(t,e);function t(n,r,i){var s=e.call(this)||this,o;if(ie(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&xf.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Ba(n.next,a),error:n.error&&Ba(n.error,a),complete:n.complete&&Ba(n.complete,a)}):o=n}return s.destination=new Ug(o),s}return t}(Ml);function Ks(e){Ef(e)}function Hg(e){throw e}var qg={closed:!0,next:ko,error:Hg,complete:ko},Fl=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Sr(e){return e}function Wg(e){return e.length===0?Sr:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Ee=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=Kg(t)?t:new Qr(t,n,r);return uo(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=$h(n),new n(function(i,s){var o=new Qr({next:function(a){try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Fl]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Wg(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=$h(t),new t(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function $h(e){var t;return(t=e??xf.Promise)!==null&&t!==void 0?t:Promise}function Gg(e){return e&&ie(e.next)&&ie(e.error)&&ie(e.complete)}function Kg(e){return e&&e instanceof Ml||Gg(e)&&wf(e)}function Yg(e){return ie(e==null?void 0:e.lift)}function Ce(e){return function(t){if(Yg(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(e,t,n,r,i){return new Zg(e,t,n,r,i)}var Zg=function(e){We(t,e);function t(n,r,i,s,o,a){var c=e.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(l){try{r(l)}catch(u){n.error(u)}}:e.prototype._next,c._error=s?function(l){try{s(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Ml),So={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=So.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=t(function(s){n=void 0,e(s)});return new Dn(function(){return n==null?void 0:n(i)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return requestAnimationFrame.apply(void 0,Et([],ot(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=So.delegate;return((n==null?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Et([],ot(e)))},delegate:void 0},Jg=Rl(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),rt=function(e){We(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new kh(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Jg},t.prototype.next=function(n){var r=this;uo(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Xr(r.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(n)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;uo(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;uo(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?vf:(this.currentObservers=null,a.push(n),new Dn(function(){r.currentObservers=null,$o(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},t.prototype.asObservable=function(){var n=new Ee;return n.source=this,n},t.create=function(n,r){return new kh(n,r)},t}(Ee),kh=function(e){We(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:vf},t}(rt),gc=function(e){We(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(rt),Nl={now:function(){return(Nl.delegate||Date).now()},delegate:void 0},$f=function(e){We(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Nl);var s=e.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return t.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),c=0;c<a.length&&!n.closed;c+=s?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var c=i.now(),l=0,u=1;u<s.length&&s[u]<=c;u+=2)l=u;l&&s.splice(0,l+1)}},t}(rt),Xg=function(e){We(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Dn),yc={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Et([e,t],ot(n)))},clearInterval:function(e){var t=yc.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Dl=function(e){We(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),yc.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&yc.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,$o(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Xg),Qg=1,Ra,vc={};function Sh(e){return e in vc?(delete vc[e],!0):!1}var kf={setImmediate:function(e){var t=Qg++;return vc[t]=!0,Ra||(Ra=Promise.resolve()),Ra.then(function(){return Sh(t)&&e()}),t},clearImmediate:function(e){Sh(e)}},ey=kf.setImmediate,ty=kf.clearImmediate,wc={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ey.apply(void 0,Et([],ot(e)))},clearImmediate:function(e){var t=wc.delegate;return((t==null?void 0:t.clearImmediate)||ty)(e)},delegate:void 0},ny=function(e){We(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=wc.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==r&&(wc.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(Dl),Ah=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Nl.now,e}(),jl=function(e){We(t,e);function t(n,r){r===void 0&&(r=Ah.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(Ah),ry=function(e){We(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,s;n=n||i.shift();do if(s=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,s){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw s}},t}(jl),Sf=new ry(ny),Af=new jl(Dl),iy=Af,sy=function(e){We(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=So.requestAnimationFrame(function(){return n.flush(void 0)})))},t.prototype.recycleAsyncId=function(n,r,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==r&&(So.cancelAnimationFrame(r),n._scheduled=void 0)},t}(Dl),oy=function(e){We(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,s;n=n||i.shift();do if(s=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,s){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw s}},t}(jl),ay=new oy(sy),Cf=new Ee(function(e){return e.complete()});function cy(e){return e&&ie(e.schedule)}function Ll(e){return e[e.length-1]}function Pf(e){return ie(Ll(e))?e.pop():void 0}function As(e){return cy(Ll(e))?e.pop():void 0}function ly(e,t){return typeof Ll(e)=="number"?e.pop():t}var zl=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Tf(e){return ie(e==null?void 0:e.then)}function If(e){return ie(e[Fl])}function Of(e){return Symbol.asyncIterator&&ie(e==null?void 0:e[Symbol.asyncIterator])}function Bf(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function uy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rf=uy();function Mf(e){return ie(e==null?void 0:e[Rf])}function Ff(e){return Lg(this,arguments,function(){var n,r,i,s;return yf(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Vr(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,Vr(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Vr(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Nf(e){return ie(e==null?void 0:e.getReader)}function je(e){if(e instanceof Ee)return e;if(e!=null){if(If(e))return hy(e);if(zl(e))return dy(e);if(Tf(e))return fy(e);if(Of(e))return Df(e);if(Mf(e))return py(e);if(Nf(e))return my(e)}throw Bf(e)}function hy(e){return new Ee(function(t){var n=e[Fl]();if(ie(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dy(e){return new Ee(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function fy(e){return new Ee(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Ef)})}function py(e){return new Ee(function(t){var n,r;try{for(var i=Xr(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Df(e){return new Ee(function(t){by(e,t).catch(function(n){return t.error(n)})})}function my(e){return Df(Ff(e))}function by(e,t){var n,r,i,s;return jg(this,void 0,void 0,function(){var o,a;return yf(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=zg(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function _n(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Vl(e,t){return t===void 0&&(t=0),Ce(function(n,r){n.subscribe(we(r,function(i){return _n(r,e,function(){return r.next(i)},t)},function(){return _n(r,e,function(){return r.complete()},t)},function(i){return _n(r,e,function(){return r.error(i)},t)}))})}function Uo(e,t){return t===void 0&&(t=0),Ce(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function gy(e,t){return je(e).pipe(Uo(t),Vl(t))}function yy(e,t){return je(e).pipe(Uo(t),Vl(t))}function vy(e,t){return new Ee(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function wy(e,t){return new Ee(function(n){var r;return _n(n,t,function(){r=e[Rf](),_n(n,t,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return ie(r==null?void 0:r.return)&&r.return()}})}function jf(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ee(function(n){_n(n,t,function(){var r=e[Symbol.asyncIterator]();_n(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function xy(e,t){return jf(Ff(e),t)}function _y(e,t){if(e!=null){if(If(e))return gy(e,t);if(zl(e))return vy(e,t);if(Tf(e))return yy(e,t);if(Of(e))return jf(e,t);if(Mf(e))return wy(e,t);if(Nf(e))return xy(e,t)}throw Bf(e)}function br(e,t){return t?_y(e,t):je(e)}function pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=As(e);return br(e,n)}var Ey=Rl(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function gt(e,t){return new Promise(function(n,r){var i=new Qr({next:function(s){n(s),i.unsubscribe()},error:r,complete:function(){r(new Ey)}});e.subscribe(i)})}function $y(e){return e instanceof Date&&!isNaN(e)}function q(e,t){return Ce(function(n,r){var i=0;n.subscribe(we(r,function(s){r.next(e.call(t,s,i++))}))})}var ky=Array.isArray;function Sy(e,t){return ky(t)?e.apply(void 0,Et([],ot(t))):e(t)}function Lf(e){return q(function(t){return Sy(e,t)})}var Ay=Array.isArray,Cy=Object.getPrototypeOf,Py=Object.prototype,Ty=Object.keys;function Iy(e){if(e.length===1){var t=e[0];if(Ay(t))return{args:t,keys:null};if(Oy(t)){var n=Ty(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Oy(e){return e&&typeof e=="object"&&Cy(e)===Py}function By(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=As(e),r=Pf(e),i=Iy(e),s=i.args,o=i.keys;if(s.length===0)return br([],n);var a=new Ee(Ry(s,n,o?function(c){return By(o,c)}:Sr));return r?a.pipe(Lf(r)):a}function Ry(e,t,n){return n===void 0&&(n=Sr),function(r){Ch(t,function(){for(var i=e.length,s=new Array(i),o=i,a=i,c=function(u){Ch(t,function(){var h=br(e[u],t),d=!1;h.subscribe(we(r,function(p){s[u]=p,d||(d=!0,a--),a||r.next(n(s.slice()))},function(){--o||r.complete()}))},r)},l=0;l<i;l++)c(l)},r)}}function Ch(e,t,n){e?_n(n,e,t):t()}function My(e,t,n,r,i,s,o,a){var c=[],l=0,u=0,h=!1,d=function(){h&&!c.length&&!l&&t.complete()},p=function(f){return l<r?m(f):c.push(f)},m=function(f){l++;var g=!1;je(n(f,u++)).subscribe(we(t,function(b){t.next(b)},function(){g=!0},void 0,function(){if(g)try{l--;for(var b=function(){var y=c.shift();o||m(y)};c.length&&l<r;)b();d()}catch(y){t.error(y)}}))};return e.subscribe(we(t,p,function(){h=!0,d()})),function(){}}function Ul(e,t,n){return n===void 0&&(n=1/0),ie(t)?Ul(function(r,i){return q(function(s,o){return t(r,s,i,o)})(je(e(r,i)))},n):(typeof t=="number"&&(n=t),Ce(function(r,i){return My(r,i,e,n)}))}function zf(e){return e===void 0&&(e=1/0),Ul(Sr,e)}function Fy(){return zf(1)}function Ph(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fy()(br(e,As(e)))}function J(e){return new Ee(function(t){je(e()).subscribe(t)})}var Ny=["addListener","removeListener"],Dy=["addEventListener","removeEventListener"],jy=["on","off"];function le(e,t,n,r){if(ie(n)&&(r=n,n=void 0),r)return le(e,t,n).pipe(Lf(r));var i=ot(Vy(e)?Dy.map(function(a){return function(c){return e[a](t,c,n)}}):Ly(e)?Ny.map(Th(e,t)):zy(e)?jy.map(Th(e,t)):[],2),s=i[0],o=i[1];if(!s&&zl(e))return Ul(function(a){return le(a,t,n)})(je(e));if(!s)throw new TypeError("Invalid event target");return new Ee(function(a){var c=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return a.next(1<l.length?l:l[0])};return s(c),function(){return o(c)}})}function Th(e,t){return function(n){return function(r){return e[n](t,r)}}}function Ly(e){return ie(e.addListener)&&ie(e.removeListener)}function zy(e){return ie(e.on)&&ie(e.off)}function Vy(e){return ie(e.addEventListener)&&ie(e.removeEventListener)}function Vf(e,t,n){return e===void 0&&(e=0),n===void 0&&(n=iy),new Ee(function(r){var i=$y(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){r.closed||(r.next(s++),r.complete())},i)})}function gr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=As(e),r=ly(e,1/0),i=e;return i.length?i.length===1?je(i[0]):zf(r)(br(i,n)):Cf}function Be(e,t){return Ce(function(n,r){var i=0;n.subscribe(we(r,function(s){return e.call(t,s,i++)&&r.next(s)}))})}function Hl(e){return Ce(function(t,n){var r=null,i=!1,s;r=t.subscribe(we(n,void 0,void 0,function(o){s=je(e(o,Hl(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Uy(e,t,n,r,i){return function(s,o){var a=n,c=t,l=0;s.subscribe(we(o,function(u){var h=l++;c=a?e(c,u,h):(a=!0,u),o.next(c)},i))}}function yr(e,t){return t===void 0&&(t=Af),Ce(function(n,r){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var l=s;s=null,r.next(l)}};function c(){var l=o+e,u=t.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(we(r,function(l){s=l,o=t.now(),i||(i=t.schedule(c,e),r.add(i))},function(){a(),r.complete()},void 0,function(){s=i=null}))})}function Uf(e){return Ce(function(t,n){var r=!1;t.subscribe(we(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function Hy(e){return e<=0?function(){return Cf}:Ce(function(t,n){var r=0;t.subscribe(we(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ke(e,t){return t===void 0&&(t=Sr),e=e??qy,Ce(function(n,r){var i,s=!0;n.subscribe(we(r,function(o){var a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}function qy(e,t){return e===t}function Hf(e,t){return Ce(function(n,r){var i=0,s=null,o=!1;n.subscribe(we(r,function(a){s||(s=we(r,void 0,function(){s=null,o&&r.complete()}),je(e(a,i++)).subscribe(s))},function(){o=!0,!s&&r.complete()}))})}function Wy(e,t){return Ce(Uy(e,t,arguments.length>=2,!0))}function Gy(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new rt}:t,r=e.resetOnError,i=r===void 0?!0:r,s=e.resetOnComplete,o=s===void 0?!0:s,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(l){var u,h,d,p=0,m=!1,f=!1,g=function(){h==null||h.unsubscribe(),h=void 0},b=function(){g(),u=d=void 0,m=f=!1},y=function(){var v=u;b(),v==null||v.unsubscribe()};return Ce(function(v,w){p++,!f&&!m&&g();var E=d=d??n();w.add(function(){p--,p===0&&!f&&!m&&(h=Ma(y,c))}),E.subscribe(w),!u&&p>0&&(u=new Qr({next:function(_){return E.next(_)},error:function(_){f=!0,g(),h=Ma(b,i,_),E.error(_)},complete:function(){m=!0,g(),h=Ma(b,o),E.complete()}}),je(v).subscribe(u))})(l)}}function Ma(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new Qr({next:function(){i.unsubscribe(),e()}});return je(t.apply(void 0,Et([],ot(n)))).subscribe(i)}}function Te(e,t,n){var r,i,s,o,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,o=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,s=e.refCount,a=s===void 0?!1:s,n=e.scheduler):o=e??1/0,Gy({connector:function(){return new $f(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function qf(e){return Be(function(t,n){return e<=n})}function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=As(e);return Ce(function(r,i){(n?Ph(e,r,n):Ph(e,r)).subscribe(i)})}function Q(e,t){return Ce(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(we(r,function(c){i==null||i.unsubscribe();var l=0,u=s++;je(e(c,u)).subscribe(i=we(r,function(h){return r.next(t?t(c,h,u,l++):h)},function(){i=null,a()}))},function(){o=!0,a()}))})}function Ho(e){return Ce(function(t,n){je(e).subscribe(we(n,function(){return n.complete()},ko)),!n.closed&&t.subscribe(n)})}function ee(e,t,n){var r=ie(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ce(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(we(s,function(c){var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},function(c){var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},function(){var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Sr}function ql(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Pf(e);return Ce(function(r,i){for(var s=e.length,o=new Array(s),a=e.map(function(){return!1}),c=!1,l=function(h){je(e[h]).subscribe(we(i,function(d){o[h]=d,!c&&!a[h]&&(a[h]=!0,(c=a.every(Sr))&&(a=null))},ko))},u=0;u<s;u++)l(u);r.subscribe(we(i,function(h){if(c){var d=Et([h],ot(o));i.next(n?n.apply(void 0,Et([],ot(d))):d)}}))})}var Ky=class extends ks{render(e,t){return this.subscription?this.lastValue??t??"":(this.subscription=e.pipe(Vl(Sf)).subscribe(n=>{this.lastValue=n,this.setValue(n)}),t??"")}disconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}},ge=ln(Ky),Yy=class extends ks{constructor(){super(...arguments),this.isDisconnected=!1,this.handler=e=>{this.isDisconnected||this.setValue(e)}}render(e,t){return e.then(this.handler),t??""}disconnected(){this.isDisconnected=!0}},Ih=ln(Yy),Zy=class extends $s{constructor(e){super(e),this.elementKeySet=new Set,this.view=document.createElement("div"),this.lock=!1,this.view.style.display="flex",this.view.style.gap="8px"}render(e,t,n,r){if(this.lock)return A`${this.view}`;if(!this.view.children.length)return this.addedElementsWithoutAnimation(e,t,r),A`${this.view}`;const i=new Set,s=new Map,o=new Map;let a=0;for(const u of e){const h=t(u,a);i.add(h),s.set(h,u),o.set(h,a),a++}const c=new Set,l=new Set;return this.elementKeySet.forEach(u=>{i.has(u)||c.add(u)}),i.forEach(u=>{this.elementKeySet.has(u)||l.add(u)}),this.lock=!0,Promise.all([this.deleteElements(c,n.deleteElement),this.addedElements(l,s,o,n.addedElement,r)]).then(()=>{this.elementKeySet=i,this.lock=!1}),A`${this.view}`}async deleteElements(e,t){const n=[],r=async i=>{const s=this.view.querySelector(`#${i}`);s&&(await t(s),s.remove())};for(const i of e)n.push(r(i));await Promise.all(n)}async addedElements(e,t,n,r,i){const s=[],o=async a=>{const c=t.get(a),l=document.createElement("div");l.id=a.toString();const u=i(c);Jr(u,l);const h=await r(l),d=this.view.children[n.get(a)??0];d?this.view.insertBefore(l,d):this.view.appendChild(l),await h(l)};for(const a of e)s.push(o(a));await Promise.all(s)}addedElementsWithoutAnimation(e,t,n){let r=0;for(const i of e){const s=t(i,r),o=document.createElement("div");o.id=s.toString();const a=n(i);Jr(a,o),this.view.appendChild(o),this.elementKeySet.add(s),r++}}},dC=ln(Zy);function W(e,t){for(const n in t)e.style[n]=t[n]??""}function Wf(e,t){const n=document.createElement(e);if(t&&typeof t=="function")try{t(n)}catch(r){console.error("call side effect error",r)}return document.head.appendChild(n),n}function Fa(e){Wf("style",t=>xc(t,e))}function xc(e,t){e.textContent=t.cssText}function Gf(e,t,n){return new CustomEvent(e,{bubbles:!0,composed:!0,detail:{value:t,event:n}})}function ye(e,t,n,r){e.dispatchEvent(Gf(t,n,r))}function Kf(e){const t=document.head.querySelector("#theme-color");if(!t){Wf("meta",n=>{n.id="theme-color",n.name="theme-color",n.content=e});return}t.content=e}function Yf(e=40){try{navigator.vibrate(e)}catch{}}var Jy={requestUpdate:!0},Xy=class{constructor(e,t,n){this.host=e,this.observers=t,e.addController(this),this.config={...Jy,...n},this.subscribe()}hostDisconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}subscribe(){const e=xe(Array.isArray(this.observers)?this.observers:[this.observers]),t=[];this.config.debounceTimeMs&&t.push(yr(this.config.debounceTimeMs)),this.subscription=e.pipe(...t).subscribe(()=>{this.config.requestUpdate&&this.host.requestUpdate()})}};function at(e,t,n){return new Xy(e,t,n)}var Zf="screen and (max-width: 610px)",Na;function jn(){return Na||(Na=matchMedia(Zf)),Na}function Le(e){return M`
      @media ${re(Zf)} {
          ${re(e)}
      }
  `}var Jf=J(()=>le(jn(),"change")).pipe(Te({bufferSize:0,refCount:!0}));function qo(e){at(e,[Jf])}function Xf(){return Jf}function un(e){return qo(e),jn()}function Qf(){const e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")&&!e.includes("crios")}var Da=new WeakMap;function Jn(e){if(Da.has(e))return Da.get(e);const t=new Ee(n=>{const r=new ResizeObserver(i=>n.next(i[0]));return r.observe(e),()=>{r.unobserve(e)}});return Da.set(e,t),t}const Qy=M`:host{--height:100vh;overflow-y:auto;overflow-x:hidden;height:var(--height);display:flex;flex-direction:column;justify-content:space-between;background-color:var(--color-background-bg-body);overscroll-behavior:none;touch-action:pan-y;transition:height .2s}@supports (height:100dvh){:host{--height:100dvh}}${Le(M`:host::-webkit-scrollbar{display:none}`)}.content{display:flex;width:100%;justify-content:center;margin-bottom:auto}`,e0=M`.header-container{width:100%;box-sizing:border-box;padding:16px 24px;display:flex;align-items:center;justify-content:space-between;max-width:1400px;margin:0 auto}.mobile-header{height:56px;padding:8px;max-width:100vw}.right-content{display:flex;align-items:center;gap:8px}`;var t0=Object.defineProperty,n0=Object.getOwnPropertyDescriptor,Cs=(e,t,n,r)=>{for(var i=r>1?void 0:r?n0(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&t0(t,n,i),i};const ep="important",r0=" !"+ep,Wl=ln(class extends $s{constructor(e){var t;if(super(e),e.type!==Es.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in t){const i=t[r];if(i!=null){this.ft.add(r);const s=typeof i=="string"&&i.endsWith(r0);r.includes("-")||s?n.setProperty(r,s?i.slice(0,-11):i,s?ep:""):n[r]=i}}return Rt}});const i0=Symbol();let Wo=class{get taskComplete(){return this.t||(this.status===1?this.t=new Promise((t,n)=>{this.i=t,this.o=n}):this.status===3?this.t=Promise.reject(this.h):this.t=Promise.resolve(this.l)),this.t}constructor(t,n,r){var s;this.u=0,this.status=0,(this.p=t).addController(this);const i=typeof n=="object"?n:{task:n,args:r};this._=i.task,this.v=i.args,this.j=i.argsEqual??s0,this.m=i.onComplete,this.g=i.onError,this.autoRun=i.autoRun??!0,"initialValue"in i&&(this.l=i.initialValue,this.status=2,this.k=(s=this.A)==null?void 0:s.call(this))}hostUpdate(){this.autoRun===!0&&this.O()}hostUpdated(){this.autoRun==="afterUpdate"&&this.O()}A(){if(this.v===void 0)return;const t=this.v();if(!Array.isArray(t))throw Error("The args function must return an array");return t}async O(){const t=this.A(),n=this.k;this.k=t,t===n||t===void 0||n!==void 0&&this.j(n,t)||await this.run(t)}async run(t){var o,a,c,l,u;let n,r;t??(t=this.A()),this.k=t,this.status===1?(o=this.T)==null||o.abort():(this.t=void 0,this.i=void 0,this.o=void 0),this.status=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this.p.requestUpdate()):this.p.requestUpdate();const i=++this.u;this.T=new AbortController;let s=!1;try{n=await this._(t,{signal:this.T.signal})}catch(h){s=!0,r=h}if(this.u===i){if(n===i0)this.status=0;else{if(s===!1){try{(a=this.m)==null||a.call(this,n)}catch{}this.status=2,(c=this.i)==null||c.call(this,n)}else{try{(l=this.g)==null||l.call(this,r)}catch{}this.status=3,(u=this.o)==null||u.call(this,r)}this.l=n,this.h=r}this.p.requestUpdate()}}abort(t){var n;this.status===1&&((n=this.T)==null||n.abort(t))}get value(){return this.l}get error(){return this.h}render(t){var n,r,i,s;switch(this.status){case 0:return(n=t.initial)==null?void 0:n.call(t);case 1:return(r=t.pending)==null?void 0:r.call(t);case 2:return(i=t.complete)==null?void 0:i.call(t,this.value);case 3:return(s=t.error)==null?void 0:s.call(t,this.error);default:throw Error("Unexpected status: "+this.status)}}};const s0=(e,t)=>e===t||e.length===t.length&&e.every((n,r)=>!zo(n,t[r]));var o0={circle16:{width:"16px",height:"16px",loader:()=>R(()=>import("./circle_16.svg-5A6VQOYQ-CyUoNXDg.js"),__vite__mapDeps([])).then(e=>e.circle16Svg)},cross8:{width:"8px",height:"8px",loader:()=>R(()=>import("./cross_8.svg-XGFBM66Z-BoVJGL2-.js"),__vite__mapDeps([])).then(e=>e.cross8Svg)},startDefault16:{width:"16px",height:"16px",loader:()=>R(()=>import("./start-default_16.svg-64JR52LF-BI1v_oLI.js"),__vite__mapDeps([])).then(e=>e.startDefault16Svg)},connect16:{width:"16px",height:"16px",loader:()=>R(()=>import("./connect_16.svg-PO2GPMS3-B1cr7g_H.js"),__vite__mapDeps([])).then(e=>e.connect16Svg)},cornerDownRight16:{width:"16px",height:"16px",loader:()=>R(()=>import("./corner-down-right_16.svg-PPZGTLPB-21TOO3uP.js"),__vite__mapDeps([])).then(e=>e.cornerDownRight16Svg)},chevronDown16:{width:"16px",height:"16px",loader:()=>R(()=>import("./chevron-down_16.svg-WQJ4APA6-BGlZqXDu.js"),__vite__mapDeps([])).then(e=>e.chevronDown16Svg)},arrowDown16:{width:"16px",height:"16px",loader:()=>R(()=>import("./arrow-down_16.svg-4QVYEBI5-BBaOhvSg.js"),__vite__mapDeps([])).then(e=>e.arrowDown16Svg)},fusion16:{width:"16px",height:"16px",loader:()=>R(()=>import("./fusion_16-WIORCX7S-_L83vAqm.js"),__vite__mapDeps([])).then(e=>e.fusion16Svg)},link16:{width:"16px",height:"16px",loader:()=>R(()=>import("./link_16.svg-4266GCXS-Dln0oplX.js"),__vite__mapDeps([])).then(e=>e.link16Svg)},plusCircle16:{width:"16px",height:"16px",loader:()=>R(()=>import("./plus-circle_16.svg-T2GBAQQM-D7-6aaf7.js"),__vite__mapDeps([])).then(e=>e.plusCircle16Svg)},circle24:{width:"24px",height:"24px",loader:()=>R(()=>import("./circle_24.svg-AB4GUE2T-u5VW4X1Q.js"),__vite__mapDeps([])).then(e=>e.circle24Svg)},arrowDown24:{width:"24px",height:"24px",loader:()=>R(()=>import("./arrow-down_24.svg-BMJLASFV-CY3MisMV.js"),__vite__mapDeps([])).then(e=>e.arrowDown24Svg)},arrowLeft24:{width:"24px",height:"24px",loader:()=>R(()=>import("./arrow-left_24.svg-IRRYQNFN-DqvS9MtG.js"),__vite__mapDeps([])).then(e=>e.arrowLeft24Svg)},cross24:{width:"24px",height:"24px",loader:()=>R(()=>import("./cross_24.svg-HSKPD6WC-B_JEcnGL.js"),__vite__mapDeps([])).then(e=>e.cross24Svg)},search24:{width:"24px",height:"24px",loader:()=>R(()=>import("./search_24.svg-3U45YGNI-B-9_scCi.js"),__vite__mapDeps([])).then(e=>e.search24Svg)},edit24:{width:"24px",height:"24px",loader:()=>R(()=>import("./edit_24.svg-BFMIFOEW-D0CFIYRm.js"),__vite__mapDeps([])).then(e=>e.edit24Svg)},connect24:{width:"24px",height:"24px",loader:()=>R(()=>import("./connect_24.svg-ME56QVN3-Bb3T-nc0.js"),__vite__mapDeps([])).then(e=>e.connect24Svg)},link24:{width:"24px",height:"24px",loader:()=>R(()=>import("./link_24.svg-HICFLTRN-Dn3e5Mpp.js"),__vite__mapDeps([])).then(e=>e.link24Svg)},alert24:{width:"24px",height:"24px",loader:()=>R(()=>import("./alert_24.svg-O4BS725F-BOgtpUBm.js"),__vite__mapDeps([])).then(e=>e.alert24Svg)},l2Chain24:{width:"24px",height:"24px",loader:()=>R(()=>import("./l2-chain_24.svg-MREYJWW5-C5giEX_O.js"),__vite__mapDeps([])).then(e=>e.l2Chain24Svg)},authRefresh36:{width:"36px",height:"36px",loader:()=>R(()=>import("./auth-refresh_36.svg-XXESHZLA-CwKWy_9C.js"),__vite__mapDeps([])).then(e=>e.authRefresh36Svg)},logoFull:{width:"102px",height:"40px",loader:()=>R(()=>import("./logo-full.svg-GO34FL6I-C_dgGKWl.js"),__vite__mapDeps([])).then(e=>e.logoFullSvg)},unicornRun:{width:"38px",height:"24px",loader:()=>R(()=>import("./unicorn_run.svg-TQ2VX525-ChKcIjt-.js"),__vite__mapDeps([])).then(e=>e.unicornRunSvg)},fire48:{width:"48px",height:"48px",loader:()=>R(()=>import("./fire_48.png-LYIESPA7-CPLduKLF.js"),__vite__mapDeps([])).then(e=>e.fire48Png)},emptySearch:{width:"160px",height:"160px",loader:()=>R(()=>import("./empty_search.svg-CX4BWQOY-DHDF4ayX.js"),__vite__mapDeps([])).then(e=>e.emptySearch)},eth24:{width:"24px",height:"24px",loader:()=>R(()=>import("./eth_24.svg-6WUUVWDG-De_zqXIj.js"),__vite__mapDeps([])).then(e=>e.eth24Svg)},bnb24:{width:"24px",height:"24px",loader:()=>R(()=>import("./bnb_24.svg-7QB677SV-DJcHLDIk.js"),__vite__mapDeps([])).then(e=>e.bnb24Svg)},op24:{width:"24px",height:"24px",loader:()=>R(()=>import("./op_24.svg-P2V2XERS-Cn8Q94qc.js"),__vite__mapDeps([])).then(e=>e.op24Svg)},matic24:{width:"24px",height:"24px",loader:()=>R(()=>import("./matic_24.svg-XFEFR3CB-YQQidyaJ.js"),__vite__mapDeps([])).then(e=>e.matic24Svg)},arbitrum24:{width:"24px",height:"24px",loader:()=>R(()=>import("./arbitrum_24.svg-C4CBQP6H-C-GtH0Tn.js"),__vite__mapDeps([])).then(e=>e.arbitrum24Svg)},gnosis24:{width:"24px",height:"24px",loader:()=>R(()=>import("./gnosis_24.svg-G4IW5RE5-DDP81hPe.js"),__vite__mapDeps([])).then(e=>e.gnosis24Svg)},avalanche24:{width:"24px",height:"24px",loader:()=>R(()=>import("./avalanche_24.svg-UDMC72BD-qFosIYA3.js"),__vite__mapDeps([])).then(e=>e.avalanche24Svg)},fantom24:{width:"24px",height:"24px",loader:()=>R(()=>import("./fantom_24.svg-M7OSWL5Q-kkm7d4R7.js"),__vite__mapDeps([])).then(e=>e.fantom24Svg)},aurora24:{width:"24px",height:"24px",loader:()=>R(()=>import("./aurora_24.svg-ZG7S7PJE-TBC-kg4o.js"),__vite__mapDeps([])).then(e=>e.aurora24Svg)},klaytn24:{width:"24px",height:"24px",loader:()=>R(()=>import("./klaytn_24.svg-Z4324MSC-B4YAURt-.js"),__vite__mapDeps([])).then(e=>e.klaytn24Svg)},zkSyncEra24:{width:"24px",height:"24px",loader:()=>R(()=>import("./zksyncera_24.svg-EH2KLSCU-CsepG34m.js"),__vite__mapDeps([])).then(e=>e.zkSyncEra24Svg)},base24:{width:"24px",height:"24px",loader:()=>R(()=>import("./base_24.svg-IUSPU3VL-vF4-NKUR.js"),__vite__mapDeps([])).then(e=>e.base24Svg)}},It=class extends G{constructor(){super(...arguments),this.iconLoadTask=new Wo(this,([e])=>this.loadImage(e),()=>[this.icon])}render(){var t,n;const e={width:this.width??((t=this.iconRecord)==null?void 0:t.width),height:this.height??((n=this.iconRecord)==null?void 0:n.height)};return this.iconLoadTask.render({pending:()=>A`<div style="${Wl(e)}"></div>`,complete:r=>typeof r=="function"?r({...e,props:this.props}):r})}async loadImage(e){if(!e)throw new Error("icon is required field for inch-icon element");if(this.iconRecord=o0[e],!this.iconRecord)throw new Error(`icon name ${e} not exist`);return await this.iconRecord.loader()}};It.tagName="inch-icon";It.styles=M`:host{display:flex;width:fit-content;height:fit-content}`;Cs([j({type:String,attribute:"icon"})],It.prototype,"icon",2);Cs([j({type:String,attribute:!0})],It.prototype,"width",2);Cs([j({type:String,attribute:!0})],It.prototype,"height",2);Cs([j({type:Object})],It.prototype,"props",2);It=Cs([X(It.tagName)],It);const a0=Object.freeze(Object.defineProperty({__proto__:null,get IconElement(){return It}},Symbol.toStringTag,{value:"Module"}));const Xe=ln(class extends $s{constructor(e){var t;if(super(e),e.type!==Es.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,i;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in t)t[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(t)}const n=e.element.classList;for(const s of this.st)s in t||(n.remove(s),this.st.delete(s));for(const s in t){const o=!!t[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return Rt}});var c0=Object.defineProperty,l0=Object.getOwnPropertyDescriptor,Ar=(e,t,n,r)=>{for(var i=r>1?void 0:r?l0(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&c0(t,n,i),i},u0=M`:host{display:block}button{cursor:pointer;font-family:Inter,sans-serif;font-style:normal;font-weight:600;display:flex;align-items:center;justify-content:center;gap:8px;border:1px solid var(--button-border-color,none);background-color:var(--button-background-color);color:var(--button-text-color-ext,var(--button-text-color,var(--color-core-white)));box-sizing:border-box;transition:background-color .2s,box-shadow .2s,color .2s,transform .1s;outline:0;user-select:none;-webkit-tap-highlight-color:transparent;will-change:background-color,color,box-shadow,transform}button.full-size{width:100%}@media (hover:hover){button:enabled:hover{background-color:var(--button-background-color-hover);color:var(--button-text-color-ext-hover,var(--button-text-color-hover,var(--button-text-color)))}}button:enabled:active,button:enabled:focus-visible{transform:scale(.98);box-shadow:0 0 0 2px var(--button-box-shadow-color-active)}.active-box-shadow-inset:enabled:active,.active-box-shadow-inset:enabled:focus-visible{box-shadow:inset 0 0 0 2px var(--button-box-shadow-color-active)}button:disabled{cursor:not-allowed}`,h0=M`.m{padding:6px 12px;border-radius:8px;font-size:14px}.l{padding:8px 16px;border-radius:12px;font-size:14px}.xl{padding:12px 24px;border-radius:16px;font-size:16px}.xxl{padding:16px 24px;border-radius:16px;font-size:20px}.m.only-icon{padding:0}.l.only-icon{padding:6px}.xl.only-icon{padding:12px}.xxl.only-icon{padding:18px}`,d0=M`.primary{--button-background-color:var(--primary);--button-background-color-hover:var(--primary-hover);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-core-white)}.primary-critical{--button-background-color:var(--color-core-red-critical);--button-background-color-hover:var(--color-core-red-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical);--button-text-color:var(--color-core-white)}.primary-warning{--button-background-color:var(--color-core-orange-warning);--button-background-color-hover:var(--color-core-orange-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning);--button-text-color:var(--color-core-white)}.primary-gray{--button-background-color:var(--color-background-bg-primary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary)}.secondary{--button-background-color:var(--secondary);--button-background-color-hover:var(--secondary-hover);--button-box-shadow-color-active:var(--secondary-hover);--button-text-color:var(--primary);--button-text-color-hover:var(--primary-hover)}.secondary-critical{--button-background-color:var(--color-background-bg-critical);--button-background-color-hover:var(--color-background-bg-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical-hover);--button-text-color:var(--color-core-red-critical-hover)}.secondary-warning{--button-background-color:var(--color-background-bg-warning);--button-background-color-hover:var(--color-background-bg-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning-hover);--button-text-color:var(--color-core-orange-warning)}.secondary-gray{--button-background-color:transparent;--button-border-color:var(--color-border-border-tertiary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary);--button-background-color-disabled:transparent;--button-border-color-disabled:var(--color-background-bg-disabled)}.tertiary{--button-background-color:transparent;--button-background-color-hover:var(--secondary);--button-text-color:var(--primary)}.tertiary-gray{--button-background-color:transparent;--button-background-color-hover:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary)}button:disabled{background-color:var(--button-background-color-disabled,var(--color-background-bg-disabled));color:var(--color-content-content-disabled);border:1px solid var(--button-border-color-disabled,none)}`,yt=class extends G{constructor(){super(...arguments),this.size="xl",this.type="primary",this.fullSize=!1,this.disabled=!1,this.disabledSlotPointerEvent=!1,this.isIconButton=!1}render(){const e={[this.size]:!0,[this.type]:!0,"only-icon":this.isIconButton,"full-size":this.fullSize,"active-box-shadow-inset":this.type.includes("secondary")&&!this.type.includes("gray")};return A`<button class="${Xe(e)}" @click="${()=>Yf()}" ?disabled="${this.disabled}"><slot style="${this.disabledSlotPointerEvent?"pointer-events: none;":""}" @slotchange="${this.handleSlotChange}"></slot></button>`}handleSlotChange(e){const t=e.target;if(!t)return;const n=t.assignedNodes({flatten:!0}).filter(r=>r.nodeName!=="#text");this.isIconButton=n.length===1&&n[0].nodeName.toLowerCase()==="inch-icon",this.requestUpdate()}};yt.tagName="inch-button";yt.styles=[u0,h0,d0];Ar([j({type:String,attribute:!0})],yt.prototype,"size",2);Ar([j({type:String,attribute:!0})],yt.prototype,"type",2);Ar([j({type:Boolean,attribute:!0})],yt.prototype,"fullSize",2);Ar([j({type:Boolean,attribute:!0})],yt.prototype,"disabled",2);Ar([j({type:Boolean,attribute:!0})],yt.prototype,"disabledSlotPointerEvent",2);Ar([Oe()],yt.prototype,"isIconButton",2);yt=Ar([X(yt.tagName)],yt);var f0=Object.defineProperty,p0=Object.getOwnPropertyDescriptor,Ln=(e,t,n,r)=>{for(var i=r>1?void 0:r?p0(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&f0(t,n,i),i},m0=M`:host{background-color:var(--color-background-bg-primary);border-radius:24px;width:fit-content;height:fit-content;display:block}:host(.shadow){box-shadow:0 -3px 4px 0 var(--primary-12),0 6px 12px 0 var(--primary-12)}:host(.mobile){border-bottom-left-radius:0;border-bottom-right-radius:0;width:100vw;height:fit-content;box-shadow:none}.card-content{padding:8px;display:flex;width:100%;height:100%;box-sizing:border-box;flex-direction:column;gap:8px}`,tr=class extends G{constructor(){super(...arguments),this.forMobileView=!1,this.showShadow=!1}render(){return A`<slot name="header"></slot><div class="card-content"><slot></slot></div>`}firstUpdated(){this.forMobileView&&!this.classList.contains("mobile")&&this.classList.add("mobile"),this.showShadow&&!this.classList.contains("shadow")&&this.classList.add("shadow")}};tr.tagName="inch-card";tr.styles=m0;Ln([j({type:Boolean})],tr.prototype,"forMobileView",2);Ln([j({type:Boolean})],tr.prototype,"showShadow",2);tr=Ln([X(tr.tagName)],tr);var b0=M`:host{display:flex;height:68px;width:100%;padding:16px 16px 0;box-sizing:border-box;border-top-left-radius:32px;border-top-right-radius:32px}:host(.not-native-mode){margin-top:-16px;margin-left:-16px;width:calc(100% + 32px);height:60px}.card-header-container{display:grid;grid-template-columns:1fr 1fr 1fr;width:100%;height:100%}.position-container{height:100%;width:100%;display:flex;align-items:center;color:var(--color-content-content-primary);gap:8px;word-wrap:break-word;white-space:nowrap}.center-container{justify-content:center}.left-container{justify-content:flex-start}.right-container{justify-content:flex-end}.card-header-title{font-size:20px;font-weight:600;line-height:28px;letter-spacing:0;text-align:center}.card-header-title__left:not(.card-header-title__and-back){margin-left:8px}${Le(M`.card-header-title{font-size:16px}:host{height:52px;padding:8px 8px 0}:host(.not-native-mode){margin-top:-8px;margin-left:-8px;width:calc(100% + 16px);height:52px}`)}`,Yt=class extends G{constructor(){super(),this.headerTextPosition="center",this.backButton=!1,this.closeButton=!1,this.slotDirty={},this.slot="header"}render(){return A`<div class="card-header-container"><div class="position-container left-container"><slot @slotchange="${()=>this.onSlotChange("left")}" name="left-container"></slot>${this.getBackButton("left")} ${this.getHeader("left")}</div><div class="position-container center-container"><slot @slotchange="${()=>this.onSlotChange("center")}" name="center-container"></slot>${this.getHeader("center")}</div><div class="position-container right-container"><slot @slotchange="${()=>this.onSlotChange("right")}" name="right-container"></slot>${this.getCloseButton("right")}</div></div>`}firstUpdated(){var e;((e=this.parentElement)==null?void 0:e.localName)!=="inch-card"&&this.classList.add("not-native-mode")}getHeader(e){const t=this.slotDirty[e]??!1,n={"card-header-title":!0,[`card-header-title__${e}`]:!0,"card-header-title__and-back":this.backButton};return this.headerTextPosition===e&&!t?A`<span class="${Xe(n)}">${this.headerText}</span>`:""}getBackButton(e){const t=this.slotDirty[e]??!1;return this.backButton&&!t?A`<inch-button @click="${n=>ye(this,"backCard",null,n)}" size="l" type="tertiary-gray"><inch-icon icon="arrowLeft24"></inch-icon></inch-button>`:""}getCloseButton(e){const t=this.slotDirty[e]??!1;return this.closeButton&&!t?A`<inch-button @click="${n=>ye(this,"closeCard",null,n)}" size="l" type="tertiary-gray"><inch-icon icon="cross24"></inch-icon></inch-button>`:""}onSlotChange(e){this.slotDirty={...this.slotDirty,[e]:!0},this.requestUpdate()}};Yt.tahName="inch-card-header";Yt.styles=b0;Ln([j({type:String,attribute:!0})],Yt.prototype,"headerText",2);Ln([j({type:String,attribute:!0})],Yt.prototype,"headerTextPosition",2);Ln([j({type:Boolean,attribute:!0})],Yt.prototype,"backButton",2);Ln([j({type:Boolean,attribute:!0})],Yt.prototype,"closeButton",2);Yt=Ln([X(Yt.tahName)],Yt);function*Gl(e,t){if(e!==void 0){let n=0;for(const r of e)yield t(r,n++)}}const ei=e=>e??de;var g0=Object.defineProperty,y0=Object.getOwnPropertyDescriptor,Ps=(e,t,n,r)=>{for(var i=y0(t,n),s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=o(t,n,i)||i);return i&&g0(t,n,i),i},v0={oneInchDevPortalHost:"https://jellyfish-app-8xwqz.ondigitalocean.app/",walletConnectProjectId:"2dd59e55b1b7bbfb98ddf9266f813b3b",baseHref:"",appVersion:"1.0.0-dev.27"};function tp(e){return v0[e]}var w0=class{constructor(e){this.config=e,this.storage=x0()}get prefix(){return this.config.storagePrefix??""}get separator(){return this.config.storageSeparator??":"}set(e,t){if(this.storage)try{const n=this.key(e),r=JSON.stringify(t);this.storage.setItem(n,r)}catch(n){console.warn(n)}}get(e,t){if(!this.storage)return null;try{const n=this.key(e),r=this.storage.getItem(n);return r===null?null:t(r)}catch(n){return console.warn(n),null}}remove(e){if(this.storage)try{const t=this.key(e);this.storage.removeItem(t)}catch(t){console.warn(t)}}update(e,t){const n=this.get(e,vn),r=t(n);return this.set(e,r),r}updateEntity(e,t,n){const i={...this.get(e,vn)??{},[t]:n};this.set(e,i)}key(e){return[this.prefix,e].join(this.separator)}};function x0(){return Oh(window.localStorage)?window.localStorage:Oh(window.sessionStorage)?window.sessionStorage:null}function Oh(e){if(window!=null&&window.localStorage)try{e.setItem("@__test__@","1");const t=window.localStorage.getItem("@__test__@");e.removeItem("@__test__@");const n=e.getItem("@__test__@");return t==="1"&&n===null}catch{return!1}return!1}function vn(e){return JSON.parse(e)}var oe=new w0({storagePrefix:"one-inch",storageSeparator:":"}),pC=e=>[...Array(e)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),x=(e=>(e[e.eth=1]="eth",e[e.bnb=56]="bnb",e[e.matic=137]="matic",e[e.op=10]="op",e[e.arbitrum=42161]="arbitrum",e[e.gnosis=100]="gnosis",e[e.avalanche=43114]="avalanche",e[e.fantom=250]="fantom",e[e.aurora=1313161554]="aurora",e[e.klaytn=8217]="klaytn",e[e.zkSyncEra=324]="zkSyncEra",e))(x||{});const _0="1.0.0";let ct=class _c extends Error{constructor(t,n={}){var o;const r=n.cause instanceof _c?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof _c&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${_0}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}};function zn(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const np=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,rp=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ip=/^\(.+?\).*?$/,Bh=/^tuple(?<array>(\[(\d*)\])*)$/;function Ec(e){let t=e.type;if(Bh.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=Ec(s),i<n-1&&(t+=", ")}const r=zn(Bh,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Ec({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function xi(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=Ec(i),r!==n-1&&(t+=", ")}return t}function E0(e){return e.type==="function"?`function ${e.name}(${xi(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${xi(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${xi(e.inputs)})`:e.type==="error"?`error ${e.name}(${xi(e.inputs)})`:e.type==="constructor"?`constructor(${xi(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const sp=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function $0(e){return sp.test(e)}function k0(e){return zn(sp,e)}const op=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function S0(e){return op.test(e)}function A0(e){return zn(op,e)}const ap=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function C0(e){return ap.test(e)}function P0(e){return zn(ap,e)}const cp=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function lp(e){return cp.test(e)}function T0(e){return zn(cp,e)}const up=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function I0(e){return up.test(e)}function O0(e){return zn(up,e)}const B0=/^fallback\(\)$/;function R0(e){return B0.test(e)}const M0=/^receive\(\) external payable$/;function F0(e){return M0.test(e)}const N0=new Set(["indexed"]),$c=new Set(["calldata","memory","storage"]);class D0 extends ct{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class j0 extends ct{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class L0 extends ct{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class z0 extends ct{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class V0 extends ct{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class U0 extends ct{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class H0 extends ct{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Si extends ct{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class q0 extends ct{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class W0 extends ct{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class G0 extends ct{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class K0 extends ct{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Y0(e,t){return t?`${t}:${e}`:e}const ja=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Z0(e,t={}){if(C0(e)){const n=P0(e);if(!n)throw new Si({signature:e,type:"function"});const r=mt(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Gn(r[a],{modifiers:$c,structs:t,type:"function"}));const o=[];if(n.returns){const a=mt(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Gn(a[l],{modifiers:$c,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}if(S0(e)){const n=A0(e);if(!n)throw new Si({signature:e,type:"event"});const r=mt(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Gn(r[o],{modifiers:N0,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}if($0(e)){const n=k0(e);if(!n)throw new Si({signature:e,type:"error"});const r=mt(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Gn(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}if(I0(e)){const n=O0(e);if(!n)throw new Si({signature:e,type:"constructor"});const r=mt(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Gn(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}if(R0(e))return{type:"fallback"};if(F0(e))return{type:"receive",stateMutability:"payable"};throw new q0({signature:e})}const J0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,X0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Q0=/^u?int$/;function Gn(e,t){var h,d;const n=Y0(e,t==null?void 0:t.type);if(ja.has(n))return ja.get(n);const r=ip.test(e),i=zn(r?X0:J0,e);if(!i)throw new L0({param:e});if(i.name&&tv(i.name))throw new z0({param:e,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,l={};if(r){c="tuple";const p=mt(i.type),m=[],f=p.length;for(let g=0;g<f;g++)m.push(Gn(p[g],{structs:a}));l={components:m}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(Q0.test(i.type))c=`${i.type}256`;else if(c=i.type,(t==null?void 0:t.type)!=="struct"&&!hp(c))throw new j0({type:c});if(i.modifier){if(!((d=(h=t==null?void 0:t.modifiers)==null?void 0:h.has)!=null&&d.call(h,i.modifier)))throw new V0({param:e,type:t==null?void 0:t.type,modifier:i.modifier});if($c.has(i.modifier)&&!nv(c,!!i.array))throw new U0({param:e,type:t==null?void 0:t.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return ja.set(n,u),u}function mt(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const o=e[s],a=e.slice(s+1);switch(o){case",":return r===0?mt(a,[...t,n.trim()]):mt(a,t,`${n}${o}`,r);case"(":return mt(a,t,`${n}${o}`,r+1);case")":return mt(a,t,`${n}${o}`,r-1);default:return mt(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new K0({current:n,depth:r});return t.push(n.trim()),t}function hp(e){return e==="address"||e==="bool"||e==="function"||e==="string"||np.test(e)||rp.test(e)}const ev=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function tv(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||np.test(e)||rp.test(e)||ev.test(e)}function nv(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function rv(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!lp(a))continue;const c=T0(a);if(!c)throw new Si({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],h=l.length;for(let d=0;d<h;d++){const m=l[d].trim();if(!m)continue;const f=Gn(m,{type:"struct"});u.push(f)}if(!u.length)throw new W0({signature:a});t[c.name]=u}const r={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=dp(c,t)}return r}const iv=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function dp(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(ip.test(o.type))r.push(o);else{const c=zn(iv,o.type);if(!(c!=null&&c.type))throw new H0({abiParameter:o});const{array:l,type:u}=c;if(u in t){if(n.has(u))throw new G0({type:u});r.push({...o,type:`tuple${l??""}`,components:dp(t[u]??[],t,new Set([...n,u]))})}else if(hp(u))r.push(o);else throw new D0({type:u})}}return r}function $t(e){const t=rv(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];lp(s)||n.push(Z0(s,t))}return n}function V(e,t,n){return r=>{var i,s;return((i=e[t.name])==null?void 0:i.call(e,r))??((s=e[n])==null?void 0:s.call(e,r))??t(e,r)}}function nn(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new yv(e.type);return`${e.name}(${Go(e.inputs,{includeName:t})})`}function Go(e,{includeName:t=!1}={}){return e?e.map(n=>sv(n,{includeName:t})).join(t?", ":","):""}function sv(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Go(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Mt(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function pe(e){return Mt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const ov="2.13.8",av=e=>e,Ko=e=>e,cv=()=>`viem@${ov}`;class C extends Error{constructor(t,n={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:cv()});const r=n.cause instanceof C?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof C&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return fp(this,t)}}function fp(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?fp(e.cause,t):t?null:e}class lv extends C{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Rh extends C{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class pp extends C{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Go(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Yo extends C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class uv extends C{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class hv extends C{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${pe(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class mp extends C{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class bp extends C{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class dv extends C{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class gp extends C{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Mh extends C{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Ao extends C{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class fv extends C{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class pv extends C{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${nn(t.abiItem)}\`, and`,`\`${n.type}\` in \`${nn(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class yp extends C{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Yi extends C{constructor({abiItem:t,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Go(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=i}}class Zo extends C{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${nn(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class mv extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class bv extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class gv extends C{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class yv extends C{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class vv extends C{constructor(t){super(`Type "${t}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class wv extends C{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class vp extends C{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class wp extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class Fh extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function Ot(e,{dir:t,size:n=32}={}){return typeof e=="string"?En(e,{dir:t,size:n}):xv(e,{dir:t,size:n})}function En(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new wp({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function xv(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new wp({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}class _v extends C{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Ev extends C{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class $v extends C{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function ti(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Nt(e,{size:t}){if(pe(e)>t)throw new $v({givenSize:pe(e),maxSize:t})}function ue(e,t={}){const{signed:n}=t;t.size&&Nt(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Ft(e,t={}){return Number(ue(e,t))}const kv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function F(e,t={}){return typeof e=="number"||typeof e=="bigint"?H(e,t):typeof e=="string"?Jo(e,t):typeof e=="boolean"?Kl(e,t):$e(e,t)}function Kl(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Nt(n,{size:t.size}),Ot(n,{size:t.size})):n}function $e(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=kv[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(Nt(r,{size:t.size}),Ot(r,{dir:"right",size:t.size})):r}function H(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new _v({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Ot(a,{size:r}):a}const Sv=new TextEncoder;function Jo(e,t={}){const n=Sv.encode(e);return $e(n,t)}const Av=new TextEncoder;function vt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Pv(e,t):typeof e=="boolean"?Cv(e,t):Mt(e)?wt(e,t):Zt(e,t)}function Cv(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Nt(n,{size:t.size}),Ot(n,{size:t.size})):n}const zt={zero:48,nine:57,A:65,F:70,a:97,f:102};function Nh(e){if(e>=zt.zero&&e<=zt.nine)return e-zt.zero;if(e>=zt.A&&e<=zt.F)return e-(zt.A-10);if(e>=zt.a&&e<=zt.f)return e-(zt.a-10)}function wt(e,t={}){let n=e;t.size&&(Nt(n,{size:t.size}),n=Ot(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=Nh(r.charCodeAt(a++)),l=Nh(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new C(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function Pv(e,t){const n=H(e,t);return wt(n)}function Zt(e,t={}){const n=Av.encode(e);return typeof t.size=="number"?(Nt(n,{size:t.size}),Ot(n,{dir:"right",size:t.size})):n}function Co(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Yl(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Tv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Co(e.outputLen),Co(e.blockLen)}function ni(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xp(e,t){Yl(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ys=BigInt(2**32-1),Dh=BigInt(32);function Iv(e,t=!1){return t?{h:Number(e&Ys),l:Number(e>>Dh&Ys)}:{h:Number(e>>Dh&Ys)|0,l:Number(e&Ys)|0}}function Ov(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Iv(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const Bv=(e,t,n)=>e<<n|t>>>32-n,Rv=(e,t,n)=>t<<n|e>>>32-n,Mv=(e,t,n)=>t<<n-32|e>>>64-n,Fv=(e,t,n)=>e<<n-32|t>>>64-n,La=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const _p=e=>e instanceof Uint8Array,Nv=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),za=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ct=(e,t)=>e<<32-t|e>>>t,Dv=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Dv)throw new Error("Non little-endian hardware is not supported");function jv(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Xo(e){if(typeof e=="string"&&(e=jv(e)),!_p(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Lv(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!_p(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class Zl{clone(){return this._cloneInto()}}function Ep(e){const t=r=>e().update(Xo(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function zv(e=32){if(La&&typeof La.getRandomValues=="function")return La.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[$p,kp,Sp]=[[],[],[]],Vv=BigInt(0),_i=BigInt(1),Uv=BigInt(2),Hv=BigInt(7),qv=BigInt(256),Wv=BigInt(113);for(let e=0,t=_i,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],$p.push(2*(5*r+n)),kp.push((e+1)*(e+2)/2%64);let i=Vv;for(let s=0;s<7;s++)t=(t<<_i^(t>>Hv)*Wv)%qv,t&Uv&&(i^=_i<<(_i<<BigInt(s))-_i);Sp.push(i)}const[Gv,Kv]=Ov(Sp,!0),jh=(e,t,n)=>n>32?Mv(e,t,n):Bv(e,t,n),Lh=(e,t,n)=>n>32?Fv(e,t,n):Rv(e,t,n);function Yv(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],h=jh(l,u,1)^n[a],d=Lh(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)e[o+p]^=h,e[o+p+1]^=d}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=kp[o],c=jh(i,s,a),l=Lh(i,s,a),u=$p[o];i=e[u],s=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Gv[r],e[1]^=Kv[r]}n.fill(0)}class Jl extends Zl{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Co(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Nv(this.state)}keccak(){Yv(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){ni(this);const{blockLen:n,state:r}=this;t=Xo(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){ni(this,!1),Yl(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Co(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(xp(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Jl(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Zv=(e,t,n)=>Ep(()=>new Jl(t,e,n)),Jv=Zv(1,136,256/8);function Ve(e,t){const n=t||"hex",r=Jv(Mt(e,{strict:!1})?vt(e):e);return n==="bytes"?r:F(r)}const Xv=e=>Ve(vt(e));function Qv(e){return Xv(e)}function ew(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new C("Unable to normalize signature.");return i}const tw=e=>{const t=typeof e=="string"?e:E0(e);return ew(t)};function Ap(e){return Qv(tw(e))}const Xl=Ap;class Ae extends C{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class Cp extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const Va=new Cp(8192);function Qo(e,t){if(Va.has(`${e}.${t}`))return Va.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Ve(Zt(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Va.set(`${e}.${t}`,s),s}function wn(e,t){if(!me(e,{strict:!1}))throw new Ae({address:e});return Qo(e,t)}const nw=/^0x[a-fA-F0-9]{40}$/,Ua=new Cp(8192);function me(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Ua.has(r))return Ua.get(r);const i=nw.test(e)?e.toLowerCase()===e?!0:n?Qo(e)===e:!0:!1;return Ua.set(r,i),i}function rn(e){return typeof e[0]=="string"?Dt(e):rw(e)}function rw(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Dt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Zi(e,t,n,{strict:r}={}){return Mt(e,{strict:!1})?iw(e,t,n,{strict:r}):Ip(e,t,n,{strict:r})}function Pp(e,t){if(typeof t=="number"&&t>0&&t>pe(e)-1)throw new vp({offset:t,position:"start",size:pe(e)})}function Tp(e,t,n){if(typeof t=="number"&&typeof n=="number"&&pe(e)!==n-t)throw new vp({offset:n,position:"end",size:pe(e)})}function Ip(e,t,n,{strict:r}={}){Pp(e,t);const i=e.slice(t,n);return r&&Tp(i,t,n),i}function iw(e,t,n,{strict:r}={}){Pp(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Tp(i,t,n),i}function Ts(e,t){if(e.length!==t.length)throw new mp({expectedLength:e.length,givenLength:t.length});const n=sw({params:e,values:t}),r=eu(n);return r.length===0?"0x":r}function sw({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Ql({param:e[r],value:t[r]}));return n}function Ql({param:e,value:t}){const n=tu(e.type);if(n){const[r,i]=n;return aw(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return dw(t,{param:e});if(e.type==="address")return ow(t);if(e.type==="bool")return lw(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return uw(t,{signed:r})}if(e.type.startsWith("bytes"))return cw(t,{param:e});if(e.type==="string")return hw(t);throw new mv(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function eu(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=pe(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(H(t+i,{size:32})),r.push(a),i+=pe(a)):n.push(a)}return rn([...n,...r])}function ow(e){if(!me(e))throw new Ae({address:e});return{dynamic:!1,encoded:En(e.toLowerCase())}}function aw(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new gv(e);if(!r&&e.length!==t)throw new uv({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const a=Ql({param:n,value:e[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=eu(s);if(r){const a=H(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?rn([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:rn(s.map(({encoded:o})=>o))}}function cw(e,{param:t}){const[,n]=t.type.split("bytes"),r=pe(e);if(!n){let i=e;return r%32!==0&&(i=En(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:rn([En(H(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new hv({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:En(e,{dir:"right"})}}function lw(e){if(typeof e!="boolean")throw new C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:En(Kl(e))}}function uw(e,{signed:t}){return{dynamic:!1,encoded:H(e,{size:32,signed:t})}}function hw(e){const t=Jo(e),n=Math.ceil(pe(t)/32),r=[];for(let i=0;i<n;i++)r.push(En(Zi(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:rn([En(H(pe(t),{size:32})),...r])}}function dw(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=Array.isArray(e)?i:s.name,a=Ql({param:s,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?eu(r):rn(r.map(({encoded:i})=>i))}}function tu(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Cr=e=>Zi(Ap(e),0,4);function Is(e){const{abi:t,args:n=[],name:r}=e,i=Mt(r,{strict:!1}),s=t.filter(a=>i?a.type==="function"?Cr(a)===r:a.type==="event"?Xl(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const h="inputs"in a&&a.inputs[u];return h?kc(l,h):!1})){if(o&&"inputs"in o&&o.inputs){const l=Op(a.inputs,o.inputs,n);if(l)throw new pv({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function kc(e,t){const n=typeof e,r=t.type;switch(r){case"address":return me(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>kc(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>kc(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Op(e,t,n){for(const r in e){const i=e[r],s=t[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Op(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?me(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?me(n[r],{strict:!1}):!1)return o}}const zh="/docs/contract/encodeEventTopics";function Os(e){var c;const{abi:t,eventName:n,args:r}=e;let i=t[0];if(n){const l=Is({abi:t,name:n});if(!l)throw new Mh(n,{docsPath:zh});i=l}if(i.type!=="event")throw new Mh(void 0,{docsPath:zh});const s=nn(i),o=Xl(s);let a=[];if(r&&"inputs"in i){const l=(c=i.inputs)==null?void 0:c.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(h=>r[h.name]))??[]:[];u.length>0&&(a=(l==null?void 0:l.map((h,d)=>Array.isArray(u[d])?u[d].map((p,m)=>Vh({param:h,value:u[d][m]})):u[d]?Vh({param:h,value:u[d]}):null))??[])}return[o,...a]}function Vh({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Ve(vt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new wv(e.type);return Ts([e],[t])}function ea(e,{method:t}){var r,i;const n={};return e.transport.type==="fallback"&&((i=(r=e.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&t===s&&(n[o]=c.request)})),s=>n[s]||e.request}async function Bp(e,t){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=t,l=ea(e,{method:"eth_newFilter"}),u=s?Os({abi:r,args:i,eventName:s}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?H(o):o,toBlock:typeof c=="bigint"?H(c):c,topics:u}]});return{abi:r,args:i,eventName:s,id:h,request:l(h),strict:!!a,type:"event"}}function lt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Uh="/docs/contract/encodeFunctionData";function fw(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const s=Is({abi:t,args:n,name:r});if(!s)throw new Ao(r,{docsPath:Uh});i=s}if(i.type!=="function")throw new Ao(void 0,{docsPath:Uh});return{abi:[i],functionName:Cr(nn(i))}}function Vn(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:fw(e)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?Ts(i.inputs,t??[]):void 0;return Dt([s,o??"0x"])}const Rp={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},pw={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},mw={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class Hh extends C{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Mp extends C{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class bw extends C{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const gw={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new bw({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Mp({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Hh({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Hh({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function nu(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(gw);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function yw(e,t={}){typeof t.size<"u"&&Nt(e,{size:t.size});const n=$e(e,t);return ue(n,t)}function vw(e,t={}){let n=e;if(typeof t.size<"u"&&(Nt(n,{size:t.size}),n=ti(n)),n.length>1||n[0]>1)throw new Ev(n);return!!n[0]}function Jt(e,t={}){typeof t.size<"u"&&Nt(e,{size:t.size});const n=$e(e,t);return Ft(n,t)}function ww(e,t={}){let n=e;return typeof t.size<"u"&&(Nt(n,{size:t.size}),n=ti(n,{dir:"right"})),new TextDecoder().decode(n)}function ta(e,t){const n=typeof t=="string"?wt(t):t,r=nu(n);if(pe(n)===0&&e.length>0)throw new Yo;if(pe(t)&&pe(t)<32)throw new pp({data:typeof t=="string"?t:$e(t),params:e,size:pe(t)});let i=0;const s=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(i);const[c,l]=Ur(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function Ur(e,t,{staticPosition:n}){const r=tu(t.type);if(r){const[i,s]=r;return _w(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return Sw(e,t,{staticPosition:n});if(t.type==="address")return xw(e);if(t.type==="bool")return Ew(e);if(t.type.startsWith("bytes"))return $w(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return kw(e,t);if(t.type==="string")return Aw(e,{staticPosition:n});throw new bv(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const qh=32,Sc=32;function xw(e){const t=e.readBytes(32);return[Qo($e(Ip(t,-20))),32]}function _w(e,t,{length:n,staticPosition:r}){if(!n){const o=Jt(e.readBytes(Sc)),a=r+o,c=a+qh;e.setPosition(a);const l=Jt(e.readBytes(qh)),u=Ji(t);let h=0;const d=[];for(let p=0;p<l;++p){e.setPosition(c+(u?p*32:h));const[m,f]=Ur(e,t,{staticPosition:c});h+=f,d.push(m)}return e.setPosition(r+32),[d,32]}if(Ji(t)){const o=Jt(e.readBytes(Sc)),a=r+o,c=[];for(let l=0;l<n;++l){e.setPosition(a+l*32);const[u]=Ur(e,t,{staticPosition:a});c.push(u)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=Ur(e,t,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function Ew(e){return[vw(e.readBytes(32),{size:32}),32]}function $w(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=Jt(e.readBytes(32));e.setPosition(n+o);const a=Jt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[$e(c),32]}return[$e(e.readBytes(Number.parseInt(i),32)),32]}function kw(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[r>48?yw(i,{signed:n}):Jt(i,{signed:n}),32]}function Sw(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(Ji(t)){const o=Jt(e.readBytes(Sc)),a=n+o;for(let c=0;c<t.components.length;++c){const l=t.components[c];e.setPosition(a+s);const[u,h]=Ur(e,l,{staticPosition:a});s+=h,i[r?c:l==null?void 0:l.name]=u}return e.setPosition(n+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,l]=Ur(e,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function Aw(e,{staticPosition:t}){const n=Jt(e.readBytes(32)),r=t+n;e.setPosition(r);const i=Jt(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=ww(ti(s));return e.setPosition(t+32),[o,32]}function Ji(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Ji);const n=tu(e.type);return!!(n&&Ji({...e,type:n[1]}))}function Cw(e){const{abi:t,data:n}=e,r=Zi(n,0,4);if(r==="0x")throw new Yo;const s=[...t||[],pw,mw].find(o=>o.type==="error"&&r===Cr(nn(o)));if(!s)throw new bp(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ta(s.inputs,Zi(n,4)):void 0,errorName:s.name}}const Ie=(e,t,n)=>JSON.stringify(e,(r,i)=>typeof i=="bigint"?i.toString():i,n);function Fp({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof t[s]=="object"?Ie(t[s]):t[s]}`).join(", ")})`}const Pw={gwei:9,wei:18},Tw={ether:-9,wei:9};function it(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function ru(e,t="wei"){return it(e,Pw[t])}function Ue(e,t="wei"){return it(e,Tw[t])}class Iw extends C{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class Ow extends C{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function Wh(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Bw(e){return e.reduce((t,{address:n,...r})=>{let i=`${t}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=Wh(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=Wh(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Bs(e){const t=Object.entries(e).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=t.reduce((r,[i])=>Math.max(r,i.length),0);return t.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class Rw extends C{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Mw extends C{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class Fw extends C{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Bs(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Nw extends C{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class Dw extends C{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d}){var m;const p=Bs({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof d<"u"&&`${ru(d)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ue(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ue(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Np extends C{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),t&&s!==void 0&&(o=`Transaction at block hash "${t}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Dp extends C{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Gh extends C{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class jp extends C{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d,stateOverride:p}){var g;const m=n?lt(n):void 0;let f=Bs({from:m==null?void 0:m.address,to:h,value:typeof d<"u"&&`${ru(d)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ue(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ue(l)} gwei`,nonce:u});p&&(f+=`
${Bw(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class jw extends C{constructor(t,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=Is({abi:n,args:r,name:o}),l=c?Fp({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?nn(c,{includeName:!0}):void 0,h=Bs({address:i&&av(i),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",h].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=i,this.functionName=o,this.sender=a}}class Ac extends C{constructor({abi:t,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=Cw({abi:t,data:n});const{abiItem:u,errorName:h,args:d}=o;if(h==="Error")c=d[0];else if(h==="Panic"){const[p]=d;c=Rp[p]}else{const p=u?nn(u,{includeName:!0}):void 0,m=u&&d?Fp({abiItem:u,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof bp&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=l}}class Lw extends C{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class iu extends C{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Bi extends C{constructor({body:t,details:n,headers:r,status:i,url:s}){super("HTTP request failed.",{details:n,metaMessages:[i&&`Status: ${i}`,`URL: ${Ko(s)}`,t&&`Request body: ${Ie(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=i,this.url=s}}class zw extends C{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${Ko(r)}`,`Request body: ${Ie(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class su extends C{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ko(r)}`,`Request body: ${Ie(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Cc extends C{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ko(n)}`,`Request body: ${Ie(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Vw=-1;class Ge extends C{constructor(t,{code:n,docsPath:r,metaMessages:i,shortMessage:s}){super(s,{cause:t,docsPath:r,metaMessages:i||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof su?t.code:n??Vw}}class di extends Ge{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Xi extends Ge{constructor(t){super(t,{code:Xi.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Xi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Qi extends Ge{constructor(t){super(t,{code:Qi.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Qi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class es extends Ge{constructor(t){super(t,{code:es.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(es,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ts extends Ge{constructor(t){super(t,{code:ts.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(ts,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class vr extends Ge{constructor(t){super(t,{code:vr.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class wr extends Ge{constructor(t){super(t,{code:wr.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ns extends Ge{constructor(t){super(t,{code:ns.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ns,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class rs extends Ge{constructor(t){super(t,{code:rs.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(rs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ri extends Ge{constructor(t){super(t,{code:ri.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(ri,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class is extends Ge{constructor(t){super(t,{code:is.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(is,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ii extends Ge{constructor(t){super(t,{code:ii.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(ii,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ss extends Ge{constructor(t){super(t,{code:ss.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(ss,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class nr extends di{constructor(t){super(t,{code:nr.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class os extends di{constructor(t){super(t,{code:os.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(os,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class as extends di{constructor(t){super(t,{code:as.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(as,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class cs extends di{constructor(t){super(t,{code:cs.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(cs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ls extends di{constructor(t){super(t,{code:ls.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ls,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class us extends di{constructor(t){super(t,{code:us.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(us,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Uw extends Ge{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Hw=3;function hs(e,{abi:t,address:n,args:r,docsPath:i,functionName:s,sender:o}){const{code:a,data:c,message:l,shortMessage:u}=e instanceof iu?e:e instanceof C?e.walk(d=>"data"in d)||e.walk():{},h=e instanceof Yo?new Lw({functionName:s}):[Hw,vr.code].includes(a)&&(c||l||u)?new Ac({abi:t,data:typeof c=="object"?c.data:c,functionName:s,message:u??l}):e;return new jw(h,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}class qw extends C{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d}){var m;const p=Bs({from:n==null?void 0:n.address,to:h,value:typeof d<"u"&&`${ru(d)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ue(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ue(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class zr extends C{constructor({cause:t,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(zr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class xr extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ue(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(xr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Pc extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ue(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Pc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Tc extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Tc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ic extends C{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Ic,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Oc extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Oc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Bc extends C{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Bc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Rc extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Rc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Mc extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Mc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Fc extends C{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Fc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class ds extends C{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ue(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ue(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class na extends C{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function ou(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof C?e.walk(i=>i.code===zr.code):e;return r instanceof C?new zr({cause:e,message:r.details}):zr.nodeMessage.test(n)?new zr({cause:e,message:e.details}):xr.nodeMessage.test(n)?new xr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Pc.nodeMessage.test(n)?new Pc({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Tc.nodeMessage.test(n)?new Tc({cause:e,nonce:t==null?void 0:t.nonce}):Ic.nodeMessage.test(n)?new Ic({cause:e,nonce:t==null?void 0:t.nonce}):Oc.nodeMessage.test(n)?new Oc({cause:e,nonce:t==null?void 0:t.nonce}):Bc.nodeMessage.test(n)?new Bc({cause:e}):Rc.nodeMessage.test(n)?new Rc({cause:e,gas:t==null?void 0:t.gas}):Mc.nodeMessage.test(n)?new Mc({cause:e,gas:t==null?void 0:t.gas}):Fc.nodeMessage.test(n)?new Fc({cause:e}):ds.nodeMessage.test(n)?new ds({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new na({cause:e})}function Ww(e,{docsPath:t,...n}){const r=(()=>{const i=ou(e,n);return i instanceof na?e:i})();return new qw(r,{docsPath:t,...n})}function au(e,{format:t}){if(!t)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in e&&(n[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=t(e||{});return r(i),n}function ra(e,t){return({exclude:n,format:r})=>({exclude:n,format:i=>{const s=t(i);if(n)for(const o of n)delete s[o];return{...s,...r(i)}},type:e})}const Gw={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Rs(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>$e(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=H(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=H(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=H(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=H(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=H(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=H(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Gw[e.type]),typeof e.value<"u"&&(t.value=H(e.value)),t}const Kw=ra("transactionRequest",Rs);function Kh(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Fh({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Fh({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Yw(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:s}=e,o={};if(s!==void 0&&(o.code=s),t!==void 0&&(o.balance=H(t)),n!==void 0&&(o.nonce=H(n)),r!==void 0&&(o.state=Kh(r)),i!==void 0){if(o.state)throw new Ow;o.stateDiff=Kh(i)}return o}function Lp(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!me(n,{strict:!1}))throw new Ae({address:n});if(t[n])throw new Iw({address:n});t[n]=Yw(r)}return t}function Ms(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=e,o=t?lt(t):void 0;if(o&&!me(o.address))throw new Ae({address:o.address});if(s&&!me(s))throw new Ae({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new Rw;if(r&&r>2n**256n-1n)throw new xr({maxFeePerGas:r});if(i&&r&&i>r)throw new ds({maxFeePerGas:r,maxPriorityFeePerGas:i})}class Zw extends C{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class cu extends C{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Jw extends C{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ue(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class zp extends C{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Vp={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function ia(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Ft(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Ft(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Vp[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const Up=ra("transaction",ia);function lu(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:ia(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Hp=ra("block",lu);async function On(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:i}={}){var u,h,d;const s=r??"latest",o=i??!1,a=n!==void 0?H(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[a||s,o]}),!c)throw new zp({blockHash:t,blockNumber:n});return(((d=(h=(u=e.chain)==null?void 0:u.formatters)==null?void 0:h.block)==null?void 0:d.format)||lu)(c)}async function uu(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Xw(e,t){return qp(e,t)}async function qp(e,t){var s,o,a;const{block:n,chain:r=e.chain,request:i}=t||{};if(typeof((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee)=="function"){const c=n||await V(e,On,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:i})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return ue(c)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):V(e,On,"getBlock")({}),V(e,uu,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new cu;const u=l-c.baseFeePerGas;return u<0n?0n:u}}async function Qw(e,t){return Nc(e,t)}async function Nc(e,t){var d,p;const{block:n,chain:r=e.chain,request:i,type:s="eip1559"}=t||{},o=await(async()=>{var m,f;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:i}):((f=r==null?void 0:r.fees)==null?void 0:f.baseFeeMultiplier)??1.2})();if(o<1)throw new Zw;const c=10**(((d=o.toString().split(".")[1])==null?void 0:d.length)??0),l=m=>m*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await V(e,On,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:i,type:s});if(m!==null)return m}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new cu;const m=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await qp(e,{block:u,chain:r,request:i}),f=l(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??f+m,maxPriorityFeePerGas:m}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await V(e,uu,"getGasPrice")({}))}}async function Wp(e,{address:t,blockTag:n="latest",blockNumber:r}){const i=await e.request({method:"eth_getTransactionCount",params:[t,r?H(r):n]});return Ft(i)}function hu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>wt(s)):e.blobs,i=[];for(const s of r)i.push(Uint8Array.from(t.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>$e(s))}function du(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>wt(o)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(o=>wt(o)):e.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>$e(o))}function ex(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}class tx extends Zl{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=za(this.buffer)}update(t){ni(this);const{view:n,buffer:r,blockLen:i}=this;t=Xo(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=za(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ni(this),xp(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;ex(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=za(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const nx=(e,t,n)=>e&t^~e&n,rx=(e,t,n)=>e&t^e&n^t&n,ix=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mn=new Uint32Array(64);class sx extends tx{constructor(){super(64,32,8,!1),this.A=pn[0]|0,this.B=pn[1]|0,this.C=pn[2]|0,this.D=pn[3]|0,this.E=pn[4]|0,this.F=pn[5]|0,this.G=pn[6]|0,this.H=pn[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let h=0;h<16;h++,n+=4)mn[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const d=mn[h-15],p=mn[h-2],m=Ct(d,7)^Ct(d,18)^d>>>3,f=Ct(p,17)^Ct(p,19)^p>>>10;mn[h]=f+mn[h-7]+m+mn[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const d=Ct(a,6)^Ct(a,11)^Ct(a,25),p=u+d+nx(a,c,l)+ix[h]+mn[h]|0,f=(Ct(r,2)^Ct(r,13)^Ct(r,22))+rx(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+f|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){mn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Gp=Ep(()=>new sx);function Kp(e,t){const n=t||"hex",r=Gp(Mt(e,{strict:!1})?vt(e):e);return n==="bytes"?r:F(r)}function ox(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),i=Kp(t,"bytes");return i.set([n],0),r==="bytes"?i:$e(i)}function Yp(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const s of t)i.push(ox({commitment:s,to:r,version:n}));return i}const Yh=6,Zp=32,fu=4096,Jp=Zp*fu,Zh=Jp*Yh-1-1*fu*Yh,Xp=1;class ax extends C{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class Qp extends C{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class cx extends C{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class lx extends C{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Xp}`,`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function ux(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?wt(e.data):e.data,r=pe(n);if(!r)throw new Qp;if(r>Zh)throw new ax({maxSize:Zh,size:r});const i=[];let s=!0,o=0;for(;s;){const a=nu(new Uint8Array(Jp));let c=0;for(;c<fu;){const l=n.slice(o,o+(Zp-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>$e(a.bytes))}function em(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??ux({data:t,to:r}),s=e.commitments??hu({blobs:i,kzg:n,to:r}),o=e.proofs??du({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function tm(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Fw({transaction:e})}async function Fs(e){const t=await e.request({method:"eth_chainId"});return Ft(t)}const nm=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function sa(e,t){const{account:n=e.account,blobs:r,chain:i,chainId:s,gas:o,kzg:a,nonce:c,parameters:l=nm,type:u}=t,h=n?lt(n):void 0,d={...t,...h?{from:h==null?void 0:h.address}:{}};let p;async function m(){return p||(p=await V(e,On,"getBlock")({blockTag:"latest"}),p)}if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&a){const f=hu({blobs:r,kzg:a});if(l.includes("blobVersionedHashes")){const g=Yp({commitments:f,to:"hex"});d.blobVersionedHashes=g}if(l.includes("sidecars")){const g=du({blobs:r,commitments:f,kzg:a}),b=em({blobs:r,commitments:f,proofs:g,to:"hex"});d.sidecars=b}}if(l.includes("chainId")&&(i?d.chainId=i.id:typeof s<"u"?d.chainId=s:d.chainId=await V(e,Fs,"getChainId")({})),l.includes("nonce")&&typeof c>"u"&&h&&(d.nonce=await V(e,Wp,"getTransactionCount")({address:h.address,blockTag:"pending"})),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{d.type=tm(d)}catch{const f=await m();d.type=typeof(f==null?void 0:f.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(l.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const f=await m(),{maxFeePerGas:g,maxPriorityFeePerGas:b}=await Nc(e,{block:f,chain:i,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<b)throw new Jw({maxPriorityFeePerGas:b});d.maxPriorityFeePerGas=b,d.maxFeePerGas=g}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new cu;const f=await m(),{gasPrice:g}=await Nc(e,{block:f,chain:i,request:d,type:"legacy"});d.gasPrice=g}return l.includes("gas")&&typeof o>"u"&&(d.gas=await V(e,pu,"estimateGas")({...d,account:h?{address:h.address,type:"json-rpc"}:void 0})),Ms(d),delete d.parameters,d}async function pu(e,t){var i,s,o;const n=t.account??e.account,r=n?lt(n):void 0;try{const{accessList:a,blobs:c,blobVersionedHashes:l,blockNumber:u,blockTag:h,data:d,gas:p,gasPrice:m,maxFeePerBlobGas:f,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:y,to:v,value:w,stateOverride:E,..._}=await sa(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),S=(u?H(u):void 0)||h,k=Lp(E);Ms(t);const I=(o=(s=(i=e.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,U=(I||Rs)({...au(_,{format:I}),from:r==null?void 0:r.address,accessList:a,blobs:c,blobVersionedHashes:l,data:d,gas:p,gasPrice:m,maxFeePerBlobGas:f,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:y,to:v,value:w}),L=await e.request({method:"eth_estimateGas",params:k?[U,S??"latest",k]:S?[U,S]:[U]});return BigInt(L)}catch(a){throw Ww(a,{...t,account:r,chain:e.chain})}}async function hx(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=Vn({abi:n,args:i,functionName:s});try{return await V(e,pu,"estimateGas")({data:a,to:r,...o})}catch(c){const l=o.account?lt(o.account):void 0;throw hs(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l==null?void 0:l.address})}}const Jh="/docs/contract/decodeEventLog";function mu(e){const{abi:t,data:n,strict:r,topics:i}=e,s=r??!0,[o,...a]=i;if(!o)throw new dv({docsPath:Jh});const c=t.find(f=>f.type==="event"&&o===Xl(nn(f)));if(!(c&&"name"in c)||c.type!=="event")throw new gp(o,{docsPath:Jh});const{name:l,inputs:u}=c,h=u==null?void 0:u.some(f=>!("name"in f&&f.name));let d=h?[]:{};const p=u.filter(f=>"indexed"in f&&f.indexed);for(let f=0;f<p.length;f++){const g=p[f],b=a[f];if(!b)throw new Zo({abiItem:c,param:g});d[h?f:g.name||f]=dx({param:g,value:b})}const m=u.filter(f=>!("indexed"in f&&f.indexed));if(m.length>0){if(n&&n!=="0x")try{const f=ta(m,n);if(f)if(h)d=[...d,...f];else for(let g=0;g<m.length;g++)d[m[g].name]=f[g]}catch(f){if(s)throw f instanceof pp||f instanceof Mp?new Yi({abiItem:c,data:n,params:m,size:pe(n)}):f}else if(s)throw new Yi({abiItem:c,data:"0x",params:m,size:0})}return{eventName:l,args:Object.values(d).length>0?d:void 0}}function dx({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(ta([e],t)||[])[0]}function bu({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(i=>{var s;try{const o=mu({...i,abi:e,strict:r});return t&&!t.includes(o.eventName)?null:{...o,...i}}catch(o){let a,c;if(o instanceof gp)return null;if(o instanceof Yi||o instanceof Zo){if(r)return null;a=o.abiItem.name,c=(s=o.abiItem.inputs)==null?void 0:s.some(l=>!("name"in l&&l.name))}return{...i,args:c?[]:{},eventName:a}}}).filter(Boolean)}function sn(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function gu(e,{address:t,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(s?[s]:void 0);let h=[];u&&(h=[u.flatMap(m=>Os({abi:[m],eventName:m.name,args:a}))],s&&(h=h[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:h,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:h,fromBlock:typeof r=="bigint"?H(r):r,toBlock:typeof i=="bigint"?H(i):i}]});const p=d.map(m=>sn(m));return u?bu({abi:u,logs:p,strict:l}):p}async function rm(e,t){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=t,u=o?Is({abi:n,name:o}):void 0,h=u?void 0:n.filter(d=>d.type==="event");return V(e,gu,"getLogs")({address:r,args:i,blockHash:s,event:u,events:h,fromBlock:a,toBlock:c,strict:l})}const Ha="/docs/contract/decodeFunctionResult";function fi(e){const{abi:t,args:n,functionName:r,data:i}=e;let s=t[0];if(r){const a=Is({abi:t,args:n,name:r});if(!a)throw new Ao(r,{docsPath:Ha});s=a}if(s.type!=="function")throw new Ao(void 0,{docsPath:Ha});if(!s.outputs)throw new fv(s.name,{docsPath:Ha});const o=ta(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Dc=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],im=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],sm=[...im,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],fx=[...im,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Xh=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Qh=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],px=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],mx="0x82ad56cb";class jc extends C{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class bx extends C{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class gx extends C{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class om extends C{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class oa extends C{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function pi({blockNumber:e,chain:t,contract:n}){var i;const r=(i=t==null?void 0:t.contracts)==null?void 0:i[n];if(!r)throw new jc({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new jc({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function yx(e,{docsPath:t,...n}){const r=(()=>{const i=ou(e,n);return i instanceof na?e:i})();return new jp(r,{docsPath:t,...n})}const qa=new Map;function yu({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const h=u.map(({args:d})=>d);h.length!==0&&e(h).then(d=>{var p;i&&Array.isArray(d)&&d.sort(i);for(let m=0;m<u.length;m++){const{pendingPromise:f}=u[m];(p=f.resolve)==null||p.call(f,[d[m],d])}}).catch(d=>{var p;for(let m=0;m<u.length;m++){const{pendingPromise:f}=u[m];(p=f.reject)==null||p.call(f,d)}})},o=()=>qa.delete(t),a=()=>c().map(({args:u})=>u),c=()=>qa.get(t)||[],l=u=>qa.set(t,[...c(),u]);return{flush:o,async schedule(u){const h={},d=new Promise((f,g)=>{h.resolve=f,h.reject=g});return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,pendingPromise:h}),d):(l({args:u,pendingPromise:h}),setTimeout(s,r),d)}}}async function aa(e,t){var w,E,_,$;const{account:n=e.account,batch:r=!!((w=e.batch)!=null&&w.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:m,to:f,value:g,stateOverride:b,...y}=t,v=n?lt(n):void 0;try{Ms(t);const k=(i?H(i):void 0)||s,I=Lp(b),T=($=(_=(E=e.chain)==null?void 0:E.formatters)==null?void 0:_.transactionRequest)==null?void 0:$.format,L=(T||Rs)({...au(y,{format:T}),from:v==null?void 0:v.address,accessList:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:m,to:f,value:g});if(r&&vx({request:L})&&!I)try{return await wx(e,{...L,blockNumber:i,blockTag:s})}catch(P){if(!(P instanceof om)&&!(P instanceof jc))throw P}const K=await e.request({method:"eth_call",params:I?[L,k,I]:[L,k]});return K==="0x"?{data:void 0}:{data:K}}catch(S){const k=xx(S),{offchainLookup:I,offchainLookupSignature:T}=await R(()=>import("./ccip-D5za99w7.js"),__vite__mapDeps([]));if(e.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===T&&f)return{data:await I(e,{data:k,to:f})};throw yx(S,{...t,account:v,chain:e.chain})}}function vx({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(mx)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function wx(e,t){var f;const{batchSize:n=1024,wait:r=0}=typeof((f=e.batch)==null?void 0:f.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:c}=t;let l=a;if(!l){if(!e.chain)throw new om;l=pi({blockNumber:i,chain:e.chain,contract:"multicall3"})}const h=(i?H(i):void 0)||s,{schedule:d}=yu({id:`${e.uid}.${h}`,wait:r,shouldSplitBatch(g){return g.reduce((y,{data:v})=>y+(v.length-2),0)>n*2},fn:async g=>{const b=g.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),y=Vn({abi:Dc,args:[b],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:y,to:l},h]});return fi({abi:Dc,args:[b],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:m}]=await d({data:o,to:c});if(!m)throw new iu({data:p});return p==="0x"?{data:void 0}:{data:p}}function xx(e){var n;if(!(e instanceof C))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Bn(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=Vn({abi:n,args:i,functionName:s});try{const{data:c}=await V(e,aa,"call")({...o,data:a,to:r});return fi({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw hs(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function _x(e,t){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=t,c=a.account?lt(a.account):e.account,l=Vn({abi:n,args:i,functionName:o});try{const{data:u}=await V(e,aa,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:r,...a,account:c}),h=fi({abi:n,args:i,functionName:o,data:u||"0x"}),d=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:h,request:{abi:d,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(u){throw hs(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const Wa=new Map,ed=new Map;let Ex=0;function Rn(e,t,n){const r=++Ex,i=()=>Wa.get(e)||[],s=()=>{const u=i();Wa.set(e,u.filter(h=>h.id!==r))},o=()=>{const u=ed.get(e);i().length===1&&u&&u(),s()},a=i();if(Wa.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const u in t)c[u]=(...h)=>{var p,m;const d=i();if(d.length!==0)for(const f of d)(m=(p=f.fns)[u])==null||m.call(p,...h)};const l=n(c);return typeof l=="function"&&ed.set(e,l),o}async function Po(e){return new Promise(t=>setTimeout(t,e))}function Ns(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;t&&(a=await e({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await Po(c);const l=async()=>{i&&(await e({unpoll:s}),await Po(r),l())};l()})(),s}const $x=new Map,kx=new Map;function Sx(e){const t=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=t(e,$x),r=t(e,kx);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Ax(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Sx(t),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Cx=e=>`blockNumber.${e}`;async function Ds(e,{cacheTime:t=e.cacheTime}={}){const n=await Ax(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Cx(e.uid),cacheTime:t});return BigInt(n)}async function ca(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>sn(s));return!("abi"in t)||!t.abi?i:bu({abi:t.abi,logs:i,strict:n})}async function la(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Px(e,t){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:h=e.pollingInterval,strict:d}=t;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const g=d??!1,b=Ie(["watchContractEvent",r,i,s,e.uid,o,h,g,a]);return Rn(b,{onLogs:l,onError:c},y=>{let v;a!==void 0&&(v=a-1n);let w,E=!1;const _=Ns(async()=>{var $;if(!E){try{w=await V(e,Bp,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:g,fromBlock:a})}catch{}E=!0;return}try{let S;if(w)S=await V(e,ca,"getFilterChanges")({filter:w});else{const k=await V(e,Ds,"getBlockNumber")({});v&&v!==k?S=await V(e,rm,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:v+1n,toBlock:k,strict:g}):S=[],v=k}if(S.length===0)return;if(s)y.onLogs(S);else for(const k of S)y.onLogs([k])}catch(S){w&&S instanceof wr&&(E=!1),($=y.onError)==null||$.call(y,S)}},{emitOnBegin:!0,interval:h});return async()=>{w&&await V(e,la,"uninstallFilter")({filter:w}),_()}})})():(()=>{const g=d??!1,b=Ie(["watchContractEvent",r,i,s,e.uid,o,h,g]);let y=!0,v=()=>y=!1;return Rn(b,{onLogs:l,onError:c},w=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(k=>k.config.type==="webSocket");return S?S.value:e.transport}return e.transport})(),_=o?Os({abi:n,eventName:o,args:i}):[],{unsubscribe:$}=await E.subscribe({params:["logs",{address:r,topics:_}],onData(S){var I;if(!y)return;const k=S.result;try{const{eventName:T,args:U}=mu({abi:n,data:k.data,topics:k.topics,strict:d}),L=sn(k,{args:U,eventName:T});w.onLogs([L])}catch(T){let U,L;if(T instanceof Yi||T instanceof Zo){if(d)return;U=T.abiItem.name,L=(I=T.abiItem.inputs)==null?void 0:I.some(P=>!("name"in P&&P.name))}const K=sn(k,{args:L?[]:{},eventName:U});w.onLogs([K])}},onError(S){var k;(k=w.onError)==null||k.call(w,S)}});v=$,y||v()}catch(E){c==null||c(E)}})(),()=>v()))})()}class ua extends C{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}function am({chain:e,currentChainId:t}){if(!e)throw new gx;if(t!==e.id)throw new bx({chain:e,currentChainId:t})}function Tx(e,{docsPath:t,...n}){const r=(()=>{const i=ou(e,n);return i instanceof na?e:i})();return new Dw(r,{docsPath:t,...n})}async function vu(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function wu(e,t){var b,y,v,w;const{account:n=e.account,chain:r=e.chain,accessList:i,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:d,to:p,value:m,...f}=t;if(!n)throw new ua({docsPath:"/docs/actions/wallet/sendTransaction"});const g=lt(n);try{Ms(t);let E;if(r!==null&&(E=await V(e,Fs,"getChainId")({}),am({currentChainId:E,chain:r})),g.type==="local"){const k=await V(e,sa,"prepareTransactionRequest")({account:g,accessList:i,blobs:s,chain:r,chainId:E,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:d,parameters:[...nm,"sidecars"],to:p,value:m,...f}),I=(b=r==null?void 0:r.serializers)==null?void 0:b.transaction,T=await g.signTransaction(k,{serializer:I});return await V(e,vu,"sendRawTransaction")({serializedTransaction:T})}const _=(w=(v=(y=e.chain)==null?void 0:y.formatters)==null?void 0:v.transactionRequest)==null?void 0:w.format,S=(_||Rs)({...au(f,{format:_}),accessList:i,blobs:s,data:o,from:g.address,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:d,to:p,value:m});return await e.request({method:"eth_sendTransaction",params:[S]},{retryCount:0})}catch(E){throw Tx(E,{...t,account:g,chain:t.chain||void 0})}}async function Ix(e,t){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=t,c=Vn({abi:n,args:i,functionName:o});return V(e,wu,"sendTransaction")({data:`${c}${s?s.replace("0x",""):""}`,to:r,...a})}async function Ox(e,{chain:t}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:H(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{retryCount:0})}const Lc=256;let Zs=Lc,Js;function Bx(e=11){if(!Js||Zs+e>Lc*2){Js="",Zs=0;for(let t=0;t<Lc;t++)Js+=(256+Math.random()*256|0).toString(16).substring(1)}return Js.substring(Zs,Zs+++e)}function cm(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=e,c=e.chain,l=e.account?lt(e.account):void 0,{config:u,request:h,value:d}=e.transport({chain:c,pollingInterval:o}),p={...u,...d},m={account:l,batch:t,cacheTime:n,ccipRead:r,chain:c,key:i,name:s,pollingInterval:o,request:h,transport:p,type:a,uid:Bx()};function f(g){return b=>{const y=b(g);for(const w in m)delete y[w];const v={...g,...y};return Object.assign(v,{extend:f(v)})}}return Object.assign(m,{extend:f(m)})}function zc(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof t=="function"?t({count:a,error:l}):t;u&&await Po(u),o({count:a+1})};try{const l=await e();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}function Rx(e,t={}){return async(n,r={})=>{const{retryDelay:i=150,retryCount:s=3}={...t,...r};return zc(async()=>{try{return await e(n)}catch(o){const a=o;switch(a.code){case Xi.code:throw new Xi(a);case Qi.code:throw new Qi(a);case es.code:throw new es(a);case ts.code:throw new ts(a);case vr.code:throw new vr(a);case wr.code:throw new wr(a);case ns.code:throw new ns(a);case rs.code:throw new rs(a);case ri.code:throw new ri(a);case is.code:throw new is(a);case ii.code:throw new ii(a);case ss.code:throw new ss(a);case nr.code:throw new nr(a);case os.code:throw new os(a);case as.code:throw new as(a);case cs.code:throw new cs(a);case ls.code:throw new ls(a);case us.code:throw new us(a);case 5e3:throw new nr(a);default:throw o instanceof C?o:new Uw(a)}}},{delay:({count:o,error:a})=>{var c;if(a&&a instanceof Bi){const l=(c=a==null?void 0:a.headers)==null?void 0:c.get("Retry-After");if(l!=null&&l.match(/\d/))return Number.parseInt(l)*1e3}return~~(1<<o)*i},retryCount:s,shouldRetry:({error:o})=>Mx(o)})}}function Mx(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===ii.code||e.code===vr.code:e instanceof Bi&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ha({key:e,name:t,request:n,retryCount:r=3,retryDelay:i=150,timeout:s,type:o},a){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:i,timeout:s,type:o},request:Rx(n,{retryCount:r,retryDelay:i}),value:a}}function Fx(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:i}=t;return({retryCount:s})=>ha({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:i,type:"custom"})}function lm(e,t={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,retryCount:s,retryDelay:o}=t;return({chain:a,pollingInterval:c=4e3,timeout:l,...u})=>{let h=e,d=()=>{};const p=ha({key:n,name:r,async request({method:m,params:f}){const g=async(b=0)=>{const y=h[b]({...u,chain:a,retryCount:0,timeout:l});try{const v=await y.request({method:m,params:f});return d({method:m,params:f,response:v,transport:y,status:"success"}),v}catch(v){if(d({error:v,method:m,params:f,transport:y,status:"error"}),Nx(v)||b===h.length-1)throw v;return g(b+1)}};return g()},retryCount:s,retryDelay:o,type:"fallback"},{onResponse:m=>d=m,transports:h.map(m=>m({chain:a,retryCount:0}))});if(i){const m=typeof i=="object"?i:{};Dx({chain:a,interval:m.interval??c,onTransports:f=>h=f,sampleCount:m.sampleCount,timeout:m.timeout,transports:h,weights:m.weights})}return p}}function Nx(e){return"code"in e&&typeof e.code=="number"&&(e.code===ri.code||e.code===nr.code||e.code===5e3)}function Dx({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:i=1e3,transports:s,weights:o={}}){const{stability:a=.7,latency:c=.3}=o,l=[],u=async()=>{const h=await Promise.all(s.map(async m=>{const f=m({chain:e,retryCount:0,timeout:i}),g=Date.now();let b,y;try{await f.request({method:"net_listening"}),y=1}catch{y=0}finally{b=Date.now()}return{latency:b-g,success:y}}));l.push(h),l.length>r&&l.shift();const d=Math.max(...l.map(m=>Math.max(...m.map(({latency:f})=>f)))),p=s.map((m,f)=>{const g=l.map(E=>E[f].latency),y=1-g.reduce((E,_)=>E+_,0)/g.length/d,v=l.map(E=>E[f].success),w=v.reduce((E,_)=>E+_,0)/v.length;return w===0?[0,f]:[c*y+a*w,f]}).sort((m,f)=>f[0]-m[0]);n(p.map(([,m])=>s[m])),await Po(t),u()};u()}class um extends C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function hm(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(t)},n)),i(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}function jx(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Vc=jx();function Lx(e,t={}){return{async request(n){var h;const{body:r,onRequest:i=t.onRequest,onResponse:s=t.onResponse,timeout:o=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const d=await hm(async({signal:m})=>{const f={...a,body:Array.isArray(r)?Ie(r.map(y=>({jsonrpc:"2.0",id:y.id??Vc.take(),...y}))):Ie({jsonrpc:"2.0",id:r.id??Vc.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:l||"POST",signal:u||(o>0?m:null)},g=new Request(e,f);return i&&await i(g),await fetch(e,f)},{errorInstance:new Cc({body:r,url:e}),timeout:o,signal:!0});s&&await s(d);let p;if((h=d.headers.get("Content-Type"))!=null&&h.startsWith("application/json")?p=await d.json():(p=await d.text(),p=JSON.parse(p||"{}")),!d.ok)throw new Bi({body:r,details:Ie(p.error)||d.statusText,headers:d.headers,status:d.status,url:e});return p}catch(d){throw d instanceof Bi||d instanceof Cc?d:new Bi({body:r,details:d.message,url:e})}}}}function zx(e,t={}){const{batch:n,fetchOptions:r,key:i="http",name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:a,retryDelay:c}=t;return({chain:l,retryCount:u,timeout:h})=>{const{batchSize:d=1e3,wait:p=0}=typeof n=="object"?n:{},m=t.retryCount??u,f=h??t.timeout??1e4,g=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!g)throw new um;const b=Lx(g,{fetchOptions:r,onRequest:o,onResponse:a,timeout:f});return ha({key:i,name:s,async request({method:y,params:v}){const w={method:y,params:v},{schedule:E}=yu({id:g,wait:p,shouldSplitBatch(k){return k.length>d},fn:k=>b.request({body:k}),sort:(k,I)=>k.id-I.id}),_=async k=>n?E(k):[await b.request({body:k})],[{error:$,result:S}]=await _(w);if($)throw new su({body:w,error:$,url:g});return S},retryCount:m,retryDelay:c,timeout:f,type:"http"},{fetchOptions:r,url:g})}}function xu(e,t){var r,i,s,o,a,c;if(!(e instanceof C))return!1;const n=e.walk(l=>l instanceof Ac);return n instanceof Ac?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Rp[50]):!1}function dm(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Mt(t)?t:null}function ho(e){let t=new Uint8Array(32).fill(0);if(!e)return $e(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const i=dm(n[r]),s=i?vt(i):Ve(Zt(n[r]),"bytes");t=Ve(rn([t,s]),"bytes")}return $e(t)}function Vx(e){return`[${e.slice(2)}]`}function Ux(e){const t=new Uint8Array(32).fill(0);return e?dm(e)||Ve(Zt(e)):$e(t)}function da(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Zt(t).byteLength+2);let r=0;const i=t.split(".");for(let s=0;s<i.length;s++){let o=Zt(i[s]);o.byteLength>255&&(o=Zt(Vx(Ux(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Hx(e,{blockNumber:t,blockTag:n,coinType:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=pi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const l=Vn({abi:Qh,functionName:"addr",...r!=null?{args:[ho(i),BigInt(r)]}:{args:[ho(i)]}}),u={address:c,abi:sm,functionName:"resolve",args:[F(da(i)),l],blockNumber:t,blockTag:n},h=V(e,Bn,"readContract"),d=s?await h({...u,args:[...u.args,s]}):await h(u);if(d[0]==="0x")return null;const p=fi({abi:Qh,args:r!=null?[ho(i),BigInt(r)]:void 0,functionName:"addr",data:d[0]});return p==="0x"||ti(p)==="0x00"?null:p}catch(l){if(o)throw l;if(xu(l,"resolve"))return null;throw l}}class qx extends C{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Ei extends C{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class _u extends C{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Wx extends C{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Gx=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Kx=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Yx=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Zx=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Jx(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function td(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function fm({uri:e,gatewayUrls:t}){const n=Yx.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=td(t==null?void 0:t.ipfs,"https://ipfs.io"),i=td(t==null?void 0:t.arweave,"https://arweave.net"),s=e.match(Gx),{protocol:o,subpath:a,target:c,subtarget:l=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||Kx.test(e);if(e.startsWith("http")&&!u&&!h){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(Zx,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new _u({uri:e})}function pm(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new qx({data:e});return e.image||e.image_url||e.image_data}async function Xx({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(i=>i.json());return await Eu({gatewayUrls:e,uri:pm(n)})}catch{throw new _u({uri:t})}}async function Eu({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=fm({uri:t,gatewayUrls:e});if(r||await Jx(n))return n;throw new _u({uri:t})}function Qx(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=t.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Ei({reason:"Only EIP-155 supported"});if(!o)throw new Ei({reason:"Chain ID not found"});if(!c)throw new Ei({reason:"Contract address not found"});if(!i)throw new Ei({reason:"Token ID not found"});if(!a)throw new Ei({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function e1(e,{nft:t}){if(t.namespace==="erc721")return Bn(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Bn(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Wx({namespace:t.namespace})}async function t1(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?n1(e,{gatewayUrls:t,record:n}):Eu({uri:n,gatewayUrls:t})}async function n1(e,{gatewayUrls:t,record:n}){const r=Qx(n),i=await e1(e,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=fm({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return Eu({uri:pm(u),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Xx({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function mm(e,{blockNumber:t,blockTag:n,name:r,key:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=pi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const l={address:c,abi:sm,functionName:"resolve",args:[F(da(r)),Vn({abi:Xh,functionName:"text",args:[ho(r),i]})],blockNumber:t,blockTag:n},u=V(e,Bn,"readContract"),h=s?await u({...l,args:[...l.args,s]}):await u(l);if(h[0]==="0x")return null;const d=fi({abi:Xh,functionName:"text",data:h[0]});return d===""?null:d}catch(l){if(o)throw l;if(xu(l,"resolve"))return null;throw l}}async function r1(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await V(e,mm,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await t1(e,{record:c,gatewayUrls:r})}catch{return null}}async function i1(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=pi({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:fx,functionName:"reverse",args:[F(da(c))],blockNumber:n,blockTag:r},u=V(e,Bn,"readContract"),[h,d]=i?await u({...l,args:[...l.args,i]}):await u(l);return t.toLowerCase()!==d.toLowerCase()?null:h}catch(l){if(s)throw l;if(xu(l,"reverse"))return null;throw l}}async function s1(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:i}){let s=i;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=pi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await V(e,Bn,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[F(da(r))],blockNumber:t,blockTag:n});return o}async function o1(e){const t=ea(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function bm(e,{address:t,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),l=ea(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(d=>Os({abi:[d],eventName:d.name,args:n}))],r&&(u=u[0]));const h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?H(s):s,toBlock:typeof a=="bigint"?H(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:l(h),strict:!!o,toBlock:a,type:"event"}}async function gm(e){const t=ea(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function a1(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n?H(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||r]});return BigInt(s)}async function c1(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function l1(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?H(n):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]}),Ft(s)}async function u1(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?H(n):void 0,s=await e.request({method:"eth_getCode",params:[t,i||r]});if(s!=="0x")return s}function h1(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function d1(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=n?H(n):void 0,o=await e.request({method:"eth_feeHistory",params:[H(t),s||r,i]});return h1(o)}async function f1(e,{filter:t}){const n=t.strict??!1,i=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>sn(s));return t.abi?bu({abi:t.abi,logs:i,strict:n}):i}function on(e,t){if(!me(e,{strict:!1}))throw new Ae({address:e});if(!me(t,{strict:!1}))throw new Ae({address:t});return e.toLowerCase()===t.toLowerCase()}function kt(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const p1=/^(.*)\[([0-9]*)\]$/,ym=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,vm=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ga=new Map;async function m1(e){const{getSocket:t,key:n="socket",reconnect:r=!0,url:i}=e,{attempts:s=5,delay:o=2e3}=typeof r=="object"?r:{};let a=Ga.get(`${n}:${i}`);if(a)return a;let c=0;const{schedule:l}=yu({id:`${n}:${i}`,fn:async()=>{const d=new Map,p=new Map;let m,f;async function g(){return t({onError(b){var y,v;m=b;for(const w of d.values())(y=w.onError)==null||y.call(w,m);for(const w of p.values())(v=w.onError)==null||v.call(w,m);d.clear(),p.clear(),r&&c<s&&setTimeout(async()=>{c++,f=await g().catch(console.error)},o)},onOpen(){m=void 0,c=0},onResponse(b){const y=b.method==="eth_subscription",v=y?b.params.subscription:b.id,w=y?p:d,E=w.get(v);E&&E.onResponse(b),y||w.delete(v)}})}return f=await g(),m=void 0,a={close(){f.close(),Ga.delete(`${n}:${i}`)},socket:f,request({body:b,onError:y,onResponse:v}){m&&y&&y(m);const w=b.id??Vc.take(),E=_=>{var $;typeof _.id=="number"&&w!==_.id||(b.method==="eth_subscribe"&&typeof _.result=="string"&&p.set(_.result,{onResponse:E,onError:y}),b.method==="eth_unsubscribe"&&p.delete(($=b.params)==null?void 0:$[0]),v(_))};d.set(w,{onResponse:E,onError:y});try{f.request({body:{jsonrpc:"2.0",id:w,...b}})}catch(_){y==null||y(_)}},requestAsync({body:b,timeout:y=1e4}){return hm(()=>new Promise((v,w)=>this.request({body:b,onError:w,onResponse:v})),{errorInstance:new Cc({body:b,url:i}),timeout:y})},requests:d,subscriptions:p,url:i},Ga.set(`${n}:${i}`,a),[a]}}),[u,[h]]=await l();return h}async function fo(e,t={}){const{reconnect:n}=t;return m1({async getSocket({onError:r,onOpen:i,onResponse:s}){const o=await R(()=>import("./native-DCTjMhwz.js"),__vite__mapDeps([])).then(h=>h.WebSocket),a=new o(e);function c(){a.removeEventListener("close",c),a.removeEventListener("message",l),a.removeEventListener("error",r),a.removeEventListener("open",i)}function l({data:h}){s(JSON.parse(h))}a.addEventListener("close",c),a.addEventListener("message",l),a.addEventListener("error",r),a.addEventListener("open",i),a.readyState===o.CONNECTING&&await new Promise((h,d)=>{a&&(a.onopen=h,a.onerror=d)});const{close:u}=a;return Object.assign(a,{close(){u.bind(a)(),c()},request({body:h}){if(a.readyState===a.CLOSED||a.readyState===a.CLOSING)throw new zw({body:h,url:a.url,details:"Socket is closed."});return a.send(JSON.stringify(h))}})},reconnect:n,url:e})}async function b1(e){const t=await fo(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function g1(e){const{domain:t={},message:n,primaryType:r}=e,i={EIP712Domain:km({domain:t}),...e.types};$m({domain:t,message:n,primaryType:r,types:i});const s=["0x1901"];return t&&s.push(y1({domain:t,types:i})),r!=="EIP712Domain"&&s.push(wm({data:n,primaryType:r,types:i})),Ve(rn(s))}function y1({domain:e,types:t}){return wm({data:e,primaryType:"EIP712Domain",types:t})}function wm({data:e,primaryType:t,types:n}){const r=xm({data:e,primaryType:t,types:n});return Ve(r)}function xm({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],i=[v1({primaryType:t,types:n})];for(const s of n[t]){const[o,a]=Em({types:n,name:s.name,type:s.type,value:e[s.name]});r.push(o),i.push(a)}return Ts(r,i)}function v1({primaryType:e,types:t}){const n=F(w1({primaryType:e,types:t}));return Ve(n)}function w1({primaryType:e,types:t}){let n="";const r=_m({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const s of i)n+=`${s}(${t[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function _m({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||t[i]===void 0)return n;n.add(i);for(const s of t[i])_m({primaryType:s.type,types:t},n);return n}function Em({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Ve(xm({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Ve(r)];if(n==="string")return[{type:"bytes32"},Ve(F(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>Em({name:t,type:i,types:e,value:o}));return[{type:"bytes32"},Ve(Ts(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}function x1(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(c,l)=>{const u={...l};for(const h of c){const{name:d,type:p}=h;p==="address"&&(u[d]=u[d].toLowerCase())}return u},o=i.EIP712Domain?t?s(i.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return Ie({domain:o,message:a,primaryType:r,types:i})}function $m(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(o,a)=>{for(const c of o){const{name:l,type:u}=c,h=a[l],d=u.match(vm);if(d&&(typeof h=="number"||typeof h=="bigint")){const[f,g,b]=d;H(h,{signed:g==="int",size:Number.parseInt(b)/8})}if(u==="address"&&typeof h=="string"&&!me(h))throw new Ae({address:h});const p=u.match(ym);if(p){const[f,g]=p;if(g&&pe(h)!==Number.parseInt(g))throw new yp({expectedSize:Number.parseInt(g),givenSize:pe(h)})}const m=i[u];m&&s(m,h)}};i.EIP712Domain&&t&&s(i.EIP712Domain,t),r!=="EIP712Domain"&&s(i[r],n)}function km({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Ka="/docs/contract/encodeDeployData";function Sm(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const i=t.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new lv({docsPath:Ka});if(!("inputs"in i))throw new Rh({docsPath:Ka});if(!i.inputs||i.inputs.length===0)throw new Rh({docsPath:Ka});const s=Ts(i.inputs,n);return Dt([r,s])}function _1(e,t){if(e.length!==t.length)throw new mp({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(Am(i,s))}return Dt(n)}function Am(e,t,n=!1){if(e==="address"){const o=t;if(!me(o))throw new Ae({address:o});return Ot(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Jo(t);if(e==="bytes")return t;if(e==="bool")return Ot(Kl(t),{size:n?32:1});const r=e.match(vm);if(r){const[o,a,c="256"]=r,l=Number.parseInt(c)/8;return H(t,{size:n?32:l,signed:a==="int"})}const i=e.match(ym);if(i){const[o,a]=i;if(Number.parseInt(a)!==(t.length-2)/2)throw new yp({expectedSize:Number.parseInt(a),givenSize:(t.length-2)/2});return Ot(t,{dir:"right",size:n?32:null})}const s=e.match(p1);if(s&&Array.isArray(t)){const[o,a]=s,c=[];for(let l=0;l<t.length;l++)c.push(Am(a,t[l],!0));return c.length===0?"0x":Dt(c)}throw new vv(e)}function _r(e,t="hex"){const n=Cm(e),r=nu(new Uint8Array(n.length));return n.encode(r),t==="hex"?$e(r.bytes):r.bytes}function Cm(e){return Array.isArray(e)?E1(e.map(t=>Cm(t))):$1(e)}function E1(e){const t=e.reduce((i,s)=>i+s.length,0),n=Pm(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:s}of e)s(i)}}}function $1(e){const t=typeof e=="string"?wt(e):e,n=Pm(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function Pm(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new C("Length is too large.")}const k1={"0x0":"reverted","0x1":"success"};function Tm(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>sn(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Ft(e.transactionIndex):null,status:e.status?k1[e.status]:null,type:e.type?Vp[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Im=ra("transactionReceipt",Tm),S1=`Ethereum Signed Message:
`;function Om(e,t){const n=typeof e=="string"?Zt(e):e.raw instanceof Uint8Array?e.raw:vt(e.raw),r=Zt(`${S1}${n.length}`);return Ve(rn([r,n]),t)}function A1(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Qp;for(const n of t){const r=pe(n),i=Ft(Zi(n,0,1));if(r!==32)throw new cx({hash:n,size:r});if(i!==Xp)throw new lx({hash:n,version:i})}}Bm(e)}function Bm(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new oa({chainId:t});if(i&&!me(i))throw new Ae({address:i});if(r&&r>2n**256n-1n)throw new xr({maxFeePerGas:r});if(n&&r&&n>r)throw new ds({maxFeePerGas:r,maxPriorityFeePerGas:n})}function C1(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(t<=0)throw new oa({chainId:t});if(s&&!me(s))throw new Ae({address:s});if(n||i)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new xr({maxFeePerGas:r})}function P1(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s,accessList:o}=e;if(s&&!me(s))throw new Ae({address:s});if(typeof t<"u"&&t<=0)throw new oa({chainId:t});if(n||i)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new xr({maxFeePerGas:r});if(o)throw new C("`accessList` is not a valid Legacy Transaction attribute.")}function $u(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:i}=e[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new Nw({storageKey:i[s]});if(!me(r,{strict:!1}))throw new Ae({address:r});t.push([r,i])}return t}function Rm(e,t){const n=tm(e);return n==="eip1559"?I1(e,t):n==="eip2930"?O1(e,t):n==="eip4844"?T1(e,t):B1(e,t)}function T1(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:h}=e;A1(e);let d=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof p>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(_=>$e(_)),w=e.kzg,E=hu({blobs:v,kzg:w});if(typeof d>"u"&&(d=Yp({commitments:E})),typeof p>"u"){const _=du({blobs:v,commitments:E,kzg:w});p=em({blobs:v,commitments:E,proofs:_})}}const m=$u(u),f=[F(n),i?F(i):"0x",l?F(l):"0x",c?F(c):"0x",r?F(r):"0x",s??"0x",o?F(o):"0x",h??"0x",m,a?F(a):"0x",d??[],...ku(e,t)],g=[],b=[],y=[];if(p)for(let v=0;v<p.length;v++){const{blob:w,commitment:E,proof:_}=p[v];g.push(w),b.push(E),y.push(_)}return Dt(["0x03",_r(p?[f,g,b,y]:f)])}function I1(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=e;Bm(e);const h=$u(l),d=[F(n),i?F(i):"0x",c?F(c):"0x",a?F(a):"0x",r?F(r):"0x",s??"0x",o?F(o):"0x",u??"0x",h,...ku(e,t)];return Dt(["0x02",_r(d)])}function O1(e,t){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=e;C1(e);const u=$u(c),h=[F(n),s?F(s):"0x",l?F(l):"0x",r?F(r):"0x",o??"0x",a?F(a):"0x",i??"0x",u,...ku(e,t)];return Dt(["0x01",_r(h)])}function B1(e,t){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=e;P1(e);let l=[s?F(s):"0x",c?F(c):"0x",r?F(r):"0x",o??"0x",a?F(a):"0x",i??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Mw({v:t.v});return h})();l=[...l,F(u),t.r,t.s]}else n>0&&(l=[...l,F(n),"0x","0x"]);return _r(l)}function ku(e,t){const{r:n,s:r,v:i,yParity:s}=t??e;return typeof n>"u"?[]:typeof r>"u"?[]:typeof i>"u"&&typeof s>"u"?[]:[typeof s=="number"?s?F(1):"0x":i===0n?"0x":i===1n?F(1):i===27n?"0x":F(1),ti(n),ti(r)]}function Uc(e,t){let[n,r="0"]=e.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[s,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${i?"-":""}${n}${r}`)}function R1(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function M1(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Ft(e.nonce):void 0,storageProof:e.storageProof?R1(e.storageProof):void 0}}async function F1(e,{address:t,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?H(n):void 0,a=await e.request({method:"eth_getProof",params:[t,i,o||s]});return M1(a)}async function N1(e,{address:t,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?H(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||r]})}async function Su(e,{blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){var u,h,d;const o=r||"latest",a=n!==void 0?H(n):void 0;let c=null;if(i?c=await e.request({method:"eth_getTransactionByHash",params:[i]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,H(s)]}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,H(s)]})),!c)throw new Np({blockHash:t,blockNumber:n,blockTag:o,hash:i,index:s});return(((d=(h=(u=e.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:d.format)||ia)(c)}async function D1(e,{hash:t,transactionReceipt:n}){const[r,i]=await Promise.all([V(e,Ds,"getBlockNumber")({}),t?V(e,Su,"getBlockNumber")({hash:t}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function Hc(e,{hash:t}){var i,s,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Dp({hash:t});return(((o=(s=(i=e.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||Tm)(n)}async function j1(e,t){var g;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=t,c=t.contracts,l=r??(typeof((g=e.batch)==null?void 0:g.multicall)=="object"&&e.batch.multicall.batchSize||1024);let u=o;if(!u){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");u=pi({blockNumber:i,chain:e.chain,contract:"multicall3"})}const h=[[]];let d=0,p=0;for(let b=0;b<c.length;b++){const{abi:y,address:v,args:w,functionName:E}=c[b];try{const _=Vn({abi:y,args:w,functionName:E});p+=(_.length-2)/2,l>0&&p>l&&h[d].length>0&&(d++,p=(_.length-2)/2,h[d]=[]),h[d]=[...h[d],{allowFailure:!0,callData:_,target:v}]}catch(_){const $=hs(_,{abi:y,address:v,args:w,docsPath:"/docs/contract/multicall",functionName:E});if(!n)throw $;h[d]=[...h[d],{allowFailure:!0,callData:"0x",target:v}]}}const m=await Promise.allSettled(h.map(b=>V(e,Bn,"readContract")({abi:Dc,address:u,args:[b],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),f=[];for(let b=0;b<m.length;b++){const y=m[b];if(y.status==="rejected"){if(!n)throw y.reason;for(let w=0;w<h[b].length;w++)f.push({status:"failure",error:y.reason,result:void 0});continue}const v=y.value;for(let w=0;w<v.length;w++){const{returnData:E,success:_}=v[w],{callData:$}=h[b][w],{abi:S,address:k,functionName:I,args:T}=c[f.length];try{if($==="0x")throw new Yo;if(!_)throw new iu({data:E});const U=fi({abi:S,args:T,data:E,functionName:I});f.push(n?{result:U,status:"success"}:U)}catch(U){const L=hs(U,{abi:S,address:k,args:T,docsPath:"/docs/contract/multicall",functionName:I});if(!n)throw L;f.push({error:L,result:void 0,status:"failure"})}}}if(f.length!==c.length)throw new C("multicall results mismatch");return f}const L1="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";const Mm=BigInt(0),fa=BigInt(1),z1=BigInt(2),pa=e=>e instanceof Uint8Array,V1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function si(e){if(!pa(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=V1[e[n]];return t}function Fm(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Au(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function oi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function rr(e){return Au(si(e))}function Cu(e){if(!pa(e))throw new Error("Uint8Array expected");return Au(si(Uint8Array.from(e).reverse()))}function ai(e,t){return oi(e.toString(16).padStart(t*2,"0"))}function Pu(e,t){return ai(e,t).reverse()}function U1(e){return oi(Fm(e))}function ft(e,t,n){let r;if(typeof t=="string")try{r=oi(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(pa(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function fs(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!pa(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function Nm(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function H1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function q1(e){let t;for(t=0;e>Mm;e>>=fa,t+=1);return t}function W1(e,t){return e>>BigInt(t)&fa}const G1=(e,t,n)=>e|(n?fa:Mm)<<BigInt(t),Tu=e=>(z1<<BigInt(e-1))-fa,Ya=e=>new Uint8Array(e),nd=e=>Uint8Array.from(e);function Dm(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ya(e),i=Ya(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=Ya())=>{i=a(nd([0]),h),r=a(),h.length!==0&&(i=a(nd([1]),h),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const d=[];for(;h<t;){r=a();const p=r.slice();d.push(p),h+=r.length}return fs(...d)};return(h,d)=>{o(),c(h);let p;for(;!(p=d(l()));)c();return o(),p}}const K1={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function js(e,t,n={}){const r=(i,s,o)=>{const a=K1[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const Y1=Object.freeze(Object.defineProperty({__proto__:null,bitGet:W1,bitLen:q1,bitMask:Tu,bitSet:G1,bytesToHex:si,bytesToNumberBE:rr,bytesToNumberLE:Cu,concatBytes:fs,createHmacDrbg:Dm,ensureBytes:ft,equalBytes:Nm,hexToBytes:oi,hexToNumber:Au,numberToBytesBE:ai,numberToBytesLE:Pu,numberToHexUnpadded:Fm,numberToVarBytesBE:U1,utf8ToBytes:H1,validateObject:js},Symbol.toStringTag,{value:"Module"}));function Z1(e,t){const n=Mt(e)?vt(e):e,r=Mt(t)?vt(t):t;return Nm(n,r)}const Se=BigInt(0),fe=BigInt(1),Kn=BigInt(2),J1=BigInt(3),qc=BigInt(4),rd=BigInt(5),id=BigInt(8);BigInt(9);BigInt(16);function ze(e,t){const n=e%t;return n>=Se?n:t+n}function X1(e,t,n){if(n<=Se||t<Se)throw new Error("Expected power/modulo > 0");if(n===fe)return Se;let r=fe;for(;t>Se;)t&fe&&(r=r*e%n),e=e*e%n,t>>=fe;return r}function et(e,t,n){let r=e;for(;t-- >Se;)r*=r,r%=n;return r}function Wc(e,t){if(e===Se||t<=Se)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ze(e,t),r=t,i=Se,s=fe;for(;n!==Se;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==fe)throw new Error("invert: does not exist");return ze(i,t)}function Q1(e){const t=(e-fe)/Kn;let n,r,i;for(n=e-fe,r=0;n%Kn===Se;n/=Kn,r++);for(i=Kn;i<e&&X1(i,t,e)!==e-fe;i++);if(r===1){const o=(e+fe)/qc;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+fe)/Kn;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(c,s),d=a.pow(c,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let p=1;for(let f=a.sqr(d);p<l&&!a.eql(f,a.ONE);p++)f=a.sqr(f);const m=a.pow(u,fe<<BigInt(l-p-1));u=a.sqr(m),h=a.mul(h,m),d=a.mul(d,u),l=p}return h}}function e_(e){if(e%qc===J1){const t=(e+fe)/qc;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%id===rd){const t=(e-rd)/id;return function(r,i){const s=r.mul(i,Kn),o=r.pow(s,t),a=r.mul(i,o),c=r.mul(r.mul(a,Kn),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return Q1(e)}const t_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function n_(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=t_.reduce((r,i)=>(r[i]="function",r),t);return js(e,n)}function r_(e,t,n){if(n<Se)throw new Error("Expected power > 0");if(n===Se)return e.ONE;if(n===fe)return t;let r=e.ONE,i=t;for(;n>Se;)n&fe&&(r=e.mul(r,i)),i=e.sqr(i),n>>=fe;return r}function i_(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function jm(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function s_(e,t,n=!1,r={}){if(e<=Se)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=jm(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=e_(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Tu(i),ZERO:Se,ONE:fe,create:c=>ze(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Se<=c&&c<e},is0:c=>c===Se,isOdd:c=>(c&fe)===fe,neg:c=>ze(-c,e),eql:(c,l)=>c===l,sqr:c=>ze(c*c,e),add:(c,l)=>ze(c+l,e),sub:(c,l)=>ze(c-l,e),mul:(c,l)=>ze(c*l,e),pow:(c,l)=>r_(a,c,l),div:(c,l)=>ze(c*Wc(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Wc(c,e),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>i_(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Pu(c,s):ai(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?Cu(c):rr(c)}});return Object.freeze(a)}function Lm(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function zm(e){const t=Lm(e);return t+Math.ceil(t/2)}function o_(e,t,n=!1){const r=e.length,i=Lm(t),s=zm(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?rr(e):Cu(e),a=ze(o,t-fe)+fe;return n?Pu(a,i):ai(a,i)}const a_=BigInt(0),Za=BigInt(1);function c_(e,t){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>a_;)s&Za&&(o=o.add(a)),a=a.double(),s>>=Za;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let l=i,u=l;for(let h=0;h<o;h++){u=l,c.push(u);for(let d=1;d<a;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let l=e.ZERO,u=e.BASE;const h=BigInt(2**i-1),d=2**i,p=BigInt(i);for(let m=0;m<a;m++){const f=m*c;let g=Number(o&h);o>>=p,g>c&&(g-=d,o+=Za);const b=f,y=f+Math.abs(g)-1,v=m%2!==0,w=g<0;g===0?u=u.add(n(v,s[b])):l=l.add(n(w,s[y]))}return{p:l,f:u}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,a(l))),this.wNAF(c,l,o)}}}function Vm(e){return n_(e.Fp),js(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jm(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function l_(e){const t=Vm(e);js(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:u_,hexToBytes:h_}=Y1,Xn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Xn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:u_(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Xn,n=typeof e=="string"?h_(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Xn._parseInt(n.subarray(2)),{d:o,l:a}=Xn._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},qt=BigInt(0),tt=BigInt(1);BigInt(2);const sd=BigInt(3);BigInt(4);function d_(e){const t=l_(e),{Fp:n}=t,r=t.toBytes||((m,f,g)=>{const b=f.toAffine();return fs(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),i=t.fromBytes||(m=>{const f=m.subarray(1),g=n.fromBytes(f.subarray(0,n.BYTES)),b=n.fromBytes(f.subarray(n.BYTES,2*n.BYTES));return{x:g,y:b}});function s(m){const{a:f,b:g}=t,b=n.sqr(m),y=n.mul(b,m);return n.add(n.add(y,n.mul(m,f)),g)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&qt<m&&m<t.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:y}=t;if(f&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=si(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let v;try{v=typeof m=="bigint"?m:rr(ft("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(v=ze(v,y)),a(v),v}const l=new Map;function u(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!n.isValid(f))throw new Error("x required");if(g==null||!n.isValid(g))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!n.isValid(g)||!n.isValid(b))throw new Error("invalid affine point");if(f instanceof h)throw new Error("projective point not allowed");const y=v=>n.eql(v,n.ZERO);return y(g)&&y(b)?h.ZERO:new h(g,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=n.invertBatch(f.map(b=>b.pz));return f.map((b,y)=>b.toAffine(g[y])).map(h.fromAffine)}static fromHex(f){const g=h.fromAffine(i(ft("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return h.BASE.multiply(c(f))}_setWindowSize(f){this._WINDOW_SIZE=f,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=this.toAffine();if(!n.isValid(f)||!n.isValid(g))throw new Error("bad point: x or y not FE");const b=n.sqr(g),y=s(f);if(!n.eql(b,y))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(n.isOdd)return!n.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){u(f);const{px:g,py:b,pz:y}=this,{px:v,py:w,pz:E}=f,_=n.eql(n.mul(g,E),n.mul(v,y)),$=n.eql(n.mul(b,E),n.mul(w,y));return _&&$}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:f,b:g}=t,b=n.mul(g,sd),{px:y,py:v,pz:w}=this;let E=n.ZERO,_=n.ZERO,$=n.ZERO,S=n.mul(y,y),k=n.mul(v,v),I=n.mul(w,w),T=n.mul(y,v);return T=n.add(T,T),$=n.mul(y,w),$=n.add($,$),E=n.mul(f,$),_=n.mul(b,I),_=n.add(E,_),E=n.sub(k,_),_=n.add(k,_),_=n.mul(E,_),E=n.mul(T,E),$=n.mul(b,$),I=n.mul(f,I),T=n.sub(S,I),T=n.mul(f,T),T=n.add(T,$),$=n.add(S,S),S=n.add($,S),S=n.add(S,I),S=n.mul(S,T),_=n.add(_,S),I=n.mul(v,w),I=n.add(I,I),S=n.mul(I,T),E=n.sub(E,S),$=n.mul(I,k),$=n.add($,$),$=n.add($,$),new h(E,_,$)}add(f){u(f);const{px:g,py:b,pz:y}=this,{px:v,py:w,pz:E}=f;let _=n.ZERO,$=n.ZERO,S=n.ZERO;const k=t.a,I=n.mul(t.b,sd);let T=n.mul(g,v),U=n.mul(b,w),L=n.mul(y,E),K=n.add(g,b),P=n.add(v,w);K=n.mul(K,P),P=n.add(T,U),K=n.sub(K,P),P=n.add(g,y);let O=n.add(v,E);return P=n.mul(P,O),O=n.add(T,L),P=n.sub(P,O),O=n.add(b,y),_=n.add(w,E),O=n.mul(O,_),_=n.add(U,L),O=n.sub(O,_),S=n.mul(k,P),_=n.mul(I,L),S=n.add(_,S),_=n.sub(U,S),S=n.add(U,S),$=n.mul(_,S),U=n.add(T,T),U=n.add(U,T),L=n.mul(k,L),P=n.mul(I,P),U=n.add(U,L),L=n.sub(T,L),L=n.mul(k,L),P=n.add(P,L),T=n.mul(U,P),$=n.add($,T),T=n.mul(O,P),_=n.mul(K,_),_=n.sub(_,T),T=n.mul(K,U),S=n.mul(O,S),S=n.add(S,T),new h(_,$,S)}subtract(f){return this.add(f.negate())}is0(){return this.equals(h.ZERO)}wNAF(f){return p.wNAFCached(this,l,f,g=>{const b=n.invertBatch(g.map(y=>y.pz));return g.map((y,v)=>y.toAffine(b[v])).map(h.fromAffine)})}multiplyUnsafe(f){const g=h.ZERO;if(f===qt)return g;if(a(f),f===tt)return this;const{endo:b}=t;if(!b)return p.unsafeLadder(this,f);let{k1neg:y,k1:v,k2neg:w,k2:E}=b.splitScalar(f),_=g,$=g,S=this;for(;v>qt||E>qt;)v&tt&&(_=_.add(S)),E&tt&&($=$.add(S)),S=S.double(),v>>=tt,E>>=tt;return y&&(_=_.negate()),w&&($=$.negate()),$=new h(n.mul($.px,b.beta),$.py,$.pz),_.add($)}multiply(f){a(f);let g=f,b,y;const{endo:v}=t;if(v){const{k1neg:w,k1:E,k2neg:_,k2:$}=v.splitScalar(g);let{p:S,f:k}=this.wNAF(E),{p:I,f:T}=this.wNAF($);S=p.constTimeNegate(w,S),I=p.constTimeNegate(_,I),I=new h(n.mul(I.px,v.beta),I.py,I.pz),b=S.add(I),y=k.add(T)}else{const{p:w,f:E}=this.wNAF(g);b=w,y=E}return h.normalizeZ([b,y])[0]}multiplyAndAddUnsafe(f,g,b){const y=h.BASE,v=(E,_)=>_===qt||_===tt||!E.equals(y)?E.multiplyUnsafe(_):E.multiply(_),w=v(this,g).add(v(f,b));return w.is0()?void 0:w}toAffine(f){const{px:g,py:b,pz:y}=this,v=this.is0();f==null&&(f=v?n.ONE:n.inv(y));const w=n.mul(g,f),E=n.mul(b,f),_=n.mul(y,f);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:w,y:E}}isTorsionFree(){const{h:f,isTorsionFree:g}=t;if(f===tt)return!0;if(g)return g(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=t;return f===tt?this:g?g(h,this):this.multiplyUnsafe(t.h)}toRawBytes(f=!0){return this.assertValidity(),r(h,this,f)}toHex(f=!0){return si(this.toRawBytes(f))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,p=c_(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function f_(e){const t=Vm(e);return js(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function p_(e){const t=f_(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(P){return qt<P&&P<n.ORDER}function a(P){return ze(P,r)}function c(P){return Wc(P,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=d_({...t,toBytes(P,O,D){const Y=O.toAffine(),Z=n.toBytes(Y.x),he=fs;return D?he(Uint8Array.from([O.hasEvenY()?2:3]),Z):he(Uint8Array.from([4]),Z,n.toBytes(Y.y))},fromBytes(P){const O=P.length,D=P[0],Y=P.subarray(1);if(O===i&&(D===2||D===3)){const Z=rr(Y);if(!o(Z))throw new Error("Point is not on curve");const he=h(Z);let Ke=n.sqrt(he);const Ye=(Ke&tt)===tt;return(D&1)===1!==Ye&&(Ke=n.neg(Ke)),{x:Z,y:Ke}}else if(O===s&&D===4){const Z=n.fromBytes(Y.subarray(0,n.BYTES)),he=n.fromBytes(Y.subarray(n.BYTES,2*n.BYTES));return{x:Z,y:he}}else throw new Error(`Point of length ${O} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=P=>si(ai(P,t.nByteLength));function m(P){const O=r>>tt;return P>O}function f(P){return m(P)?a(-P):P}const g=(P,O,D)=>rr(P.slice(O,D));class b{constructor(O,D,Y){this.r=O,this.s=D,this.recovery=Y,this.assertValidity()}static fromCompact(O){const D=t.nByteLength;return O=ft("compactSignature",O,D*2),new b(g(O,0,D),g(O,D,2*D))}static fromDER(O){const{r:D,s:Y}=Xn.toSig(ft("DER",O));return new b(D,Y)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(O){return new b(this.r,this.s,O)}recoverPublicKey(O){const{r:D,s:Y,recovery:Z}=this,he=$(ft("msgHash",O));if(Z==null||![0,1,2,3].includes(Z))throw new Error("recovery id invalid");const Ke=Z===2||Z===3?D+t.n:D;if(Ke>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ye=Z&1?"03":"02",hn=l.fromHex(Ye+p(Ke)),dn=c(Ke),Or=a(-he*dn),yi=a(Y*dn),fn=l.BASE.multiplyAndAddUnsafe(hn,Or,yi);if(!fn)throw new Error("point at infinify");return fn.assertValidity(),fn}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return oi(this.toDERHex())}toDERHex(){return Xn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return oi(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const y={isValidPrivateKey(P){try{return u(P),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const P=zm(t.n);return o_(t.randomBytes(P),t.n)},precompute(P=8,O=l.BASE){return O._setWindowSize(P),O.multiply(BigInt(3)),O}};function v(P,O=!0){return l.fromPrivateKey(P).toRawBytes(O)}function w(P){const O=P instanceof Uint8Array,D=typeof P=="string",Y=(O||D)&&P.length;return O?Y===i||Y===s:D?Y===2*i||Y===2*s:P instanceof l}function E(P,O,D=!0){if(w(P))throw new Error("first arg must be private key");if(!w(O))throw new Error("second arg must be public key");return l.fromHex(O).multiply(u(P)).toRawBytes(D)}const _=t.bits2int||function(P){const O=rr(P),D=P.length*8-t.nBitLength;return D>0?O>>BigInt(D):O},$=t.bits2int_modN||function(P){return a(_(P))},S=Tu(t.nBitLength);function k(P){if(typeof P!="bigint")throw new Error("bigint expected");if(!(qt<=P&&P<S))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ai(P,t.nByteLength)}function I(P,O,D=T){if(["recovered","canonical"].some(Un=>Un in D))throw new Error("sign() legacy options not supported");const{hash:Y,randomBytes:Z}=t;let{lowS:he,prehash:Ke,extraEntropy:Ye}=D;he==null&&(he=!0),P=ft("msgHash",P),Ke&&(P=ft("prehashed msgHash",Y(P)));const hn=$(P),dn=u(O),Or=[k(dn),k(hn)];if(Ye!=null){const Un=Ye===!0?Z(n.BYTES):Ye;Or.push(ft("extraEntropy",Un))}const yi=fs(...Or),fn=hn;function Sa(Un){const Br=_(Un);if(!d(Br))return;const ch=c(Br),Rr=l.BASE.multiply(Br).toAffine(),ut=a(Rr.x);if(ut===qt)return;const Mr=a(ch*a(fn+ut*dn));if(Mr===qt)return;let lh=(Rr.x===ut?0:2)|Number(Rr.y&tt),uh=Mr;return he&&m(Mr)&&(uh=f(Mr),lh^=1),new b(ut,uh,lh)}return{seed:yi,k2sig:Sa}}const T={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function L(P,O,D=T){const{seed:Y,k2sig:Z}=I(P,O,D),he=t;return Dm(he.hash.outputLen,he.nByteLength,he.hmac)(Y,Z)}l.BASE._setWindowSize(8);function K(P,O,D,Y=U){var Rr;const Z=P;if(O=ft("msgHash",O),D=ft("publicKey",D),"strict"in Y)throw new Error("options.strict was renamed to lowS");const{lowS:he,prehash:Ke}=Y;let Ye,hn;try{if(typeof Z=="string"||Z instanceof Uint8Array)try{Ye=b.fromDER(Z)}catch(ut){if(!(ut instanceof Xn.Err))throw ut;Ye=b.fromCompact(Z)}else if(typeof Z=="object"&&typeof Z.r=="bigint"&&typeof Z.s=="bigint"){const{r:ut,s:Mr}=Z;Ye=new b(ut,Mr)}else throw new Error("PARSE");hn=l.fromHex(D)}catch(ut){if(ut.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(he&&Ye.hasHighS())return!1;Ke&&(O=t.hash(O));const{r:dn,s:Or}=Ye,yi=$(O),fn=c(Or),Sa=a(yi*fn),Un=a(dn*fn),Br=(Rr=l.BASE.multiplyAndAddUnsafe(hn,Sa,Un))==null?void 0:Rr.toAffine();return Br?a(Br.x)===dn:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:E,sign:L,verify:K,ProjectivePoint:l,Signature:b,utils:y}}class Um extends Zl{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Tv(t);const r=Xo(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return ni(this),this.iHash.update(t),this}digestInto(t){ni(this),Yl(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Hm=(e,t,n)=>new Um(e,t).update(n).digest();Hm.create=(e,t)=>new Um(e,t);function m_(e){return{hash:e,hmac:(t,...n)=>Hm(e,t,Lv(...n)),randomBytes:zv}}function b_(e,t){const n=r=>p_({...e,...m_(r)});return Object.freeze({...n(t),create:n})}const qm=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),od=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),g_=BigInt(1),Gc=BigInt(2),ad=(e,t)=>(e+t/Gc)/t;function y_(e){const t=qm,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=et(u,n,t)*u%t,d=et(h,n,t)*u%t,p=et(d,Gc,t)*l%t,m=et(p,i,t)*p%t,f=et(m,s,t)*m%t,g=et(f,a,t)*f%t,b=et(g,c,t)*g%t,y=et(b,a,t)*f%t,v=et(y,n,t)*u%t,w=et(v,o,t)*m%t,E=et(w,r,t)*l%t,_=et(E,Gc,t);if(!Kc.eql(Kc.sqr(_),e))throw new Error("Cannot find square root");return _}const Kc=s_(qm,void 0,void 0,{sqrt:y_}),Wm=b_({a:BigInt(0),b:BigInt(7),Fp:Kc,n:od,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=od,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-g_*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=ad(s*e,t),c=ad(-r*e,t);let l=ze(e-a*n-c*i,t),u=ze(-a*r-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},Gp);BigInt(0);Wm.ProjectivePoint;function v_({r:e,s:t,v:n,yParity:r}){const i=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new Wm.Signature(ue(e),ue(t)).toCompactHex()}${i===0?"1b":"1c"}`}async function Iu(e,{address:t,hash:n,signature:r,...i}){const s=Mt(r)?r:typeof r=="object"&&"r"in r&&"s"in r?v_(r):$e(r);try{const{data:o}=await V(e,aa,"call")({data:Sm({abi:px,args:[t,n,s],bytecode:L1}),...i});return Z1(o??"0x0","0x1")}catch(o){if(o instanceof jp)return!1;throw o}}async function w_(e,{address:t,message:n,signature:r,...i}){const s=Om(n);return Iu(e,{address:t,hash:s,signature:r,...i})}async function x_(e,t){const{address:n,signature:r,message:i,primaryType:s,types:o,domain:a,...c}=t,l=g1({message:i,primaryType:s,types:o,domain:a});return Iu(e,{address:n,hash:l,signature:r,...c})}function Gm(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=e.pollingInterval}){const a=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const h=Ie(["watchBlockNumber",e.uid,t,n,o]);return Rn(h,{onBlockNumber:r,onError:i},d=>Ns(async()=>{var p;try{const m=await V(e,Ds,"getBlockNumber")({cacheTime:0});if(c){if(m===c)return;if(m-c>1&&n)for(let f=c+1n;f<m;f++)d.onBlockNumber(f,c),c=f}(!c||m>c)&&(d.onBlockNumber(m,c),c=m)}catch(m){(p=d.onError)==null||p.call(d,m)}},{emitOnBegin:t,interval:o}))})():(()=>{const h=Ie(["watchBlockNumber",e.uid,t,n]);return Rn(h,{onBlockNumber:r,onError:i},d=>{let p=!0,m=()=>p=!1;return(async()=>{try{const f=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(y=>y.config.type==="webSocket");return b?b.value:e.transport}return e.transport})(),{unsubscribe:g}=await f.subscribe({params:["newHeads"],onData(b){var v;if(!p)return;const y=ue((v=b.result)==null?void 0:v.number);d.onBlockNumber(y,c),c=y},onError(b){var y;(y=d.onError)==null||y.call(d,b)}});m=g,p||m()}catch(f){i==null||i(f)}})(),()=>m()})})()}async function __(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:i=e.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a}){const c=Ie(["waitForTransactionReceipt",e.uid,n]);let l=0,u,h,d,p=!1;return new Promise((m,f)=>{a&&setTimeout(()=>f(new Gh({hash:n})),a);const g=Rn(c,{onReplaced:r,resolve:m,reject:f},b=>{const y=V(e,Gm,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(v){const w=_=>{y(),_(),g()};let E=v;if(!p){l>s&&w(()=>b.reject(new Gh({hash:n})));try{if(d){if(t>1&&(!d.blockNumber||E-d.blockNumber+1n<t))return;w(()=>b.resolve(d));return}if(u||(p=!0,await zc(async()=>{u=await V(e,Su,"getTransaction")({hash:n}),u.blockNumber&&(E=u.blockNumber)},{delay:o,retryCount:s}),p=!1),d=await V(e,Hc,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||E-d.blockNumber+1n<t))return;w(()=>b.resolve(d))}catch(_){if(_ instanceof Np||_ instanceof Dp){if(!u){p=!1;return}try{h=u,p=!0;const $=await zc(()=>V(e,On,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:I})=>I instanceof zp});p=!1;const S=$.transactions.find(({from:I,nonce:T})=>I===h.from&&T===h.nonce);if(!S||(d=await V(e,Hc,"getTransactionReceipt")({hash:S.hash}),t>1&&(!d.blockNumber||E-d.blockNumber+1n<t)))return;let k="replaced";S.to===h.to&&S.value===h.value?k="repriced":S.from===S.to&&S.value===0n&&(k="cancelled"),w(()=>{var I;(I=b.onReplaced)==null||I.call(b,{reason:k,replacedTransaction:h,transaction:S,transactionReceipt:d}),b.resolve(d)})}catch($){w(()=>b.reject($))}}else w(()=>b.reject(_))}finally{l++}}}})})})}function E_(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),u=o??!1;let h;return l?(()=>{const m=Ie(["watchBlocks",e.uid,t,n,r,u,c]);return Rn(m,{onBlock:i,onError:s},f=>Ns(async()=>{var g;try{const b=await V(e,On,"getBlock")({blockTag:t,includeTransactions:u});if(b.number&&(h!=null&&h.number)){if(b.number===h.number)return;if(b.number-h.number>1&&n)for(let y=(h==null?void 0:h.number)+1n;y<b.number;y++){const v=await V(e,On,"getBlock")({blockNumber:y,includeTransactions:u});f.onBlock(v,h),h=v}}(!(h!=null&&h.number)||t==="pending"&&!(b!=null&&b.number)||b.number&&b.number>h.number)&&(f.onBlock(b,h),h=b)}catch(b){(g=f.onError)==null||g.call(f,b)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,f=()=>m=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(v=>v.config.type==="webSocket");return y?y.value:e.transport}return e.transport})(),{unsubscribe:b}=await g.subscribe({params:["newHeads"],onData(y){var E,_,$;if(!m)return;const w=((($=(_=(E=e.chain)==null?void 0:E.formatters)==null?void 0:_.block)==null?void 0:$.format)||lu)(y.result);i(w,h),h=w},onError(y){s==null||s(y)}});f=b,m||f()}catch(g){s==null||s(g)}})(),()=>f()})()}function $_(e,{address:t,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:h}){const d=typeof l<"u"?l:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),p=h??!1;return d?(()=>{const g=Ie(["watchEvent",t,n,r,e.uid,i,u,o]);return Rn(g,{onLogs:c,onError:a},b=>{let y;o!==void 0&&(y=o-1n);let v,w=!1;const E=Ns(async()=>{var _;if(!w){try{v=await V(e,bm,"createEventFilter")({address:t,args:n,event:i,events:s,strict:p,fromBlock:o})}catch{}w=!0;return}try{let $;if(v)$=await V(e,ca,"getFilterChanges")({filter:v});else{const S=await V(e,Ds,"getBlockNumber")({});y&&y!==S?$=await V(e,gu,"getLogs")({address:t,args:n,event:i,events:s,fromBlock:y+1n,toBlock:S}):$=[],y=S}if($.length===0)return;if(r)b.onLogs($);else for(const S of $)b.onLogs([S])}catch($){v&&$ instanceof wr&&(w=!1),(_=b.onError)==null||_.call(b,$)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await V(e,la,"uninstallFilter")({filter:v}),E()}})})():(()=>{let g=!0,b=()=>g=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const _=e.transport.transports.find($=>$.config.type==="webSocket");return _?_.value:e.transport}return e.transport})(),v=s??(i?[i]:void 0);let w=[];v&&(w=[v.flatMap(_=>Os({abi:[_],eventName:_.name,args:n}))],i&&(w=w[0]));const{unsubscribe:E}=await y.subscribe({params:["logs",{address:t,topics:w}],onData(_){var S;if(!g)return;const $=_.result;try{const{eventName:k,args:I}=mu({abi:v??[],data:$.data,topics:$.topics,strict:p}),T=sn($,{args:I,eventName:k});c([T])}catch(k){let I,T;if(k instanceof Yi||k instanceof Zo){if(h)return;I=k.abiItem.name,T=(S=k.abiItem.inputs)==null?void 0:S.some(L=>!("name"in L&&L.name))}const U=sn($,{args:T?[]:{},eventName:I});c([U])}},onError(_){a==null||a(_)}});b=E,g||b()}catch(y){a==null||a(y)}})(),()=>b()})()}function k_(e,{batch:t=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=e.pollingInterval}){return(typeof i<"u"?i:e.transport.type!=="webSocket")?(()=>{const l=Ie(["watchPendingTransactions",e.uid,t,s]);return Rn(l,{onTransactions:r,onError:n},u=>{let h;const d=Ns(async()=>{var p;try{if(!h)try{h=await V(e,gm,"createPendingTransactionFilter")({});return}catch(f){throw d(),f}const m=await V(e,ca,"getFilterChanges")({filter:h});if(m.length===0)return;if(t)u.onTransactions(m);else for(const f of m)u.onTransactions([f])}catch(m){(p=u.onError)==null||p.call(u,m)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await V(e,la,"uninstallFilter")({filter:h}),d()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:h}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!l)return;const p=d.result;r([p])},onError(d){n==null||n(d)}});u=h,l||u()}catch(h){n==null||n(h)}})(),()=>u()})()}function S_(e){var h,d,p;const{scheme:t,statement:n,...r}=((h=e.match(A_))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=((d=e.match(C_))==null?void 0:d.groups)??{},u=(p=e.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const A_=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,C_=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function P_(e){const{address:t,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=e;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||t&&!on(r.address,t))return!1}catch{return!1}return!0}async function T_(e,t){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=t,u=S_(i);if(!u.address||!P_({address:n,domain:r,message:u,nonce:s,scheme:o,time:c}))return!1;const d=Om(i);return Iu(e,{address:u.address,hash:d,signature:a,...l})}function I_(e){return{call:t=>aa(e,t),createBlockFilter:()=>o1(e),createContractEventFilter:t=>Bp(e,t),createEventFilter:t=>bm(e,t),createPendingTransactionFilter:()=>gm(e),estimateContractGas:t=>hx(e,t),estimateGas:t=>pu(e,t),getBalance:t=>a1(e,t),getBlobBaseFee:()=>c1(e),getBlock:t=>On(e,t),getBlockNumber:t=>Ds(e,t),getBlockTransactionCount:t=>l1(e,t),getBytecode:t=>u1(e,t),getChainId:()=>Fs(e),getContractEvents:t=>rm(e,t),getEnsAddress:t=>Hx(e,t),getEnsAvatar:t=>r1(e,t),getEnsName:t=>i1(e,t),getEnsResolver:t=>s1(e,t),getEnsText:t=>mm(e,t),getFeeHistory:t=>d1(e,t),estimateFeesPerGas:t=>Qw(e,t),getFilterChanges:t=>ca(e,t),getFilterLogs:t=>f1(e,t),getGasPrice:()=>uu(e),getLogs:t=>gu(e,t),getProof:t=>F1(e,t),estimateMaxPriorityFeePerGas:t=>Xw(e,t),getStorageAt:t=>N1(e,t),getTransaction:t=>Su(e,t),getTransactionConfirmations:t=>D1(e,t),getTransactionCount:t=>Wp(e,t),getTransactionReceipt:t=>Hc(e,t),multicall:t=>j1(e,t),prepareTransactionRequest:t=>sa(e,t),readContract:t=>Bn(e,t),sendRawTransaction:t=>vu(e,t),simulateContract:t=>_x(e,t),verifyMessage:t=>w_(e,t),verifySiweMessage:t=>T_(e,t),verifyTypedData:t=>x_(e,t),uninstallFilter:t=>la(e,t),waitForTransactionReceipt:t=>__(e,t),watchBlocks:t=>E_(e,t),watchBlockNumber:t=>Gm(e,t),watchContractEvent:t=>Px(e,t),watchEvent:t=>$_(e,t),watchPendingTransactions:t=>k_(e,t)}}function Km(e){const{key:t="public",name:n="Public Client"}=e;return cm({...e,key:t,name:n,type:"publicClient"}).extend(I_)}function O_(e,t){const{abi:n,args:r,bytecode:i,...s}=t,o=Sm({abi:n,args:r,bytecode:i});return wu(e,{...s,data:o})}async function B_(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>Qo(r))}async function R_(e){return await e.request({method:"wallet_getPermissions"})}async function M_(e){return(await e.request({method:"eth_requestAccounts"},{retryCount:0})).map(n=>wn(n))}async function F_(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function N_(e,{account:t=e.account,message:n}){if(!t)throw new ua({docsPath:"/docs/actions/wallet/signMessage"});const r=lt(t);if(r.type==="local")return r.signMessage({message:n});const i=typeof n=="string"?Jo(n):n.raw instanceof Uint8Array?F(n.raw):n.raw;return e.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function D_(e,t){var l,u,h,d;const{account:n=e.account,chain:r=e.chain,...i}=t;if(!n)throw new ua({docsPath:"/docs/actions/wallet/signTransaction"});const s=lt(n);Ms({account:s,...t});const o=await V(e,Fs,"getChainId")({});r!==null&&am({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=e.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||Rs;return s.type==="local"?s.signTransaction({...i,chainId:o},{serializer:(d=(h=e.chain)==null?void 0:h.serializers)==null?void 0:d.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(i),chainId:H(o),from:s.address}]},{retryCount:0})}async function j_(e,t){const{account:n=e.account,domain:r,message:i,primaryType:s}=t;if(!n)throw new ua({docsPath:"/docs/actions/wallet/signTypedData"});const o=lt(n),a={EIP712Domain:km({domain:r}),...t.types};if($m({domain:r,message:i,primaryType:s,types:a}),o.type==="local")return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=x1({domain:r,message:i,primaryType:s,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function L_(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:H(t)}]},{retryCount:0})}async function z_(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function V_(e){return{addChain:t=>Ox(e,t),deployContract:t=>O_(e,t),getAddresses:()=>B_(e),getChainId:()=>Fs(e),getPermissions:()=>R_(e),prepareTransactionRequest:t=>sa(e,t),requestAddresses:()=>M_(e),requestPermissions:t=>F_(e,t),sendRawTransaction:t=>vu(e,t),sendTransaction:t=>wu(e,t),signMessage:t=>N_(e,t),signTransaction:t=>D_(e,t),signTypedData:t=>j_(e,t),switchChain:t=>L_(e,t),watchAsset:t=>z_(e,t),writeContract:t=>Ix(e,t)}}function U_(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return cm({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(V_)}function H_(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:i,retryDelay:s}=t;return({chain:o,retryCount:a,timeout:c})=>{var d;const l=t.retryCount??a,u=c??t.timeout??1e4,h=e||((d=o==null?void 0:o.rpcUrls.default.webSocket)==null?void 0:d[0]);if(!h)throw new um;return ha({key:n,name:r,async request({method:p,params:m}){const f={method:p,params:m},g=await fo(h,{reconnect:i}),{error:b,result:y}=await g.requestAsync({body:f,timeout:u});if(b)throw new su({body:f,error:b,url:h});return y},retryCount:l,retryDelay:s,timeout:u,type:"webSocket"},{getSocket(){return b1(h)},getRpcClient(){return fo(h)},async subscribe({params:p,onData:m,onError:f}){const g=await fo(h),{result:b}=await new Promise((y,v)=>g.request({body:{method:"eth_subscribe",params:p},onResponse(w){if(w.error){v(w.error),f==null||f(w.error);return}if(typeof w.id=="number"){y(w);return}w.method==="eth_subscription"&&m(w.params)}}));return{subscriptionId:b,async unsubscribe(){return new Promise(y=>g.request({body:{method:"eth_unsubscribe",params:[b]},onResponse:y}))}}}})}}const Tt="0x0000000000000000000000000000000000000000",q_=2n**16n-1n,W_=2n**256n-1n,G_={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},K_={block:Hp({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const i=ia(r);return i.typeHex==="0x7e"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?ue(r.mint):void 0,i.sourceHash=r.sourceHash,i.type="deposit"),i}),stateRoot:e.stateRoot}}}),transaction:Up({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?ue(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Im({format(e){return{l1GasPrice:e.l1GasPrice?ue(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?ue(e.l1GasUsed):null,l1Fee:e.l1Fee?ue(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function Y_(e,t){return X_(e)?J_(e):Rm(e,t)}const Z_={transaction:Y_};function J_(e){Q_(e);const{sourceHash:t,data:n,from:r,gas:i,isSystemTx:s,mint:o,to:a,value:c}=e,l=[t,r,a??"0x",o?F(o):"0x",c?F(c):"0x",i?F(i):"0x",s?"0x1":"0x",n??"0x"];return Dt(["0x7e",_r(l)])}function X_(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function Q_(e){const{from:t,to:n}=e;if(t&&!me(t))throw new Ae({address:t});if(n&&!me(n))throw new Ae({address:n})}const cd={contracts:G_,formatters:K_,serializers:Z_},eE=kt({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),tE=kt({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),nE=kt({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),rE=kt({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),iE=kt({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),sE=kt({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),oE=kt({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),Ou=50000n,ld=q_*32n,Ym={block:Hp({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var s;if(typeof r=="string")return r;const i=(s=Ym.transaction)==null?void 0:s.format(r);return i.typeHex==="0x71"?i.type="eip712":i.typeHex==="0xff"&&(i.type="priority"),i});return{l1BatchNumber:e.l1BatchNumber?ue(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?ue(e.l1BatchTimestamp):null,transactions:t}}}),transaction:Up({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?ue(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?ue(e.l1BatchTxIndex):null}}}),transactionReceipt:Im({format(e){return{l1BatchNumber:e.l1BatchNumber?ue(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?ue(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...sn(t),l1BatchNumber:t.l1BatchNumber?ue(t.l1BatchNumber):null,transactionLogIndex:Ft(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:ue(t.blockHash),blockHash:t.blockHash,l1BatchNumber:ue(t.l1BatchNumber),transactionIndex:ue(t.transactionIndex),shardId:ue(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:ue(t.logIndex)}))}}}),transactionRequest:Kw({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:F(e.gasPerPubdata)}:{gasPerPubdata:F(Ou)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(wt(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(wt(t)))}:{},...e.customSignature?{customSignature:Array.from(wt(e.customSignature))}:{}},type:"0x71"}:{}}})};class aE extends C{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidEip712TransactionError"})}}function Zm(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function Jm(e){const{chainId:t,to:n,from:r,paymaster:i,paymasterInput:s}=e;if(!Zm(e))throw new aE;if(!t||t<=0)throw new oa({chainId:t});if(n&&!me(n))throw new Ae({address:n});if(r&&!me(r))throw new Ae({address:r});if(i&&!me(i))throw new Ae({address:i});if(i&&!s)throw new C("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new C("`paymaster` must be provided when `paymasterInput` is defined")}function cE(e,t){return Zm(e)?uE(e):Rm(e,t)}const lE={transaction:cE};function uE(e){const{chainId:t,gas:n,nonce:r,to:i,from:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:u,paymaster:h,paymasterInput:d,gasPerPubdata:p,data:m}=e;Jm(e);const f=[r?F(r):"0x",c?F(c):"0x",a?F(a):"0x",n?F(n):"0x",i??"0x",o?F(o):"0x",m??"0x0",F(t),F(""),F(""),F(t),s??"0x",F(p||Ou),u??[],l??"0x",h&&d?[h,d]:[]];return Dt(["0x71",_r(f)])}class hE extends C{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthExceedsMaxSizeError"})}}class dE extends C{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthInWordsMustBeOddError"})}}class fE extends C{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthMustBeDivisibleBy32Error"})}}function pE(e){const t=vt(e);if(t.length%32!==0)throw new fE({givenLength:t.length});if(t.length>ld)throw new hE({givenLength:t.length,maxBytecodeSize:ld});const n=Kp(t),r=vt(n),i=t.length/32;if(i%2===0)throw new dE({givenLengthInWords:i});const s=vt(i),o=Ot(s,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(o,2),r}const mE=e=>{Jm(e);const t=bE(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function bE(e){const{gas:t,nonce:n,to:r,from:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:l,paymasterInput:u,gasPerPubdata:h,data:d}=e;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:h??Ou,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:l?BigInt(l):0n,nonce:n?BigInt(n):0n,value:s??0n,data:d||"0x0",factoryDeps:(c==null?void 0:c.map(p=>F(pE(p))))??[],paymasterInput:u||"0x"}}const gE={formatters:Ym,serializers:lE,custom:{getEip712Domain:mE}},yE=kt({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),$i=1,vE=kt({...cd,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...cd.contracts,disputeGameFactory:{[$i]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[$i]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[$i]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[$i]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:$i}),wE=kt({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),xE=kt({...gE,id:324,name:"zkSync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"zkSync Explorer",url:"https://explorer.zksync.io/"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}});var ud;(function(e){e.Eip1167="Eip1167",e.Eip1967Direct="Eip1967Direct",e.Eip1967Beacon="Eip1967Beacon",e.Eip1822="Eip1822",e.Eip897="Eip897",e.OpenZeppelin="OpenZeppelin",e.Safe="Safe",e.Comptroller="Comptroller"})(ud||(ud={}));var _E={};const ae=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_E,ve=Object.keys,Me=Array.isArray;function De(e,t){return typeof t!="object"||ve(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||ae.Promise||(ae.Promise=Promise);const ps=Object.getPrototypeOf,EE={}.hasOwnProperty;function Qe(e,t){return EE.call(e,t)}function ci(e,t){typeof t=="function"&&(t=t(ps(e))),(typeof Reflect>"u"?ve:Reflect.ownKeys)(t).forEach(n=>{Xt(e,n,t[n])})}const Xm=Object.defineProperty;function Xt(e,t,n,r){Xm(e,t,De(n&&Qe(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Hr(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Xt(e.prototype,"constructor",e),{extend:ci.bind(null,e.prototype)}}}}const $E=Object.getOwnPropertyDescriptor;function Bu(e,t){let n;return $E(e,t)||(n=ps(e))&&Bu(n,t)}const kE=[].slice;function To(e,t,n){return kE.call(e,t,n)}function Qm(e,t){return t(e)}function Ai(e){if(!e)throw new Error("Assertion Failed")}function eb(e){ae.setImmediate?setImmediate(e):setTimeout(e,0)}function tb(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function Qt(e,t){if(typeof t=="string"&&Qe(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=Qt(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a==null?void 0:Qt(a,t.substr(o+1))}}function xt(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Ai(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)xt(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),a=t.substr(s+1);if(a==="")n===void 0?Me(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var c=e[o];c&&Qe(e,o)||(c=e[o]={}),xt(c,a,n)}}else n===void 0?Me(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function nb(e){var t={};for(var n in e)Qe(e,n)&&(t[n]=e[n]);return t}const SE=[].concat;function rb(e){return SE.apply([],e)}const ib="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(rb([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>ae[e]),AE=ib.map(e=>ae[e]);tb(ib,e=>[e,!0]);let gn=null;function Ls(e){gn=typeof WeakMap<"u"&&new WeakMap;const t=Yc(e);return gn=null,t}function Yc(e){if(!e||typeof e!="object")return e;let t=gn&&gn.get(e);if(t)return t;if(Me(e)){t=[],gn&&gn.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Yc(e[n]))}else if(AE.indexOf(e.constructor)>=0)t=e;else{const s=ps(e);for(var i in t=s===Object.prototype?{}:Object.create(s),gn&&gn.set(e,t),e)Qe(e,i)&&(t[i]=Yc(e[i]))}return t}const{toString:CE}={};function Zc(e){return CE.call(e).slice(8,-1)}const Jc=typeof Symbol<"u"?Symbol.iterator:"@@iterator",PE=typeof Jc=="symbol"?function(e){var t;return e!=null&&(t=e[Jc])&&t.apply(e)}:function(){return null},Lr={};function Wt(e){var t,n,r,i;if(arguments.length===1){if(Me(e))return e.slice();if(this===Lr&&typeof e=="string")return[e];if(i=PE(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Ru=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var jt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function sb(e,t){jt=e,ob=t}var ob=()=>!0;const TE=!new Error("").stack;function Pr(){if(TE)try{throw Pr.arguments,new Error}catch(e){return e}return new Error}function Xc(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(ob).map(r=>`
`+r).join("")):""}var ab=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Mu=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ab),IE={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function qr(e,t){this._e=Pr(),this.name=e,this.message=t}function cb(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Io(e,t,n,r){this._e=Pr(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=cb(e,t)}function Ri(e,t){this._e=Pr(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=cb(e,t)}Hr(qr).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Xc(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Hr(Io).from(qr),Hr(Ri).from(qr);var Fu=Mu.reduce((e,t)=>(e[t]=t+"Error",e),{});const OE=qr;var z=Mu.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=Pr(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=IE[t]||n,this.inner=null)}return Hr(r).from(OE),e[t]=r,e},{});z.Syntax=SyntaxError,z.Type=TypeError,z.Range=RangeError;var hd=ab.reduce((e,t)=>(e[t+"Error"]=z[t],e),{}),po=Mu.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=z[t]),e),{});function se(){}function ms(e){return e}function BE(e,t){return e==null||e===ms?t:function(n){return t(e(n))}}function Er(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function RE(e,t){return e===se?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Er(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Er(i,this.onerror):i),s!==void 0?s:n}}function ME(e,t){return e===se?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Er(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Er(r,this.onerror):r)}}function FE(e,t){return e===se?t:function(n){var r=e.apply(this,arguments);De(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Er(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Er(s,this.onerror):s),r===void 0?o===void 0?void 0:o:De(r,o)}}function NE(e,t){return e===se?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Nu(e,t){return e===se?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}po.ModifyError=Io,po.DexieError=qr,po.BulkError=Ri;var bs={};const lb=100,[Qc,Oo,el]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,ps(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ps(t),e]})(),ub=Oo&&Oo.then,mo=Qc&&Qc.constructor,Du=!!el;var tl=!1,DE=el?()=>{el.then(Xs)}:ae.setImmediate?setImmediate.bind(null,Xs):ae.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Xs(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Xs,0)},Mi=function(e,t){Ci.push([e,t]),Bo&&(DE(),Bo=!1)},nl=!0,Bo=!0,ir=[],bo=[],rl=null,il=ms,Wr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:pd,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{pd(e[0],e[1])}catch{}})}},N=Wr,Ci=[],sr=0,go=[];function B(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=se,this._lib=!1;var t=this._PSD=N;if(jt&&(this._stackHolder=Pr(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==bs)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ol(this,this._value))}this._state=null,this._value=null,++t.ref,db(this,e)}const sl={get:function(){var e=N,t=Ro;function n(r,i){var s=!e.global&&(e!==N||t!==Ro);const o=s&&!an();var a=new B((c,l)=>{ju(this,new hb(Mo(r,e,s,o),Mo(i,e,s,o),c,l,e))});return jt&&mb(a,this),a}return n.prototype=bs,n},set:function(e){Xt(this,"then",e&&e.prototype===bs?sl:{get:function(){return e},set:sl.set})}};function hb(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function db(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&zs();n&&typeof n.then=="function"?db(e,(i,s)=>{n instanceof B?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,fb(e)),r&&Vs()}},ol.bind(null,e))}catch(n){ol(e,n)}}function ol(e,t){if(bo.push(t),e._state===null){var n=e._lib&&zs();t=il(t),e._state=!1,e._value=t,jt&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch{}}(()=>{var r=Bu(t,"stack");t._promise=e,Xt(t,"stack",{get:()=>tl?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){ir.some(i=>i._value===r._value)||ir.push(r)}(e),fb(e),n&&Vs()}}function fb(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ju(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),sr===0&&(++sr,Mi(()=>{--sr==0&&Lu()},[]))}function ju(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++sr,Mi(jE,[n,e,t])}else e._listeners.push(t)}function jE(e,t,n){try{rl=t;var r,i=t._value;t._state?r=e(i):(bo.length&&(bo=[]),r=e(i),bo.indexOf(i)===-1&&function(s){for(var o=ir.length;o;)if(ir[--o]._value===s._value)return void ir.splice(o,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{rl=null,--sr==0&&Lu(),--n.psd.ref||n.psd.finalize()}}function pb(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,o=e._value;o!=null?(i=o.name||"Error",s=o.message||o,r=Xc(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+r)}return jt&&((r=Xc(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&pb(e._prev,t,n)),t}function mb(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Xs(){zs()&&Vs()}function zs(){var e=nl;return nl=!1,Bo=!1,e}function Vs(){var e,t,n;do for(;Ci.length>0;)for(e=Ci,Ci=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Ci.length>0);nl=!0,Bo=!0}function Lu(){var e=ir;ir=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=go.slice(0),n=t.length;n;)t[--n]()}function Qs(e){return new B(bs,!1,e)}function ce(e,t){var n=N;return function(){var r=zs(),i=N;try{return Fn(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{Fn(i,!1),r&&Vs()}}}ci(B.prototype,{then:sl,_then:function(e,t){ju(this,new hb(null,null,e,t,N))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Qs(r)):this.then(null,r=>r&&r.name===t?n(r):Qs(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Qs(t)))},stack:{get:function(){if(this._stack)return this._stack;try{tl=!0;var e=pb(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{tl=!1}}},timeout:function(e,t){return e<1/0?new B((n,r)=>{var i=setTimeout(()=>r(new z.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Xt(B.prototype,Symbol.toStringTag,"Dexie.Promise"),Wr.env=bb(),ci(B,{all:function(){var e=Wt.apply(null,arguments).map(eo);return new B(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>B.resolve(i).then(o=>{e[s]=o,--r||t(e)},n))})},resolve:e=>{if(e instanceof B)return e;if(e&&typeof e.then=="function")return new B((n,r)=>{e.then(n,r)});var t=new B(bs,!0,e);return mb(t,rl),t},reject:Qs,race:function(){var e=Wt.apply(null,arguments).map(eo);return new B((t,n)=>{e.map(r=>B.resolve(r).then(t,n))})},PSD:{get:()=>N,set:e=>N=e},totalEchoes:{get:()=>Ro},newPSD:Mn,usePSD:bi,scheduler:{get:()=>Mi,set:e=>{Mi=e}},rejectionMapper:{get:()=>il,set:e=>{il=e}},follow:(e,t)=>new B((n,r)=>Mn((i,s)=>{var o=N;o.unhandleds=[],o.onunhandled=s,o.finalize=Er(function(){(function(a){function c(){a(),go.splice(go.indexOf(c),1)}go.push(c),++sr,Mi(()=>{--sr==0&&Lu()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),e()},t,n,r))}),mo&&(mo.allSettled&&Xt(B,"allSettled",function(){const e=Wt.apply(null,arguments).map(eo);return new B(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>B.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||t(r)))})}),mo.any&&typeof AggregateError<"u"&&Xt(B,"any",function(){const e=Wt.apply(null,arguments).map(eo);return new B((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,o)=>B.resolve(s).then(a=>t(a),a=>{i[o]=a,--r||n(new AggregateError(i))}))})}));const Re={awaits:0,echoes:0,id:0};var LE=0,yo=[],Ja=0,Ro=0,zE=0;function Mn(e,t,n,r){var i=N,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++zE;var o=Wr.env;s.env=Du?{Promise:B,PromiseProp:{value:B,configurable:!0,writable:!0},all:B.all,race:B.race,allSettled:B.allSettled,any:B.any,resolve:B.resolve,reject:B.reject,nthen:dd(o.nthen,s),gthen:dd(o.gthen,s)}:{},t&&De(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=bi(s,e,n,r);return s.ref===0&&s.finalize(),a}function mi(){return Re.id||(Re.id=++LE),++Re.awaits,Re.echoes+=lb,Re.id}function an(){return!!Re.awaits&&(--Re.awaits==0&&(Re.id=0),Re.echoes=Re.awaits*lb,!0)}function eo(e){return Re.echoes&&e&&e.constructor===mo?(mi(),e.then(t=>(an(),t),t=>(an(),_e(t)))):e}function VE(e){++Ro,Re.echoes&&--Re.echoes!=0||(Re.echoes=Re.id=0),yo.push(N),Fn(e,!0)}function UE(){var e=yo[yo.length-1];yo.pop(),Fn(e,!1)}function Fn(e,t){var n=N;if((t?!Re.echoes||Ja++&&e===N:!Ja||--Ja&&e===N)||gb(t?VE.bind(null,e):UE),e!==N&&(N=e,n===Wr&&(Wr.env=bb()),Du)){var r=Wr.env.Promise,i=e.env;Oo.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(ae,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function bb(){var e=ae.Promise;return Du?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(ae,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Oo.then,gthen:e.prototype.then}:{}}function bi(e,t,n,r,i){var s=N;try{return Fn(e,!0),t(n,r,i)}finally{Fn(s,!1)}}function gb(e){ub.call(Qc,e)}function Mo(e,t,n,r){return typeof e!="function"?e:function(){var i=N;n&&mi(),Fn(t,!0);try{return e.apply(this,arguments)}finally{Fn(i,!1),r&&gb(an)}}}function dd(e,t){return function(n,r){return e.call(this,Mo(n,t),Mo(r,t))}}(""+ub).indexOf("[native code]")===-1&&(mi=an=se);const fd="unhandledrejection";function pd(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(ae.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(fd,!0,!0),De(r,i)):ae.CustomEvent&&De(r=new CustomEvent(fd,{detail:i}),i),r&&ae.dispatchEvent&&(dispatchEvent(r),!ae.PromiseRejectionEvent&&ae.onunhandledrejection))try{ae.onunhandledrejection(r)}catch{}jt&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var _e=B.reject;function al(e,t,n,r){if(e.idbdb&&(e._state.openComplete||N.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Fu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>al(e,t,n,r))):_e(s)}return i._promise(t,(s,o)=>Mn(()=>(N.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return _e(new z.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return _e(new z.DatabaseClosed);e.open().catch(se)}return e._state.dbReadyPromise.then(()=>al(e,t,n,r))}const md="3.2.7",Qn="￿",cl=-1/0,Vt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",yb="String expected.",Fi=[],ma=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),HE=ma,qE=ma,vb=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),ba="__dbnames",Xa="readonly",Qa="readwrite";function $r(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const wb={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function to(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Ls(t))[e],t)}class WE{_trans(t,n,r){const i=this._tx||N.trans,s=this.name;function o(c,l,u){if(!u.schema[s])throw new z.NotFound("Table "+s+" not part of transaction");return n(u.idbtrans,u)}const a=zs();try{return i&&i.db===this.db?i===N.trans?i._promise(t,o,r):Mn(()=>i._promise(t,o,r),{trans:i,transless:N.transless||N}):al(this.db,t,[this.name],o)}finally{a&&Vs()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Me(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=ve(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(l=>{if(l.compound&&n.every(u=>l.keyPath.indexOf(u)>=0)){for(let u=0;u<n.length;++u)if(n.indexOf(l.keyPath[u])===-1)return!1;return!0}return!1}).sort((l,u)=>l.keyPath.length-u.keyPath.length)[0];if(r&&this.db._maxKey!==Qn){const l=r.keyPath.slice(0,n.length);return this.where(l).equals(l.map(u=>t[u]))}!r&&jt&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(l,u){try{return s.cmp(l,u)===0}catch{return!1}}const[a,c]=n.reduce(([l,u],h)=>{const d=i[h],p=t[h];return[l||d,l||!d?$r(u,d&&d.multi?m=>{const f=Qt(m,h);return Me(f)&&f.some(g=>o(p,g))}:m=>o(p,Qt(m,h))):u]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Me(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(Qe(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){De(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=to(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?B.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{xt(t,i,o)}catch{}return o})}update(t,n){if(typeof t!="object"||Me(t))return this.where(":id").equals(t).modify(n);{const r=Qt(t,this.schema.primKey.keyPath);if(r===void 0)return _e(new z.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ve(n).forEach(i=>{xt(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=to(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?B.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{xt(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?B.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:wb})).then(t=>t.numFailures?B.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&i)throw new z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let u=c&&a?t.map(to(c)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:u,wantResults:s}).then(({numFailures:h,results:d,lastResult:p,failures:m})=>{if(h===0)return s?d:p;throw new Ri(`${this.name}.bulkAdd(): ${h} of ${l} operations failed`,m)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&i)throw new z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let u=c&&a?t.map(to(c)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:u,wantResults:s}).then(({numFailures:h,results:d,lastResult:p,failures:m})=>{if(h===0)return s?d:p;throw new Ri(`${this.name}.bulkPut(): ${h} of ${l} operations failed`,m)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new Ri(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Ni(e){var t={},n=function(o,a){if(a){for(var c=arguments.length,l=new Array(c-1);--c;)l[c-1]=arguments[c];return t[o].subscribe.apply(null,l),e}if(typeof o=="string")return t[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,a,c){if(typeof o!="object"){var l;a||(a=NE),c||(c=se);var u={subscribers:[],fire:c,subscribe:function(h){u.subscribers.indexOf(h)===-1&&(u.subscribers.push(h),u.fire=a(u.fire,h))},unsubscribe:function(h){u.subscribers=u.subscribers.filter(function(d){return d!==h}),u.fire=u.subscribers.reduce(a,c)}};return t[o]=n[o]=u,u}ve(l=o).forEach(function(h){var d=l[h];if(Me(d))s(h,l[h][0],l[h][1]);else{if(d!=="asap")throw new z.InvalidArgument("Invalid event config");var p=s(h,ms,function(){for(var m=arguments.length,f=new Array(m);m--;)f[m]=arguments[m];p.subscribers.forEach(function(g){eb(function(){g.apply(null,f)})})})}})}}function ki(e,t){return Hr(t).from({prototype:e}),t}function Fr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function ec(e,t){e.filter=$r(e.filter,t)}function tc(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>$r(r(),t()):t,e.justLimit=n&&!r}function vo(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new z.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function bd(e,t,n){const r=vo(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function no(e,t,n,r){const i=e.replayFilter?$r(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(a,c,l)=>{if(!i||i(c,l,d=>c.stop(d),d=>c.fail(d))){var u=c.primaryKey,h=""+u;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(u)),Qe(s,h)||(s[h]=!0,t(a,c,l))}};return Promise.all([e.or._iterate(o,n),gd(bd(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return gd(bd(e,r,n),$r(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function gd(e,t,n,r){var i=ce(r?(s,o,a)=>n(r(s),o,a):n);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,a=>o=a,a=>{s.stop(a),o=se},a=>{s.fail(a),o=se})||i(s.value,s,a=>o=a),o()})})}function Fe(e,t){try{const n=yd(e),r=yd(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,c=o<a?o:a;for(let l=0;l<c;++l)if(i[l]!==s[l])return i[l]<s[l]?-1:1;return o===a?0:o<a?-1:1}(vd(e),vd(t));case"Array":return function(i,s){const o=i.length,a=s.length,c=o<a?o:a;for(let l=0;l<c;++l){const u=Fe(i[l],s[l]);if(u!==0)return u}return o===a?0:o<a?-1:1}(e,t)}}catch{}return NaN}function yd(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=Zc(e);return n==="ArrayBuffer"?"binary":n}function vd(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class GE{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,_e.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,_e.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=$r(n.algorithm,t)}_iterate(t,n){return no(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&De(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>no(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Fr(r,!0))return i.count({trans:n,query:{index:vo(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return no(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function o(l,u){return u?o(l[r[u]],u-1):l[i]}var a=this._ctx.dir==="next"?1:-1;function c(l,u){var h=o(l,s),d=o(u,s);return h<d?-a:h>d?a:0}return this.toArray(function(l){return l.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Fr(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=vo(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return no(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Fr(n)?tc(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):tc(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),tc(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return ec(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return ec(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=$r(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Fr(n,!0)&&n.limit>0)return this._read(i=>{var s=vo(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return ec(this._ctx,function(i){var s=i.primaryKey.toString(),o=Qe(r,s);return r[s]=!0,!o}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=ve(t),o=s.length;i=function(f){for(var g=!1,b=0;b<o;++b){var y=s[b],v=t[y];Qt(f,y)!==v&&(xt(f,y,v),g=!0)}return g}}const a=n.table.core,{outbound:c,extractKey:l}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,h=[];let d=0;const p=[],m=(f,g)=>{const{failures:b,numFailures:y}=g;d+=f-y;for(let v of ve(b))h.push(b[v])};return this.clone().primaryKeys().then(f=>{const g=b=>{const y=Math.min(u,f.length-b);return a.getMany({trans:r,keys:f.slice(b,b+y),cache:"immutable"}).then(v=>{const w=[],E=[],_=c?[]:null,$=[];for(let k=0;k<y;++k){const I=v[k],T={value:Ls(I),primKey:f[b+k]};i.call(T,T.value,T)!==!1&&(T.value==null?$.push(f[b+k]):c||Fe(l(I),l(T.value))===0?(E.push(T.value),c&&_.push(f[b+k])):($.push(f[b+k]),w.push(T.value)))}const S=Fr(n)&&n.limit===1/0&&(typeof t!="function"||t===nc)&&{index:n.index,range:n.range};return Promise.resolve(w.length>0&&a.mutate({trans:r,type:"add",values:w}).then(k=>{for(let I in k.failures)$.splice(parseInt(I),1);m(w.length,k)})).then(()=>(E.length>0||S&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:_,values:E,criteria:S,changeSpec:typeof t!="function"&&t}).then(k=>m(E.length,k))).then(()=>($.length>0||S&&t===nc)&&a.mutate({trans:r,type:"delete",keys:$,criteria:S}).then(k=>m($.length,k))).then(()=>f.length>b+y&&g(b+u))})};return g(0).then(()=>{if(h.length>0)throw new Io("Error modifying one or more objects",h,d,p);return f.length})})})}delete(){var t=this._ctx,n=t.range;return Fr(t)&&(t.isPrimKey&&!qE||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:c,results:l,numFailures:u})=>{if(u)throw new Io("Could not delete some values",Object.keys(a).map(h=>a[h]),o-u);return o-u}))}):this.modify(nc)}}const nc=(e,t)=>t.value=null;function KE(e,t){return e<t?-1:e===t?0:1}function YE(e,t){return e>t?-1:e===t?0:1}function Ze(e,t,n){var r=e instanceof _b?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Nr(e){return new e.Collection(e,()=>xb("")).limit(0)}function ZE(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),a=-1,c=0;c<o;++c){var l=t[c];if(l!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[c],l)<0&&(a=c)}return o<r.length&&s==="next"?e+n.substr(e.length):o<e.length&&s==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function ro(e,t,n,r){var i,s,o,a,c,l,u,h=n.length;if(!n.every(f=>typeof f=="string"))return Ze(e,yb);function d(f){i=function(b){return b==="next"?y=>y.toUpperCase():y=>y.toLowerCase()}(f),s=function(b){return b==="next"?y=>y.toLowerCase():y=>y.toUpperCase()}(f),o=f==="next"?KE:YE;var g=n.map(function(b){return{lower:s(b),upper:i(b)}}).sort(function(b,y){return o(b.lower,y.lower)});a=g.map(function(b){return b.upper}),c=g.map(function(b){return b.lower}),l=f,u=f==="next"?"":r}d("next");var p=new e.Collection(e,()=>bn(a[0],c[h-1]+r));p._ondirectionchange=function(f){d(f)};var m=0;return p._addAlgorithm(function(f,g,b){var y=f.key;if(typeof y!="string")return!1;var v=s(y);if(t(v,c,m))return!0;for(var w=null,E=m;E<h;++E){var _=ZE(y,v,a[E],c[E],o,l);_===null&&w===null?m=E+1:(w===null||o(w,_)>0)&&(w=_)}return g(w!==null?function(){f.continue(w+u)}:b),!1}),p}function bn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function xb(e){return{type:1,lower:e,upper:e}}class _b{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?Nr(this):new this.Collection(this,()=>bn(t,n,!r,!i))}catch{return Ze(this,Vt)}}equals(t){return t==null?Ze(this,Vt):new this.Collection(this,()=>xb(t))}above(t){return t==null?Ze(this,Vt):new this.Collection(this,()=>bn(t,void 0,!0))}aboveOrEqual(t){return t==null?Ze(this,Vt):new this.Collection(this,()=>bn(t,void 0,!1))}below(t){return t==null?Ze(this,Vt):new this.Collection(this,()=>bn(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Ze(this,Vt):new this.Collection(this,()=>bn(void 0,t))}startsWith(t){return typeof t!="string"?Ze(this,yb):this.between(t,t+Qn,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):ro(this,(n,r)=>n.indexOf(r[0])===0,[t],Qn)}equalsIgnoreCase(t){return ro(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Wt.apply(Lr,arguments);return t.length===0?Nr(this):ro(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Wt.apply(Lr,arguments);return t.length===0?Nr(this):ro(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,Qn)}anyOf(){const t=Wt.apply(Lr,arguments);let n=this._cmp;try{t.sort(n)}catch{return Ze(this,Vt)}if(t.length===0)return Nr(this);const r=new this.Collection(this,()=>bn(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,o,a)=>{const c=s.key;for(;n(c,t[i])>0;)if(++i,i===t.length)return o(a),!1;return n(c,t[i])===0||(o(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[cl,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Wt.apply(Lr,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Ze(this,Vt)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[cl,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(t.length===0)return Nr(this);if(!t.every(y=>y[0]!==void 0&&y[1]!==void 0&&i(y[0],y[1])<=0))return Ze(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",z.InvalidArgument);const c=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;let u,h=i;function d(y,v){return h(y[0],v[0])}try{u=t.reduce(function(y,v){let w=0,E=y.length;for(;w<E;++w){const _=y[w];if(r(v[0],_[1])<0&&r(v[1],_[0])>0){_[0]=o(_[0],v[0]),_[1]=a(_[1],v[1]);break}}return w===E&&y.push(v),y},[]),u.sort(d)}catch{return Ze(this,Vt)}let p=0;const m=l?y=>i(y,u[p][1])>0:y=>i(y,u[p][1])>=0,f=c?y=>s(y,u[p][0])>0:y=>s(y,u[p][0])>=0;let g=m;const b=new this.Collection(this,()=>bn(u[0][0],u[u.length-1][1],!c,!l));return b._ondirectionchange=y=>{y==="next"?(g=m,h=i):(g=f,h=s),u.sort(d)},b._addAlgorithm((y,v,w)=>{for(var E=y.key;g(E);)if(++p,p===u.length)return v(w),!1;return!!function(_){return!m(_)&&!f(_)}(E)||(this._cmp(E,u[p][1])===0||this._cmp(E,u[p][0])===0||v(()=>{h===i?y.continue(u[p][0]):y.continue(u[p][1])}),!1)}),b}startsWithAnyOf(){const t=Wt.apply(Lr,arguments);return t.every(n=>typeof n=="string")?t.length===0?Nr(this):this.inAnyRange(t.map(n=>[n,n+Qn])):Ze(this,"startsWithAnyOf() only works with strings")}}function Pt(e){return ce(function(t){return gs(t),e(t.target.error),!1})}function gs(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const ys="storagemutated",yn="x-storagemutated-1",Nn=Ni(null,ys);class JE{_lock(){return Ai(!N.global),++this._reculock,this._reculock!==1||N.global||(N.lockOwnerFor=this),this}_unlock(){if(Ai(!N.global),--this._reculock==0)for(N.global||(N.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{bi(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&N.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Ai(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new z.DatabaseClosed(r);case"MissingAPIError":throw new z.MissingAPI(r.message,r);default:throw new z.OpenFailed(r)}if(!this.active)throw new z.TransactionInactive;return Ai(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ce(i=>{gs(i),this._reject(t.error)}),t.onabort=ce(i=>{gs(i),this.active&&this._reject(new z.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=ce(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Nn.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return _e(new z.ReadOnly("Transaction is readonly"));if(!this.active)return _e(new z.TransactionInactive);if(this._locked())return new B((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,o)},N])});if(r)return Mn(()=>{var s=new B((o,a)=>{this._lock();const c=n(o,a,this);c&&c.then&&c.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new B((s,o)=>{var a=n(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=B.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new B((o,a)=>{r.then(c=>n._waitingQueue.push(ce(o.bind(null,c))),c=>n._waitingQueue.push(ce(a.bind(null,c)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new z.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Qe(n,t))return n[t];const r=this.schema[t];if(!r)throw new z.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function ll(e,t,n,r,i,s,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+Eb(t)}}function Eb(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function $b(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:tb(n,r=>[r.name,r])}}let vs=e=>{try{return e.only([[]]),vs=()=>[[]],[[]]}catch{return vs=()=>Qn,Qn}};function ul(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Qt(r,t)}(e):t=>Qt(t,e)}function wd(e){return[].slice.call(e)}let XE=0;function Di(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function QE(e,t,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:l,upper:u,lowerOpen:h,upperOpen:d}=c;return l===void 0?u===void 0?null:t.upperBound(u,!!d):u===void 0?t.lowerBound(l,!!h):t.bound(l,u,!!h,!!d)}const{schema:i,hasGetAll:s}=function(c,l){const u=wd(c.objectStoreNames);return{schema:{name:c.name,tables:u.map(h=>l.objectStore(h)).map(h=>{const{keyPath:d,autoIncrement:p}=h,m=Me(d),f=d==null,g={},b={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:f,compound:m,keyPath:d,autoIncrement:p,unique:!0,extractKey:ul(d)},indexes:wd(h.indexNames).map(y=>h.index(y)).map(y=>{const{name:v,unique:w,multiEntry:E,keyPath:_}=y,$={name:v,compound:Me(_),keyPath:_,unique:w,multiEntry:E,extractKey:ul(_)};return g[Di(_)]=$,$}),getIndexByKeyPath:y=>g[Di(y)]};return g[":id"]=b.primaryKey,d!=null&&(g[Di(d)]=b.primaryKey),b})},hasGetAll:u.length>0&&"getAll"in l.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=i.tables.map(c=>function(l){const u=l.name;return{name:u,schema:l,mutate:function({trans:h,type:d,keys:p,values:m,range:f}){return new Promise((g,b)=>{g=ce(g);const y=h.objectStore(u),v=y.keyPath==null,w=d==="put"||d==="add";if(!w&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:E}=p||m||{length:1};if(p&&m&&p.length!==m.length)throw new Error("Given keys array must have same length as given values array.");if(E===0)return g({numFailures:0,failures:{},results:[],lastResult:void 0});let _;const $=[],S=[];let k=0;const I=U=>{++k,gs(U)};if(d==="deleteRange"){if(f.type===4)return g({numFailures:k,failures:S,results:[],lastResult:void 0});f.type===3?$.push(_=y.clear()):$.push(_=y.delete(r(f)))}else{const[U,L]=w?v?[m,p]:[m,null]:[p,null];if(w)for(let K=0;K<E;++K)$.push(_=L&&L[K]!==void 0?y[d](U[K],L[K]):y[d](U[K])),_.onerror=I;else for(let K=0;K<E;++K)$.push(_=y[d](U[K])),_.onerror=I}const T=U=>{const L=U.target.result;$.forEach((K,P)=>K.error!=null&&(S[P]=K.error)),g({numFailures:k,failures:S,results:d==="delete"?p:$.map(K=>K.result),lastResult:L})};_.onerror=U=>{I(U),T(U)},_.onsuccess=T})},getMany:({trans:h,keys:d})=>new Promise((p,m)=>{p=ce(p);const f=h.objectStore(u),g=d.length,b=new Array(g);let y,v=0,w=0;const E=$=>{const S=$.target;b[S._pos]=S.result,++w===v&&p(b)},_=Pt(m);for(let $=0;$<g;++$)d[$]!=null&&(y=f.get(d[$]),y._pos=$,y.onsuccess=E,y.onerror=_,++v);v===0&&p(b)}),get:({trans:h,key:d})=>new Promise((p,m)=>{p=ce(p);const f=h.objectStore(u).get(d);f.onsuccess=g=>p(g.target.result),f.onerror=Pt(m)}),query:function(h){return d=>new Promise((p,m)=>{p=ce(p);const{trans:f,values:g,limit:b,query:y}=d,v=b===1/0?void 0:b,{index:w,range:E}=y,_=f.objectStore(u),$=w.isPrimaryKey?_:_.index(w.name),S=r(E);if(b===0)return p({result:[]});if(h){const k=g?$.getAll(S,v):$.getAllKeys(S,v);k.onsuccess=I=>p({result:I.target.result}),k.onerror=Pt(m)}else{let k=0;const I=g||!("openKeyCursor"in $)?$.openCursor(S):$.openKeyCursor(S),T=[];I.onsuccess=U=>{const L=I.result;return L?(T.push(g?L.value:L.primaryKey),++k===b?p({result:T}):void L.continue()):p({result:T})},I.onerror=Pt(m)}})}(s),openCursor:function({trans:h,values:d,query:p,reverse:m,unique:f}){return new Promise((g,b)=>{g=ce(g);const{index:y,range:v}=p,w=h.objectStore(u),E=y.isPrimaryKey?w:w.index(y.name),_=m?f?"prevunique":"prev":f?"nextunique":"next",$=d||!("openKeyCursor"in E)?E.openCursor(r(v),_):E.openKeyCursor(r(v),_);$.onerror=Pt(b),$.onsuccess=ce(S=>{const k=$.result;if(!k)return void g(null);k.___id=++XE,k.done=!1;const I=k.continue.bind(k);let T=k.continuePrimaryKey;T&&(T=T.bind(k));const U=k.advance.bind(k),L=()=>{throw new Error("Cursor not stopped")};k.trans=h,k.stop=k.continue=k.continuePrimaryKey=k.advance=()=>{throw new Error("Cursor not started")},k.fail=ce(b),k.next=function(){let K=1;return this.start(()=>K--?this.continue():this.stop()).then(()=>this)},k.start=K=>{const P=new Promise((D,Y)=>{D=ce(D),$.onerror=Pt(Y),k.fail=Y,k.stop=Z=>{k.stop=k.continue=k.continuePrimaryKey=k.advance=L,D(Z)}}),O=()=>{if($.result)try{K()}catch(D){k.fail(D)}else k.done=!0,k.start=()=>{throw new Error("Cursor behind last entry")},k.stop()};return $.onsuccess=ce(D=>{$.onsuccess=O,O()}),k.continue=I,k.continuePrimaryKey=T,k.advance=U,O(),P},g(k)},b)})},count({query:h,trans:d}){const{index:p,range:m}=h;return new Promise((f,g)=>{const b=d.objectStore(u),y=p.isPrimaryKey?b:b.index(p.name),v=r(m),w=v?y.count(v):y.count();w.onsuccess=ce(E=>f(E.target.result)),w.onerror=Pt(g)})}}}(c)),a={};return o.forEach(c=>a[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!a[c])throw new Error(`Table '${c}' not found`);return a[c]},MIN_KEY:-1/0,MAX_KEY:vs(t),schema:i}}function hl({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},c){return{dbcore:function(u,h){return h.reduce((d,{create:p})=>({...d,...p(d)}),u)}(QE(s,o,c),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(o=>o.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function Fo({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(o=>{const a=Bu(o,i);(!a||"value"in a&&a.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?Xt(o,i,{get(){return this.table(i)},set(c){Xm(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new e.Table(i,s))})})}function dl({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function e$(e,t){return e._cfg.version-t._cfg.version}function t$(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),a=N.transless||N;Mn(()=>{N.trans=s,N.transless=a,t===0?(ve(i).forEach(c=>{rc(n,c,i[c].primKey,i[c].indexes)}),hl(e,n),B.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:c},l,u,h){const d=[],p=c._versions;let m=c._dbSchema=pl(c,c.idbdb,h),f=!1;const g=p.filter(y=>y._cfg.version>=l);function b(){return d.length?B.resolve(d.shift()(u.idbtrans)).then(b):B.resolve()}return g.forEach(y=>{d.push(()=>{const v=m,w=y._cfg.dbschema;ml(c,v,h),ml(c,w,h),m=c._dbSchema=w;const E=kb(v,w);E.add.forEach($=>{rc(h,$[0],$[1].primKey,$[1].indexes)}),E.change.forEach($=>{if($.recreate)throw new z.Upgrade("Not yet support for changing primary key");{const S=h.objectStore($.name);$.add.forEach(k=>fl(S,k)),$.change.forEach(k=>{S.deleteIndex(k.name),fl(S,k)}),$.del.forEach(k=>S.deleteIndex(k))}});const _=y._cfg.contentUpgrade;if(_&&y._cfg.version>l){hl(c,h),u._memoizedTables={},f=!0;let $=nb(w);E.del.forEach(T=>{$[T]=v[T]}),dl(c,[c.Transaction.prototype]),Fo(c,[c.Transaction.prototype],ve($),$),u.schema=$;const S=Ru(_);let k;S&&mi();const I=B.follow(()=>{if(k=_(u),k&&S){var T=an.bind(null,null);k.then(T,T)}});return k&&typeof k.then=="function"?B.resolve(k):I.then(()=>k)}}),d.push(v=>{(!f||!HE)&&function(w,E){[].slice.call(E.db.objectStoreNames).forEach(_=>w[_]==null&&E.db.deleteObjectStore(_))}(y._cfg.dbschema,v),dl(c,[c.Transaction.prototype]),Fo(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),u.schema=c._dbSchema})}),b().then(()=>{var y,v;v=h,ve(y=m).forEach(w=>{v.db.objectStoreNames.contains(w)||rc(v,w,y[w].primKey,y[w].indexes)})})}(e,t,s,n).catch(o)})}function kb(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!ma)o.recreate=!0,n.change.push(o);else{const a=i.idxByName,c=s.idxByName;let l;for(l in a)c[l]||o.del.push(l);for(l in c){const u=a[l],h=c[l];u?u.src!==h.src&&o.change.push(h):o.add.push(h)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function rc(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>fl(i,s)),i}function fl(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function pl(e,t,n){const r={};return To(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const a=ll(Eb(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),c=[];for(let u=0;u<s.indexNames.length;++u){const h=s.index(s.indexNames[u]);o=h.keyPath;var l=ll(h.name,o,!!h.unique,!!h.multiEntry,!1,o&&typeof o!="string",!1);c.push(l)}r[i]=$b(i,a,c)}),r}function ml({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);e._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const c=o.indexNames[a],l=o.index(c).keyPath,u=typeof l=="string"?l:"["+To(l).join("+")+"]";if(t[s]){const h=t[s].idxByName[u];h&&(h.name=c,delete t[s].idxByName[u],t[s].idxByName[c]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ae.WorkerGlobalScope&&ae instanceof ae.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class n${_parseStoresSpec(t,n){ve(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((o,a)=>{const c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return ll(c,l||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),Me(l),a===0)}),s=i.shift();if(s.multi)throw new z.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new z.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new z.Schema("Index must have a name and cannot be an empty string")}),n[r]=$b(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?De(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(o=>{De(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,dl(n,[n._allTables,n,n.Transaction.prototype]),Fo(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ve(s),s),n._storeNames=ve(s),this}upgrade(t){return this._cfg.contentUpgrade=Nu(this._cfg.contentUpgrade||se,t),this}}function zu(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new or(ba,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Vu(e){return e&&typeof e.databases=="function"}function bl(e){return Mn(function(){return N.letThrough=!0,e()})}function r$(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function i$(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?_e(t.dbOpenError):e);jt&&(t.openCanceller._stackHolder=Pr()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new z.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,a=!1;const c=()=>new B((l,u)=>{if(i(),!n)throw new z.MissingAPI;const h=e.name,d=t.autoSchema?n.open(h):n.open(h,Math.round(10*e.verno));if(!d)throw new z.MissingAPI;d.onerror=Pt(u),d.onblocked=ce(e._fireOnBlocked),d.onupgradeneeded=ce(p=>{if(o=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=gs,o.abort(),d.result.close();const f=n.deleteDatabase(h);f.onsuccess=f.onerror=ce(()=>{u(new z.NoSuchDatabase(`Database ${h} doesnt exist`))})}else{o.onerror=Pt(u);var m=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;a=m<1,e._novip.idbdb=d.result,t$(e,m/10,o,u)}},u),d.onsuccess=ce(()=>{o=null;const p=e._novip.idbdb=d.result,m=To(p.objectStoreNames);if(m.length>0)try{const g=p.transaction((f=m).length===1?f[0]:f,"readonly");t.autoSchema?function({_novip:b},y,v){b.verno=y.version/10;const w=b._dbSchema=pl(0,y,v);b._storeNames=To(y.objectStoreNames,0),Fo(b,[b._allTables],ve(w),w)}(e,p,g):(ml(e,e._dbSchema,g),function(b,y){const v=kb(pl(0,b.idbdb,y),b._dbSchema);return!(v.add.length||v.change.some(w=>w.add.length||w.change.length))}(e,g)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),hl(e,g)}catch{}var f;Fi.push(e),p.onversionchange=ce(g=>{t.vcFired=!0,e.on("versionchange").fire(g)}),p.onclose=ce(g=>{e.on("close").fire(g)}),a&&function({indexedDB:g,IDBKeyRange:b},y){!Vu(g)&&y!==ba&&zu(g,b).put({name:y}).catch(se)}(e._deps,h),l()},u)}).catch(l=>l&&l.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):B.reject(l));return B.race([r,(typeof navigator>"u"?B.resolve():r$()).then(c)]).then(()=>(i(),t.onReadyBeingFired=[],B.resolve(bl(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(Nu,se);return t.onReadyBeingFired=[],B.resolve(bl(()=>u(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),_e(l)}).finally(()=>{t.openComplete=!0,s()})}function gl(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return o=>{var a=s(o),c=a.value;return a.done?c:c&&typeof c.then=="function"?c.then(n,r):Me(c)?Promise.all(c).then(n,r):n(c)}}return i(t)()}function s$(e,t,n){var r=arguments.length;if(r<2)throw new z.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,rb(i),n]}function Sb(e,t,n,r,i){return B.resolve().then(()=>{const s=N.transless||N,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(h){return h.name===Fu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Sb(e,t,n,null,i))):_e(h)}const c=Ru(i);let l;c&&mi();const u=B.follow(()=>{if(l=i.call(o,o),l)if(c){var h=an.bind(null,null);l.then(h,h)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=gl(l))},a);return(l&&typeof l.then=="function"?B.resolve(l).then(h=>o.active?h:_e(new z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>l)).then(h=>(r&&o._resolve(),o._completion.then(()=>h))).catch(h=>(o._reject(h),_e(h)))})}function io(e,t,n){const r=Me(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const o$={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function o(u,h,d){const p=Di(u),m=i[p]=i[p]||[],f=u==null?0:typeof u=="string"?1:u.length,g=h>0,b={...d,isVirtual:g,keyTail:h,keyLength:f,extractKey:ul(u),unique:!g&&d.unique};return m.push(b),b.isPrimaryKey||s.push(b),f>1&&o(f===2?u[0]:u.slice(0,f-1),h+1,d),m.sort((y,v)=>y.keyTail-v.keyTail),b}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const u of r.indexes)o(u.keyPath,0,u);function c(u){const h=u.query.index;return h.isVirtual?{...u,query:{index:h,range:(d=u.query.range,p=h.keyTail,{type:d.type===1?2:d.type,lower:io(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:io(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:u;var d,p}return{...n,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(u){const h=i[Di(u)];return h&&h[0]}},count:u=>n.count(c(u)),query:u=>n.query(c(u)),openCursor(u){const{keyTail:h,isVirtual:d,keyLength:p}=u.query.index;return d?n.openCursor(c(u)).then(m=>m&&function(f){return Object.create(f,{continue:{value:function(b){b!=null?f.continue(io(b,u.reverse?e.MAX_KEY:e.MIN_KEY,h)):u.unique?f.continue(f.key.slice(0,p).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,h)):f.continue()}},continuePrimaryKey:{value(b,y){f.continuePrimaryKey(io(b,e.MAX_KEY,h),y)}},primaryKey:{get:()=>f.primaryKey},key:{get(){const b=f.key;return p===1?b[0]:b.slice(0,p)}},value:{get:()=>f.value}})}(m)):n.openCursor(u)}}}}}};function Uu(e,t,n,r){return n=n||{},r=r||"",ve(e).forEach(i=>{if(Qe(t,i)){var s=e[i],o=t[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=Zc(s);a!==Zc(o)?n[r+i]=t[i]:a==="Object"?Uu(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i])}else s!==o&&(n[r+i]=t[i])}else n[r+i]=void 0}),ve(t).forEach(i=>{Qe(e,i)||(n[r+i]=t[i])}),n}const a$={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=N.trans,{deleting:a,creating:c,updating:l}=o.table(t).hook;switch(s.type){case"add":if(c.fire===se)break;return o._promise("readwrite",()=>u(s),!0);case"put":if(c.fire===se&&l.fire===se)break;return o._promise("readwrite",()=>u(s),!0);case"delete":if(a.fire===se)break;return o._promise("readwrite",()=>u(s),!0);case"deleteRange":if(a.fire===se)break;return o._promise("readwrite",()=>function(d){return h(d.trans,d.range,1e4)}(s),!0)}return n.mutate(s);function u(d){const p=N.trans,m=d.keys||function(f,g){return g.type==="delete"?g.keys:g.keys||g.values.map(f.extractKey)}(r,d);if(!m)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:m}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(f,g,b){return g.type==="add"?Promise.resolve([]):f.getMany({trans:g.trans,keys:b,cache:"immutable"})}(n,d,m).then(f=>{const g=m.map((b,y)=>{const v=f[y],w={onerror:null,onsuccess:null};if(d.type==="delete")a.fire.call(w,b,v,p);else if(d.type==="add"||v===void 0){const E=c.fire.call(w,b,d.values[y],p);b==null&&E!=null&&(b=E,d.keys[y]=b,r.outbound||xt(d.values[y],r.keyPath,b))}else{const E=Uu(v,d.values[y]),_=l.fire.call(w,E,b,v,p);if(_){const $=d.values[y];Object.keys(_).forEach(S=>{Qe($,S)?$[S]=_[S]:xt($,S,_[S])})}}return w});return n.mutate(d).then(({failures:b,results:y,numFailures:v,lastResult:w})=>{for(let E=0;E<m.length;++E){const _=y?y[E]:m[E],$=g[E];_==null?$.onerror&&$.onerror(b[E]):$.onsuccess&&$.onsuccess(d.type==="put"&&f[E]?d.values[E]:_)}return{failures:b,results:y,numFailures:v,lastResult:w}}).catch(b=>(g.forEach(y=>y.onerror&&y.onerror(b)),Promise.reject(b)))})}function h(d,p,m){return n.query({trans:d,values:!1,query:{index:r,range:p},limit:m}).then(({result:f})=>u({type:"delete",keys:f,trans:d}).then(g=>g.numFailures>0?Promise.reject(g.failures[0]):f.length<m?{failures:[],numFailures:0,lastResult:void 0}:h(d,{...p,lower:f[f.length-1],lowerOpen:!0},m)))}}}}})};function Ab(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)Fe(t.keys[i],e[s])===0&&(r.push(n?Ls(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const c$={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=Ab(r.keys,r.trans._cache,r.cache==="clone");return i?B.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Ls(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Hu(e){return!("from"in e)}const Ut=function(e,t){if(!this){const n=new Ut;return e&&"d"in e&&De(n,e),n}De(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ws(e,t,n){const r=Fe(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Hu(e))return De(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(Fe(n,e.from)<0)return i?ws(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},xd(e);if(Fe(t,e.to)>0)return s?ws(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},xd(e);Fe(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Fe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&No(e,i),s&&o&&No(e,s)}function No(e,t){Hu(t)||function n(r,{from:i,to:s,l:o,r:a}){ws(r,i,s),o&&n(r,o),a&&n(r,a)}(e,t)}function l$(e,t){const n=yl(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=yl(e);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(Fe(a.from,i.to)<=0&&Fe(a.to,i.from)>=0)return!0;Fe(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function yl(e){let t=Hu(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Fe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Fe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function xd(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...e},a=e[i];e.from=a.from,e.to=a.to,e[i]=a[i],o[i]=a[s],e[s]=o,o.d=_d(o)}e.d=_d(e)}function _d({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}ci(Ut.prototype,{add(e){return No(this,e),this},addKey(e){return ws(this,e,e),this},addKeys(e){return e.forEach(t=>ws(this,t,t)),this},[Jc](){return yl(this)}});const u$={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Ut(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:c}=o,l={...i,mutate:d=>{const p=d.trans,m=p.mutatedParts||(p.mutatedParts={}),f=_=>{const $=`idb://${t}/${r}/${_}`;return m[$]||(m[$]=new Ut)},g=f(""),b=f(":dels"),{type:y}=d;let[v,w]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const E=d.trans._cache;return i.mutate(d).then(_=>{if(Me(v)){y!=="delete"&&(v=_.results),g.addKeys(v);const $=Ab(v,E);$||y==="add"||b.addKeys(v),($||w)&&function(S,k,I,T){function U(L){const K=S(L.name||"");function P(D){return D!=null?L.extractKey(D):null}const O=D=>L.multiEntry&&Me(D)?D.forEach(Y=>K.addKey(Y)):K.addKey(D);(I||T).forEach((D,Y)=>{const Z=I&&P(I[Y]),he=T&&P(T[Y]);Fe(Z,he)!==0&&(Z!=null&&O(Z),he!=null&&O(he))})}k.indexes.forEach(U)}(f,s,$,w)}else if(v){const $={from:v.lower,to:v.upper};b.add($),g.add($)}else g.add(n),b.add(n),s.indexes.forEach($=>f($.name).add(n));return _})}},u=({query:{index:d,range:p}})=>{var m,f;return[d,new Ut((m=p.lower)!==null&&m!==void 0?m:e.MIN_KEY,(f=p.upper)!==null&&f!==void 0?f:e.MAX_KEY)]},h={get:d=>[o,new Ut(d.key)],getMany:d=>[o,new Ut().addKeys(d.keys)],count:u,query:u,openCursor:u};return ve(h).forEach(d=>{l[d]=function(p){const{subscr:m}=N;if(m){const f=w=>{const E=`idb://${t}/${r}/${w}`;return m[E]||(m[E]=new Ut)},g=f(""),b=f(":dels"),[y,v]=h[d](p);if(f(y.name||"").add(v),!y.isPrimaryKey){if(d!=="count"){const w=d==="query"&&c&&p.values&&i.query({...p,values:!1});return i[d].apply(this,arguments).then(E=>{if(d==="query"){if(c&&p.values)return w.then(({result:$})=>(g.addKeys($),E));const _=p.values?E.result.map(a):E.result;p.values?g.addKeys(_):b.addKeys(_)}else if(d==="openCursor"){const _=E,$=p.values;return _&&Object.create(_,{key:{get:()=>(b.addKey(_.primaryKey),_.key)},primaryKey:{get(){const S=_.primaryKey;return b.addKey(S),S}},value:{get:()=>($&&g.addKey(_.primaryKey),_.value)}})}return E})}b.add(n)}}return i[d].apply(this,arguments)}}),l}}}};class or{constructor(t,n){this._middlewares={},this.verno=0;const r=or.dependencies;this._options=n={addons:or.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:se,dbReadyPromise:null,cancelOpen:se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new B(a=>{s.dbReadyResolve=a}),s.openCanceller=new B((a,c)=>{s.cancelOpen=c}),this._state=s,this.name=t,this.on=Ni(this,"populate","blocked","versionchange","close",{ready:[Nu,se]}),this.on.ready.subscribe=Qm(this.on.ready.subscribe,a=>(c,l)=>{or.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||B.resolve().then(c),l&&a(c);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(c),l&&a(c);else{a(c);const h=this;l||a(function d(){h.on.ready.unsubscribe(c),h.on.ready.unsubscribe(d)})}})}),this.Collection=(o=this,ki(GE.prototype,function(a,c){this.db=o;let l=wb,u=null;if(c)try{l=c()}catch(m){u=m}const h=a._ctx,d=h.table,p=d.hook.reading.fire;this._ctx={table:d,index:h.index,isPrimKey:!h.index||d.schema.primKey.keyPath&&h.index===d.schema.primKey.name,range:l,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:h.or,valueMapper:p!==ms?p:null}})),this.Table=function(a){return ki(WE.prototype,function(c,l,u){this.db=a,this._tx=u,this.name=c,this.schema=l,this.hook=a._allTables[c]?a._allTables[c].hook:Ni(null,{creating:[RE,se],reading:[BE,ms],updating:[FE,se],deleting:[ME,se]})})}(this),this.Transaction=function(a){return ki(JE.prototype,function(c,l,u,h,d){this.db=a,this.mode=c,this.storeNames=l,this.schema=u,this.chromeTransactionDurability=h,this.idbtrans=null,this.on=Ni(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new B((p,m)=>{this._resolve=p,this._reject=m}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var m=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):m&&this.idbtrans&&this.idbtrans.abort(),_e(p)})})}(this),this.Version=function(a){return ki(n$.prototype,function(c){this.db=a,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return ki(_b.prototype,function(c,l,u){this.db=a,this._ctx={table:c,index:l===":id"?null:l,or:u};const h=a._deps.indexedDB;if(!h)throw new z.MissingAPI;this._cmp=this._ascending=h.cmp.bind(h),this._descending=(d,p)=>h.cmp(p,d),this._max=(d,p)=>h.cmp(d,p)>0?d:p,this._min=(d,p)=>h.cmp(d,p)<0?d:p,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=vs(n.IDBKeyRange),this._createTransaction=(a,c,l,u)=>new this.Transaction(a,c,l,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Fi.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(a))},this.use(o$),this.use(a$),this.use(u$),this.use(c$),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new z.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(e$),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||N.letThrough||this._vip)?t():new B((n,r)=>{if(this._state.openComplete)return r(new z.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new z.DatabaseClosed);this.open().catch(se)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return i$(this)}_close(){const t=this._state,n=Fi.indexOf(this);if(n>=0&&Fi.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new B(r=>{t.dbReadyResolve=r}),t.openCanceller=new B((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new z.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new B((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=ce(()=>{(function({indexedDB:a,IDBKeyRange:c},l){!Vu(a)&&l!==ba&&zu(a,c).delete(l).catch(se)})(this._deps,this.name),r()}),o.onerror=Pt(i),o.onblocked=this._fireOnBlocked};if(t)throw new z.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ve(this._allTables).map(t=>this._allTables[t])}transaction(){const t=s$.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=N.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let o,a;t=t.replace("!","").replace("?","");try{if(a=n.map(l=>{var u=l instanceof this.Table?l.name:l;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Xa)o=Xa;else{if(t!="rw"&&t!=Qa)throw new z.InvalidArgument("Invalid transaction mode: "+t);o=Qa}if(i){if(i.mode===Xa&&o===Qa){if(!s)throw new z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(l=>{if(i&&i.storeNames.indexOf(l)===-1){if(!s)throw new z.SubTransaction("Table "+l+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(l){return i?i._promise(null,(u,h)=>{h(l)}):_e(l)}const c=Sb.bind(null,this,o,a,i,r);return i?i._promise(o,c,"lock"):N.trans?bi(N.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!Qe(this._allTables,t))throw new z.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const h$=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class d${constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[h$](){return this}}function Cb(e,t){return ve(t).forEach(n=>{No(e[n]||(e[n]=new Ut),t[n])}),e}function Pb(e){let t,n=!1;const r=new d$(i=>{const s=Ru(e);let o=!1,a={},c={};const l={get closed(){return o},unsubscribe:()=>{o=!0,Nn.storagemutated.unsubscribe(p)}};i.start&&i.start(l);let u=!1,h=!1;function d(){return ve(c).some(f=>a[f]&&l$(a[f],c[f]))}const p=f=>{Cb(a,f),d()&&m()},m=()=>{if(u||o)return;a={};const f={},g=function(b){s&&mi();const y=()=>Mn(e,{subscr:b,trans:null}),v=N.trans?bi(N.transless,y):y();return s&&v.then(an,an),v}(f);h||(Nn(ys,p),h=!0),u=!0,Promise.resolve(g).then(b=>{n=!0,t=b,u=!1,o||(d()?m():(a={},c=f,i.next&&i.next(b)))},b=>{u=!1,n=!1,i.error&&i.error(b),l.unsubscribe()})};return m(),l});return r.hasValue=()=>n,r.getValue=()=>t,r}let vl;try{vl={indexedDB:ae.indexedDB||ae.mozIndexedDB||ae.webkitIndexedDB||ae.msIndexedDB,IDBKeyRange:ae.IDBKeyRange||ae.webkitIDBKeyRange}}catch{vl={indexedDB:null,IDBKeyRange:null}}const Wn=or;function wo(e){let t=Kt;try{Kt=!0,Nn.storagemutated.fire(e)}finally{Kt=t}}ci(Wn,{...po,delete:e=>new Wn(e,{addons:[]}).delete(),exists:e=>new Wn(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Vu(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==ba)):zu(t,n).toCollection().primaryKeys()}(Wn.dependencies).then(e)}catch{return _e(new z.MissingAPI)}},defineClass:()=>function(e){De(this,e)},ignoreTransaction:e=>N.trans?bi(N.transless,e):e(),vip:bl,async:function(e){return function(){try{var t=gl(e.apply(this,arguments));return t&&typeof t.then=="function"?t:B.resolve(t)}catch(n){return _e(n)}}},spawn:function(e,t,n){try{var r=gl(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:B.resolve(r)}catch(i){return _e(i)}},currentTransaction:{get:()=>N.trans||null},waitFor:function(e,t){const n=B.resolve(typeof e=="function"?Wn.ignoreTransaction(e):e).timeout(t||6e4);return N.trans?N.trans.waitFor(n):n},Promise:B,debug:{get:()=>jt,set:e=>{sb(e,e==="dexie"?()=>!0:vb)}},derive:Hr,extend:De,props:ci,override:Qm,Events:Ni,on:Nn,liveQuery:Pb,extendObservabilitySet:Cb,getByKeyPath:Qt,setByKeyPath:xt,delByKeyPath:function(e,t){typeof t=="string"?xt(e,t,void 0):"length"in t&&[].map.call(t,function(n){xt(e,n,void 0)})},shallowClone:nb,deepClone:Ls,getObjectDiff:Uu,cmp:Fe,asap:eb,minKey:cl,addons:[],connections:Fi,errnames:Fu,dependencies:vl,semVer:md,version:md.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Wn.maxKey=vs(Wn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Nn(ys,e=>{if(!Kt){let t;ma?(t=document.createEvent("CustomEvent"),t.initCustomEvent(yn,!0,!0,e)):t=new CustomEvent(yn,{detail:e}),Kt=!0,dispatchEvent(t),Kt=!1}}),addEventListener(yn,({detail:e})=>{Kt||wo(e)}));let Kt=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(yn);typeof e.unref=="function"&&e.unref(),Nn(ys,t=>{Kt||e.postMessage(t)}),e.onmessage=t=>{t.data&&wo(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Nn(ys,t=>{try{Kt||(typeof localStorage<"u"&&localStorage.setItem(yn,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:yn,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===yn){const n=JSON.parse(t.newValue);n&&wo(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===yn&&wo(t.changedParts)})}B.rejectionMapper=function(e,t){if(!e||e instanceof qr||e instanceof TypeError||e instanceof SyntaxError||!e.name||!hd[e.name])return e;var n=new hd[e.name](t||e.message,e);return"stack"in e&&Xt(n,"stack",{get:function(){return this.inner.stack}}),n},sb(jt,vb);var Tb={wait:50,batchSize:50};function ht(e){return lm(e.map(t=>zx(t,{batch:Tb})),{rank:{interval:6e4*5,sampleCount:e.length,timeout:500,weights:{latency:.4,stability:.7}},retryCount:10,retryDelay:3e4})}function dt(e){return lm(e.map(t=>H_(t)),{rank:{interval:6e4*5,sampleCount:e.length,timeout:500,weights:{latency:.4,stability:.7}},retryCount:3,retryDelay:3e4})}var f$={[x.eth]:ht(["https://ethereum.publicnode.com","https://rpc.mevblocker.io","https://eth.merkle.io","https://1rpc.io/eth","https://rpc.flashbots.net","https://eth-pokt.nodies.app","https://eth.meowrpc.com","https://eth.drpc.org","https://eth.llamarpc.com","https://eth-mainnet.public.blastapi.io","https://rpc.ankr.com/eth","https://cloudflare-eth.com","https://eth-mainnet.gateway.pokt.network/v1/5f3453978e354ab992c4da79","https://nodes.mewapi.io/rpc/eth","https://endpoints.omniatech.io/v1/eth/mainnet/public","https://ethereum-mainnet-rpc.allthatnode.com","https://ethereum-mainnet-archive.allthatnode.com","https://ethereum-mainnet-rpc-germany.allthatnode.com","https://ethereum-mainnet-archive-germany.allthatnode.com"]),[x.bnb]:ht(["https://bsc.publicnode.com","https://endpoints.omniatech.io/v1/bsc/mainnet/public","https://bsc-pokt.nodies.app","https://bsc.meowrpc.com","https://bsc.drpc.org"]),[x.matic]:ht(["https://polygon.llamarpc.com","https://endpoints.omniatech.io/v1/matic/mainnet/public","https://endpoints.omniatech.io/v1/matic/mainnet/public","https://polygon-bor.publicnode.com","https://polygon.drpc.org","https://polygon.meowrpc.com"]),[x.op]:ht(["https://optimism.publicnode.com","https://op-pokt.nodies.app","https://optimism.meowrpc.com","https://optimism.drpc.org","https://endpoints.omniatech.io/v1/op/mainnet/public"]),[x.arbitrum]:ht(["https://arbitrum-one.publicnode.com","https://arb-pokt.nodies.app","https://arbitrum.meowrpc.com","https://arbitrum.drpc.org","https://endpoints.omniatech.io/v1/arbitrum/one/public"]),[x.gnosis]:ht(["https://gnosis.publicnode.com","https://rpc.gnosischain.com","https://gnosis.drpc.org"]),[x.avalanche]:ht(["https://avalanche-c-chain.publicnode.com","https://1rpc.io/avax/c","https://endpoints.omniatech.io/v1/avax/mainnet/public","https://avax.meowrpc.com","https://avalanche.drpc.org"]),[x.fantom]:ht(["https://fantom.publicnode.com","https://fantom-pokt.nodies.app","https://1rpc.io/ftm","https://fantom.drpc.org"]),[x.aurora]:ht(["https://mainnet.aurora.dev","https://endpoints.omniatech.io/v1/aurora/mainnet/public","https://1rpc.io/aurora","https://aurora.drpc.org"]),[x.klaytn]:ht(["https://klaytn.drpc.org","https://rpc.ankr.com/klaytn","https://klaytn.blockpi.network/v1/rpc/public"]),[x.zkSyncEra]:ht(["https://mainnet.era.zksync.io","https://zksync-era.blockpi.network/v1/rpc/public","https://zksync.meowrpc.com","https://zksync.drpc.org"])},p$={[x.eth]:dt(["wss://ethereum-rpc.publicnode.com","wss://ethereum.publicnode.com","wss://eth.drpc.org"]),[x.bnb]:dt(["wss://bsc.publicnode.com","wss://bsc-rpc.publicnode.com"]),[x.matic]:dt(["wss://polygon-bor.publicnode.com","wss://polygon.gateway.tenderly.co","wss://polygon.drpc.org"]),[x.op]:dt(["wss://optimism.publicnode.com"]),[x.arbitrum]:dt(["wss://arbitrum-one.publicnode.com"]),[x.gnosis]:dt(["wss://rpc.gnosischain.com/wss","wss://gnosis.publicnode.com"]),[x.avalanche]:dt(["wss://avalanche-c-chain.publicnode.com"]),[x.fantom]:dt(["wss://gnosis.publicnode.com"]),[x.aurora]:dt(["wss://mainnet.aurora.dev"]),[x.klaytn]:dt(["wss://public-en-cypress.klaytn.net/ws"]),[x.zkSyncEra]:dt(["wss://mainnet.era.zksync.io/ws"])},m$={[x.eth]:yE,[x.bnb]:rE,[x.matic]:wE,[x.op]:vE,[x.arbitrum]:eE,[x.gnosis]:sE,[x.avalanche]:nE,[x.fantom]:iE,[x.aurora]:tE,[x.klaytn]:oE,[x.zkSyncEra]:xE};function kr(e){return m$[e]}var ic={[x.eth]:null,[x.bnb]:null,[x.matic]:null,[x.op]:null,[x.arbitrum]:null,[x.gnosis]:null,[x.avalanche]:null,[x.fantom]:null,[x.aurora]:null,[x.klaytn]:null,[x.zkSyncEra]:null},sc={[x.eth]:null,[x.bnb]:null,[x.matic]:null,[x.op]:null,[x.arbitrum]:null,[x.gnosis]:null,[x.avalanche]:null,[x.fantom]:null,[x.aurora]:null,[x.klaytn]:null,[x.zkSyncEra]:null};function b$(e){const t=kr(e),n=f$[e];return Km({batch:{multicall:Tb},chain:t,transport:n})}function g$(e){const t=kr(e),n=p$[e];return Km({chain:t,transport:n})}function ar(e){return ic[e]||(ic[e]=b$(e)),ic[e]}function y$(e){return sc[e]||(sc[e]=g$(e)),sc[e]}var v$={[x.eth]:!1,[x.bnb]:!1,[x.matic]:!1,[x.op]:!0,[x.arbitrum]:!0,[x.gnosis]:!1,[x.avalanche]:!1,[x.fantom]:!1,[x.aurora]:!1,[x.klaytn]:!1,[x.zkSyncEra]:!0};function wl(e){return v$[e]}var oc={[x.eth]:null,[x.bnb]:null,[x.matic]:null,[x.op]:null,[x.arbitrum]:null,[x.gnosis]:null,[x.avalanche]:null,[x.fantom]:null,[x.aurora]:null,[x.klaytn]:null,[x.zkSyncEra]:null};function w$(e){return new Ee(t=>y$(e).watchBlocks({onBlock:r=>t.next(r)})).pipe(Te({bufferSize:1,refCount:!0}))}function x$(){const e=document.hasFocus(),t=document.visibilityState==="visible";return e&&t}function _$(){let e=!0;return gr(le(window,"focus"),le(window,"blur"),le(document,"visibilitychange")).pipe(Je(null),q(()=>e?(e=!1,!0):x$()))}function E$(e){return oc[e]===null&&(oc[e]=_$().pipe(Q(t=>t?w$(e):pt()),Te({bufferSize:1,refCount:!0}))),oc[e]}var qu="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function li(e){return on(qu,e)}var Wu=class{constructor(e,t=!1){this.ttlMs=e,this.autoClean=t,this.cache=new Map,this.enabledAutoClean()}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()})}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),null):t.value:null}has(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),!1):!0:!1}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.autoCleanTimer&&clearInterval(this.autoCleanTimer)}size(){return 0}enabledAutoClean(){this.autoClean&&(this.autoCleanTimer=setInterval(()=>{for(const e of[...this.cache.keys()])this.get(e)},this.ttlMs))}},$$=class{constructor(e){this.bufferSize=e,this.cache=new Map,this.indexes=new Map,this.lastIndex=0}set(e,t){if(this.has(e))return;if(this.cache.size>=this.bufferSize){const r=Math.min(...this.indexes.keys()),i=this.indexes.get(r);this.indexes.delete(r),this.cache.delete(i);return}const n=this.lastIndex++;this.indexes.set(n,e),this.cache.set(e,t)}get(e){return this.cache.get(e)??null}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.indexes.clear(),this.lastIndex=0}size(){return this.cache.size}};function er(e,t){const r=k$(e,t).split("."),i=r[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return r.length>1?`${i}.${r[1]}`:i}function k$(e,t){const n=e.indexOf(".");if(n===-1||e.length-n-1<=t)return e;if(t>0){const i=n+t+1;return e.substring(0,i)}return e.substring(0,n)}function Do(e,t,n=t){if(e.length===1)return e;const r=e.indexOf(".");if(r===-1||e.slice(0,r).length>1)return er(e,n);let i=0;for(let s=r+1;s<e.length;s++)if(e[s]==="0")i++;else return er(e,i+t);return er(e,n)}function Ed(e,t,n=t){if(e.length===1)return e;const r=Do(e,t,n),i=r.replace(/\s+/g,""),[s]=i.split("."),o=s.length;if(o<=6)return r;if(o>6&&o<=9){const l=i.slice(0,o-6),u=i.slice(o-6,o-5);return`${l}.${u}M`}const a=i.slice(0,o-9),c=i.slice(o-9,o-8);return`${a}.${c}B`}function xl(e,t={}){const{width:n,head:r=6,tail:i=4}=t;return n!==void 0&&(n>1410||940>n&&n>800)?e:`${e.slice(0,r)}...${e.slice(e.length-i)}`}var cn=class{constructor(){throw new Error("BigMath does not support instance creation. Use static methods: div, mul, add, sub, avr, pow, min, max.")}static div(e,t,n,r,i=r){if(t===0n)throw new Error("Division by zero.");if(e===0n)return 0n;const s=BigInt(10)**BigInt(Math.max(n,r));e=e*(s/BigInt(10)**BigInt(n)),t=t*(s/BigInt(10)**BigInt(r));const o=BigInt(10)**BigInt(i);return e=e*o,e/t}static mul(e,t,n,r,i=r){if(e===0n||t===0n)return 0n;const s=e*t,a=10n**BigInt(n+r),c=10n**BigInt(i);return s*c/a}static add(e,t,n,r,i=r){const s=Math.max(n,r,i);e=e*BigInt(10)**BigInt(s-n),t=t*BigInt(10)**BigInt(s-r);const o=e+t;return i<s?o/BigInt(10)**BigInt(s-i):o}static sub(e,t,n,r,i=r){const s=Math.max(n,r,i);e=e*BigInt(10)**BigInt(s-n),t=t*BigInt(10)**BigInt(s-r);const o=e-t;return i<s?o/BigInt(10)**BigInt(s-i):o}static avr(e,t,n=t){if(e.length===0)return 0n;const r=BigInt(10)**BigInt(n);return e.map(o=>o*r/BigInt(10)**BigInt(t)).reduce((o,a)=>o+a,BigInt(0))/BigInt(e.length)}static pow(e,t,n,r=n){if(t<0)throw new Error("Negative exponents are not supported.");if(t===0)return BigInt(10)**BigInt(r);const i=BigInt(10)**BigInt(n);let o=(e*i)**BigInt(t);const a=BigInt(10)**BigInt(t*n);if(o=o/a,r!==n){const c=BigInt(10)**BigInt(r-n);o=o*c}return o}static min(...e){let t=e[0];for(const n of e)n<t&&(t=n);return t}static max(...e){let t=e[0];for(const n of e)n>t&&(t=n);return t}};function Tr(e){const t=new WeakMap,n=r=>{let i=t.get(r);return i||(i=new Map,t.set(r,i)),i};return function(r,i,s){const o=s.value;return s.value=function(...a){const c=n(this),l=e?e(this,...a):JSON.stringify(a);if(c.has(l))return c.get(l);const u=o.apply(this,a).finally(()=>c.delete(l));return c.set(l,u),u},s}}var $d=new Wu(1e4),so=new Wu(5e3),ga=class{constructor(){this.host=tp("oneInchDevPortalHost")}async getWhiteListedTokens(e){return(await(await fetch(`${this.host}/token/v1.2/${e}/token-list`)).json()).tokens}async getBalancesByWalletAddress(e,t){return await(await fetch(`${this.host}/balance/v1.2/${e}/balances/${t}`)).json()}async getTokenPrices(e){const t=$d.get(e);if(t)return t;const n=new URLSearchParams({currency:"USD"}),i=await(await fetch(`${this.host}/price/v1.1/${e}?${n}`)).json();return $d.set(e,i),i}async getFusionQuoteReceive(e,t,n,r,i,s=!1,o=!1){const a=[e,t,n,r,i,s,o].join(":");if(so.has(a))return so.get(a);const c=new URLSearchParams({fromTokenAddress:t,toTokenAddress:n,walletAddress:i,amount:r.toString(),enableEstimate:s.toString(),isLedgerLive:o.toString()}),l=await fetch(`${this.host}/fusion/quoter/v1.0/${e}/quote/receive?${c}`);if(!l.ok)return so.set(a,null),null;const u=await l.json();return so.set(a,u),{...u,chainId:e}}};Ps([Tr((e,t)=>t.toString())],ga.prototype,"getTokenPrices");Ps([Tr((...e)=>e.slice(1).join(":"))],ga.prototype,"getFusionQuoteReceive");var ya=class{constructor(e,t){this.storageKey=e,this.ttlDays=t,this.cache=new Map;const n=oe.get(this.storageKeyAndVersion,vn);this.cache=new Map(n)}get storageKeyAndVersion(){return[this.storageKey,"v2"].join(":")}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()}),this.updatePersistence()}get(e){var t;return this.checkCacheData(e),((t=this.cache.get(e))==null?void 0:t.value)??null}has(e){return this.checkCacheData(e),this.cache.has(e)}delete(e){const t=this.cache.delete(e);return this.updatePersistence(),t}clear(){this.cache.clear(),this.updatePersistence()}size(){let e=!1;return this.cache.forEach((t,n)=>{this.checkCacheData(n,!0)&&!e&&(e=!0)}),e&&this.updatePersistence(),this.cache.size}checkCacheData(e,t){const n=this.cache.get(e);if(!n)return!1;let r=!1;return Date.now()-n.timestamp>this.ttlDays*864e5&&(this.cache.delete(e),r=!0,(t??!1)||this.updatePersistence()),r}updatePersistence(){oe.set(this.storageKeyAndVersion,Array.from(this.cache.entries()))}},va=class{constructor(){this.timeCacheStorage={}}set(e,t,n){let r=this.timeCacheStorage[e];r||(r=new Wu(Bb[e]),this.timeCacheStorage[e]=r),r.set(t,n)}get(e,t){const n=this.timeCacheStorage[e];return n?n.get(t):null}},S$=$t(["function balanceOf(address _owner) public view returns (uint256 balance)"]),kd=new va;async function A$(e,t,n){const r=[t,n].join(":"),i=kd.get(e,r);if(i!==null)return i;const s=ar(e);if(li(n))return await s.getBalance({address:t});const o=await s.readContract({abi:S$,functionName:"balanceOf",args:[t],address:n});return kd.set(e,r,o),o}async function C$(e,t,n){const r={};return await Promise.all(n.map(i=>A$(e,t,i).then(s=>r[i]=s.toString()))),r}var P$=$t(["function allowance(address owner, address spender) public view returns (uint256)"]),Sd=new va;async function T$(e,t,n,r){const i=[e,t,n,r].join(":"),s=Sd.get(e,i);if(s!==null)return s;const o=ar(e);if(li(t))return W_;const a=await o.readContract({abi:P$,functionName:"allowance",args:[n,r],address:t});return Sd.set(e,i,a),a}new ya("proxy-to-impl",2);var I$="function permit(address owner, address spender, uint value, uint deadline, uint8 v, bytes32 r, bytes32 s) external",O$="function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s) external",Ib=$t([I$,O$]),B$=$t(["function nonces(address owner) external view returns (uint)","function nonce(address owner) external view returns (uint)","function getNonce(address owner) external view returns (uint)","function _nonces(address owner) external view returns (uint)"]),R$=$t(["function DOMAIN_SEPARATOR() external view returns (bytes32)"]);$t(["function version() view returns (string)"]);$t(["function name() view returns (string)"]);Cr(Ib[0]);Cr(Ib[0]);Cr(R$[0]);B$.map(e=>Cr(e));var M$=[x.eth,x.bnb,x.matic,x.arbitrum,x.avalanche,x.op,x.gnosis,x.fantom];function F$(e){return M$.includes(e)}function Ob(e){return x[e]!==void 0}function N$(e){if(!Ob(e))throw new Error(`chain ${e} not supported`)}var Bb={[x.eth]:11e3,[x.bnb]:3e3,[x.matic]:3e3,[x.op]:3e3,[x.arbitrum]:14e3,[x.gnosis]:4500,[x.avalanche]:3e3,[x.fantom]:3e3,[x.aurora]:3e3,[x.klaytn]:3e3,[x.zkSyncEra]:3e3},D$={[x.eth]:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",[x.bnb]:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",[x.matic]:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",[x.op]:"0x4200000000000000000000000000000000000006",[x.arbitrum]:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",[x.gnosis]:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",[x.avalanche]:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",[x.fantom]:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",[x.aurora]:"0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb",[x.klaytn]:"0xe4f05a66ec68b54a58b17c22107b02e0232cc817",[x.zkSyncEra]:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91"};function _l(e){var n;const t=kr(e);return{chainId:e,symbol:`W${t.nativeCurrency.symbol}`,name:`W${t.nativeCurrency.symbol}`,decimals:((n=t==null?void 0:t.nativeCurrency)==null?void 0:n.decimals)??18,address:D$[e],isInternalWrapToken:!0}}function j$(e){return e.isInternalWrapToken?e.symbol.slice(1):e.symbol}var L$={[x.eth]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.bnb]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.matic]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.op]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.arbitrum]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.gnosis]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.avalanche]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.fantom]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.aurora]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.klaytn]:"0x111111125421ca6dc452d289314280a0f8842a65",[x.zkSyncEra]:"0x6fd4383cb451173d5f9304f041c7bcbf27d561ff"};function z$(e){return N$(e),L$[e]}var Ad=$t(["function getPair(address tokenA, address tokenB) external view returns (address pair)"]),Cd=$t(["function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast)","function token0() external view returns (address)","function token1() external view returns (address)"]),Gu=class{constructor(e,t,n){this.name=e,this.factoryContractGetter=t,this.supportedChain=n,this.pools=new ya(`${this.name}_pools`,7)}isSupportedChain(e){return this.supportedChain.includes(e)}async getRate(e,t,n){try{const r=wn(t.address),i=wn(n.address),[s,o]=await this.getPool(e,r,i);if(s===Tt)return null;const a=await this.getReserves(e,s),c=a[2];if(Date.now()-c*1e3>36e5)return null;const l=!on(t.address,o),u=cn.div(l?a[0]:a[1],l?a[1]:a[0],n.decimals,t.decimals,t.decimals),h=cn.div(l?a[1]:a[0],l?a[0]:a[1],t.decimals,n.decimals,n.decimals);return{chainId:e,rate:u,revertedRate:h,isReverted:l,sourceToken:t,destinationToken:n}}catch(r){return console.error(`Error in UniswapV2BaseAdapter adapter name ${this.name}`,r),null}}async getPool(e,t,n){const r=[e,t,n].join(":");if(this.pools.has(r))return this.pools.get(r);const i=[e,n,t].join(":");if(this.pools.has(i))return this.pools.get(i);const s=ar(e);let o=await s.readContract({address:wn(this.factoryContractGetter(e)),functionName:"getPair",args:[t,n],abi:Ad});o!==Tt&&(o=await s.readContract({address:wn(this.factoryContractGetter(e)),functionName:"getPair",args:[n,t],abi:Ad}));let a=Tt;return o!==Tt&&(a=await s.readContract({address:o,abi:Cd,functionName:"token0"})),this.pools.set(r,[o,a]),this.pools.set(i,[o,a]),[o,a]}async getReserves(e,t){return await ar(e).readContract({address:t,abi:Cd,functionName:"getReserves"})}},V$=new Gu("UniswapV2",()=>"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",[x.eth,x.bnb,x.matic,x.op,x.arbitrum,x.avalanche]),U$={[x.eth]:"0xC0AeE478e3658e2610c5F7A4A2E1777cE9e4f2Ac",[x.bnb]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.matic]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.gnosis]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.fantom]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.avalanche]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.arbitrum]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4"},H$=new Gu("SushiSwapV2",e=>U$[e],[x.eth,x.bnb,x.matic,x.gnosis,x.fantom,x.arbitrum,x.avalanche]),q$={[x.eth]:"0x1097053Fd2ea711dad45caCcc45EfF7548fCB362",[x.bnb]:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",[x.arbitrum]:"0x02a84c1b3BBD7401a5f7fa98a384EBC70bB5749E"},W$=new Gu("PancakeSwapV2",e=>q$[e],[x.eth,x.bnb,x.arbitrum]),G$=$t(["function getPool(address tokenA, address tokenB, uint24 fee) external view returns (address pool)"]),ac=$t(["function liquidity() external view returns (uint128)","function slot0() external view returns (uint160 sqrtPriceX96, int24 tick, uint16 observationIndex, uint16 observationCardinality, uint16 observationCardinalityNext, uint8 feeProtocol, bool unlocked)","function token0() external view returns (address)","function token1() external view returns (address)"]),wa=class{constructor(e,t,n,r){this.name=e,this.factoryContractGetter=t,this.supportedChain=n,this.feeTiers=r,this.pools=new ya(`${this.name}_pools`,7),this.liquidityCache=new va}isSupportedChain(e){return this.supportedChain.includes(e)}async getRate(e,t,n){try{const r=wn(t.address),i=wn(n.address),[s,o]=await this.getPool(e,r,i);if(s===Tt)return null;const a=!on(t.address,o),[c,l]=await Promise.all([this.getSqrtPriceX96(e,s),this.getLiquidity(e,s)]),[u,h]=this.calculatePrice(c,t,n,l,a);return{chainId:e,rate:u,revertedRate:h,sourceToken:t,destinationToken:n,isReverted:a}}catch(r){return console.error(`Error in UniswapV3BaseRateAdapter adapter name ${this.name}`,r),null}}async getPool(e,t,n){const r=[e,t,n].join(":");if(this.pools.has(r))return this.pools.get(r);const i=[e,n,t].join(":");if(this.pools.has(i))return this.pools.get(i);const s=ar(e);let o=Tt,a=0n;for(const c of this.feeTiers){const l=await s.readContract({address:wn(this.factoryContractGetter(e)),functionName:"getPool",args:[t,n,c],abi:G$});if(l===Tt)continue;const u=await this.getLiquidity(e,l);u>a&&(a=u,o=l)}if(o!==Tt){const c=await s.readContract({address:o,abi:ac,functionName:"token0"});return this.pools.set(r,[o,c]),this.pools.set(i,[o,c]),[o,c]}return[Tt,Tt]}async getSqrtPriceX96(e,t){const n=ar(e),[r]=await n.readContract({address:t,abi:ac,functionName:"slot0"});return r}async getLiquidity(e,t){const n=this.liquidityCache.get(e,t);if(n)return n;const i=await ar(e).readContract({address:t,functionName:"liquidity",abi:ac});return this.liquidityCache.set(e,t,i),i}calculatePrice(e,t,n,r,i){const s=2n**96n,o=r*s/e,a=r*e/s;return[cn.div(i?o:a,i?a:o,n.decimals,t.decimals,t.decimals),cn.div(i?a:o,i?o:a,t.decimals,n.decimals,n.decimals)]}};function K$(e){return e===x.bnb?"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7":e===x.avalanche?"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD":"0x1F98431c8aD98523631AE4a59f267346ea31F984"}var Y$=new wa("UniswapV3",K$,[x.eth,x.bnb,x.matic,x.op,x.arbitrum,x.avalanche],[100,500,3e3,1e4]);function Z$(e){return e===x.zkSyncEra?"0x1BB72E0CbbEA93c08f535fc7856E0338D7F7a8aB":"0x0BFbCF9fa4f9C56B0F40a671Ad40E0805A091865"}var J$=new wa("PancakeSwapV3",Z$,[x.eth,x.bnb,x.arbitrum,x.zkSyncEra],[100,500,2500,1e4]),X$={[x.eth]:"0xbACEB8eC6b9355Dfc0269C18bac9d6E2Bdc29C4F",[x.bnb]:"0x126555dd55a39328F69400d6aE4F782Bd4C34ABb",[x.matic]:"0x917933899c6a5F8E37F31E19f92CdBFF7e8FF0e2",[x.gnosis]:"0xf78031CBCA409F2FB6876BDFDBc1b2df24cF9bEf",[x.fantom]:"0x7770978eED668a3ba661d51a773d3a992Fc9DDCB",[x.avalanche]:"0x3e603C14aF37EBdaD31709C4f848Fc6aD5BEc715",[x.arbitrum]:"0x1af415a1EbA07a4986a52B6f2e7dE7003D82231e",[x.op]:"0x9c6522117e2ed1fE5bdb72bb0eD5E3f2bdE7DBe0"},Q$=new wa("SushiSwapV3",e=>X$[e],[x.eth,x.bnb,x.op,x.matic,x.gnosis,x.fantom,x.arbitrum,x.avalanche],[100,500,3e3,1e4]),ek=new wa("SpookySwapV3",()=>"0x7928a2c48754501f3a8064765ECaE541daE5c3E6",[x.fantom],[100,500,3e3,1e4]),Rb=class{constructor(e){this.onChainAdapters=e,this.rateCache=new va}async getOnChainRate(e,t,n){const r=await this.getOnChainRawRate(e,t,n);if(r.length===0)return null;const i=o=>o.isReverted?o.revertedRate:o.rate;let s=r[0];for(const o of r)i(o)>i(s)&&(s=o);return s}listenOnChainRate(e,t,n){return E$(e).pipe(Je(null),Hf(()=>this.getOnChainRate(e,t,n)))}async getOnChainRawRate(e,t,n){let r=t,i=n;if(li(t.address)){const u=_l(e);if(!u)return[];r=u}if(li(n.address)){const u=_l(e);if(!u)return[];i=u}const s=[r.address,i.address].join(":"),o=this.rateCache.get(e,s);if(o!==null)return o;const a=this.onChainAdapters.filter(u=>u.isSupportedChain(e)),l=(await Promise.all(a.map(u=>u.getRate(e,r,i)))).filter(u=>u!==null);return this.rateCache.set(e,s,l),l}};Ps([Tr((e,t,n,r)=>[t,n.address,r.address].join(":"))],Rb.prototype,"getOnChainRate");function Mb(){return new Rb([Y$,J$,Q$,ek,V$,H$,W$])}var tk={[x.eth]:"0xdac17f958d2ee523a2206206994597c13d831ec7",[x.bnb]:"0x55d398326f99059ff775485246999027b3197955",[x.matic]:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",[x.op]:"0x94b008aa00579c1307b0ef2c499ad98a8ce58e58",[x.arbitrum]:"0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9",[x.gnosis]:"0x4ecaba5870353805a9f068101a40e0f32ed605c6",[x.avalanche]:"0xc7198437980c041c805a1edcba50c1ce5db95118",[x.fantom]:"0xcc1b99ddac1a33c201a742a1851662e87bc7f22c",[x.aurora]:"0x4988a896b1227218e4a686fde5eabdcabd91571f",[x.klaytn]:"0x754288077d0ff82af7a5317c7cb8c444d421d103",[x.zkSyncEra]:"0x493257fd37edb34451f62edf8d2a0c418852ba4c"},nk=6,rk=class{constructor(){this.rateProvider=Mb()}async getPrice(e,t){const n=tk[e];if(on(t.address,n))return"1";const r=await this.rateProvider.getOnChainRate(e,{address:n,chainId:e,decimals:nk,name:"USDT",symbol:"USDT"},t);return r?it(r.rate,t.decimals):"0"}},Pd={native:1e3,USDT:100,USDC:100,WETH:62,"1INCH":61,"PEG:ETH":60,"PEG:USD":50,"PEG:BTC":40,"PEG:EUR":30,staking:20,savings:10,tokens:0},hi,Ku=(hi=class extends or{constructor(){super("one-inch-token"),this.tokenCache=new $$(50),this.version(hi.databaseVersion).stores({tokens:["id","address","decimals","chainId","name","symbol","*tags","eip2612","logoURL","isFavorite","priority"].join(", "),balances:["id","chainId","tokenAddress","walletAddress","amount"].join(", "),permit:["id","chainId","contractAddress","ownerAddress","spenderAddress","createTimestamp","permit"].join(", ")})}async getToken(t,n){const r=Dr(t,n);if(this.tokenCache.has(r))return this.tokenCache.get(r);const i=await this.tokens.where("id").equals(r).toArray();return this.tokenCache.set(r,i[0]),i[0]??null}async getNativeToken(t){return this.getToken(t,qu)}getTokenBySymbol(t,n){return this.tokens.where("chainId").equals(t).filter(r=>r.symbol===n).toArray()}async getTokenMap(t,n){const r=new Set(n),i={};return await this.tokens.each(s=>{s.chainId===t&&r.has(s.address)&&(i[s.address]=s)}),i}getTokenList(t,n){const r=new Set(n);return this.tokens.filter(i=>i.chainId===t&&r.has(i.address)).toArray()}async getTokenBalanceMap(t,n,r){const i=new Set(r),s={};return await this.balances.each(o=>{o.chainId===t&&o.walletAddress===n&&i.has(o.tokenAddress)&&(s[o.tokenAddress]=BigInt(o.amount))}),s}async getTokens(t,n){const r=new Set(n);return this.tokens.filter(i=>i.chainId===t&&r.has(i.address)).toArray()}async getAllTokenAddresses(t){const n=[];return await this.tokens.where("chainId").equals(t).each(r=>n.push(r.address)),n}async getTokenBalance(t,n,r){const i=Dr(t,r,n);return(await this.balances.where("id").equals(i).toArray())[0]??null}async setTokens(t,n){var i;const r=[];for(const s of n)r.push({id:Dr(t,s.address),address:s.address,decimals:s.decimals,eip2612:((i=s.extensions)==null?void 0:i.eip2612)??!1,name:s.name,symbol:s.symbol,tags:s.tags,logoURL:s.logoURI,isFavorite:!1,chainId:t,priority:ik(s)});this.tokenCache.clear(),await this.tokens.bulkPut(r)}async setBalances(t,n,r){const i=[];for(const s in r){const o=s;i.push({id:Dr(t,n,o),chainId:t,tokenAddress:o,walletAddress:n,amount:r[o]})}await this.balances.bulkPut(i)}async setPermit(t,n,r,i,s){const o=Dr(t,n,r,i);await this.permit.put({id:o,chainId:t,ownerAddress:n,spenderAddress:r,contractAddress:i,createTimestamp:Date.now(),permit:s})}async getAllFavoriteTokenAddresses(t){const n=[];return await this.tokens.where("chainId").equals(t).each(r=>{r.isFavorite&&n.push(r.address)}),n}async getSortedForViewTokenAddresses(t,n,r){const i={},s={},o=new Set,a=[],c=[],l=n.toLowerCase();return r&&await this.balances.where("chainId").equals(t).and(u=>on(u.walletAddress,r)).each(u=>i[u.tokenAddress]=BigInt(u.amount)),await this.tokens.where("chainId").equals(t).each(u=>{if(!(l!==""&&!u.address.toLowerCase().includes(l)&&!u.name.toLowerCase().startsWith(l)&&!u.symbol.toLowerCase().startsWith(l))){if(i[u.address]&&i[u.address]>0n){a.push(u.address);return}s[u.address]=u.priority,c.push(u.address),u.isFavorite&&o.add(u.address)}}),{notZero:a,zero:c.sort((u,h)=>{const d=s[u],p=s[h],m=o.has(u),f=o.has(h);return m===f?d<p?1:d>p?-1:0:m?-1:f?1:0})}}async setFavoriteState(t,n,r){const i=Dr(t,n);this.tokenCache.delete(i),await this.tokens.update(i,{isFavorite:r})}},hi.databaseVersion=3,hi);function Dr(...e){return e.join(":")}function ik(e){var n;let t=((n=e==null?void 0:e.providers)==null?void 0:n.length)??0;t+=Pd[e.symbol]??0;for(const r of e.tags)t+=Pd[r]??0;return t}var cc=`last-update-token-database-timestamp-v${Ku.databaseVersion}`,lc=`last-update-token-balance-database-timestamp-v${Ku.databaseVersion}`,sk=6048e5,ok=Bb,Yu=class{constructor(){this.schema=new Ku,this.tokenUsdPriceProvider=new rk,this.oneInchApiAdapter=new ga,this.lastUpdateTokenDatabaseTimestampStorage=oe.get(cc,vn),this.lastUpdateTokenBalanceDatabaseTimestampStorage=oe.get(lc,vn)}async getSortedForViewTokenAddresses(e,t,n){await this.updateTokenDatabase(e),n&&await this.updateBalanceDatabase(e,n);const r=await this.schema.getSortedForViewTokenAddresses(e,t,n);if(n){const i=await this.getTokenUSDPrices(e,r.notZero),s=await this.getTokenMap(e,r.notZero),o=await this.getTokenBalanceMap(e,n,r.notZero),a=await this.getAllFavoriteTokenAddresses(e),c=new Set(a),l={};for(const u of r.notZero){const h=s[u],d=i[u],p=it(o[u],h.decimals);l[u]=Number(p)*Number(d)}return[...r.notZero.sort((u,h)=>{const d=c.has(u),p=c.has(h);return d===p?l[h]-l[u]:d?-1:1}),...r.zero]}return[...r.notZero,...r.zero]}async getToken(e,t){return await this.updateTokenDatabase(e),await this.schema.getToken(e,t)}async getNativeToken(e){return await this.updateTokenDatabase(e),await this.schema.getNativeToken(e)}async getTokenBySymbol(e,t){return await this.updateTokenDatabase(e),this.schema.getTokenBySymbol(e,t)}async getTokenList(e,t){return await this.updateTokenDatabase(e),await this.schema.getTokenList(e,t)}async getTokenMap(e,t){return await this.schema.getTokenMap(e,t)}async getTokenBalanceMap(e,t,n){return await this.updateBalanceDatabase(e,t),await this.schema.getTokenBalanceMap(e,t,n)}async getTokenBalance(e,t,n){return await this.updateBalanceDatabase(e,n),await this.schema.getTokenBalance(e,t,n)}async getTokenUSDPrice(e,t){return(await this.getTokenUSDPrices(e,[t]))[t]}async getPriorityToken(e,t){const n=await this.getTokenList(e,t),r=i=>i.tags.includes("PEG:USD")||i.tags.includes("PEG:EUR");return n.sort((i,s)=>{const o=r(i),a=r(s);return o&&a?i.priority-s.priority:o&&!a?-1:!o&&a?1:i.priority-s.priority})[0]}async setFavoriteState(e,t,n){await this.schema.setFavoriteState(e,t,n)}async getAllFavoriteTokenAddresses(e){return await this.schema.getAllFavoriteTokenAddresses(e)}async getTokenUSDPrices(e,t){const n={},r=await this.oneInchApiAdapter.getTokenPrices(e).catch(()=>null);if(r===null){const i=await this.schema.getTokens(e,t);return await Promise.all(i.map(s=>this.tokenUsdPriceProvider.getPrice(e,s).catch(()=>"0").then(o=>n[s.address]=o))),n}for(const i of t)n[i]=r[i]??"0";return n}async updateTokenDatabase(e){var r;const t=(r=this.lastUpdateTokenDatabaseTimestampStorage)==null?void 0:r[e];if(t&&Date.now()-t<sk)return;const n=await this.oneInchApiAdapter.getWhiteListedTokens(e);await this.schema.setTokens(e,n),oe.updateEntity(cc,e.toString(),Date.now()),this.lastUpdateTokenDatabaseTimestampStorage=oe.get(cc,vn)}async updateBalanceDatabase(e,t){var s;const n=[e,t].join(":"),r=(s=this.lastUpdateTokenBalanceDatabaseTimestampStorage)==null?void 0:s[n];if(r&&Date.now()-r<ok[e])return;let i=await this.oneInchApiAdapter.getBalancesByWalletAddress(e,t).catch(()=>null);i===null&&(i=await this.getBalancesOnChain(e,t)),await this.schema.setBalances(e,t,i),oe.updateEntity(lc,n,Date.now()),this.lastUpdateTokenBalanceDatabaseTimestampStorage=oe.get(lc,vn)}liveQuery(e){return Pb(e)}async getBalancesOnChain(e,t){const n=await this.schema.getAllTokenAddresses(e);return C$(e,t,n)}};Ps([Tr()],Yu.prototype,"updateTokenDatabase");Ps([Tr()],Yu.prototype,"updateBalanceDatabase");var Ne=new Yu;function $n(e,t){const n=on(e.address,t.address),r=e.chainId===t.chainId;return n&&r}function ak(e,t){return e.rate===t.rate&&e.chainId===t.chainId&&e.revertedRate===t.revertedRate&&$n(e.sourceToken,t.sourceToken)&&$n(e.destinationToken,t.destinationToken)}var Td=class{constructor(){this.amountForView=null,this.amount=null,this.token=null,this.signalChange$=new rt}setToken(e){this.token&&e&&$n(this.token,e)||(this.token=e??null,this.signalChange$.next())}setAmount(e,t=!1){this.amount===e&&!t||(this.amount=e,t&&(this.amountForView=e),this.signalChange$.next())}getSnapshot(){return{token:this.token,amountRaw:this.amount,amountView:this.amountForView}}streamSnapshot(){return this.signalChange$.pipe(q(()=>this.getSnapshot()),Je(this.getSnapshot()))}},ck=class{constructor(){this.source=new Td,this.destination=new Td,this.pairChance$=new rt}switchPair(){const{source:e,destination:t}=this;this.source=t,this.destination=e,this.pairChance$.next()}setPair(e){this.setToken(e.srcToken,"source"),this.setToken(e.dstToken,"destination"),this.pairChance$.next()}setAmount(e,t,n){this.getTokenContext(e).setAmount(t,n)}streamSnapshot(e){return this.pairChance$.pipe(Je(null),Q(()=>this.getTokenContext(e).streamSnapshot()))}getSnapshot(e){return this.getTokenContext(e).getSnapshot()}setToken(e,t){this.getTokenContext(t).setToken(e)}getTokenContext(e){if(e==="source")return this.source;if(e==="destination")return this.destination;throw new Error(`invalid token type ${e}`)}},Fb=class{constructor(e,t,n=Mb()){this.pairHolder=e,this.walletController=t,this.rateProvider=n,this.sourceTokenSnapshot$=this.pairHolder.streamSnapshot("source"),this.destinationTokenSnapshot$=this.pairHolder.streamSnapshot("destination"),this.sourceTokenAmount$=this.sourceTokenSnapshot$.pipe(q(r=>r.amountRaw),ke()),this.rate$=J(()=>xe([this.walletController.data.chainId$,this.sourceTokenSnapshot$,this.destinationTokenSnapshot$])).pipe(yr(0),Q(([r,i,s])=>{const o=i.token,a=s.token;return!o||!a||!r?[null]:this.rateProvider.listenOnChainRate(r,o,a)}),Te({refCount:!0,bufferSize:1})),this.destinationTokenAmount$=xe([this.rate$,this.sourceTokenAmount$.pipe(ke())]).pipe(q(([r,i])=>{if(!r||!i)return 0n;const s=r.sourceToken,o=r.destinationToken;return r.isReverted?cn.div(i,r.revertedRate,s.decimals,o.decimals,o.decimals):cn.mul(i,r.rate,s.decimals,s.decimals,o.decimals)})),this.minReceive$=this.destinationTokenAmount$,this.autoSlippage$=xe([]).pipe()}destroy(){}},lk=class{constructor(e,t,n=new ga,r=new Fb(e,t)){this.pairHolder=e,this.walletController=t,this.devPortalAdapter=n,this.fallback=r,this.sourceTokenAmount$=xe([this.walletController.data.chainId$,this.walletController.data.activeAddress$,this.pairHolder.streamSnapshot("source")]).pipe(Q(([i,s,o])=>{const a=o.token;return!i||!s||!a?[0n]:Ne.liveQuery(()=>Ne.getTokenBalance(i,a.address,s).then(c=>BigInt((c==null?void 0:c.amount)??"0")))})),this.quoteReceive$=J(()=>xe([this.walletController.data.chainId$,this.walletController.data.activeAddress$,this.pairHolder.streamSnapshot("source"),this.pairHolder.streamSnapshot("destination"),this.sourceTokenAmount$])).pipe(yr(300),Q(([i,s,o,a,c])=>{const l=o.token,u=a.token,h=o.amountRaw;return!h||!i||!s||!l||!u||h===0n||c===0n||h>c?[null]:this.devPortalAdapter.getFusionQuoteReceive(i,l.address,u.address,h,s)}),ke(),Te({bufferSize:1,refCount:!0})),this.recommendedPreset$=this.quoteReceive$.pipe(q(i=>i?i.presets[i.recommended_preset]??null:null),ke()),this.averageDestinationTokenAmount$=this.recommendedPreset$.pipe(q(i=>{if(!i)return 0n;const s=BigInt(i.auctionStartAmount),o=BigInt(i.auctionEndAmount);return(s+o)/2n})),this.minReceive$=this.recommendedPreset$.pipe(Q(i=>i?[BigInt(i.auctionEndAmount)]:this.fallback.minReceive$)),this.rate$=xe([this.quoteReceive$,this.averageDestinationTokenAmount$]).pipe(yr(0),ql(this.walletController.data.chainId$,this.pairHolder.streamSnapshot("source"),this.pairHolder.streamSnapshot("destination")),q(([[i,s],o,a,c])=>{const l=a.token,u=c.token;if(!i||!l||!u||!o)return null;const h=BigInt(i.fromTokenAmount),d=cn.div(s,h,u.decimals,l.decimals),p=cn.div(h,s,l.decimals,u.decimals);return{chainId:o,rate:d,revertedRate:p,sourceToken:l,destinationToken:u,isReverted:!1}}),ke(),Q(i=>i?[i]:this.fallback.rate$)),this.destinationTokenAmount$=this.quoteReceive$.pipe(Q(i=>i?[BigInt(i.toTokenAmount)]:this.fallback.destinationTokenAmount$))}destroy(){}},uk=class{constructor(e){this.walletController=e,this.pairHolder=new ck,this.subscription=new Dn,this.lastSwapContextStrategy=null,this.chainId$=J(()=>this.walletController.data.chainId$),this.connectedWalletAddress$=J(()=>this.walletController.data.activeAddress$),this.strategy$=this.connectedWalletAddress$.pipe(q(t=>t===null),ke(),Wy((t,n)=>(t&&t.destroy(),n?new Fb(this.pairHolder,this.walletController):new lk(this.pairHolder,this.walletController)),null),ee(t=>this.lastSwapContextStrategy=t),Te({bufferSize:1,refCount:!0})),this.rate$=this.strategy$.pipe(Q(t=>t.rate$)),this.minReceive$=this.strategy$.pipe(Q(t=>t.minReceive$)),this.destinationTokenAmount$=this.strategy$.pipe(Q(t=>t.destinationTokenAmount$)),this.subscription.add(gr(this.destinationTokenAmount$.pipe(ke(),ee(t=>{this.setTokenAmountByType("destination",t,!0)}))).subscribe())}wrapNativeToken(e){throw new Error("Method not implemented.")}getApprove(){throw new Error("Method not implemented.")}getPermit(){throw new Error("Method not implemented.")}destroy(){var e;this.subscription.unsubscribe(),(e=this.lastSwapContextStrategy)==null||e.destroy()}setPair(e){this.pairHolder.setPair(e)}switchPair(){this.pairHolder.switchPair()}getTokenByType(e){return this.pairHolder.streamSnapshot(e).pipe(q(t=>t.token),ke())}getTokenAmountByType(e){return this.pairHolder.streamSnapshot(e).pipe(q(t=>t.amountView),ke())}getTokenRawAmountByType(e){return this.pairHolder.streamSnapshot(e).pipe(q(t=>t.amountRaw),ke())}setTokenAmountByType(e,t,n){this.pairHolder.setAmount(e,t,n)}};async function El(e,t,n){const r=Nb(e,t,n);await r.requestAddresses().catch(s=>{var o,a;if(s.core===4001||(a=(o=s.message)==null?void 0:o.toLowerCase())!=null&&a.includes("user reject")||s.details==="Cancelled")throw s});const i=await r.getChainId();return e!==i&&await r.switchChain(kr(e)),r}function Nb(e,t,n){return U_({chain:kr(e),transport:Fx(t),account:n})}function uc(e,t){return new Ee(n=>{const r=i=>{n.next(i)};return e.on(t,r),()=>{if("removeListener"in e)return e.removeListener(t,r);console.warn("unable to unsubscribe from provider",e,t)}})}var Db=class{constructor(e){this.info=e,this.provider$=new gc(null),this.activeAddressInner$=new gc(null),this.providerOrDisconnect$=gr(this.provider$,J(()=>this.disconnect$).pipe(q(()=>null))),this.addresses$=this.providerOrDisconnect$.pipe(Q(t=>t?br(this.getAddresses()).pipe(Q(n=>uc(t,"accountsChanged").pipe(Je(n)))):pt([])),Te({bufferSize:1,refCount:!0})),this.activeAddress$=xe([this.addresses$,this.activeAddressInner$]).pipe(q(([t,n])=>n||t[0]),Te({bufferSize:1,refCount:!0})),this.chainId$=this.providerOrDisconnect$.pipe(Q(t=>t?br(this.getChainId()).pipe(Q(n=>uc(t,"chainChanged").pipe(q(r=>Id(r)),Je(n)))):pt(null)),Te({bufferSize:1,refCount:!0})),this.disconnect$=this.provider$.pipe(Be(Boolean),Q(t=>uc(t,"disconnect"))),this.isConnected$=this.activeAddress$.pipe(q(t=>!!t)),this.info$=pt(e)}getInfo(){return this.info}setProvider(e){this.provider$.next(e)}async getAddresses(){const e=this.provider$.value;return e?await e.request({method:"eth_accounts"}):[]}async getActiveAddress(){const e=this.activeAddressInner$.value;return e||((await this.getAddresses())[0]??null)}async getChainId(){const e=this.provider$.value;if(!e)return null;const t=await e.request({method:"eth_chainId"}).catch(()=>null);return t?Id(t):null}async isConnected(){return!!await this.getActiveAddress()}setActiveAddress(e){this.activeAddressInner$.next(e)}};function Id(e){return typeof e=="number"?e:parseInt(e,16)}var Od=class{constructor(e){this.providerDetail=e,this.client=null,this.data=new Db(this.providerDetail.info)}async connect(e){return this.client=await El(e,this.providerDetail.provider),this.data.setProvider(this.providerDetail.provider),!0}async restoreConnect(e,t){this.data.setProvider(this.providerDetail.provider);const r=(await this.data.getAddresses()).length>0&&e!==null;return r?this.client=Nb(e,this.providerDetail.provider):this.data.setProvider(null),!r&&t?this.connect(e):r}async disconnect(){return this.client=null,this.data.setProvider(null),!0}async changeChain(e){return this.client?(await this.client.switchChain({id:e}),!0):!1}async isConnected(){var t;return(await((t=this.client)==null?void 0:t.getAddresses())??[]).length>0}setActiveAddress(e){this.data.setActiveAddress(e)}};function hk(e){oe.set("chainId",Number(e))}function jb(){return oe.get("chainId",Number)}function dk(e){oe.set("activeAddress",e)}function fk(){return oe.get("activeAddress",JSON.parse)}function Bd(e){oe.set("activeWallet",e)}function Rd(){return oe.get("activeWallet",JSON.parse)}function pk(e){const t=oe.get("connectedWallet",JSON.parse),n=new Set(t);n.has(e)||(n.add(e),oe.set("connectedWallet",[...n.keys()]))}function mk(){return oe.get("connectedWallet",JSON.parse)}function Md(e){const t=oe.get("connectedWallet",JSON.parse),n=new Set(t);n.has(e)&&(n.delete(e),oe.set("connectedWallet",[...n.keys()]))}var hc=new WeakMap;function Pe(e){if(hc.has(e))return hc.get(e);const t=_1(["string","string","string"],[e.name,e.rdns??"",e.icon]).slice(0,10);return hc.set(e,t),t}var bk=class{constructor(e){this.dataProvider=e,this.chainIdInner$=new gc(jb()??x.eth),this.currentActiveAdapter$=J(()=>this.dataProvider.update$).pipe(Je(null),q(()=>this.dataProvider.currentActiveAdapter),ke(),Te({bufferSize:1,refCount:!0})),this.currentActiveAdapterData$=this.currentActiveAdapter$.pipe(q(t=>(t==null?void 0:t.data)??null),Te({bufferSize:1,refCount:!0})),this.info$=this.currentActiveAdapterData$.pipe(Be(Boolean),Q(t=>t.info$)),this.addresses$=this.currentActiveAdapterData$.pipe(Q(t=>(t==null?void 0:t.addresses$)??pt([])),ee(t=>console.log(t)),Te({bufferSize:1,refCount:!0})),this.activeAddress$=this.currentActiveAdapterData$.pipe(Q(t=>(t==null?void 0:t.activeAddress$)??pt(null)),ee(t=>t&&dk(t)),Te({bufferSize:1,refCount:!0})),this.chainId$=xe([this.currentActiveAdapterData$,this.chainIdInner$]).pipe(Q(([t,n])=>(t==null?void 0:t.chainId$)??pt(n)),ee(t=>t&&hk(t)),Te({bufferSize:1,refCount:!0})),this.disconnect$=this.currentActiveAdapterData$.pipe(Q(t=>(t==null?void 0:t.disconnect$)??pt()),Te({bufferSize:1,refCount:!0})),this.isConnected$=this.currentActiveAdapterData$.pipe(Q(t=>(t==null?void 0:t.isConnected$)??pt(!1)),Te({bufferSize:1,refCount:!0})),xe([this.activeAddress$,this.chainId$]).pipe(Uo(Sf)).subscribe()}getInfo(){if(!this.dataProvider.currentActiveAdapter)throw new Error("");return this.dataProvider.currentActiveAdapter.data.getInfo()}async getAddresses(){const e=await this.getProviderDataAdapter();return e?await e.getAddresses():[]}async getActiveAddress(){if(!this.dataProvider.currentActiveAdapter)return null;const e=await this.getProviderDataAdapter();return e?await e.getActiveAddress():null}async getChainId(){if(!this.dataProvider.currentActiveAdapter)return this.chainIdInner$.value;const e=await this.getProviderDataAdapter();if(!e)return this.chainIdInner$.value;const t=await e.getChainId();return t||this.chainIdInner$.value}async isConnected(){if(!this.dataProvider.currentActiveAdapter)return!1;const e=await this.getProviderDataAdapter();return e?await e.isConnected():!1}async isActiveAddress(e,t){var o,a;const n=Pe(e),r=await((o=this.dataProvider.currentActiveAdapter)==null?void 0:o.data.getActiveAddress())??null,i=((a=this.dataProvider.currentActiveAdapter)==null?void 0:a.data.getInfo())??null,s=i?Pe(i):null;return!!r&&!!s&&n===s&&on(r,t)}isActiveWallet(e){var i;const t=Pe(e),n=((i=this.dataProvider.currentActiveAdapter)==null?void 0:i.data.getInfo())??null,r=n?Pe(n):null;return!!r&&r===t}isActiveAddress$(e,t){const n=Pe(e);return xe([this.currentActiveAdapter$,this.activeAddress$]).pipe(q(([r,i])=>{const s=r?Pe(r.data.getInfo()):null;return!!i&&!!s&&n===s&&on(i,t)}))}isActiveWallet$(e){const t=Pe(e);return this.currentActiveAdapter$.pipe(q(n=>{const r=n?Pe(n.data.getInfo()):null;return!!r&&r===t}))}setChainId(e){this.chainIdInner$.next(e)}getProviderDataAdapter(){return gt(this.currentActiveAdapterData$.pipe(Ho(Vf(0)),Uf(null)))}};function gk(){return!!window.ethereum}async function yk(){if(!window.ethereum)throw new Error("injected provider not supported");return{provider:window.ethereum,info:{walletId:"injectedWalletId",uuid:"injectedWallet",name:wk(),icon:await vk()}}}var Fd={default:()=>R(()=>import("./default-icon-R2OFAC44-57bNFlKZ.js"),__vite__mapDeps([])).then(e=>e.icon),oneInchWallet:()=>R(()=>import("./one-inch-wallet-icon-TFSNHSPP-BHMg-Ox7.js"),__vite__mapDeps([])).then(e=>e.icon)};function vk(){var e;return(e=window.ethereum)!=null&&e.isOneInchWallet?Fd.oneInchWallet():Fd.default()}function wk(){var e;return(e=window.ethereum)!=null&&e.isOneInchWallet?"1inch wallet":"Browser wallet"}var xk=class{constructor(e){this.providerDetail=e,this.provider=null,this.client=null,this.data=new Db(this.providerDetail.info)}async isConnected(){var e;return((e=this.provider)==null?void 0:e.isConnected())??!1}async connect(e){if(this.provider)await this.provider.connect();else{const t=await R(()=>import("./multi-connect-provider-3DGAI7LJ-CXvRUCBY.js"),__vite__mapDeps([])).then(n=>n.MultiConnectProvider.connect());this.client=await El(e,t),this.data.setProvider(t),this.provider=t}return!0}async restoreConnect(){if(this.provider)await this.provider.restoreConnect();else{const e=await R(()=>import("./multi-connect-provider-3DGAI7LJ-CXvRUCBY.js"),__vite__mapDeps([])).then(t=>t.MultiConnectProvider.restoreConnect());this.client=await El(e.chainId,e),this.data.setProvider(e),this.provider=e}return!0}async disconnect(){var e;return(e=this.provider)==null||e.disconnect(),!0}async changeChain(e){var t;return await((t=this.client)==null?void 0:t.switchChain({id:e})),!0}setActiveAddress(e){var t;(t=this.provider)==null||t.setActiveAddress(e)}};async function _k(){return{info:{walletId:"walletConnectId",uuid:"walletConnect",name:"Wallet Connect",icon:await $k()}}}var Ek={default:()=>R(()=>import("./wallet-connect-icon-BJ27WGAY-lPk-W8Bs.js"),__vite__mapDeps([])).then(e=>e.icon)};function $k(){return Ek.default()}var kk=class{constructor(){this.data=new bk(this),this.activeAdapters=new Map,this.update$=new rt,this.currentActiveAdapterId=null,this.adapters=new Map}get isConnected(){return this.currentActiveAdapter!==null}get currentActiveAdapter(){return this.currentActiveAdapterId?this.activeAdapters.get(this.currentActiveAdapterId)??null:null}async init(){await this.initWallets(),await this.restoreChainId(),await this.restoreWalletConnection(),this.update$.next()}async getSupportedWallets(){const e=[];return this.adapters.forEach(t=>e.push(t.data.getInfo())),e.sort((t,n)=>{const r=Pe(t),i=Pe(n);return r===this.currentActiveAdapterId&&i!==this.currentActiveAdapterId?-1:r!==this.currentActiveAdapterId&&i===this.currentActiveAdapterId?1:this.activeAdapters.has(r)&&this.activeAdapters.has(i)?0:this.activeAdapters.has(r)&&!this.activeAdapters.has(i)?-1:!this.activeAdapters.has(r)&&this.activeAdapters.has(i)?1:0})}async connect(e){const t=await this.data.getChainId(),n=Pe(e);if(!this.adapters.has(n))throw new Error(`Invalid wallet info ${e.name} not exist`);const r=await this.connectSafe(t,n);return this.afterConnectWallet(r,n),this.update$.next(),r}async addConnection(e){const t=await this.data.getChainId(),n=Pe(e);if(!this.adapters.has(n))throw new Error(`Invalid wallet info ${e.name} not exist`);const r=this.adapters.get(n);if(!r)throw new Error("Invalid wallet id");if(!this.activeAdapters.has(n))throw new Error(`Wallet adapter ${e.name} not connected`);let i;try{i=await r.connect(t)}catch{i=!1}return this.update$.next(),i}async disconnect(){if(this.currentActiveAdapter===null)return!0;try{const e=await this.currentActiveAdapter.disconnect();return this.currentActiveAdapterId&&this.activeAdapters.delete(this.currentActiveAdapterId),this.currentActiveAdapterId&&Md(this.currentActiveAdapterId),this.currentActiveAdapterId=null,this.update$.next(),e}catch(e){return console.error(e),!1}}async changeChain(e){let t=!0;if(this.currentActiveAdapter)try{t=await this.currentActiveAdapter.changeChain(e)}catch{t=!1}return t&&this.data.setChainId(e),t}getDataAdapter(e){const t=Pe(e),n=this.adapters.get(t);if(!n)throw new Error(`Invalid wallet info ${e.name} not exist`);return n.data}async setActiveAddress(e,t){const n=Pe(e);return await this.setActiveAddressInner(n,t)}async setActiveAddressInner(e,t){var r;let n=!0;if(this.currentActiveAdapterId!==e){const i=await this.data.getChainId();if(!this.adapters.has(e))throw new Error("Invalid wallet not exist");n=await this.connectSafe(i,e),this.afterConnectWallet(n,e)}n&&((r=this.currentActiveAdapter)==null||r.setActiveAddress(t)),this.update$.next()}async connectSafe(e,t,n=!1){const r=this.adapters.get(t);if(!r)throw new Error("Invalid wallet id");let i;if(!this.activeAdapters.has(t)||n){try{i=await r.connect(e)}catch{i=!1}i&&this.activeAdapters.set(t,r)}else i=await r.isConnected(),!n&&!i&&(i=await this.connectSafe(e,t,!0));return i}async restoreConnectSafe(e,t,n){const r=this.adapters.get(t);if(!r)throw new Error("Invalid wallet id");let i;if(this.activeAdapters.has(t))i=await r.isConnected();else{try{i=await r.restoreConnect(e,n)}catch{i=!1}i&&this.activeAdapters.set(t,r)}return i}async restoreChainId(){const e=jb();e&&await this.changeChain(e)}async restoreWalletConnection(){const e=Rd(),t=mk();if(!t)return;await this.getSupportedWallets();const n=await this.data.getChainId();for(const o of t){if(o===e||!this.adapters.has(o))continue;const a=await this.restoreConnectSafe(n,o).catch(()=>!1);this.afterConnectWallet(a,o)}if(!e||!this.adapters.has(e))return;const r=await this.restoreConnectSafe(n,e,!0);if(this.afterConnectWallet(r,e),!r)return;const i=fk();!i||!this.currentActiveAdapter||!(await this.currentActiveAdapter.data.getAddresses()).includes(i)||await this.setActiveAddressInner(e,i)}initWallets(){return new Promise(e=>{let t=!1;le(window,"eip6963:announceProvider").pipe(ee(n=>{t=Sk(window.ethereum,n.detail.provider);const r=Pe(n.detail.info);this.adapters.has(r)||this.adapters.set(r,new Od(n.detail))}),yr(100),Hy(1),Ho(Vf(100)),Uf(null),ee(async()=>{if(!t&&gk()){const i=await yk(),s=Pe(i.info);this.adapters.has(s)||this.adapters.set(s,new Od(i))}const n=await _k(),r=Pe(n.info);this.adapters.set(r,new xk(n)),e()})).subscribe(),window.dispatchEvent(new Event("eip6963:requestProvider"))})}afterConnectWallet(e,t){e?(this.currentActiveAdapterId=t,pk(t),Bd(t)):(Md(t),Rd()===t&&Bd(null),this.currentActiveAdapterId===t&&(this.currentActiveAdapterId=null),this.activeAdapters.has(t)&&(this.adapters.get(t).disconnect().catch(),this.activeAdapters.delete(t)))}};function Sk(e,t){if(e===t)return!0;const n=Object.keys(e??{}),r=Object.keys(t??{});if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function Ak(){return new kk}function be(e,t,n){return e?t(e):n==null?void 0:n(e)}let Lb=class extends Event{constructor(t,n,r){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=n,this.subscribe=r??!1}};function gC(e){return e}let Nd=class{constructor(t,n,r,i){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(s,o)=>{this.unsubscribe&&(this.unsubscribe!==o&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=s,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(s,o)),this.unsubscribe=o},this.host=t,n.context!==void 0){const s=n;this.context=s.context,this.callback=s.callback,this.subscribe=s.subscribe??!1}else this.context=n,this.callback=r,this.subscribe=i??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new Lb(this.context,this.t,this.subscribe))}};class Ck{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,n=!1){const r=n||!Object.is(t,this.o);this.o=t,r&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[n,{disposer:r}]of this.subscriptions)n(this.o,r)},t!==void 0&&(this.value=t)}addCallback(t,n,r){if(!r)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:n});const{disposer:i}=this.subscriptions.get(t);t(this.value,i)}clearCallbacks(){this.subscriptions.clear()}}let Pk=class extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}};class xa extends Ck{constructor(t,n,r){var i,s;super(n.context!==void 0?n.initialValue:r),this.onContextRequest=o=>{const a=o.composedPath()[0];o.context===this.context&&a!==this.host&&(o.stopPropagation(),this.addCallback(o.callback,a,o.subscribe))},this.onProviderRequest=o=>{const a=o.composedPath()[0];if(o.context!==this.context||a===this.host)return;const c=new Set;for(const[l,{consumerHost:u}]of this.subscriptions)c.has(l)||(c.add(l),u.dispatchEvent(new Lb(this.context,l,!0)));o.stopPropagation()},this.host=t,n.context!==void 0?this.context=n.context:this.context=n,this.attachListeners(),(s=(i=this.host).addController)==null||s.call(i,this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new Pk(this.context))}}function St({context:e,subscribe:t}){return(n,r)=>{typeof r=="object"?r.addInitializer(function(){new Nd(this,{context:e,callback:i=>{this[r.name]=i},subscribe:t})}):n.constructor.addInitializer(i=>{new Nd(i,{context:e,callback:s=>{i[r]=s},subscribe:t})})}}var Tk=Object.defineProperty,Ik=Object.getOwnPropertyDescriptor,At=(e,t,n,r)=>{for(var i=r>1?void 0:r?Ik(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Tk(t,n,i),i};const cr=()=>new Ok;class Ok{}const dc=new WeakMap,Gt=ln(class extends ks{render(e){return de}update(e,[t]){var r;const n=t!==this.Y;return n&&this.Y!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=t,this.ht=(r=e.options)==null?void 0:r.host,this.rt(this.ct=e.element)),de}rt(e){if(typeof this.Y=="function"){const t=this.ht??globalThis;let n=dc.get(t);n===void 0&&(n=new WeakMap,dc.set(t,n)),n.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),n.set(this.Y,e),e!==void 0&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){var e,t;return typeof this.Y=="function"?(e=dc.get(this.ht??globalThis))==null?void 0:e.get(this.Y):(t=this.Y)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function Bk(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var $l=["#FF0000","#FF7F00","#ffd500","#40ff00","#0000FF","#37009e","#8B00FF"],wC=Bk($l),Dd=Fk($l,$l.length/2),Rk=[...Dd,...Dd.reverse()];function ui(e){const t=parseInt(e.slice(1),16),n=t>>16&255,r=t>>8&255,i=t&255;return[n,r,i]}function Us(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}function Gr(e,t,n){return Math.round(e+(t-e)*n)}function Mk(e,t,n){const[r,i,s]=ui(e),[o,a,c]=ui(t),l=[];for(let u=0;u<=n;u++){const h=u/n,d=Gr(r,o,h),p=Gr(i,a,h),m=Gr(s,c,h);l.push(Us(d,p,m))}return l}function Fk(e,t){const n=[];for(let r=0;r<e.length-1;r++){const i=Mk(e[r],e[r+1],t);n.push(...i.slice(0,-1))}return n.push(e[e.length-1]),n}function Nk(e,t,n,r,i){const s=ui(e),o=ui(t),a=(i-n)/(r-n),c=Gr(s[0],o[0],a),l=Gr(s[1],o[1],a),u=Gr(s[2],o[2],a);return Us(c,l,u)}function jd(e,t=100){const[n,r,i]=ui(e);return re(`rgba(${n}, ${r}, ${i}, ${t}%)`)}function Dk(e){e=e.replace(/^#/,"");const t=parseInt(e,16);let n=t>>16&255,r=t>>8&255,i=t&255;const s=-32,o=-32,a=-32,c=l=>Math.max(0,Math.min(255,l));return n=c(n+s),r=c(r+o),i=c(i+a),re(Us(n,r,i))}function xC(){const n=[Math.floor(Math.random()*168+32),Math.floor(Math.random()*168+32),200];return n.sort(()=>Math.random()-.5),Us(n[0],n[1],n[2])}function jk(e,t){let[n,r,i]=ui(e);return n=Math.min(255,Math.max(0,n*t)),r=Math.min(255,Math.max(0,r*t)),i=Math.min(255,Math.max(0,i*t)),Us(Math.round(n),Math.round(r),Math.round(i))}function _C(e){return M`
      :root {
          --primary: ${re(e)};
          --primary-50: ${jd(e,50)};
          --primary-12: ${jd(e,12)};
          --primary-hover: ${Dk(e)};
          --secondary: ${re(e)}1f;
          --secondary-hover: ${re(e)}3d;
      }
  `}var Lk=new RegExp("(?<=var\\().*?(?=\\))");function Ld(e){const t=e.match(Lk),n=t?t[0]:e;return getComputedStyle(document.documentElement).getPropertyValue(n).trim()}var zb=document.createElement("style"),Vb=document.createElement("style"),zk=M`

    @font-face { font-family: "Inter"; font-style: normal; font-weight: 500; font-display: swap; src: url("fonts/Inter/Inter-Medium.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 600; font-display: swap; src: url("fonts/Inter/Inter-SemiBold.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 400; font-display: swap; src: url("fonts/Inter/Inter-Regular.woff2") format("woff2"); }

    * {
        font-family: 'Inter', sans-serif;
        font-style: normal;
    }

`,Vk=M`
    
    html {
        background-color: var(--color-background-bg-body);
        position: fixed;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
    }

    body {
        margin: 0;
        background-color: var(--color-background-bg-body);
        box-sizing: border-box;
    }

    ::view-transition-old(root),
    ::view-transition-new(root) {
        animation: none;
        mix-blend-mode: normal;
    }
    
    * {
        user-select: none;
        outline: none;
        -webkit-user-select: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
    }

`,Ub=(e=>(e[e.systemSync=0]="systemSync",e[e.dark=1]="dark",e[e.darkBlue=2]="darkBlue",e[e.light=3]="light",e[e.lightBlue=4]="lightBlue",e))(Ub||{}),Hs=(e=>(e[e.community=0]="community",e[e.random=1]="random",e[e.rainbow=2]="rainbow",e[e.orange=3]="orange",e[e.violet=4]="violet",e))(Hs||{}),Pi={0:()=>Hk(),1:()=>R(()=>import("./dark.style-SZRD25FZ-UM0Ye2Qa.js"),__vite__mapDeps([])).then(e=>e.themeDark),2:()=>R(()=>import("./dark-blue.style-IGURAS6Y-CzFroI9X.js"),__vite__mapDeps([])).then(e=>e.themeDarkBlue),3:()=>R(()=>import("./light.style-G4JVL6CL-mzUR5sjn.js"),__vite__mapDeps([])).then(e=>e.themeLight),4:()=>R(()=>import("./light-blue.style-JRIPM2DB-DKlMp1pI.js"),__vite__mapDeps([])).then(e=>e.themeLightBlue)},Uk={0:()=>R(()=>import("./community.style-QAAQV27F-BoTZ51fv.js"),__vite__mapDeps([])).then(e=>e.communityStyle),2:()=>R(()=>import("./rainbow.style-CWGC64XV-DK1LIByF.js"),__vite__mapDeps([])).then(e=>e.rainbowStyle),1:()=>R(()=>import("./random.style-E5RDG6AE-C1ntvx_2.js"),__vite__mapDeps([])).then(e=>e.randomStyle),3:()=>R(()=>import("./orange.style-ZN3BONPF-CMu1bcFX.js"),__vite__mapDeps([])).then(e=>e.orangeStyle),4:()=>R(()=>import("./violet.style-6VFTS6YL-CZxhlR3r.js"),__vite__mapDeps([])).then(e=>e.violetStyle)};function Hk(){var e,t;return window.matchMedia("(prefers-color-scheme: dark)").matches?(e=window==null?void 0:window.ethereum)!=null&&e.isOneInchIOSWallet?Pi[2]():Pi[1]():(t=window==null?void 0:window.ethereum)!=null&&t.isOneInchIOSWallet?Pi[4]():Pi[3]()}var Hb,qb,kl={0:()=>Gb(),3:()=>"#f1f1f1",4:()=>"#f1f1f1",1:()=>"#0e0e0e",2:()=>"#0e0e0e"},Zu=window.matchMedia("(prefers-color-scheme: dark)"),Wb=new $f(1);function Gb(){return Zu.matches?kl[1]():kl[3]()}function Kb(){return Wb}Zu.onchange=async()=>{Hb===0&&await Yb(0,qb)};function qk(e){return e===0?Zu.matches:e===1||e===2}async function Yb(e,t,n){await(async()=>{const i=await Pi[e](),s=await Uk[t]();xc(zb,i),xc(Vb,s),Kf(kl[e]()),Hb=e,qb=t,document.documentElement.setAttribute("theme",qk(e)?"dark":"light"),document.documentElement.setAttribute("brand-color",Hs[t]),Wb.next({mainColor:e,brandColor:t})})()}var Wk=(e,t)=>M`
    
    ${re(e)} {
        overflow: auto;
        touch-action: pan-y;
        overscroll-behavior: none;
        scrollbar-color: var(--primary) transparent;
        scrollbar-width: ${re("thin")};
        scrollbar-gutter: stable;
    }

    /* width */
    ${re(e)}::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    /* Track */
    ${re(e)}::-webkit-scrollbar-track {
        background: transparent;
    }

    /* Handle */
    ${re(e)}::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 4px;
    }

    /* Handle on hover */
    ${re(e)}::-webkit-scrollbar-thumb:hover {
        background: var(--primary-hover);
    }
    
    ${Le(M`
        ${re(e)}::-webkit-scrollbar {
            display: none;
        }
    `)}
    
    ${re("")}
`,_a=Wk(":host");async function Gk(e=3,t=0){document.head.appendChild(zb),document.head.appendChild(Vb),Fa(zk),Fa(Vk),Fa(_a),await Yb(e,t)}function Zb(){return re(`linear-gradient(90deg, ${re(Rk.join(","))})`)}const zd=(e,t,n)=>{const r=new Map;for(let i=t;i<=n;i++)r.set(e[i],i);return r},Kk=ln(class extends $s{constructor(e){if(super(e),e.type!==Es.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,n){let r;n===void 0?n=t:t!==void 0&&(r=t);const i=[],s=[];let o=0;for(const a of e)i[o]=r?r(a,o):o,s[o]=n(a,o),o++;return{values:s,keys:i}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,r]){const i=Mg(e),{values:s,keys:o}=this.dt(t,n,r);if(!Array.isArray(i))return this.ut=o,s;const a=this.ut??(this.ut=[]),c=[];let l,u,h=0,d=i.length-1,p=0,m=s.length-1;for(;h<=d&&p<=m;)if(i[h]===null)h++;else if(i[d]===null)d--;else if(a[h]===o[p])c[p]=qn(i[h],s[p]),h++,p++;else if(a[d]===o[m])c[m]=qn(i[d],s[m]),d--,m--;else if(a[h]===o[m])c[m]=qn(i[h],s[m]),wi(e,c[m+1],i[h]),h++,m--;else if(a[d]===o[p])c[p]=qn(i[d],s[p]),wi(e,i[h],i[d]),d--,p++;else if(l===void 0&&(l=zd(o,p,m),u=zd(a,h,d)),l.has(a[h]))if(l.has(a[d])){const f=u.get(o[p]),g=f!==void 0?i[f]:null;if(g===null){const b=wi(e,i[h]);qn(b,s[p]),c[p]=b}else c[p]=qn(g,s[p]),wi(e,i[h],g),i[f]=null;p++}else Ia(i[d]),d--;else Ia(i[h]),h++;for(;p<=m;){const f=wi(e,c[m+1]);qn(f,s[p]),c[p++]=f}for(;h<=d;){const f=i[h++];f!==null&&Ia(f)}return this.ut=o,Rg(e,c),Rt}});var Ju=Symbol("scrollContext"),kn=class extends G{constructor(){super(...arguments),this.context=new xa(this,{context:Ju})}setScrollTopFromConsumer(e){this.scrollTopFromConsumer=e}firstUpdated(){this.context.setValue(this)}updated(){W(this,{maxHeight:this.maxHeight?`${this.maxHeight}px`:""})}render(){return A`<slot></slot>`}};kn.tagName="inch-scroll-view-provider";At([j({type:Number,attribute:!1})],kn.prototype,"maxHeight",2);kn=At([X(kn.tagName)],kn);var Kr=class extends G{constructor(){super(...arguments),this.contentRef=cr(),this.scrollContainerRef=cr(),this.globalOffsetY=0}get contentHeight(){var e;return((e=this.contentRef.value)==null?void 0:e.clientHeight)??0}get scrollContainer(){if(!this.scrollContainerRef.value)throw new Error("");return this.scrollContainerRef.value}firstUpdated(){if(!this.context)throw new Error("inch-scroll-view-consumer must be used inside inch-scroll-view-provider");this.globalOffsetY=this.context.clientHeight-this.clientHeight,at(this,[gr(Jn(this.context),Jn(this.contentRef.value)).pipe(ee(()=>this.updateView()))])}render(){return A`
      <div class="scroll-container" ${Gt(this.scrollContainerRef)}>
        <div ${Gt(this.contentRef)}>
          <slot></slot>
        </div>
      </div>
    `}updateView(){this.contentHeight>(this.context.maxHeight??0)?(this.scrollContainer.style.height=`${(this.context.maxHeight??0)-this.globalOffsetY}px`,!this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.add("overflow")):(this.scrollContainer.style.height=`${this.contentHeight}px`,this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.remove("overflow"))}};Kr.tagName="inch-scroll-view-consumer";Kr.styles=[_a,M`
        .scroll-container {
            display: block;
            flex-direction: column;
            transition: height .1s;
        }
        .overflow {
            overflow: auto;
            overscroll-behavior: none;
            touch-action: pan-y;
            display: block;
            position: relative;
            contain: size layout;
        }
    `];At([St({context:Ju,subscribe:!0})],Kr.prototype,"context",2);Kr=At([X(Kr.tagName)],Kr);var Jb=class Xb extends Event{constructor(t){super(Xb.eventName,{bubbles:!1}),this.first=t.first,this.last=t.last}};Jb.eventName="rangeChanged";var Qb=class eg extends Event{constructor(t){super(eg.eventName,{bubbles:!1}),this.first=t.first,this.last=t.last}};Qb.eventName="visibilityChanged";var tg=class ng extends Event{constructor(){super(ng.eventName,{bubbles:!1})}};tg.eventName="unpinned";var Yk=class{constructor(e){this._element=null;const t=e??window;this._node=t,e&&(this._element=e)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}},Zk=class extends Yk{constructor(e,t){super(t),this._clients=new Set,this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1,this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this);const n=this._node;this._originalScrollTo=n.scrollTo,this._originalScrollBy=n.scrollBy,this._originalScroll=n.scroll,this._attach(e)}get _destination(){return this.__destination}get scrolling(){return this._destination!==null}scrollTo(e,t){const n=typeof e=="number"&&typeof t=="number"?{left:e,top:t}:e;this._scrollTo(n)}scrollBy(e,t){const n=typeof e=="number"&&typeof t=="number"?{left:e,top:t}:e;n.top!==void 0&&(n.top+=this.scrollTop),n.left!==void 0&&(n.left+=this.scrollLeft),this._scrollTo(n)}_nativeScrollTo(e){this._originalScrollTo.bind(this._element||window)(e)}_scrollTo(e,t=null,n=null){this._end!==null&&this._end(),e.behavior==="smooth"?(this._setDestination(e),this._retarget=t,this._end=n):this._resetScrollState(),this._nativeScrollTo(e)}_setDestination(e){let{top:t,left:n}=e;return t=t===void 0?void 0:Math.max(0,Math.min(t,this.maxScrollTop)),n=n===void 0?void 0:Math.max(0,Math.min(n,this.maxScrollLeft)),this._destination!==null&&n===this._destination.left&&t===this._destination.top?!1:(this.__destination={top:t,left:n,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(e){this._destination&&this._setDestination(e)&&this._nativeScrollTo(this._destination)}managedScrollTo(e,t,n){return this._scrollTo(e,t,n),this._updateManagedScrollTo}correctScrollError(e){this.correctingScrollError=!0,requestAnimationFrame(()=>requestAnimationFrame(()=>this.correctingScrollError=!1)),this._nativeScrollTo(e),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(this._destination!==null){const{scrollTop:e,scrollLeft:t}=this;let{top:n,left:r}=this._destination;n=Math.min(n||0,this.maxScrollTop),r=Math.min(r||0,this.maxScrollLeft);const i=Math.abs(n-e),s=Math.abs(r-t);i<1&&s<1&&(this._end&&this._end(),this._resetScrollState())}}detach(e){return this._clients.delete(e),this._clients.size===0&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(e){this._clients.add(e),this._clients.size===1&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}},Vd=window==null?void 0:window.ResizeObserver,Sl=Symbol("virtualizerRef"),oo="virtualizer-sizer",Ud,Jk=class{constructor(e){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,this._layoutInitialized=null,!e)throw new Error("Virtualizer constructor requires a configuration object");if(e.hostElement)this._init(e);else throw new Error('Virtualizer configuration requires the "hostElement" property')}set items(e){Array.isArray(e)&&e!==this._items&&(this._itemsChanged=!0,this._items=e,this._schedule(this._updateLayout))}_init(e){this._isScroller=!!e.scroller,this._initHostElement(e);const t=e.layout||{};this._layoutInitialized=this._initLayout(t)}_initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this)),this._hostElementRO=new Vd(()=>this._hostElementSizeChanged()),this._childrenRO=new Vd(this._childrenSizeChanged.bind(this))}_initHostElement(e){const t=this._hostElement=e.hostElement;this._applyVirtualizerStyles(),t[Sl]=this}connected(){this._initObservers();const e=this._isScroller;this._clippingAncestors=eS(this._hostElement,e),this._scrollerController=new Zk(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen()}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach(e=>{e.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(e),this._hostElementRO.observe(e)}),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach(e=>this._childrenRO.observe(e)),this._scrollEventListeners.forEach(e=>e.addEventListener("scroll",this,this._scrollEventListenerOptions))}disconnected(){var e,t,n,r;this._scrollEventListeners.forEach(i=>i.removeEventListener("scroll",this,this._scrollEventListenerOptions)),this._scrollEventListeners=[],this._clippingAncestors=[],(e=this._scrollerController)==null||e.detach(this),this._scrollerController=null,(t=this._mutationObserver)==null||t.disconnect(),this._mutationObserver=null,(n=this._hostElementRO)==null||n.disconnect(),this._hostElementRO=null,(r=this._childrenRO)==null||r.disconnect(),this._childrenRO=null,this._rejectLayoutCompletePromise("disconnected")}_applyVirtualizerStyles(){const t=this._hostElement.style;t.display=t.display||"block",t.position=t.position||"relative",t.contain=t.contain||"size layout",this._isScroller&&(t.overflow=t.overflow||"auto",t.minHeight=t.minHeight||"150px")}_getSizer(){const e=this._hostElement;if(!this._sizer){let t=e.querySelector(`[${oo}]`);t||(t=document.createElement("div"),t.setAttribute(oo,""),e.appendChild(t)),Object.assign(t.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),t.textContent="&nbsp;",t.setAttribute(oo,""),this._sizer=t}return this._sizer}async updateLayoutConfig(e){await this._layoutInitialized;const t=e.type||Ud;if(typeof t=="function"&&this._layout instanceof t){const n={...e};return delete n.type,this._layout.config=n,!0}return!1}async _initLayout(e){let t,n;if(typeof e.type=="function"){n=e.type;const r={...e};delete r.type,t=r}else t=e;n===void 0&&(Ud=n=(await R(()=>import("./flow-JFPQSEAN-BnuMDPmE.js"),__vite__mapDeps([]))).FlowLayout),this._layout=new n(r=>this._handleLayoutMessage(r),t),this._layout.measureChildren&&typeof this._layout.updateItemSizes=="function"&&(typeof this._layout.measureChildren=="function"&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){this._benchmarkStart===null&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(this._benchmarkStart!==null){const e=window.performance.now(),t=e-this._benchmarkStart,r=performance.getEntriesByName("uv-virtualizing","measure").filter(i=>i.startTime>=this._benchmarkStart&&i.startTime<e).reduce((i,s)=>i+s.duration,0);return this._benchmarkStart=null,{timeElapsed:t,virtualizationTime:r}}return null}_measureChildren(){const e={},t=this._children,n=this._measureChildOverride||this._measureChild;for(let r=0;r<t.length;r++){const i=t[r],s=this._first+r;(this._itemsChanged||this._toBeMeasured.has(i))&&(e[s]=n.call(this,i,this._items[s]))}this._childMeasurements=e,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(e){const{width:t,height:n}=e.getBoundingClientRect();return Object.assign({width:t,height:n},Xk(e))}async _schedule(e){this._scheduled.has(e)||(this._scheduled.add(e),await Promise.resolve(),this._scheduled.delete(e),e.call(this))}async _updateDOM(e){this._scrollSize=e.scrollSize,this._adjustRange(e.range),this._childrenPos=e.childPositions,this._scrollError=e.scrollError||null;const{_rangeChanged:t,_itemsChanged:n}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),(t||n)&&(this._notifyRange(),this._rangeChanged=!1),this._finishDOMUpdate()}_finishDOMUpdate(){this._children.forEach(e=>this._childrenRO.observe(e)),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end")}_updateLayout(){this._layout&&this._scrollerController&&(this._layout.items=this._items,this._updateView(),this._childMeasurements!==null&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){var e;if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(t){console.warn("Error measuring performance data: ",t)}window.performance.mark("uv-start")}this._scrollerController.correctingScrollError===!1&&((e=this._layout)==null||e.unpin()),this._schedule(this._updateLayout)}handleEvent(e){switch(e.type){case"scroll":(e.currentTarget===window||this._clippingAncestors.includes(e.currentTarget))&&this._handleScrollEvent();break;default:console.warn("event not handled",e)}}_handleLayoutMessage(e){e.type==="stateChanged"?this._updateDOM(e):e.type==="visibilityChanged"?(this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._notifyVisibility()):e.type==="unpinned"&&this._hostElement.dispatchEvent(new tg)}get _children(){const e=[];let t=this._hostElement.firstElementChild;for(;t;)t.hasAttribute(oo)||e.push(t),t=t.nextElementSibling;return e}_updateView(){var r;const e=this._hostElement,t=(r=this._scrollerController)==null?void 0:r.element,n=this._layout;if(e&&t&&n){let i,s,o,a;const c=e.getBoundingClientRect();i=0,s=0,o=window.innerHeight,a=window.innerWidth;const l=this._clippingAncestors.map(b=>b.getBoundingClientRect());l.unshift(c);for(const b of l)i=Math.max(i,b.top),s=Math.max(s,b.left),o=Math.min(o,b.bottom),a=Math.min(a,b.right);const u=t.getBoundingClientRect(),h={left:c.left-u.left,top:c.top-u.top},d={width:t.scrollWidth,height:t.scrollHeight},p=i-c.top+e.scrollTop,m=s-c.left+e.scrollLeft,f=o-i,g=a-s;n.viewportSize={width:g,height:f},n.viewportScroll={top:p,left:m},n.totalScrollSize=d,n.offsetWithinScroller=h}}_sizeHostElement(e){const n=e&&e.width!==null?Math.min(82e5,e.width):0,r=e&&e.height!==null?Math.min(82e5,e.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${n}px, ${r}px)`;else{const i=this._hostElement.style;i.minWidth=n?`${n}px`:"100%",i.minHeight=r?`${r}px`:"100%"}}_positionChildren(e){e&&e.forEach(({top:t,left:n,width:r,height:i,xOffset:s,yOffset:o},a)=>{const c=this._children[a-this._first];c&&(c.style.position="absolute",c.style.boxSizing="border-box",c.style.transform=`translate(${n}px, ${t}px)`,r!==void 0&&(c.style.width=r+"px"),i!==void 0&&(c.style.height=i+"px"),c.style.left=s===void 0?null:s+"px",c.style.top=o===void 0?null:o+"px")})}async _adjustRange(e){const{_first:t,_last:n,_firstVisible:r,_lastVisible:i}=this;this._first=e.first,this._last=e.last,this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==t||this._last!==n,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==r||this._lastVisible!==i}_correctScrollError(){if(this._scrollError){const{scrollTop:e,scrollLeft:t}=this._scrollerController,{top:n,left:r}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:e-n,left:t-r})}}element(e){var t;return e===1/0&&(e=this._items.length-1),((t=this._items)==null?void 0:t[e])===void 0?void 0:{scrollIntoView:(n={})=>this._scrollElementIntoView({...n,index:e})}}_scrollElementIntoView(e){if(e.index>=this._first&&e.index<=this._last)this._children[e.index-this._first].scrollIntoView(e);else if(e.index=Math.min(e.index,this._items.length-1),e.behavior==="smooth"){const t=this._layout.getScrollIntoViewCoordinates(e),{behavior:n}=e;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(t,{behavior:n}),()=>this._layout.getScrollIntoViewCoordinates(e),()=>this._scrollIntoViewTarget=null),this._scrollIntoViewTarget=e}else this._layout.pin=e}_checkScrollIntoViewTarget(e){const{index:t}=this._scrollIntoViewTarget||{};t&&(e!=null&&e.has(t))&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new Jb({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new Qb({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise((e,t)=>{this._layoutCompleteResolver=e,this._layoutCompleteRejecter=t})),this._layoutCompletePromise}_rejectLayoutCompletePromise(e){this._layoutCompleteRejecter!==null&&this._layoutCompleteRejecter(e),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&this._pendingLayoutComplete===null&&(this._pendingLayoutComplete=requestAnimationFrame(()=>requestAnimationFrame(()=>this._resolveLayoutCompletePromise())))}_resolveLayoutCompletePromise(){this._layoutCompleteResolver!==null&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(e){var t;if((t=this._layout)!=null&&t.measureChildren){for(const n of e)this._toBeMeasured.set(n.target,n.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}};function Xk(e){const t=window.getComputedStyle(e);return{marginTop:ao(t.marginTop),marginRight:ao(t.marginRight),marginBottom:ao(t.marginBottom),marginLeft:ao(t.marginLeft)}}function ao(e){const t=e?parseFloat(e):NaN;return Number.isNaN(t)?0:t}function Hd(e){if(e.assignedSlot!==null)return e.assignedSlot;if(e.parentElement!==null)return e.parentElement;const t=e.parentNode;return t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host||null}function Qk(e,t=!1){const n=[];let r=t?e:Hd(e);for(;r!==null;)n.push(r),r=Hd(r);return n}function eS(e,t=!1){let n=!1;return Qk(e,t).filter(r=>{if(n)return!1;const i=getComputedStyle(r);return n=i.position==="fixed",i.overflow!=="visible"})}var rg=e=>e,ig=(e,t)=>A`${t}: ${JSON.stringify(e,null,2)}`,tS=class extends ks{constructor(e){if(super(e),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(t,n)=>ig(t,n+this._first),this._keyFunction=(t,n)=>rg(t,n+this._first),this._items=[],e.type!==Es.CHILD)throw new Error("The virtualize directive can only be used in child expressions")}render(e){e&&this._setFunctions(e);const t=[];if(this._first>=0&&this._last>=this._first)for(let n=this._first;n<=this._last;n++)t.push(this._items[n]);return Kk(t,this._keyFunction,this._renderItem)}update(e,[t]){this._setFunctions(t);const n=this._items!==t.items;return this._items=t.items||[],this._virtualizer?this._updateVirtualizerConfig(e,t):this._initialize(e,t),n?Rt:this.render()}async _updateVirtualizerConfig(e,t){if(!await this._virtualizer.updateLayoutConfig(t.layout||{})){const r=e.parentNode;this._makeVirtualizer(r,t)}this._virtualizer.items=this._items}_setFunctions(e){const{renderItem:t,keyFunction:n}=e;t&&(this._renderItem=(r,i)=>t(r,i+this._first)),n&&(this._keyFunction=(r,i)=>n(r,i+this._first))}_makeVirtualizer(e,t){this._virtualizer&&this._virtualizer.disconnected();const{layout:n,scroller:r,items:i}=t;this._virtualizer=new Jk({hostElement:e,layout:n,scroller:r}),this._virtualizer.items=i,this._virtualizer.connected()}_initialize(e,t){const n=e.parentNode;n&&n.nodeType===1&&(n.addEventListener("rangeChanged",r=>{this._first=r.first,this._last=r.last,this.setValue(this.render())}),this._makeVirtualizer(n,t))}disconnected(){var e;(e=this._virtualizer)==null||e.disconnected()}reconnected(){var e;(e=this._virtualizer)==null||e.connected()}},nS=ln(tS),gi=class extends G{constructor(){super(...arguments),this.items=[],this.renderItem=ig,this.keyFunction=rg,this.layout={},this.scroller=!1}createRenderRoot(){return this}render(){const{items:e,renderItem:t,keyFunction:n,layout:r,scroller:i}=this;return A`${nS({items:e,renderItem:t,keyFunction:n,layout:r,scroller:i})}`}element(e){var t;return(t=this[Sl])==null?void 0:t.element(e)}get layoutComplete(){var e;return(e=this[Sl])==null?void 0:e.layoutComplete}scrollToIndex(e,t="start"){var n;(n=this.element(e))==null||n.scrollIntoView({block:t})}};Ss([j({attribute:!1})],gi.prototype,"items",void 0);Ss([j()],gi.prototype,"renderItem",void 0);Ss([j()],gi.prototype,"keyFunction",void 0);Ss([j({attribute:!1})],gi.prototype,"layout",void 0);Ss([j({reflect:!0,type:Boolean})],gi.prototype,"scroller",void 0);customElements.define("lit-virtualizer",gi);var rS=Symbol("mainViewportContext"),sg=(e,t)=>M`
    
    ${re(e)} {
        overflow: auto;
        touch-action: pan-y;
        overscroll-behavior: none;
        scrollbar-color: var(--primary) transparent;
        scrollbar-width: ${re(t?"none":"thin")};
        scrollbar-gutter: stable;
    }

    /* width */
    ${re(e)}::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    /* Track */
    ${re(e)}::-webkit-scrollbar-track {
        background: transparent;
    }

    /* Handle */
    ${re(e)}::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 4px;
    }

    /* Handle on hover */
    ${re(e)}::-webkit-scrollbar-thumb:hover {
        background: var(--primary-hover);
    }
    
    ${Le(M`
        ${re(e)}::-webkit-scrollbar {
            display: none;
        }
    `)}
    
    ${re(t?M`
          ${re(e)}::-webkit-scrollbar {
              display: none;
          }
    `:"")}
`;sg(":host");var _t=class extends G{constructor(){super(...arguments),this.items=[],this.globalOffsetY=null,this.virtualizerRef=cr(),this.headerRef=cr(),this.headerStub=document.createElement("div"),this.mobileMedia=un(this)}get virtualizer(){if(!this.virtualizerRef.value)throw new Error("");return this.virtualizerRef.value}firstUpdated(){var t;if(!this.context||!this.virtualizerRef.value)return;const e=document.createElement("style");e.textContent=_a.cssText,(t=this.virtualizerRef.value.shadowRoot)==null||t.appendChild(e),this.updateView(),this.updateHeaderSize(),at(this,[gr(Xf(),Jn(this.context),Jn(this.virtualizer),this.mainViewportContext?Jn(this.mainViewportContext):pt()).pipe(ee(()=>this.updateView()))],{requestUpdate:!1}),this.headerRef.value&&at(this,[Jn(this.headerRef.value).pipe(ee(()=>this.updateHeaderSize())),le(this.virtualizerRef.value,"scroll",{passive:!0}).pipe(ee(()=>{var n;this.context.setScrollTopFromConsumer(((n=this.virtualizerRef.value)==null?void 0:n.scrollTop)??0),this.updateHeaderBackground()}))],{requestUpdate:!1})}render(){return this.updateView(),this.updateHeaderSize(),A`
      ${be(this.header,e=>A`
        <div ${Gt(this.headerRef)} class="scroll-header">
          ${e()}
        </div>
      `)}
      <lit-virtualizer
        ${Gt(this.virtualizerRef)}
        scroller
        .items=${this.getItems()}
        .keyFunction="${this.keyFunction??((e,t)=>t)}"
        .renderItem=${(e,t)=>this.renderItemInternal(e,t)}
      ></lit-virtualizer>
    `}updateView(){this.mobileMedia.matches?this.updateViewMobile():this.updateViewDesktop()}updateViewMobile(){if(!this.context||!this.virtualizerRef.value)return;const e=this.getViewPortBoundingClientRect(),t=this.virtualizer.getBoundingClientRect();this.globalOffsetY=t.top-e.top+8*2,this.virtualizer.style.minHeight=`${(this.context.maxHeight??0)-this.globalOffsetY}px`}updateViewDesktop(){if(!this.context||!this.virtualizerRef.value||!this.headerRef.value)return;const e=this.getViewPortBoundingClientRect();this.virtualizer.style.minHeight=`${e.height}px`}getViewPortBoundingClientRect(){return this.mainViewportContext?this.mainViewportContext.getBoundingClientRect():this.context.getBoundingClientRect()}getItems(){return this.header?[null,...this.items]:this.items}renderItemInternal(e,t){var n;return this.header&&t===0?A`${this.headerStub}`:((n=this.renderItem)==null?void 0:n.call(this,e,t))??A``}updateHeaderSize(){if(this.headerRef.value){const e=this.headerRef.value.getBoundingClientRect();W(this.headerStub,{height:`${e.height}px`})}}updateHeaderBackground(){var t;const e=((t=this.virtualizerRef.value)==null?void 0:t.scrollTop)??0;e>10&&this.headerRef.value&&!this.headerRef.value.classList.contains("scroll-header-background-color-blur")&&this.headerRef.value.classList.add("scroll-header-background-color-blur"),e<10&&this.headerRef.value&&this.headerRef.value.classList.contains("scroll-header-background-color-blur")&&this.headerRef.value.classList.remove("scroll-header-background-color-blur")}};_t.tagName="inch-scroll-view-virtualizer-consumer";_t.styles=[sg("lit-virtualizer",!0),M`
        :host {
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .scroll-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: fit-content;
            z-index: 9;
            overflow: hidden;
            box-sizing: border-box;
            background-color: var(--color-background-bg-primary);
        }

        ${Le(M`
            .scroll-header {
                background-color: transparent;
                -webkit-backdrop-filter: blur(20px);
                backdrop-filter: blur(20px);
                padding: 8px 8px 0 8px;
                top: -8px;
                left: -8px;
                width: 100vw;
                transition: background-color .2s;
            }

            .scroll-header-background-color-blur {
                background: var(--primary-12);
                background: linear-gradient(to bottom, var(--color-background-bg-primary), var(--primary-12));
            }
        `)}

    `];At([j({type:Array})],_t.prototype,"items",2);At([j({type:Object})],_t.prototype,"keyFunction",2);At([j({type:Object})],_t.prototype,"renderItem",2);At([j({type:Object})],_t.prototype,"header",2);At([St({context:Ju,subscribe:!0})],_t.prototype,"context",2);At([St({context:rS,subscribe:!1})],_t.prototype,"mainViewportContext",2);_t=At([X(_t.tagName)],_t);function iS(){return new Promise(e=>requestAnimationFrame(e))}function qd(e){return new Promise(t=>setTimeout(t,e))}var fc=document.createElement("div");function og(){return document.body.contains(fc)||document.body.appendChild(fc),fc}var sS=1;function ag(){return sS++}var cg=class{constructor(e){this.rootNodeName=e,this.borderRadius="8px",this.brightnessHalfView=".7",this.scale=".9",this.topOffsetPercent=-5,this.backgroundColor="var(--color-background-bg-active)",this.backgroundColorDefault="var(--color-background-bg-body)",this.container=og(),this.activeOverlayMap=new Map,this.subscriptions=new Map}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(e){return this.activeOverlayMap.has(e)}async open(e){const t=document.querySelector(this.rootNodeName),n=this.createOverlayContainer(e);await iS();const r=this.calculateIsHalfView(n);this.appendStyleBeforeTransition(t),await this.transition(n,t,!1,r),this.appendStyleAfterTransition(t,!1,r);const i=ag();return this.activeOverlayMap.set(i,n),this.subscribeOnEvents(i),i}async close(e){if(!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e),n=document.querySelector(this.rootNodeName),r=this.calculateIsHalfView(t);await this.transition(t,n,!0,r),this.appendStyleAfterTransition(n,!0,r),this.unsubscribeOnResize(e),t.remove(),this.activeOverlayMap.delete(e)}createOverlayContainer(e){const t=document.createElement(kn.tagName),n=this.activeOverlayMap.size+1,r=2;return t.maxHeight=(100-n*r)*window.innerHeight/100,t.setAttribute("overlay-index",n.toString()),W(t,{position:"fixed",display:"flex",width:"100vw",overflow:"hidden",alignItems:"flex-end",bottom:"0",left:"0",boxSizing:"border-box",borderTopLeftRadius:"24px",borderTopRightRadius:"24px"}),Jr(A`${e}`,t),this.container.appendChild(t),t}subscribeOnEvents(e){const t=this.activeOverlayMap.get(e),n=document.querySelector(this.rootNodeName),r=gr(Xf().pipe(ee(()=>this.updatePosition(e))),Jn(t).pipe(Be(()=>Number(t.getAttribute("overlay-index"))===this.activeOverlayMap.size),q(()=>this.calculateIsHalfView(t)),ke(),qf(1),Q(i=>{const s=document.querySelector(this.rootNodeName);return this.transitionHalfView(s,i)})),le(this.container,"click").pipe(Be(()=>Number(t.getAttribute("overlay-index"))===this.activeOverlayMap.size),Be(i=>i.target===this.container),ee(()=>this.updatePosition(e))),le(t,"touchstart",{passive:!0}).pipe(Be(()=>(t.scrollTopFromConsumer??0)===0),Q(i=>{const s=this.calculateIsHalfView(t),o=t.clientHeight,a=30,c=i.touches[0].clientY,l=Ld(this.backgroundColor),u=Ld(this.backgroundColorDefault);let h=0,d=0,p=!1,m=Number(this.scale),f=this.topOffsetPercent,g=this.backgroundColor;return le(t,"touchmove",{passive:!0}).pipe(Be(()=>!p),ee(b=>{const v=b.touches[0].clientY-c,w=v*100/o;w<0||(w>a&&(p=!0,this.updatePosition(e)),h=w,d=v,t.setAttribute("offset",w.toString()),W(t,{transform:`translateY(${v}px)`}),s||(m=w*(1-Number(this.scale))/a+Number(this.scale),f=this.topOffsetPercent-w*this.topOffsetPercent/a,g=Nk(l,u,0,100,w),n.setAttribute("scale",m.toString()),n.setAttribute("offset",f.toString()),n.setAttribute("bgColor",g.toString()),W(n,{transform:`scale(${m}) translate3d(0, ${f}%, 0)`,backgroundColor:g})))}),Ho(gr(le(t,"touchend",{passive:!0}),le(t,"touchcancel",{passive:!0})).pipe(Q(async b=>{if(d!==0){if(b.timeStamp-i.timeStamp<300&&h>a/2){this.updatePosition(e);return}p||(await Promise.all([t.animate([{transform:`translateY(${d}px)`},{transform:"translateY(0px)"}],this.getDefaultAnimationOptions()).finished,s?Promise.resolve():n.animate([{transform:`scale(${m}) translate3d(0, ${f}%, 0)`,backgroundColor:g},{transform:`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,backgroundColor:this.backgroundColor}],this.getDefaultAnimationOptions()).finished]),t.removeAttribute("offset"),W(t,{transform:""}),s||(n.removeAttribute("scale"),n.removeAttribute("offset"),n.removeAttribute("bgColor"),W(n,{transform:`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,backgroundColor:this.backgroundColor})))}}))))}))).subscribe();this.subscriptions.set(e,r)}unsubscribeOnResize(e){if(!this.subscriptions.has(e))return;const t=this.subscriptions.get(e);t.closed||t.unsubscribe()}updatePosition(e){this.subscriptions.has(e)&&this.close(e).catch()}calculateIsHalfView(e){const t=e.clientHeight,n=e.maxHeight??0;return t*100/n<90}getDefaultAnimationOptions(){return{duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"}}async transition(e,t,n,r){const i=t.getAttribute("scale")??this.scale,s=this.brightnessHalfView,o=Number(t.getAttribute("offset")??this.topOffsetPercent),a=t.getAttribute("bgColor")??this.backgroundColor,c=e.getAttribute("offset")??"0",l=()=>({transform:`translate3d(0, ${n?c:"100"}%, 0)`}),u=()=>({transform:`translate3d(0, ${n?"100":c}%, 0)`}),h=()=>({filter:r?`brightness(${n?s:"1"})`:"",transform:r?"":`scale(${n?i:"1"}) translate3d(0, ${n?o:"0"}%, 0)`,borderRadius:r?"":n?this.borderRadius:"0",backgroundColor:r?"":n?a:this.backgroundColorDefault}),d=()=>({filter:r?`brightness(${n?"1":s})`:"",transform:r?"":`scale(${n?"1":i}) translate3d(0, ${n?"0":o}%, 0)`,borderRadius:r?"":n?"0":this.borderRadius,backgroundColor:r?"":n?this.backgroundColorDefault:a});return this.changeBrowserMetaColor(r,n),await Promise.all([e.animate([l(),u()],this.getDefaultAnimationOptions()).finished,t.animate([h(),d()],this.getDefaultAnimationOptions()).finished])}async transitionHalfView(e,t){const n=this.scale,r=this.brightnessHalfView,i=this.topOffsetPercent,s=()=>({filter:`brightness(${t?"1":r})`,transform:`scale(${t?n:"1"}) translate3d(0, ${t?i:"0"}%, 0)`,borderRadius:t?this.borderRadius:"0",backgroundColor:t?this.backgroundColor:this.backgroundColorDefault}),o=()=>({filter:`brightness(${t?r:"1"})`,transform:`scale(${t?"1":n}) translate3d(0, ${t?"0":i}%, 0)`,borderRadius:t?"0":this.borderRadius,backgroundColor:t?this.backgroundColorDefault:this.backgroundColor});this.changeBrowserMetaColor(t,!1),await e.animate([s(),o()],this.getDefaultAnimationOptions()).finished,W(e,o())}appendStyleBeforeTransition(e){W(e,{willChange:"filter, transform",overflow:"hidden",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"}),e.removeAttribute("scale"),e.removeAttribute("offset"),e.removeAttribute("bgColor")}appendStyleAfterTransition(e,t,n){if(t)return this.resetRootNodeStyle(e);W(e,{filter:n?`brightness(${this.brightnessHalfView})`:"",transform:n?"":`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,borderRadius:n?"":this.borderRadius,backgroundColor:n?"":this.backgroundColor})}changeBrowserMetaColor(e,t){let n=Gb();e&&!t&&(n=jk(n,parseFloat(this.brightnessHalfView))),Kf(n)}resetRootNodeStyle(e){W(e,{filter:"",transform:"",position:"",willChange:"",overflow:"",top:"",left:"",right:"",bottom:"",zIndex:"",pointerEvents:"",backgroundColor:"",borderRadius:""})}},oS=class{constructor(e,t){this.target=e,this.rootNodeName=t,this.activeOverlayMap=new Map,this.subscriptions=new Map,this.container=og()}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(e){return this.activeOverlayMap.has(e)}async open(e){const t=await this.getPosition(e),n=this.createOverlayContainer(e);n.maxHeight=t[2],this.target==="center"?W(n,{top:"0px",left:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}):W(n,{top:`${t[1]}px`,left:`${t[0]}px`,borderRadius:"24px",boxShadow:"0 -3px 4px 0 var(--primary-12), 0 6px 12px 0 var(--primary-12)"}),await this.animateEnter(n);const r=ag();return this.activeOverlayMap.set(r,n),this.subscribe(r),r}async close(e){if(!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e);await this.animateLeave(t),this.unsubscribe(e),t.remove(),this.activeOverlayMap.delete(e)}async getPosition(e){if(this.target==="center")return[0,0,window.innerHeight-8*2];const n=this.target.getBoundingClientRect(),r=await this.getRect(e),i=n.right-r.width,s=n.top+n.height+8,o=window.innerHeight-s-8;return[i,s,o]}async getRect(e){const t=this.createOverlayContainer(e);W(t,{visibility:"hidden"}),document.body.appendChild(t),await new Promise(r=>requestAnimationFrame(r));const n=t.getBoundingClientRect();return t.remove(),n}createOverlayContainer(e){const t=document.createElement(kn.tagName);return W(t,{position:"absolute",display:"flex",overflow:"hidden",alignItems:"flex-end",width:"fit-content",height:"fit-content",zIndex:"1000"}),Jr(A`${e}`,t),this.container.appendChild(t),t}subscribe(e){const t=new Dn,n=this.activeOverlayMap.get(e);if(!n)return;if(this.target==="center"){t.add(le(n,"click").subscribe(i=>{i.target===n&&this.close(e).catch()}));return}t.add(le(window,"resize").subscribe(()=>this.close(e).catch()));const r=document.querySelector(this.rootNodeName);t.add(le(r,"scroll").subscribe(()=>this.updatePosition(e))),t.add(le(n,"click").subscribe(i=>{i.stopPropagation(),i.preventDefault()})),t.add(le(document,"click").subscribe(()=>{this.close(e).catch()})),this.subscriptions.set(e,t)}unsubscribe(e){if(!this.subscriptions.has(e))return;const t=this.subscriptions.get(e);t.closed||t.unsubscribe()}updatePosition(e){if(this.target==="center"||!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e),n=this.target.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.top+n.height+8,s=n.right-r.width;W(t,{top:`${i}px`,left:`${s}px`})}async animateEnter(e){const t={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const n=document.querySelector(this.rootNodeName);await Promise.all([n.animate([{filter:"blur(0)"},{filter:"blur(3px)"}],t),e.animate([{transform:"scale(.3)",opacity:.3},{transform:"scale(1)",opacity:1}],t).finished]),W(n,{filter:"blur(3px)"});return}await e.animate([{clipPath:"circle(0 at 90% 0)",opacity:.3},{clipPath:"circle(100%)",opacity:1}],t).finished}async animateLeave(e){const t={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const n=document.querySelector(this.rootNodeName);await Promise.all([n.animate([{filter:"blur(3px)"},{filter:"blur(0)"}],t),e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(0)",opacity:0}],{...t,duration:300}).finished]),W(n,{filter:""});return}await e.animate([{clipPath:"circle(100%)",opacity:1},{clipPath:"circle(0 at 90% 0)",opacity:.3}],t).finished}},Xu=class{constructor(e,t){this.mobileMedia=jn(),this.mobileOverlay=new cg(e),this.desktopOverlay=new oS(t,e)}get isOpen(){return this.mobileMedia.matches?this.mobileOverlay.isOpen:this.desktopOverlay.isOpen}isOpenOverlay(e){return this.mobileMedia.matches?this.mobileOverlay.isOpenOverlay(e):this.desktopOverlay.isOpenOverlay(e)}async open(e){return this.mobileMedia.matches?await this.mobileOverlay.open(e):await this.desktopOverlay.open(e)}async close(e){return this.mobileMedia.matches?await this.mobileOverlay.close(e):await this.desktopOverlay.close(e)}},aS=Object.defineProperty,cS=Object.getOwnPropertyDescriptor,te=(e,t,n,r)=>{for(var i=r>1?void 0:r?cS(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&aS(t,n,i),i},lS=M``,uS=M`:host{display:block;transition:height .2s;overflow:hidden}.wallet-view-container{display:flex;align-content:center;justify-content:space-between;padding:20px 16px;border-radius:16px;transition:background-color .2s,height .2s;position:relative;overflow:hidden;color:var(--color-content-content-primary)}.wallet-icon{width:24px;height:24px}.wallet-name{color:var(--color-content-content-primary);font-size:16px;font-style:normal;font-weight:400;line-height:24px}.connect-icon{color:var(--color-content-content-primary);margin-left:auto;transform:scale(0);transition:transform .2s}.connect-icon__connected{transform:scale(1);transition:color .2s;color:var(--color-content-content-primary)}.connect-icon__active{transform:scale(1);transition:color .2s;color:var(--primary)}.data-container{display:flex;align-items:center;gap:8px}.loader-icon{height:24px;width:24px;margin-left:auto}.address-list{display:flex;flex-direction:column}inch-wallet-view-address-balance{transform:translate3d(24px,0,0);transition:transform .2s;will-change:transform}.add-connection{transition:transform .2s;transform:scale(0)}.address-container__active inch-wallet-view-address-balance{transform:translate3d(0,0,0)}.wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data{transform:translate3d(36px,0,0);transition:transform .2s}@media (hover:hover){.wallet-view-container:hover{background-color:var(--color-background-bg-secondary)}.wallet-view-container:hover .connect-icon{transform:scale(1)}.wallet-view-container:hover inch-wallet-view-address-balance{transform:translate3d(0,0,0)}.wallet-view-container:hover .add-connection{transform:scale(1)}.wallet-view-container:hover.wallet-view-container__wc.wallet-view-container__connected .right-data{transform:translate3d(0,0,0)}}@media (hover:none){.wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data{transform:translate3d(0,0,0)}.add-connection{transform:scale(1)}}@keyframes rainbow{0%{background-position:0}100%{background-position:100%}}`,Qu=Symbol("controller context"),hS=M`:host{color:var(--color-content-content-primary);text-align:right;font-size:16px;font-style:normal;font-weight:500;line-height:24px}.loader{will-change:filter;height:20px;width:60px;background-color:var(--color-background-bg-secondary);border-radius:4px;animation:stub-loader-animation 3s ease-in-out infinite}@keyframes stub-loader-animation{0%,100%{filter:opacity(1)}50%{filter:opacity(.5)}}`,Wd=new ya("inch-wallet-view-address-balance",7),lr=class extends G{constructor(){super(...arguments),this.task=new Wo(this,async([e,t])=>{if(!e||!t)throw new Error("");const n=await Ne.getTokenBalance(e,qu,t),r=er(it(BigInt((n==null?void 0:n.amount)??0),18),6);return Wd.set([this.chainId,this.address].join(":"),r),r},()=>[this.chainId,this.address])}render(){return this.task.render({pending:()=>this.getLoader(),error:()=>this.getLoader(),complete:e=>{if(this.chainId===void 0)throw new Error("");const t=kr(this.chainId);return A`<span>${e} ${t.nativeCurrency.symbol}</span>`}})}getLoader(){const e=()=>A`<div class="loader"></div>`;if(!this.chainId||!this.address)return e();const t=Wd.get([this.chainId,this.address].join(":")),n=kr(this.chainId);return t?A`<span>${t} ${n.nativeCurrency.symbol}</span>`:e()}};lr.tagName="inch-wallet-view-address-balance";lr.styles=hS;te([j({type:Number})],lr.prototype,"chainId",2);te([j({type:String})],lr.prototype,"address",2);lr=te([X(lr.tagName)],lr);var He=class extends G{constructor(){super(...arguments),this.showLoader=!1,this.isWalletConnected=!1,this.addressList=null,this.activeAddress=null,this.showAddresses=!1,this.isActiveWallet=!1}firstUpdated(){if(!this.info)throw new Error("");const e=this.getController().getDataAdapter(this.info),t=this.getController().data;at(this,[e.isConnected$.pipe(ee(n=>this.isWalletConnected=n)),e.activeAddress$.pipe(ee(n=>this.activeAddress=n)),e.addresses$.pipe(ee(n=>this.addressList=n.length?n:null)),t.chainId$.pipe(ee(n=>this.chainId=n??void 0)),t.isActiveWallet$(this.info).pipe(ee(n=>this.isActiveWallet=n))],{requestUpdate:!1})}render(){var i;if(!this.info)throw new Error("");const e=((i=this.addressList)==null?void 0:i.length)??0,t=(this.showAddresses&&e>1?e*64:0)+64;W(this,{height:`${t}px`});const n=this.info.uuid==="walletConnect",r={"wallet-view-container":!0,"wallet-view-container__wc":n,"wallet-view-container__connected":this.isWalletConnected,"wallet-view-container__loading":this.showLoader};return A`<div class="${Xe(r)}" @click="${()=>this.onClick()}"><div class="data-container left-data"><img class="wallet-icon" alt="${this.info.name}" src="${this.info.icon}"> <span class="wallet-name">${this.info.name}</span></div><div class="data-container right-data">${be(this.activeAddress,s=>A`<span>${xl(s)}</span>`)} ${be(this.showLoader,()=>A`<inch-icon class="loader-icon" icon="fire48"></inch-icon>`,()=>{const s={"connect-icon":!0,"connect-icon__connected":this.isWalletConnected,"connect-icon__active":this.isActiveWallet};return A`<inch-icon class="${Xe(s)}" icon="connect16"></inch-icon>${be(n&&this.activeAddress,()=>A`<inch-button @click="${o=>this.onConnect(o)}" class="add-connection" size="l" type="tertiary"><inch-icon icon="plusCircle16"></inch-icon></inch-button>`)}`})}</div></div>${be(this.addressList&&this.addressList.length>1,()=>A`<div class="address-list">${Gl(this.addressList,s=>A`<div @click="${()=>this.setActiveAddress(s)}" class="wallet-view-container address-container ${Ih(this.isActiveAddress(s).then(o=>o?"address-container__active":""))}"><div class="data-container left-data"><inch-icon icon="cornerDownRight16"></inch-icon><span>${xl(s,{width:this.offsetWidth})}</span></div><div class="data-container right-data"><inch-wallet-view-address-balance chainId="${ei(this.chainId)}" address="${s}"></inch-wallet-view-address-balance><inch-icon class="connect-icon ${Ih(this.isActiveAddress(s).then(o=>o?"connect-icon__active":""))}" icon="link16"></inch-icon></div></div>`)}</div>`)}`}async onClick(){if(this.isWalletConnected){if(this.addressList&&this.addressList.length===1){await this.setActiveAddress(this.addressList[0]);return}this.showAddresses=!this.showAddresses;return}await this.onConnect()}async onConnect(e){if(!this.info||this.showLoader)return;e==null||e.preventDefault(),e==null||e.stopPropagation(),this.showLoader=!0;const t=this.info.uuid==="walletConnect";this.isWalletConnected&&t?this.showAddresses=await this.getController().addConnection(this.info):this.showAddresses=await this.getController().connect(this.info),this.showLoader=!1}async setActiveAddress(e){this.info&&await this.getController().setActiveAddress(this.info,e)}getController(){if(!this.controller)throw new Error("");return this.controller}isActiveAddress(e){if(!this.info)throw new Error("");return this.getController().data.isActiveAddress(this.info,e)}};He.tagName="inch-wallet-view";He.styles=uS;te([j({type:Object})],He.prototype,"info",2);te([Oe()],He.prototype,"showLoader",2);te([Oe()],He.prototype,"isWalletConnected",2);te([Oe()],He.prototype,"addressList",2);te([Oe()],He.prototype,"activeAddress",2);te([Oe()],He.prototype,"showAddresses",2);te([Oe()],He.prototype,"isActiveWallet",2);te([Oe()],He.prototype,"chainId",2);te([St({context:Qu})],He.prototype,"controller",2);He=te([X(He.tagName)],He);var ji=class extends G{constructor(){super(...arguments),this.task=new Wo(this,async()=>await this.getController().getSupportedWallets(),()=>[])}render(){return this.task.render({pending:()=>A`<inch-icon icon="unicornRun"></inch-icon>`,complete:e=>A`<inch-scroll-view-consumer>${Gl(e,t=>A`<inch-wallet-view .info="${t}"></inch-wallet-view>`)}</inch-scroll-view-consumer>`})}getController(){if(!this.controller)throw new Error("");return this.controller}};ji.tagName="inch-wallet-list";te([St({context:Qu})],ji.prototype,"controller",2);ji=te([X(ji.tagName)],ji);var Sn=class extends G{constructor(){super(...arguments),this.mobileMedia=jn(),this.context=new xa(this,{context:Qu})}firstUpdated(){qo(this)}render(){if(!this.controller)throw new Error("For the inch-wallet-manage widget to work, you need to pass the controller corresponding to the interface in the controller field");this.context.value||this.context.setValue(this.controller);const e=this.controller.isConnected?"Wallet management":"Connect wallet";return A`<inch-card showShadow="${ei(this.showShadow)}" forMobileView="${ei(this.mobileMedia.matches?"":void 0)}"><inch-card-header closeButton headerText="${e}"></inch-card-header><inch-wallet-list></inch-wallet-list></inch-card>`}};Sn.tagName="inch-wallet-manage";Sn.styles=lS;te([j({type:Object,attribute:!1})],Sn.prototype,"controller",2);te([j({type:Boolean})],Sn.prototype,"showShadow",2);Sn=te([X(Sn.tagName)],Sn);var dS=M`.connect-wallet-view-container{padding:8px;display:flex;align-items:center;gap:8px;border-radius:12px;background:var(--color-background-bg-primary);height:40px;box-sizing:border-box}.connect-wallet-view-icon{width:24px;height:24px}`,An=class extends G{constructor(){super(...arguments),this.mobileMatchMedia=un(this),this.overlay=new Xu("#app-root",this),this.overlayId=null,this.chainId$=J(()=>this.getController().data.chainId$),this.activeAddress$=J(()=>this.getController().data.activeAddress$),this.info$=J(()=>this.getController().data.info$),this.icon$=this.info$.pipe(q(e=>e.icon)),this.name$=this.info$.pipe(q(e=>e.name)),this.activeAddressView$=this.activeAddress$.pipe(q(e=>e&&xl(e))),this.view$=J(()=>this.getController().data.isConnected$).pipe(q(e=>e?this.getConnectedView():this.getConnectWalletButton()))}render(){return A`${ge(this.view$)}`}getConnectedView(){return A`<div class="connect-wallet-view-container"><img class="connect-wallet-view-icon" alt="${ge(this.name$)}" src="${ge(this.icon$)}"> ${be(!this.mobileMatchMedia.matches,()=>A`<inch-wallet-view-address-balance address="${ge(this.activeAddress$)}" chainId="${ge(this.chainId$)}"></inch-wallet-view-address-balance>`)}<inch-button @click="${()=>this.onOpenConnectView()}" type="secondary" size="m">${ge(this.activeAddressView$)}</inch-button></div>`}getConnectWalletButton(){return A`<inch-button @click="${()=>this.onOpenConnectView()}" type="secondary">Connect wallet</inch-button>`}getController(){if(!this.controller)throw new Error("");return this.controller}async onOpenConnectView(){if(this.overlay.isOpen){await this.overlay.close(this.overlayId??0),this.overlayId=null;return}this.overlayId=await this.overlay.open(A`<inch-wallet-manage @closeCard="${()=>{this.overlayId&&(this.overlay.close(this.overlayId),this.overlayId=null)}}" .controller="${this.controller}"></inch-wallet-manage>`)}};An.tagName="inch-connect-wallet-view";An.styles=dS;te([j({type:Object,attribute:!1})],An.prototype,"controller",2);te([Tr()],An.prototype,"onOpenConnectView",1);An=te([X(An.tagName)],An);var fS=M`.unsupported{color:var(--color-core-red-critical)}`,Yn={[x.eth]:{name:"Ethereum",iconName:"eth24"},[x.arbitrum]:{name:"Arbitrum",iconName:"arbitrum24"},[x.op]:{name:"Optimism",iconName:"op24"},[x.zkSyncEra]:{name:"zkSync Era",iconName:"zkSyncEra24"},[x.bnb]:{name:"BNB Smart Chain",iconName:"bnb24",priority:1},[x.matic]:{name:"Polygon",iconName:"matic24",priority:1},[x.gnosis]:{name:"Gnosis",iconName:"gnosis24"},[x.avalanche]:{name:"Avalanche",iconName:"avalanche24"},[x.fantom]:{name:"Fantom",iconName:"fantom24"},[x.aurora]:{name:"Aurora",iconName:"aurora24"},[x.klaytn]:{name:"Klaytn",iconName:"klaytn24"}},pS=Object.keys(Yn).filter(e=>F$(+e)).map(e=>({...Yn[e],chainId:Number(e)})).sort((e,t)=>e.chainId==x.eth?-1:t.chainId==x.eth?1:wl(e.chainId)?-1:wl(t.chainId)?1:(t.priority??0)-(e.priority??0)),mS=M`.card{height:100%}.scroll-container{position:relative;height:100%;overflow-y:auto}.scroll-overlay{position:absolute;top:0;left:0;height:100%;width:100%}`,bS=M`:host{width:100%;height:100%}.container{display:flex;align-items:center;gap:8px;height:40px;padding:0 8px;border-radius:12px;background-color:transparent;transition:background-color .2s;color:var(--color-content-content-primary);font-size:14px}.active .list-icon{transform:scale(1);color:var(--primary)}.list-icon{margin-left:auto;transition:transform .2s;transform:scale(0)}@media (hover:hover){.container:hover{background-color:var(--color-background-bg-secondary)}.container:hover .list-icon{transform:scale(1)}}.container:active{background-color:var(--color-background-bg-secondary)}${Le(M`.container{height:50px;font-size:16px}`)}`,Cn=class extends G{constructor(){super(...arguments),this.mobileMedia=un(this)}render(){if(!this.info)return;const e=wl(this.info.chainId),n={container:!0,active:Number(this.info.chainId)===this.activeChainId},r=this.mobileMedia.matches?26:24;return A`<div class="${Xe(n)}" @click="${()=>this.setChainId()}">${be(e,()=>A`<inch-icon icon="l2Chain24"></inch-icon>`)}<inch-icon width="${r}px" height="${r}px" icon="${this.info.iconName}"></inch-icon><span>${this.info.name}</span><inch-icon class="list-icon" icon="link16"></inch-icon></div>`}async setChainId(){var e;if(!this.info)throw new Error("");await((e=this.controller)==null?void 0:e.changeChain(this.info.chainId)),ye(this,"closeCard",null)}};Cn.tagName="inch-chain-selector-list-item";Cn.styles=bS;te([j({type:Object})],Cn.prototype,"info",2);te([j({type:Number})],Cn.prototype,"activeChainId",2);te([j({type:Object,attribute:!1})],Cn.prototype,"controller",2);Cn=te([X(Cn.tagName)],Cn);var Pn=class extends G{constructor(){super(...arguments),this.mobileMedia=un(this)}firstUpdated(){if(!this.controller)throw new Error("");at(this,[this.controller.data.chainId$.pipe(ee(e=>this.activeChainId=e??void 0))],{requestUpdate:!1})}render(){return this.mobileMedia.matches?this.getMobileList():this.getDesktopList()}getList(){return pS.map(e=>A`<inch-chain-selector-list-item .info="${e}" .controller="${this.controller}" activeChainId="${ei(this.activeChainId)}"></inch-chain-selector-list-item>`)}getMobileList(){return A`<inch-card class="card" forMobileView><inch-card-header closeButton headerText="Select chain"></inch-card-header><inch-scroll-view-consumer>${this.getList()}</inch-scroll-view-consumer></inch-card>`}getDesktopList(){return A`<inch-card>${this.getList()}</inch-card>`}};Pn.tagName="inch-chain-selector-list";Pn.styles=[mS];te([j({type:Object,attribute:!1})],Pn.prototype,"controller",2);te([Oe()],Pn.prototype,"activeChainId",2);Pn=te([X(Pn.tagName)],Pn);var ur=class extends G{constructor(){super(...arguments),this.mobileMedia=un(this),this.overlay=new Xu("#app-root",this),this.overlayId=null,this.chainId$=J(()=>this.getController().data.chainId$),this.unsupportedChainId$=this.chainId$.pipe(q(e=>e&&Yn[e]?"":"unsupported")),this.chainIdIconName$=this.chainId$.pipe(Be(Boolean),q(e=>Yn[e]?Yn[e].iconName:"alert24")),this.chainIdName$=this.chainId$.pipe(Be(Boolean),q(e=>Yn[e]?Yn[e].name:"Unsupported chain"))}render(){return A`<inch-button @click="${()=>this.onClick()}" size="l" type="primary-gray"><inch-icon class="${ge(this.unsupportedChainId$)}" icon="${ge(this.chainIdIconName$)}"></inch-icon>${be(!this.mobileMedia.matches,()=>A`<span>${ge(this.chainIdName$)}</span>`)}<inch-icon icon="chevronDown16"></inch-icon></inch-button>`}async onClick(){if(this.overlay.isOpenOverlay(this.overlayId??0)){this.closeOverlay();return}this.overlayId=await this.overlay.open(A`<inch-chain-selector-list .controller="${this.controller}" @closeCard="${()=>this.closeOverlay()}"></inch-chain-selector-list>`)}closeOverlay(){this.overlayId&&(this.overlay.close(this.overlayId),this.overlayId=null)}getController(){if(!this.controller)throw new Error("");return this.controller}};ur.tagName="inch-chain-selector";ur.styles=fS;te([j({type:Object,attribute:!1})],ur.prototype,"controller",2);ur=te([X(ur.tagName)],ur);const gS=Object.freeze(Object.defineProperty({__proto__:null,get ChainSelectorElement(){return ur},get ChainSelectorListElement(){return Pn},get ConnectWalletViewElement(){return An},get WalletManageElement(){return Sn}},Symbol.toStringTag,{value:"Module"}));function yS(){return jn().matches?56:72}function vS(){return jn().matches?56:72}const nt=Ak(),wS=Object.freeze(Object.defineProperty({__proto__:null,connectWalletController:nt},Symbol.toStringTag,{value:"Module"}));var xS=Object.defineProperty,_S=Object.getOwnPropertyDescriptor,ES=(e,t,n,r)=>{for(var i=r>1?void 0:r?_S(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&xS(t,n,i),i};let Li=class extends G{constructor(){super(...arguments),this.mobileMedia=jn()}connectedCallback(){super.connectedCallback(),qo(this)}render(){return this.mobileMedia.matches?this.getMobileHeader():this.getDesktopHeader()}getDesktopHeader(){const e={height:`${yS()}px`};return A`<div class="header-container" style="${Wl(e)}"><div class="left-content"><inch-icon icon="logoFull"></inch-icon></div><div class="right-content"><inch-chain-selector .controller="${nt}"></inch-chain-selector><inch-connect-wallet-view .controller="${nt}"></inch-connect-wallet-view></div></div>`}getMobileHeader(){return A`<div class="header-container mobile-header"><inch-icon icon="logoFull"></inch-icon></div>`}};Li.tagName="inch-header";Li.styles=e0;Li=ES([X(Li.tagName)],Li);const $S=M`.footer-container{width:100%;box-sizing:border-box;display:flex;align-items:center;position:relative;border-top:1px solid var(--color-border-border-tertiary);padding:0 72px;background-color:var(--color-background-bg-body);gap:8px;margin-top:32px}.mobile-footer{height:72px;width:100vw;position:sticky;padding:16px 8px;bottom:0;z-index:9;justify-content:space-between}.power-by{color:var(--color-content-content-secondary);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.version{color:var(--color-content-content-secondary);font-size:13px;font-style:normal;font-weight:400;line-height:16px;transform:translateX(-100%);opacity:0;transition:transform .2s,opacity .2s}@media (hover:hover){.footer-container:hover .version{transform:translateX(0);opacity:1}}`;var kS=Object.defineProperty,SS=Object.getOwnPropertyDescriptor,AS=(e,t,n,r)=>{for(var i=r>1?void 0:r?SS(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&kS(t,n,i),i};let zi=class extends G{constructor(){super(...arguments),this.mobileMedia=jn()}connectedCallback(){super.connectedCallback(),qo(this)}render(){return this.mobileMedia.matches?this.getMobileFooter():this.getDesktopFooter()}getDesktopFooter(){const e={height:`${vS()}px`};return A`<div class="footer-container" style="${Wl(e)}"><span class="power-by">© ${new Date().getFullYear()} Powered by 1inch</span> <span class="version">version: ${tp("appVersion")}</span></div>`}getMobileFooter(){return A`<div class="footer-container mobile-footer"><inch-chain-selector .controller="${nt}"></inch-chain-selector><inch-connect-wallet-view .controller="${nt}"></inch-connect-wallet-view></div>`}};zi.tagName="inch-footer";zi.styles=$S;zi=AS([X(zi.tagName)],zi);var CS=Object.defineProperty,PS=Object.getOwnPropertyDescriptor,qs=(e,t,n,r)=>{for(var i=r>1?void 0:r?PS(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&CS(t,n,i),i},TS=[()=>R(()=>import("./one-inch.repository-YYH7S46H-BG7wsk53.js"),__vite__mapDeps([])).then(e=>e.oneInchRepository),()=>R(()=>import("./uniswap.repository-MVFZ3WLN-C1ExaHn8.js"),__vite__mapDeps([])).then(e=>e.uniSwapRepository),()=>R(()=>import("./trustwallet.repository-CND747AI-BjGQd5uf.js"),__vite__mapDeps([])).then(e=>e.trustWalletRepository),()=>R(()=>import("./pancakeswap.repository-CXOF5NNQ-DJaggxaw.js"),__vite__mapDeps([])).then(e=>e.pancakeSwapRepository)],en=class extends G{constructor(){super(...arguments),this.size=24,this.task=new Wo(this,{task:([e,t,n],{signal:r})=>IS(r,n,e,t),args:()=>[this.symbol,this.address,this.chainId]})}render(){return this.task.render({error:()=>pc(this.size,this.symbol),pending:()=>pc(this.size,this.symbol,!0),initial:()=>pc(this.size,this.symbol,!0),complete:e=>(e.width=this.size,e.height=this.size,e.ondragstart=()=>!1,A`${e}`)})}updated(){this.style.width=`${this.size}px`,this.style.height=`${this.size}px`}};en.tagName="inch-token-icon";en.styles=M`

      :host {
          user-select: none;
          outline: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
      }

      .stub {
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: var(--color-background-bg-secondary);
          border-radius: 50%;
          color: var(--color-content-content-secondary);
          position: relative;
      }
      .stub-loader {
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          border: 1px solid;
          border-bottom-color: var(--secondary);
          border-top-color: var(--secondary);
          animation: spin 1s linear infinite;
      }
      
      img {
          user-select: none;
          outline: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
      }

      @keyframes spin {
          0% {
              transform: rotate(0deg);
          }

          100% {
              transform: rotate(360deg);
          }
      }
  
  `;qs([j({type:String,attribute:!0})],en.prototype,"symbol",2);qs([j({type:String,attribute:!0})],en.prototype,"address",2);qs([j({type:Number,attribute:!0})],en.prototype,"chainId",2);qs([j({type:Number,attribute:!0})],en.prototype,"size",2);en=qs([X(en.tagName)],en);function pc(e,t,n){return A`
    <div style="width: ${e}px; height: ${e}px; font-size: ${e<40?13:16}px" class="stub">
      <span>${(t==null?void 0:t.slice(0,e<40?1:2))??""}</span>
      ${n?A`<span class="stub-loader"></span>`:""}
    </div>
  `}async function IS(e,t,n,r){let i=await OS({chainId:t,symbol:n,address:r,signal:e});if(i===null&&(i=await eh({chainId:t,symbol:n,address:r,signal:e})),i===null&&(i=await BS({chainId:t,symbol:n,address:r,signal:e})),i===null)throw new Error("token icon not fount");return i}async function OS(e){if(!e.chainId||!e.address)return null;const t=await Ne.getToken(e.chainId,e.address);return!t||!t.logoURL?null:await new Promise(n=>{const r=new Image;r.onerror=()=>n(null),r.onload=()=>n(r),r.src=t.logoURL})}async function eh(e,t=0){const n=TS[t];if(!n)return null;try{return await(await n())(e)}catch{return await eh(e,t+1)}}async function BS(e){if(e.chainId===x.eth||!e.symbol)return null;const t=await Ne.getTokenBySymbol(x.eth,e.symbol);if(e.chainId&&e.address&&li(e.address)){const n=_l(e.chainId);t.push(n)}for(const n of t){const r=await eh({...e,chainId:n.chainId,address:n.address});if(r)return r}return null}var RS=Object.defineProperty,MS=Object.getOwnPropertyDescriptor,Ea=(e,t,n,r)=>{for(var i=r>1?void 0:r?MS(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&RS(t,n,i),i},FS=M`:host{display:block}.container{position:relative;background-color:var(--color-background-bg-secondary);padding:2px;display:flex;align-items:center;cursor:pointer;user-select:none;outline:0;box-sizing:border-box;width:100%}.container-m{border-radius:10px;height:36px}.container-l{border-radius:12px;height:48px}.caret{position:absolute;background-color:var(--color-background-bg-active);height:32px;border-radius:8px;box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12);color:var(--primary);width:30px;z-index:0}.caret-transition{transition:transform .2s}`,NS=M`.item{box-sizing:border-box;display:flex;align-items:center;justify-items:center;padding:6px 16px;z-index:1;width:100%;font-size:16px;justify-content:center;text-wrap:nowrap;transition:color .2s,background-color .2s;color:var(--color-content-content-primary)}.select{color:var(--primary)}.item-input{user-select:none;outline:0;border:none;background-color:transparent}${Le(M`.item{font-size:13px;padding:6px 12px}`)}`,Tn=class extends G{constructor(){super(...arguments),this.size="m",this.items=[],this.itemRefList=[],this.caretRef=null}render(){const e={[`container-${this.size}`]:!0};return A`<div class="container ${Xe(e)}">${Gl(this.items||[],t=>this.getItemView(t))}<div class="caret"></div></div>`}async firstUpdated(){var e;this.itemRefList=Array.from(this.renderRoot.querySelectorAll("div.item")),this.caretRef=this.renderRoot.querySelector(".caret"),await this.updateComplete,this.requestUpdate(),await new Promise(t=>setTimeout(t,60)),(e=this.caretRef)==null||e.classList.add("caret-transition"),this.requestUpdate()}updated(){if(!this.caretRef)return;let e=0,t=0;for(const n of this.itemRefList){if(n.classList.contains("select")){t=n.offsetWidth;break}e+=n.offsetWidth}this.caretRef.style.width=`${t}px`,this.caretRef.style.transform=`translateX(${e}px)`}getItemView(e){var r,i;const t={[`item-${this.size}`]:!0,select:e.value===((r=this.select)==null?void 0:r.value)};let n=A`${e.label}`;return e.template&&(n=e.template(e,e.value===((i=this.select)==null?void 0:i.value),this.caretRef)),A`<div @click="${s=>this.onSelect(e,s)}" class="item ${Xe(t)}">${n}</div>`}onSelect(e,t){this.select=e,this.requestUpdate(),this.dispatchEvent(Gf("change",e.value,t))}};Tn.tagName="inch-segmented-control";Tn.styles=[FS,NS];Ea([j({type:String})],Tn.prototype,"size",2);Ea([j({type:Array,attribute:!1})],Tn.prototype,"items",2);Ea([j({type:Object,attribute:!1})],Tn.prototype,"select",2);Tn=Ea([X(Tn.tagName)],Tn);var DS=Object.defineProperty,jS=Object.getOwnPropertyDescriptor,LS=(e,t,n,r)=>{for(var i=r>1?void 0:r?jS(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&DS(t,n,i),i},zS={sceneBackgroundColor:"var(--color-background-bg-primary)"},VS=e=>{const t={...zS,...e};return M`:host{display:flex;--scene-background-color:${re(t.sceneBackgroundColor)}}.scene-container{min-height:50px;min-width:50px;position:relative;overflow:hidden;border-radius:16px;will-change:width,height}`},US=Symbol("scene context"),HS=class{constructor(){this.animationInProgress=!1,this.animationInStart$=new rt,this.animationInEnd$=new rt,this.animationOutStart$=new rt,this.animationOutEnd$=new rt}get animationInStart(){return gt(this.animationInStart$)}get animationInEnd(){return gt(this.animationInEnd$)}get animationOutStart(){return gt(this.animationOutStart$)}get animationOutEnd(){return gt(this.animationOutEnd$)}animationInStartNext(){this.animationInProgress=!0,this.animationInStart$.next()}animationInEndNext(){this.animationInProgress=!1,this.animationInEnd$.next()}animationOutStartNext(){this.animationInProgress=!0,this.animationOutStart$.next()}animationOutEndNext(){this.animationInProgress=!1,this.animationOutEnd$.next()}},Yr=class extends G{constructor(){super(),this.context=new xa(this,{context:US}),this.context.setValue(new HS)}animationInStart(){this.context.value.animationInStartNext()}animationInEnd(){this.context.value.animationInEndNext()}animationOutStart(){this.context.value.animationOutStartNext()}animationOutEnd(){this.context.value.animationOutEndNext()}render(){return A`<slot></slot>`}};Yr.tagName="inch-scene-wrapper";Yr.styles=M`:host{background-color:var(--scene-background-color);will-change:transform;transform:translate3d(0,0,0);padding:1px;height:fit-content;box-sizing:border-box;position:relative;display:block}`;Yr=LS([X(Yr.tagName)],Yr);function qS(){const e={position:"absolute",top:"0",left:"0",bottom:"0",right:"0",zIndex:"9",backfaceVisibility:"hidden",height:Qf()?"100%":""},t={position:"",top:"",left:"",bottom:"",right:"",zIndex:"",transform:"",filter:"",backfaceVisibility:"",willChange:"",height:""},n={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};return{preparation:async(r,i,s)=>{W(r,{...e,zIndex:"9",transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"}),W(i,{...e,zIndex:"8",willChange:"transform, filter",transform:s?"translate3d(-100%, 0, 0)":"translate3d(0, 0, 0)"})},transition:async(r,i,s)=>{await Promise.all([r.animate([{transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"},{transform:s?"translate3d(100%, 0, 0)":"translate3d(0, 0, 0)"}],n),i.animate([{transform:s?"translate3d(-100%, 0, 0)":"translate3d(0, 0, 0)"},{transform:s?"translate3d(0, 0, 0)":"translate3d(-100%, 0, 0)"}],n).finished]),W(r,{...t}),W(i,{...t})}}}function WS(){const e={position:"absolute",top:"0",left:"0",bottom:"0",right:"0",zIndex:"9",backfaceVisibility:"hidden",height:Qf()?"100%":""},t={position:"",top:"",left:"",bottom:"",right:"",zIndex:"",transform:"",filter:"",backfaceVisibility:"",willChange:"",height:""},n={duration:800,easing:"cubic-bezier(.2, .8, .2, 1)"};return{preparation:async(r,i,s)=>{W(r,{...e,zIndex:"9",transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"}),W(i,{...e,zIndex:"8",willChange:"transform, filter",transform:s?"translate3d(-50%, 0, 0) scale(.9)":"translate3d(0, 0, 0) scale(1)",filter:s?"blur(3px)":"blur(0)"})},transition:async(r,i,s)=>{await Promise.all([r.animate([{transform:s?"translate3d(0, 0, 0)":"translate3d(105%, 0, 0)"},{transform:s?"translate3d(105%, 0, 0)":"translate3d(0, 0, 0)"}],n),i.animate([{transform:s?"translate3d(-50%, 0, 0) scale(.9)":"translate3d(0, 0, 0) scale(1)",filter:s?"blur(3px)":"blur(0)"},{transform:s?"translate3d(0, 0, 0) scale(1)":"translate3d(-50%, 0, 0) scale(.9)",filter:s?"blur(0)":"blur(3px)"}],n).finished]),W(r,{...t}),W(i,{...t})}}}function GS(){return new Promise(e=>requestAnimationFrame(e))}var xs,$a=(xs=class{constructor(t,n,r=WS()){this.rootSceneName=t,this.config=n,this.animation=r,this.sceneStack=[],this.sceneContainer=KS(),this.transitionInProgress=!1}render(t){if(this.transitionInProgress)return A`${this.sceneContainer}`;const n=!this.currentScenes;this.currentScenes=t;const r=this.getCurrentSceneName();if(!(this.config[r].lazyRender??!1)||n){const o=this.getScene(r);if(!o)throw new Error("Scene not exist");const a=this.buildSceneWrapper(o(),r);this.clearContainer(),this.sceneContainerAppendChild(r,a)}return A`${this.sceneContainer}`}async nextTo(t){this.transitionInProgress||(await this.transition(t),this.sceneStack.push(t))}async back(){if(this.transitionInProgress)return;const t=this.sceneStack[this.sceneStack.length-2]??this.rootSceneName;await this.transition(t,!0),this.sceneStack.pop()}resetScene(){this.sceneStack=[]}getCurrentSceneName(){let t=this.rootSceneName;return this.sceneContainer.firstChild&&(t=this.sceneContainer.firstChild.id),t}getCurrentScene(){if(!this.currentScenes)return null;const t=this.getCurrentSceneName();return this.getScene(t)}async transition(t,n){this.transitionInProgress=!0;try{if(this.getCurrentSceneName()===t)return;const i=this.getScene(t);if(!i)throw new Error(`Scene ${t} not exist`);const s=this.buildSceneWrapper(i(),t),o=this.sceneContainer.firstChild,a=n?o:s,c=n?s:o;n?a.animationOutStart():a.animationInStart(),n?c.animationOutStart():c.animationInStart(),this.sceneContainerAppendChild(t,s),await GS();const l=s.getBoundingClientRect(),u=o.getBoundingClientRect();await this.animation.preparation(a,c,n??!1),await Promise.all([this.animation.transition(a,c,n??!1),this.resizeContainer(l,u)]),W(this.sceneContainer,{width:"",height:""}),this.sceneContainer.firstChild&&this.sceneContainer.removeChild(this.sceneContainer.firstChild),n?a.animationOutEnd():a.animationInEnd(),n?c.animationOutEnd():c.animationInEnd()}finally{this.transitionInProgress=!1}}getScene(t){return this.currentScenes?this.currentScenes[t]??null:null}clearContainer(){for(;this.sceneContainer.firstChild;)this.sceneContainer.removeChild(this.sceneContainer.firstChild)}buildSceneWrapper(t,n){const r=document.createElement(Yr.tagName);return r.id=n,r.classList.add("scene-wrapper",n),Jr(t,r),r}sceneContainerAppendChild(t,n){this.sceneContainer.appendChild(n);const r=this.config[t];this.applySceneConfig(r)}applySceneConfig(t){const n=r=>r?typeof r=="number"?`${r}px`:r:"";t.maxHeight&&(this.sceneContainer.maxHeight=parseInt(t.maxHeight.toString())),W(this.sceneContainer,{minWidth:n(t.minWidth),maxWidth:n(t.maxWidth)})}async resizeContainer(t,n){await this.sceneContainer.animate([{height:`${n.height}px`,width:`${n.width}px`},{height:`${t.height}px`,width:`${t.width}px`}],{duration:200,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,W(this.sceneContainer,{width:`${t.width}px`,height:`${t.height}px`})}},xs.styles=VS,xs);function KS(){const e=document.createElement(kn.tagName);return e.id="scene-container",e.classList.add("scene-container"),e}var YS=class extends ks{render(e,t){return this.controller||(this.controller=new ZS(t,n=>this.setValue(n)),e.addController(this.controller)),t()}},ZS=class{constructor(e,t){this.valueFactory=e,this.update=t}hostUpdate(){const e=this.valueFactory();e!==this.lastValue&&(this.lastValue=e,this.update(e))}},Gd=ln(YS),JS=Object.defineProperty,XS=Object.getOwnPropertyDescriptor,ne=(e,t,n,r)=>{for(var i=r>1?void 0:r?XS(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&JS(t,n,i),i},QS=M`.swap-form-container{display:flex;flex-direction:column;gap:8px;height:fit-content;width:100%;min-width:300px}.input-container{width:100%;display:flex;flex-direction:column}.input-header{height:68px;padding:16px 0 16px 8px;box-sizing:border-box;color:var(--color-content-content-primary);font-size:20px;font-weight:600;line-height:28px;margin-top:-16px;letter-spacing:0;text-align:center;display:flex;align-items:center;justify-content:space-between}`,Ir="swap context",th={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},eA=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){const e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}const t=this.now.value!==e.value,n=this.now.selection.some((r,i)=>r!==e.selection[i]);!t&&!n||(t&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,t){this.now=e,this.updateElementState(e,{inputType:t,data:null})}};function tA(e,...t){return t.every(({value:n})=>n===e.value)}function nA(e,...t){return t.every(({value:n,selection:r})=>n===e.value&&r[0]===e.selection[0]&&r[1]===e.selection[1])}function rA({value:e,selection:t},n,r){const[i,s]=t,o=typeof r=="function"?r({value:e,selection:t}):r;return{value:e,selection:o==="replace"?[i,i+n.length]:[i,s]}}function ka(e){return typeof e=="string"}function Kd(e,t,n,r){let i="";for(let s=t.length;s<e.length;s++){const o=e[s],a=(r==null?void 0:r.value[s])===o;if(!ka(o)||o===n&&!a)return i;i+=o}return i}function lg(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every((n,r)=>{const i=t[r];return ka(i)?n===i:n.match(i)}):t.test(e)}function iA(e,t,n){let r=null,i=null;const s=Array.from(e.value).reduce((a,c,l)=>{const u=Kd(t,a,c,n),h=a+u,d=t[h.length];return ka(d)?h+d:c.match(d)?(r===null&&l>=e.selection[0]&&(r=h.length),i===null&&l>=e.selection[1]&&(i=h.length),h+c):h},""),o=Kd(t,s,"",n);return{value:lg(s+o,t)?s+o:s,selection:[r??s.length,i??s.length]}}function sA({value:e,selection:t},n){const[r,i]=t;let s=r,o=i;return{value:Array.from(e).reduce((c,l,u)=>{const h=c+l;return r===u&&(s=c.length),i===u&&(o=c.length),h.match(n)?h:c},""),selection:[s,o]}}function co(e,t,n=null){if(lg(e.value,t))return e;const{value:r,selection:i}=Array.isArray(t)?iA(e,t,n):sA(e,t);return{selection:i,value:Array.isArray(t)?r.slice(0,t.length):r}}function Yd(e,t){if(!Array.isArray(t))return e;const[n,r]=e.selection,i=[],s=Array.from(e.value).reduce((o,a,c)=>{const l=t[c];return c===n&&i.push(o.length),c===r&&i.push(o.length),ka(l)&&l===a?o:o+a},"");return i.length<2&&i.push(...new Array(2-i.length).fill(s.length)),{value:s,selection:[i[0],i[1]]}}var Al=class{constructor(e,t){this.initialElementState=e,this.maskOptions=t,this.value="",this.selection=[0,0];const{value:n,selection:r}=co(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=n,this.selection=r}addCharacters([e,t],n){const{value:r}=this,i=this.getMaskExpression({value:r.slice(0,e)+n+r.slice(t),selection:[e+n.length,e+n.length]}),s={value:r,selection:[e,t]},o=Yd(s,i),[a,c]=rA(o,n,this.maskOptions.overwriteMode).selection,l=o.value.slice(0,a)+n,u=l.length,h=co({value:l+o.value.slice(c),selection:[u,u]},i,s);if(r.slice(0,a)===co({value:l,selection:[u,u]},i,s).value||nA(this,h))throw new Error("Invalid mask value");this.value=h.value,this.selection=h.selection}deleteCharacters([e,t]){if(e===t||!t)return;const{value:n}=this,r=this.getMaskExpression({value:n.slice(0,e)+n.slice(t),selection:[e,e]}),i={value:n,selection:[e,t]},s=Yd(i,r),[o,a]=s.selection,c=s.value.slice(0,o)+s.value.slice(a),l=co({value:c,selection:[o,o]},r,i);this.value=l.value,this.selection=l.selection}getMaskExpression(e){const{mask:t}=this.maskOptions;return typeof t=="function"?t(e):t}},oA=class{constructor(e){this.element=e,this.listeners=[]}listen(e,t,n){const r=t;this.element.addEventListener(e,r,n),this.listeners.push(()=>this.element.removeEventListener(e,r))}destroy(){this.listeners.forEach(e=>e())}},bt={CTRL:1,ALT:2,SHIFT:4,META:8},Vi={Y:89,Z:90};function Ui(e,t,n){return e.ctrlKey===!!(t&bt.CTRL)&&e.altKey===!!(t&bt.ALT)&&e.shiftKey===!!(t&bt.SHIFT)&&e.metaKey===!!(t&bt.META)&&e.keyCode===n}function aA(e){return Ui(e,bt.CTRL,Vi.Y)||Ui(e,bt.CTRL|bt.SHIFT,Vi.Z)||Ui(e,bt.META|bt.SHIFT,Vi.Z)}function cA(e){return Ui(e,bt.CTRL,Vi.Z)||Ui(e,bt.META,Vi.Z)}function nh(e,t){var n;const r=e.value;if(typeof t=="string")e.value=t;else{const[i,s]=t.selection;e.value=t.value,e.matches(":focus")&&((n=e.setSelectionRange)===null||n===void 0||n.call(e,i,s))}e.value!==r&&e.dispatchEvent(new Event("input",{bubbles:!0}))}function lA({value:e,selection:t},n){const[r,i]=t;if(r!==i)return[r,i];const s=n?e.slice(r).indexOf(`
`)+1||e.length:e.slice(0,i).lastIndexOf(`
`)+1;return[n?r:s,n?s:i]}function uA({value:e,selection:t},n){const[r,i]=t;return r!==i?[r,i]:(n?[r,i+1]:[r-1,i]).map(o=>Math.min(Math.max(o,0),e.length))}var hA=/\s+$/g,dA=/^\s+/g,Zd=/\s/;function fA({value:e,selection:t},n){const[r,i]=t;if(r!==i)return[r,i];if(n){const c=e.slice(r),[l]=c.match(dA)||[""],u=c.trimStart().search(Zd);return[r,u!==-1?r+l.length+u:e.length]}const s=e.slice(0,i),[o]=s.match(hA)||[""],a=s.trimEnd().split("").reverse().findIndex(c=>c.match(Zd));return[a!==-1?i-o.length-a:0,i]}function jo(e=[]){return(t,...n)=>e.reduce((r,i)=>Object.assign(Object.assign({},r),i(r,...n)),t)}function rh(e,t){const n=Object.assign(Object.assign({},th),t),r=jo(n.preprocessors),i=jo(n.postprocessors),s=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:o}=r({elementState:s,data:""},"validation"),a=new Al(o,n),{value:c,selection:l}=i(a,s);return typeof e=="string"?c:{value:c,selection:l}}var ih=class extends eA{constructor(e,t){super(),this.element=e,this.maskitoOptions=t,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new oA(this.element),this.options=Object.assign(Object.assign({},th),this.maskitoOptions),this.preprocessor=jo(this.options.preprocessors),this.postprocessor=jo(this.options.postprocessors),this.teardowns=this.options.plugins.map(n=>n(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",n=>{if(aA(n))return n.preventDefault(),this.redo();if(cA(n))return n.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",n=>{const r=n.inputType.includes("Forward");switch(this.updateHistory(this.elementState),n.inputType){case"historyUndo":return n.preventDefault(),this.undo();case"historyRedo":return n.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:n,isForward:r,selection:uA(this.elementState,r)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:n,isForward:r,selection:fA(this.elementState,r),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:n,isForward:r,selection:lA(this.elementState,r),force:!0});case"insertCompositionText":return;case"insertLineBreak":return this.handleEnter(n);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(n,n.data||"")}}),this.eventListener.listen("input",({inputType:n})=>{n!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:e,selectionStart:t,selectionEnd:n}=this.element;return{value:e,selection:[t||0,n||0]}}get maxLength(){const{maxLength:e}=this.element;return e===-1?1/0:e}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e==null?void 0:e())}updateElementState({value:e,selection:t},n={inputType:"insertText",data:null}){const r=this.elementState.value;this.updateValue(e),this.updateSelectionRange(t),r!==e&&this.dispatchInputEvent(n)}updateSelectionRange([e,t]){var n;const{element:r}=this;r.matches(":focus")&&(r.selectionStart!==e||r.selectionEnd!==t)&&((n=r.setSelectionRange)===null||n===void 0||n.call(r,e,t))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(rh(this.elementState,this.options))}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:t,isForward:n,force:r=!1}){const i={value:this.elementState.value,selection:t},[s,o]=i.selection,{elementState:a}=this.preprocessor({elementState:i,data:""},n?"deleteForward":"deleteBackward"),c=new Al(a,this.options),[l,u]=a.selection;c.deleteCharacters([l,u]);const h=this.postprocessor(c,i);if(!(i.value.slice(0,s)+i.value.slice(o)===h.value&&!r)){if(e.preventDefault(),tA(i,a,c,h))return this.updateSelectionRange(n?[u,u]:[l,l]);this.updateElementState(h,{inputType:e.inputType,data:null}),this.updateHistory(h)}}handleInsert(e,t){const n=this.elementState,{elementState:r,data:i=t}=this.preprocessor({data:t,elementState:n},"insert"),s=new Al(r,this.options);try{s.addCharacters(r.selection,i)}catch{return e.preventDefault()}const[o,a]=r.selection,c=n.value.slice(0,o)+t+n.value.slice(a),l=this.postprocessor(s,n);if(l.value.length>this.maxLength)return e.preventDefault();c!==l.value&&(e.preventDefault(),this.updateElementState(l,{data:t,inputType:e.inputType}),this.updateHistory(l))}handleEnter(e){this.isTextArea&&this.handleInsert(e,`
`)}};function ug(e,t,n){const r=Math.min(Number(n),Math.max(Number(t),Number(e)));return e instanceof Date?new Date(r):r}var pA=[".",",","б","ю"],mA=[":","."],bA=" ",gA="​",hg="–",dg="—",Lo="-",Cl="−",fg="ー",pg=/[\\^$.*+?()[\]{}|]/g,yA=new RegExp(pg.source);function qe(e){return e&&yA.test(e)?e.replaceAll(pg,"\\$&"):e}function Lt(e,{prefix:t,postfix:n}){var r,i;const s=new RegExp(`^${qe(t)}`),o=new RegExp(`${qe(n)}$`),[a=""]=(r=e.match(s))!==null&&r!==void 0?r:[],[c=""]=(i=e.match(o))!==null&&i!==void 0?i:[],l=e.replace(s,"").replace(o,"");return{extractedPrefix:a,extractedPostfix:c,cleanValue:l}}function vA(e,t){let n="";for(let r=0;r<e.length;r++){if(e[r]!==t[r])return n;n+=e[r]}return n}function Ws(e){return e}function Jd(e){return e.replaceAll(/[０-９]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function wA(){return({elementState:e,data:t})=>{const{value:n,selection:r}=e;return{elementState:{selection:r,value:Jd(n)},data:Jd(t)}}}function xA(e){const t=new RegExp(`${qe(e)}$`);return e?({value:n,selection:r},i)=>{if(!n&&!i.value.endsWith(e))return{value:n,selection:r};if(!n.endsWith(e)&&!i.value.endsWith(e))return{selection:r,value:n+e};const s=i.value.replace(t,""),o=i.selection[1]>=s.length,a=vA(s,n);return{selection:r,value:Array.from(e).reverse().reduce((c,l,u)=>{const h=c.length-1-u,d=a[h]===l&&o;return c[h]!==l||d?c.slice(0,h+1)+l+c.slice(h+1):c},n)}}:Ws}function _A(e){return e?({value:t,selection:n},r)=>{if(t.startsWith(e)||!t&&!r.value.startsWith(e))return{value:t,selection:n};const[i,s]=n,o=Array.from(e).reduce((c,l,u)=>c[u]===l?c:c.slice(0,u)+l+c.slice(u),t),a=o.length-t.length;return{selection:[i+a,s+a],value:o}}:Ws}function sh(e,t,n){return(r,i)=>{const s=()=>t(r,i);return r.addEventListener(e,s,n),()=>r.removeEventListener(e,s,n)}}new RegExp(`[${mA.map(qe).join("")}]$`);function EA({prefix:e,postfix:t}){return({elementState:n,data:r})=>{const{cleanValue:i}=Lt(r,{prefix:e,postfix:t});return{elementState:n,data:i}}}function mg({decimalSeparator:e,isNegativeAllowed:t,precision:n,thousandSeparator:r,prefix:i,postfix:s,decimalPseudoSeparators:o=[],pseudoMinuses:a=[],minusSign:c}){const l=Xd(i),u="\\d",h=t?`[${c}${a.map(f=>`\\${f}`).join("")}]?`:"",d=r?`[${u}${qe(r).replaceAll(/\s/g,"\\s")}]*`:`[${u}]*`,p=n>0?`([${qe(e)}${o.map(qe).join("")}]${u}{0,${Number.isFinite(n)?n:""}})?`:"",m=Xd(s);return new RegExp(`^${l}${h}${d}${p}${m}$`)}function Xd(e){return e?`${e.split("").map(t=>`${qe(t)}?`).join("")}`:""}function oh(e,t="."){const n=!!e.match(new RegExp(`^\\D*[${Cl}\\${Lo}${hg}${dg}${fg}]`)),r=qe(t),i=e.replaceAll(new RegExp(`${r}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${r}]`,"g"),"").replace(t,".");return i?Number((n?Lo:"")+i):NaN}function $A(e){const t=String(e),[n,r]=t.split("e-");let i=t;if(r){const[,s]=n.split("."),o=Number(r)+((s==null?void 0:s.length)||0);i=e.toFixed(o)}return i}function kA({decimalSeparator:e,thousandSeparator:t,decimalPseudoSeparators:n=pA}){return n.filter(r=>r!==t&&r!==e)}function SA({decimalSeparator:e,precision:t,decimalZeroPadding:n,prefix:r,postfix:i}){return t<=0||!n?Ws:({value:s,selection:o})=>{const{cleanValue:a,extractedPrefix:c,extractedPostfix:l}=Lt(s,{prefix:r,postfix:i});if(Number.isNaN(oh(a,e)))return{value:s,selection:o};const[u,h=""]=a.split(e);return{value:c+u+e+h.padEnd(t,"0")+l,selection:o}}}function AA({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:r,postfix:i,minusSign:s}){let o=!0;const a=mg({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0,minusSign:s});return({elementState:c,data:l})=>{if(!o)return{elementState:c,data:l};o=!1;const{value:u,selection:h}=c,[d,p]=h,{extractedPrefix:m,cleanValue:f,extractedPostfix:g}=Lt(u,{prefix:r,postfix:i}),b=rh({selection:[Math.max(d-m.length,0),ug(p-m.length,0,f.length)],value:f},{mask:a}),[y,v]=b.selection;return{elementState:{selection:[y+m.length,v+m.length],value:m+b.value+g},data:l}}}function CA({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r}){const i=o=>{const a=qe(t);return o.replace(new RegExp(`^(\\D+)?[0${a}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${a}]+(?=[1-9])`),"$1")},s=(o,a)=>{const c=o.slice(0,a),l=o.slice(a).startsWith("0");return c.length-i(c).length+(l?1:0)};return({value:o,selection:a})=>{const[c,l]=a,{cleanValue:u,extractedPrefix:h,extractedPostfix:d}=Lt(o,{prefix:n,postfix:r}),p=u.includes(e),[m,f=""]=u.split(e),g=i(m);if(m===g)return{value:o,selection:a};const b=c-s(o,c),y=l-s(o,l);return{value:h+g+(p?e:"")+f+d,selection:[Math.max(b,0),Math.max(y,0)]}}}function PA({min:e,max:t,decimalSeparator:n,minusSign:r}){return({value:i,selection:s})=>{const o=oh(i,n),a=o>0?Math.min(o,t):Math.max(o,e);if(!Number.isNaN(o)&&a!==o){const c=`${a}`.replace(".",n).replace(Lo,r);return{value:c,selection:[c.length,c.length]}}return{value:i,selection:s}}}function TA({decimalSeparator:e,thousandSeparator:t,decimalZeroPadding:n}){return({elementState:r,data:i},s)=>{const{value:o,selection:a}=r,[c,l]=a,u=o.slice(c,l),h=n?[e,t]:[t],d=n&&c>o.indexOf(e)&&!!u.match(/^0+$/gi);return s!=="deleteBackward"&&s!=="deleteForward"||!h.includes(u)&&!d?{elementState:r,data:i}:{elementState:{value:o,selection:s==="deleteForward"?[l,l]:[c,c]},data:i}}}function IA({decimalSeparator:e,precision:t,prefix:n,postfix:r}){const i=new RegExp(`^\\D*${qe(e)}`);return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l}=Lt(a,{prefix:n,postfix:r}),[u]=c;if(t<=0||l.includes(e)||!o.match(i))return{elementState:s,data:o};const h=l.slice(0,u).match(/\d+/);return{elementState:s,data:h?o:`0${o}`}}}function Qd({validCharacter:e,pseudoCharacters:t,prefix:n,postfix:r}){const i=new RegExp(`[${t.join("")}]`,"gi");return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l,extractedPostfix:u,extractedPrefix:h}=Lt(a,{prefix:n,postfix:r});return{elementState:{selection:c,value:h+l.replace(i,e)+u},data:o.replace(i,e)}}}function OA({decimalSeparator:e,prefix:t,postfix:n}){return({elementState:r,data:i})=>{const{value:s,selection:o}=r,[a,c]=o,{cleanValue:l}=Lt(s,{prefix:t,postfix:n});return{elementState:r,data:!l.includes(e)||s.slice(a,c+1).includes(e)?i:i.replaceAll(new RegExp(qe(e),"gi"),"")}}}function BA({thousandSeparator:e,decimalSeparator:t,prefix:n,postfix:r,minusSign:i}){if(!e)return Ws;const s=(...o)=>o.every(a=>/\s/.test(a));return({value:o,selection:a})=>{const{cleanValue:c,extractedPostfix:l,extractedPrefix:u}=Lt(o,{prefix:n,postfix:r}),[h,d=""]=c.replace(i,"").split(t),[p,m]=a;let[f,g]=a;const b=Array.from(h).reduceRight((y,v,w)=>{const _=!(!w&&v===e)&&y.length&&(y.length+1)%4===0;return _&&(v===e||s(v,e))?e+y:v===e&&!_?(w&&w<=p&&f--,w&&w<=m&&g--,y):_?(w<=p&&f++,w<=m&&g++,v+e+y):v+y},"");return{value:u+(c.includes(i)?i:"")+b+(c.includes(t)?t:"")+d+l,selection:[f,g]}}}function RA({precision:e,decimalSeparator:t,prefix:n,postfix:r}){if(e>0)return Ws;const i=new RegExp(`${qe(t)}.*$`,"g");return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l,extractedPrefix:u,extractedPostfix:h}=Lt(a,{prefix:n,postfix:r}),[d,p]=c,m=u+l.replace(i,"")+h;return{elementState:{selection:[Math.min(d,m.length),Math.min(p,m.length)],value:m},data:o.replace(i,"")}}}var ef=[0,0];function MA({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r}){const i=CA({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r});return sh("blur",s=>{const o=i({value:s.value,selection:ef},{value:"",selection:ef}).value;nh(s,o)},{capture:!0})}function FA({min:e,max:t,decimalSeparator:n}){return sh("blur",(r,i)=>{const s=oh(r.value,n),o=ug(s,e,t);!Number.isNaN(s)&&s!==o&&nh(r,rh($A(o),i))},{capture:!0})}function NA({decimalSeparator:e,prefix:t,postfix:n}){return sh("blur",r=>{const{cleanValue:i,extractedPostfix:s,extractedPrefix:o}=Lt(r.value,{prefix:t,postfix:n}),a=o+i.replace(new RegExp(`^(\\D+)?${qe(e)}`),`$10${e}`)+s;nh(r,a)},{capture:!0})}function ah({max:e=Number.MAX_SAFE_INTEGER,min:t=Number.MIN_SAFE_INTEGER,precision:n=0,thousandSeparator:r=bA,decimalSeparator:i=".",decimalPseudoSeparators:s,decimalZeroPadding:o=!1,prefix:a="",postfix:c="",minusSign:l=Cl}={}){const u=[Lo,hg,dg,fg,Cl].filter(p=>p!==r&&p!==i&&p!==l),h=kA({decimalSeparator:i,thousandSeparator:r,decimalPseudoSeparators:s}),d=a.endsWith(i)&&n>0?`${a}${gA}`:a;return Object.assign(Object.assign({},th),{mask:mg({decimalSeparator:i,precision:n,thousandSeparator:r,prefix:d,postfix:c,isNegativeAllowed:t<0,minusSign:l}),preprocessors:[wA(),AA({decimalSeparator:i,decimalPseudoSeparators:h,pseudoMinuses:u,prefix:d,postfix:c,minusSign:l}),EA({prefix:d,postfix:c}),Qd({validCharacter:l,pseudoCharacters:u,prefix:d,postfix:c}),Qd({validCharacter:i,pseudoCharacters:h,prefix:d,postfix:c}),IA({decimalSeparator:i,precision:n,prefix:d,postfix:c}),TA({decimalSeparator:i,decimalZeroPadding:o,thousandSeparator:r}),RA({precision:n,decimalSeparator:i,prefix:d,postfix:c}),OA({decimalSeparator:i,prefix:d,postfix:c})],postprocessors:[PA({decimalSeparator:i,min:t,max:e,minusSign:l}),_A(d),xA(c),BA({decimalSeparator:i,thousandSeparator:r,prefix:d,postfix:c,minusSign:l}),SA({decimalSeparator:i,decimalZeroPadding:o,precision:n,prefix:d,postfix:c})],plugins:[MA({decimalSeparator:i,thousandSeparator:r,prefix:d,postfix:c}),NA({decimalSeparator:i,prefix:d,postfix:c}),FA({min:t,max:e,decimalSeparator:i})],overwriteMode:o?({value:p,selection:[m]})=>m<=p.indexOf(i)?"shift":"replace":"shift"})}var DA=M`:host{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:right;width:fit-content;color:var(--color-content-content-secondary)}${Le(M`:host{font-size:13px}`)}`,hr=class extends G{constructor(){super(...arguments),this.balance$=J(()=>{if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return xe([this.context.connectedWalletAddress$,this.context.getTokenByType(this.tokenType),this.context.chainId$])}).pipe(Be(([e])=>!!e),Q(([e,t,n])=>!e||!t||!n?[A`<br>`]:J(()=>Ne.liveQuery(()=>Ne.getTokenBalance(n,t.address,e))).pipe(Be(Boolean),q(r=>er(it(BigInt(r.amount),t.decimals),6)),q(r=>this.getBalanceView(r)),Hl(()=>[A`<br>`]))))}render(){return A`${ge(this.balance$,A`<br>`)}`}getBalanceView(e){return A`<span>Balance: ${e}</span>`}};hr.tagName="inch-swap-balance";hr.styles=DA;ne([j({type:String,attribute:!0})],hr.prototype,"tokenType",2);ne([St({context:Ir})],hr.prototype,"context",2);hr=ne([X(hr.tagName)],hr);var jA=M`:host{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:right;color:var(--color-content-content-secondary);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}${Le(M`:host{font-size:13px}`)}`,dr=class extends G{constructor(){super(...arguments),this.balance$=J(()=>{if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return xe([this.context.connectedWalletAddress$,this.context.getTokenByType(this.tokenType),this.context.chainId$])}).pipe(Be(([e])=>!!e),Q(([e,t,n])=>!e||!t||!n?[A`<br>`]:xe([Ne.liveQuery(()=>Ne.getTokenUSDPrice(n,t.address)),this.context.getTokenRawAmountByType(this.tokenType)]).pipe(q(([r,i])=>{if(!i)return A`<br>`;const s=it(BigInt(i??0),t.decimals),o=Number(s)*Number(r);return this.getBalanceView(Do(o.toString(),1))}),Hl(()=>[A`<br>`]))))}render(){return A`${ge(this.balance$,A`<br>`)}`}getBalanceView(e){return A`<span>~$${e}</span>`}};dr.tagName="inch-fiat-balance";dr.styles=jA;ne([j({type:String,attribute:!0})],dr.prototype,"tokenType",2);ne([St({context:Ir})],dr.prototype,"context",2);dr=ne([X(dr.tagName)],dr);var LA=M`.input-container{height:128px;border-radius:16px;background-color:var(--color-background-bg-secondary);transition:box-shadow .2s;padding:16px;box-sizing:border-box;display:grid;grid-template-columns:minmax(40%,auto) minmax(auto,70%);justify-content:space-between}.input-container.disabled{background-color:var(--color-background-bg-primary);border:1px solid var(--color-border-border-tertiary)}.flex-container{display:flex;flex-direction:column;justify-content:space-between;height:fit-content}.input-title{font-size:16px;font-weight:500;line-height:24px;letter-spacing:0;text-align:left;color:var(--color-content-content-secondary);width:fit-content}.symbol-container{border:none;background-color:transparent;display:flex;align-items:center;gap:8px;cursor:pointer;color:var(--color-content-content-primary);border-radius:16px;padding:8px;margin-left:-8px;transition:background-color .2s;outline:0;user-select:none;width:fit-content;-webkit-tap-highlight-color:transparent}.symbol{font-size:24px;font-weight:600;line-height:32px;letter-spacing:0;text-align:left;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.token-name{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:left;color:var(--color-content-content-secondary);font-style:normal;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.amount-input{height:48px;color:var(--color-content-content-primary);box-sizing:border-box;font-size:24px;font-weight:600;line-height:32px;letter-spacing:0;text-align:right;border:none;background-color:transparent;outline:0;user-select:none;width:100%}.amount-input[type=number]::-webkit-inner-spin-button,.amount-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.amount-input[type=number]{-moz-appearance:textfield}.amount-input:disabled{opacity:1;color:var(--color-content-content-primary)}.balance-amount-fiat{align-items:flex-end}.focus:not(.disabled){box-shadow:0 0 0 1px var(--color-background-bg-positive-hover)}@media (hover:hover){.input-container:not(.disabled):hover{box-shadow:0 0 0 1px var(--color-background-bg-positive-hover)}.symbol-container:hover{background-color:var(--color-background-bg-positive-hover)}}${Le(M`.amount-input{height:40px}.amount-input,.symbol{font-size:20px}.input-title,.token-name{font-size:13px}.input-container{height:116px}.symbol-container{padding:4px 8px}`)}.symbol-container:active{transform:scale(.98);background-color:var(--color-background-bg-positive-hover)}.select-token-text{word-wrap:break-word;white-space:nowrap}`,tn=class extends G{constructor(){super(...arguments),this.disabled=!1,this.isFocus=!1,this.token$=J(()=>this.getTokenEventEmitter()),this.chainId$=J(()=>this.getChainEventEmitter()),this.amount$=J(()=>this.getTokenAmountStream()),this.input=document.createElement("input"),this.maskedInput=this.buildMask(6),this.tokenView$=this.token$.pipe(q(e=>e?this.tokenView(e):this.selectTokenView()))}connectedCallback(){super.connectedCallback(),this.input.classList.add("amount-input"),this.input.inputMode="decimal",this.input.autocomplete="off",this.input.placeholder=this.tokenType==="source"?"0":"",this.input.onfocus=()=>this.onFocus(),this.input.onblur=()=>this.onBlur(),this.input.oninput=n=>this.onInput(n);const e=this.token$.pipe(ee(n=>{n&&(this.maskedInput.destroy(),this.maskedInput=this.buildMask(n.decimals))})),t=xe([this.amount$,this.token$]).pipe(q(([n,r])=>!n||!r?"0":it(n,r.decimals)),Be((n,r)=>r===0&&n==="0"?!1:n!==this.input.value),ee(n=>this.input.value=er(n,6)));at(this,[e,t],{requestUpdate:!1})}disconnectedCallback(){super.disconnectedCallback(),this.maskedInput.destroy()}render(){const e={disabled:this.disabled,focus:this.isFocus};return this.input.disabled=this.tokenType==="destination",A`<div class="input-container ${Xe(e)}"><div class="flex-container symbol-title-name"><div class="input-title">${this.getInputTitle()}</div>${ge(this.tokenView$)}</div><div class="flex-container balance-amount-fiat"><inch-swap-balance tokenType="${ei(this.tokenType)}"></inch-swap-balance>${this.input}<inch-fiat-balance tokenType="${ei(this.tokenType)}"></inch-fiat-balance></div></div>`}selectTokenView(){return A`<inch-button disabledSlotPointerEvent type="secondary" size="l" @click="${e=>ye(this,"openTokenSelector",this.tokenType,e)}"><span class="select-token-text">Select token</span><inch-icon icon="chevronDown16"></inch-icon></inch-button><br>`}onFocus(){this.isFocus=!0,ye(this,"focusTokenInput",this.tokenType)}onBlur(){this.isFocus=!1,ye(this,"blurTokenInput",this.tokenType)}tokenView(e){const{name:t,symbol:n,address:r}=e;return A`<button @click="${i=>ye(this,"openTokenSelector",this.tokenType,i)}" class="symbol-container"><inch-token-icon symbol="${n}" address="${r}" chainId="${ge(this.chainId$)}"></inch-token-icon><span class="symbol">${n}</span><inch-icon icon="chevronDown16"></inch-icon></button> <span class="token-name">${t}</span>`}getTokenEventEmitter(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.getTokenByType(this.tokenType)}getTokenAmountStream(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.getTokenAmountByType(this.tokenType)}getChainEventEmitter(){if(!this.context)throw new Error("");return this.context.chainId$}getInputTitle(){if(this.tokenType==="source")return"You pay";if(this.tokenType==="destination")return"You receive";throw new Error(`invalid token type ${this.tokenType} in swap input`)}async onInput(e){var s;if(!this.tokenType)return;const t=e.target,n=(t==null?void 0:t.value)??"",r=await gt(this.token$);if(!r)return;const i=Uc(n.replaceAll(" ",""),r.decimals);(s=this.context)==null||s.setTokenAmountByType(this.tokenType,i)}buildMask(e){return new ih(this.input,ah({precision:e,max:9*10**15,min:0}))}};tn.tagName="inch-swap-form-input";tn.styles=LA;ne([j({type:Boolean,attribute:!0,reflect:!0})],tn.prototype,"disabled",2);ne([j({type:String,attribute:!0,reflect:!0})],tn.prototype,"tokenType",2);ne([Oe()],tn.prototype,"isFocus",2);ne([St({context:Ir,subscribe:!0})],tn.prototype,"context",2);tn=ne([X(tn.tagName)],tn);var zA=M`:host{height:4px;position:relative;outline:0;user-select:none;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent}.switcher{position:absolute;border-radius:50%;border:none;background-color:var(--color-background-bg-primary);color:var(--color-content-content-primary);box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12);width:32px;height:32px;display:flex;justify-content:center;align-items:center;top:-13px;cursor:pointer;transition:color .2s}.switcher:disabled{cursor:not-allowed;pointer-events:none;color:var(--color-content-content-disabled);box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12)}@media (hover:hover){.switcher:not(:disabled):hover{color:var(--color-content-content-secondary)}}.switcher-icon{transition:transform .2s}.switcher-icon-up{transform:rotate(180deg)}.switcher-icon-down{transform:rotate(360deg)}.switcher-icon-off-transition{transition:none}`,Zr=class extends G{constructor(){super(...arguments),this.isDisabled$=J(()=>{if(!this.context)throw new Error("");return xe([this.context.getTokenByType("source"),this.context.getTokenByType("destination")])}).pipe(q(([e,t])=>!e||!t))}render(){return A`<button @mouseover="${this.up}" @mouseleave="${this.down}" @click="${this.onClick}" ?disabled="${ge(this.isDisabled$,!1)}" class="switcher"><inch-icon class="switcher-icon" icon="arrowDown24"></inch-icon></button>`}up(){const e=this.renderRoot.querySelector("inch-icon");e&&(e.classList.contains("switcher-icon-up")||(e.classList.remove("switcher-icon-off-transition","switcher-icon-down"),e.classList.add("switcher-icon-up")))}async down(){const e=this.renderRoot.querySelector("inch-icon");e&&e.classList.contains("switcher-icon-up")&&(e.classList.add("switcher-icon-down"),await qd(300),e.classList.add("switcher-icon-off-transition"),e.classList.remove("switcher-icon-up","switcher-icon-down"),await qd(50),e.classList.remove("switcher-icon-off-transition"))}onClick(){var t;const e=this.renderRoot.querySelector("inch-icon");e&&e.classList.contains("switcher-icon-up")&&((t=this.context)==null||t.switchPair(),ye(this,"switchPair",null))}};Zr.tagName="inch-token-pair-switch";Zr.styles=zA;ne([St({context:Ir,subscribe:!0})],Zr.prototype,"context",2);Zr=ne([X(Zr.tagName)],Zr);var VA=M`:host{height:57px}${Le(M`:host{height:44px}`)}.smart-hover{position:relative;overflow:hidden}.off-hover,.on-hover{position:absolute;transition:transform .2s}.on-hover{transform:translateY(-200%)}.rainbow{--button-text-color-ext:#ffffff;--button-text-color-ext-hover:#ffffff;position:relative}.rainbow:after,.rainbow:before{content:'';position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0;background:${Zb()};background-size:1000%;animation:bg-rainbow 300s cubic-bezier(.4,0,1,1) infinite;z-index:-1}@keyframes bg-rainbow{0%{border-radius:24px;background-position:0 0}50%{border-radius:24px;background-size:800%;background-position:400% 0}100%{border-radius:24px;background-position:0 0}}@media (hover:hover){.smart-hover:hover .on-hover{transform:translateY(0)}.smart-hover:hover .off-hover{transform:translateY(200%)}}@media (hover:none){.smart-hover .on-hover{transform:translateY(0)}.smart-hover .off-hover{transform:translateY(200%)}}`,Bt=class extends G{constructor(){super(...arguments),this.isRainbowTheme=!1,this.buttonState=oe.get("fusion_swap_button_state",vn)??0,this.chainId=null,this.srcToken=null,this.mobileMedia=un(this),this.connectedWalletAddress$=J(()=>this.getConnectedWalletAddress()),this.sourceToken$=J(()=>this.getSourceToken()),this.destinationToken$=J(()=>this.getDestinationToken()),this.chainId$=J(()=>this.getChainId()),this.sourceTokenAmount$=J(()=>this.getSourceTokenAmount()),this.rate$=J(()=>this.getRate()),this.updateView$=new rt,this.exceedingMaximumAmount$=xe([this.connectedWalletAddress$,this.sourceToken$,this.sourceTokenAmount$.pipe(Je(0n))]).pipe(Q(([e,t,n])=>!e||!t||n===0n?pt(!1):Ne.getTokenBalance(t.chainId,t.address,e).then(r=>r?!n||n>BigInt(r.amount):!1))),this.calculateStatus$=xe([this.connectedWalletAddress$,this.sourceToken$,this.destinationToken$,this.exceedingMaximumAmount$,this.sourceTokenAmount$.pipe(Je(0n)),this.chainId$,this.rate$.pipe(Je(null)),this.updateView$.pipe(Je(null))]).pipe(q(e=>{const[t,n,r,i,s,o,a]=e;return this.chainId=o,this.srcToken=n,Ob(o)?t===null?2:n===null?3:r===null?4:!s||s===0n?5:i?6:a===null?7:li(n.address)?10:0:1}),ke(),yr(0),ql(this.chainId$,this.connectedWalletAddress$,this.sourceToken$),Hf(async([e,t,n,r])=>{if(e!==0)return e;if(!t||!n||!r)throw new Error("");this.buttonState=8;const i=z$(t),s=await T$(t,r.address,n,i),o=await gt(this.sourceTokenAmount$);return o&&s<o?9:e}),ee(e=>{this.buttonState=e,oe.set("fusion_swap_button_state",this.buttonState)}))}connectedCallback(){super.connectedCallback(),at(this,[Kb().pipe(q(({brandColor:e})=>e),ke(),ee(e=>this.isRainbowTheme=e===Hs.rainbow)),this.calculateStatus$])}render(){const e=this.mobileMedia.matches?"xl":"xxl";return A`<inch-button class="smart-hover" @click="${t=>this.onClickSwapButton(t)}" type="${this.getButtonType()}" size="${e}" fullSize>${be(this.buttonState===1,()=>A`<span class="off-hover">Chain ${this.chainId} not supported</span> <span class="on-hover">Change chain</span><br>`)} ${be(this.buttonState===0,()=>A`<span>Swap</span>`)} ${be(this.buttonState===8,()=>A`<span>Check allowance</span>`)} ${be(this.buttonState===10,()=>{var t,n;return A`<span>Wrap ${(t=this.srcToken)==null?void 0:t.symbol} to W${(n=this.srcToken)==null?void 0:n.symbol} and Swap</span>`})} ${be(this.buttonState===9,()=>A`<span>Low allowance</span>`)} ${be(this.buttonState===2,()=>A`<span>Connect wallet</span>`)} ${be(this.buttonState===3,()=>A`<span>Select source token</span>`)} ${be(this.buttonState===4,()=>A`<span>Select destination token</span>`)} ${be(this.buttonState===5,()=>A`<span>Enter amount to swap</span>`)} ${be(this.buttonState===7,()=>A`<span>No liquidity for swap</span>`)} ${be(this.buttonState===6,()=>{var t,n;return A`<span class="off-hover">Insufficient ${(t=this.srcToken)==null?void 0:t.symbol} balance</span> <span class="on-hover">Set max ${(n=this.srcToken)==null?void 0:n.symbol}</span><br>`})}</inch-button>`}async onClickSwapButton(e){var t;if(this.buttonState===1)return ye(this,"changeChain",null);if(this.buttonState===2)return ye(this,"connectWallet",null);if(this.buttonState===3)return ye(this,"openTokenSelector","source",e);if(this.buttonState===4)return ye(this,"openTokenSelector","destination",e);if(this.buttonState===6)return this.onSetMax();if(this.buttonState===10){const n=await gt(this.sourceTokenAmount$);if(!n)return;await((t=this.context)==null?void 0:t.wrapNativeToken(n)),await this.onSwap();return}if(this.buttonState!==9&&this.buttonState===0){await this.onSwap();return}}getButtonType(){return this.buttonState===0||this.buttonState===10?"primary":"secondary"}async onSetMax(){var r;const e=await gt(this.sourceToken$),t=await gt(this.connectedWalletAddress$);if(!e||!t)return;const n=await Ne.getTokenBalance(e.chainId,e.address,t);(r=this.context)==null||r.setTokenAmountByType("source",BigInt((n==null?void 0:n.amount)??0),!0)}async onSwap(){}getConnectedWalletAddress(){if(!this.context)throw new Error("");return this.context.connectedWalletAddress$}getChainId(){if(!this.context)throw new Error("");return this.context.chainId$}getSourceToken(){if(!this.context)throw new Error("");return this.context.getTokenByType("source")}getDestinationToken(){if(!this.context)throw new Error("");return this.context.getTokenByType("destination")}getSourceTokenAmount(){if(!this.context)throw new Error("");return this.context.getTokenRawAmountByType("source")}getRate(){if(!this.context)throw new Error("");return this.context.rate$}};Bt.tagName="inch-swap-button";Bt.styles=VA;ne([St({context:Ir,subscribe:!0})],Bt.prototype,"context",2);ne([Oe()],Bt.prototype,"isRainbowTheme",2);ne([Oe()],Bt.prototype,"buttonState",2);ne([Oe()],Bt.prototype,"chainId",2);ne([Oe()],Bt.prototype,"srcToken",2);Bt=ne([X(Bt.tagName)],Bt);var UA=M`:host{display:flex;flex-direction:column}`,HA=M`.slippage-title{display:flex;padding:8px;gap:8px;color:var(--color-content-content-primary);align-items:center;margin-bottom:8px;cursor:pointer;font-size:16px}.back-icon{transform:rotate(90deg)}${Le(M`.slippage-title{font-size:13px}`)}`,Hi=class extends G{constructor(){super(...arguments),this.mobileMedia=un(this),this.segments=[{label:"Auto",value:"auto"},{label:"0.1%",value:.1},{label:"0.5%",value:.5},{label:"1%",value:1},{label:"Custom",template:()=>A`${this.customSlippageInput}`}],this.customSlippageInput=document.createElement("input")}connectedCallback(){super.connectedCallback(),this.buildMask(),this.customSlippageInput.placeholder="Custom %",this.customSlippageInput.inputMode="decimal",this.customSlippageInput.autocomplete="off",W(this.customSlippageInput,{backgroundColor:"transparent",border:"none",outline:"none",padding:"0",color:"var(--color-content-content-primary)",width:"80px",fontSize:"16px",textAlign:"center"}),at(this,[le(this.customSlippageInput,"input").pipe(ee(()=>{this.customSlippageInput.value.length===1&&(this.customSlippageInput.value="")}))],{requestUpdate:!1})}render(){return W(this.customSlippageInput,{fontSize:this.mobileMedia.matches?"13px":"16px"}),A`<div @click="${()=>ye(this,"back",null)}" class="slippage-title"><inch-icon class="back-icon" icon="chevronDown16"></inch-icon><span>Slippage tolerance</span></div><inch-segmented-control .items="${this.segments}" .select="${this.segments[0]}"></inch-segmented-control>`}buildMask(){return new ih(this.customSlippageInput,ah({max:99,min:1,postfix:"%"}))}};Hi.tagName="inch-fusion-swap-info-slippage";Hi.styles=HA;Hi=ne([X(Hi.tagName)],Hi);var qA=M`.slippage-title{display:flex;padding:8px;gap:8px;color:var(--color-content-content-primary);align-items:center;margin-bottom:8px;cursor:pointer;font-size:16px}.back-icon{transform:rotate(90deg)}${Le(M`.slippage-title{font-size:13px}`)}`,qi=class extends G{constructor(){super(...arguments),this.mobileMedia=un(this),this.segments=[{label:"Auto",value:"auto"},{label:"3m",value:60*3},{label:"5m",value:60*5},{label:"10m",value:60*10},{label:"30m",value:60*30},this.mobileMedia.matches?null:{label:"1H",value:60*60},this.mobileMedia.matches?null:{label:"2H",value:60*60*2},{label:"Custom",template:()=>A`${this.customAuctionTimeInput}`}].filter(Boolean),this.customAuctionTimeInput=document.createElement("input")}connectedCallback(){super.connectedCallback(),this.buildMask(),this.customAuctionTimeInput.placeholder="Custom s",this.customAuctionTimeInput.inputMode="decimal",this.customAuctionTimeInput.autocomplete="off",W(this.customAuctionTimeInput,{backgroundColor:"transparent",border:"none",outline:"none",padding:"0",color:"var(--color-content-content-primary)",width:"80px",fontSize:"16px",textAlign:"center"}),at(this,[le(this.customAuctionTimeInput,"input").pipe(ee(()=>{this.customAuctionTimeInput.value.length===1&&(this.customAuctionTimeInput.value="")}))],{requestUpdate:!1})}render(){return W(this.customAuctionTimeInput,{fontSize:this.mobileMedia.matches?"13px":"16px"}),A`<div @click="${()=>ye(this,"back",null)}" class="slippage-title"><inch-icon class="back-icon" icon="chevronDown16"></inch-icon><span>Auction time</span></div><inch-segmented-control .items="${this.segments}" .select="${this.segments[0]}"></inch-segmented-control>`}buildMask(){return new ih(this.customAuctionTimeInput,ah({max:60*60*30,min:60*3,postfix:"s"}))}};qi.tagName="inch-fusion-swap-info-auction-time";qi.styles=qA;qi=ne([X(qi.tagName)],qi);var WA=M`:host{--font-size:16px}.container{height:56px;padding:16px;box-sizing:border-box;transition:height .2s,background-color .2s;display:grid;grid-template-columns:1fr auto;align-items:flex-start;justify-content:space-between;border-radius:16px;color:var(--color-content-content-primary);cursor:pointer}.open{height:236px;grid-template-rows:min-content 1fr;grid-row-gap:16px;cursor:auto}.icon{transition:transform .2s;will-change:transform}.open-icon{transform:rotate(180deg)}.fusion-info{display:flex;align-items:center;gap:4px}.fusion-icon{display:flex;align-items:center;gap:4px;color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;transition:opacity .2s,transform .2s;will-change:opacity}.fusion-icon-open{opacity:0;transform:translate3d(20px,0,0)}.rate-container{width:100%;display:flex;align-content:flex-start}.rate-view{font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px}.rate-loader{background-color:var(--color-background-bg-secondary);height:24px;width:50%;border-radius:8px;will-change:filter;transition:background-color .2s;animation:stub-loader-animation 3s ease-in-out infinite}@keyframes stub-loader-animation{0%,100%{filter:opacity(1)}50%{filter:opacity(.5)}}.dst-token-rate-usd-price{color:var(--color-content-content-secondary);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;margin-left:4px}.content-container{display:flex;grid-row-start:2;grid-row-end:3;height:100%;grid-column-start:1;grid-column-end:3;flex-direction:column;visibility:hidden;transform:translate3d(0,-15px,0);transition:transform .2s,opacity .2s}.open .content-container{visibility:visible;transform:translate3d(0,0,0)}.content-row{height:40px;padding:8px 0;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between}.row-slippage{color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:500;line-height:24px;cursor:pointer;transition:color .2s}.row-title{color:var(--color-content-content-secondary);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px}.row-content{display:flex;align-items:center;gap:4px;color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;transition:opacity .2s,transform .2s;will-change:opacity}.min-receive{color:var(--color-content-content-primary)}@media (hover:hover){.container:not(.open):hover{background-color:var(--color-background-bg-secondary)}.container:not(.open):hover .rate-loader{background-color:var(--color-background-bg-positive-hover)}.row-slippage:hover{color:var(--primary-hover)}}${Le(M`:host{--font-size:13px}.open{grid-row-gap:0;height:180px}.content-row{height:30px}`)}`,fr=class extends G{constructor(){super(...arguments),this.isOpen=!1,this.rate$=J(()=>this.getContext().rate$),this.minReceive$=J(()=>this.getContext().minReceive$),this.chainId$=J(()=>this.getContext().chainId$),this.destinationToken$=J(()=>this.getContext().getTokenByType("destination")),this.rateView$=this.rate$.pipe(yr(0),ke(GA),Q(async e=>{if(e===null)return this.getLoadRateView();const{chainId:t,rate:n,revertedRate:r,sourceToken:i,destinationToken:s}=e,o=await Ne.getPriorityToken(t,[i.address,s.address]),a=$n(o,i)?s:i,l=$n(o,i)?r:n,u=Do(it(l,a.decimals),2),h=await Ne.getTokenUSDPrice(t,a.address),d=Uc(h,a.decimals),p=Do(it(d,a.decimals),2);return A`<span class="rate-view">1 ${j$(a)} = ${u} ${o.symbol} <span class="dst-token-rate-usd-price">~$${p}</span></span>`}),Je(this.getLoadRateView()),Te({bufferSize:1,refCount:!0})),this.minReceiveView$=this.minReceive$.pipe(ql(this.destinationToken$,this.chainId$),Q(async([e,t,n])=>{if(!t||!n)return A``;const r=await Ne.getTokenUSDPrice(n,t.address),i=Uc(r,t.decimals),s=cn.mul(e,i,t.decimals,t.decimals),o=Ed(it(s,t.decimals),2);return A`<span>~$${o}</span> <span class="min-receive">${Ed(it(e,t.decimals),2)} ${t.symbol}</span>`}))}connectedCallback(){super.connectedCallback(),ye(this,"changeFusionInfoOpenState",this.isOpen)}disconnectedCallback(){super.disconnectedCallback(),ye(this,"changeFusionInfoOpenState",!1)}render(){const e={container:!0,open:this.isOpen},t={icon:!0,"open-icon":this.isOpen},n={"fusion-icon":!0,"fusion-icon-open":this.isOpen};return A`<div class="${Xe(e)}" @click="${()=>{this.isOpen||(this.isOpen=!0,ye(this,"changeFusionInfoOpenState",this.isOpen))}}"><div class="rate-container">${ge(this.rateView$)}</div><div class="fusion-info"><div class="${Xe(n)}"><inch-icon icon="fusion16"></inch-icon><span>Free</span></div><inch-button @click="${r=>this.onChangeOpen(r)}" size="l" type="tertiary"><inch-icon class="${Xe(t)}" icon="chevronDown16"></inch-icon></inch-button></div><div class="content-container"><div class="content-row"><span class="row-title">Slippage tolerance</span><div @click="${()=>ye(this,"openSlippageSettings",null)}" class="row-content row-slippage">0.4% · Auto</div></div><div class="content-row"><span class="row-title">Auction time</span><div @click="${()=>ye(this,"openAuctionTimeSettings",null)}" class="row-content row-slippage">180s · Auto</div></div><div class="content-row"><span class="row-title">Minimum receive</span><div class="row-content">${ge(this.minReceiveView$)}</div></div><div class="content-row"><span class="row-title">Network Fee</span><div class="row-content"><inch-icon icon="fusion16"></inch-icon><span>Free</span></div></div></div></div>`}getLoadRateView(){return A`<div class="rate-loader"></div>`}onChangeOpen(e){e.preventDefault(),e.stopPropagation(),this.isOpen=!this.isOpen,ye(this,"changeFusionInfoOpenState",this.isOpen)}getContext(){if(!this.context)throw new Error("");return this.context}};fr.tagName="inch-fusion-swap-info-main";fr.styles=WA;ne([j({type:Boolean})],fr.prototype,"isOpen",2);ne([St({context:Ir,subscribe:!0})],fr.prototype,"context",2);fr=ne([X(fr.tagName)],fr);function GA(e,t){return e===null||t===null?!1:ak(e,t)}var Wi=class extends G{constructor(){super(...arguments),this.isOpenFusionInfo=!1,this.scene=new $a("main",{main:{lazyRender:!0,minHeight:178},slippage:{minHeight:79.5},auctionTime:{minHeight:79.5}},qS())}render(){return this.scene.render({main:()=>A`<inch-fusion-swap-info-main .isOpen="${this.isOpenFusionInfo}" @openSlippageSettings="${()=>this.scene.nextTo("slippage")}" @openAuctionTimeSettings="${()=>this.scene.nextTo("auctionTime")}"></inch-fusion-swap-info-main>`,slippage:()=>A`<inch-fusion-swap-info-slippage @back="${()=>{this.isOpenFusionInfo=!0,this.scene.back()}}"></inch-fusion-swap-info-slippage>`,auctionTime:()=>A`<inch-fusion-swap-info-auction-time @back="${()=>{this.isOpenFusionInfo=!0,this.scene.back()}}"></inch-fusion-swap-info-auction-time>`})}};Wi.tagName="inch-fusion-swap-info";Wi.styles=[UA,$a.styles()];Wi=ne([X(Wi.tagName)],Wi);var st=class extends G{constructor(){super(...arguments),this.srcToken=null,this.dstToken=null,this.context=new xa(this,{context:Ir}),this.fusionView$=xe([J(()=>this.getWalletController().data.activeAddress$),J(()=>this.getContext().getTokenByType("source")),J(()=>this.getContext().getTokenByType("destination"))]).pipe(q(([e,t,n])=>!e||!t||!n),Je(st.lastFusionRenderIsEmptyState),ke(),ee(e=>{st.lastFusionRenderIsEmptyState=e}))}connectedCallback(){super.connectedCallback(),at(this,[this.fusionView$])}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.context.value)==null||e.destroy()}updated(e){const t=this.getContext();(e.has("srcToken")||e.has("dstToken"))&&(t.setPair({srcToken:this.srcToken,dstToken:this.dstToken}),this.requestUpdate())}render(){return this.context.value||this.getContext(),A`<div class="swap-form-container"><inch-card-header headerText="Swap tokens" headerTextPosition="left"><inch-button slot="right-container" type="tertiary-gray" size="m"><inch-icon icon="authRefresh36"></inch-icon></inch-button></inch-card-header><div class="input-container"><inch-swap-form-input tokenType="source"></inch-swap-form-input><inch-token-pair-switch></inch-token-pair-switch><inch-swap-form-input disabled="disabled" tokenType="destination"></inch-swap-form-input></div>${be(!st.lastFusionRenderIsEmptyState,()=>A`<inch-fusion-swap-info></inch-fusion-swap-info>`)}<inch-swap-button></inch-swap-button></div>`}getFusionInfoView(e){return e?A``:A`<inch-fusion-swap-info></inch-fusion-swap-info>`}getWalletController(){if(!this.walletController)throw new Error("");return this.walletController}getContext(){if(!this.context.value){const e=new uk(this.getWalletController());e.setPair({srcToken:this.srcToken,dstToken:this.dstToken}),this.context.setValue(e)}return this.context.value}};st.tagName="inch-swap-form";st.styles=QS;st.lastFusionRenderIsEmptyState=!0;ne([j({type:Object,attribute:!1})],st.prototype,"srcToken",2);ne([j({type:Object,attribute:!1})],st.prototype,"dstToken",2);ne([j({type:Object,attribute:!1})],st.prototype,"walletController",2);st=ne([X(st.tagName)],st);const KA=M`:host{display:flex;padding-top:48px;justify-content:center;position:relative;z-index:1}:host(.padding-top-transition){transition:padding-top .2s}.unicorn-loader{position:absolute;z-index:1;top:50px;transform:scale(0);will-change:transform;height:auto;transition:top .2s}.shadow-container{will-change:box-shadow,transform;transform:translate3d(0,0,0);box-shadow:0 5px 24px var(--primary-50);border-radius:24px;position:relative;z-index:2}.shadow-container-rainbow{box-shadow:none;position:relative}.shadow-container-rainbow:after,.shadow-container-rainbow:before{content:'';position:absolute;width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;border-radius:24px;background:${Zb()};background-size:2000%;animation:bg-rainbow 90s cubic-bezier(.4,0,1,1) infinite;z-index:-1;will-change:background,width,height,left,top,background-position}.shadow-container-rainbow:after{filter:blur(30px)}@keyframes bg-rainbow{0%{width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;background-position:0 0}50%{width:100%;height:100%;left:0;top:0;background-size:800%;background-position:400% 0}100%{width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;background-position:0 0}}${Le(M`:host{padding-top:24px}:host(.is-enlarged-form){padding-top:0}:host(.is-enlarged-form) .unicorn-loader{top:20px}`)}`;var YA=Object.defineProperty,ZA=Object.getOwnPropertyDescriptor,Gs=(e,t,n,r)=>{for(var i=r>1?void 0:r?ZA(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&YA(t,n,i),i};R(()=>Promise.resolve().then(()=>gS),void 0);R(()=>import("./index.esm-buBkXISV.js"),__vite__mapDeps([]));R(()=>Promise.resolve().then(()=>a0),void 0);let In=class extends G{constructor(){super(...arguments),this.mobileMedia=un(this),this.targetSelectToken=null,this.srcToken=null,this.dstToken=null,this.isRainbowTheme=!1,this.chainId$=nt.data.chainId$,this.activeAddress$=nt.data.activeAddress$,this.swapFormRef=cr(),this.swapFormContainerRef=cr(),this.unicornLoaderRef=cr(),this.desktopScene=new $a("swapForm",{swapForm:{minWidth:556,maxWidth:556,maxHeight:621,lazyRender:!0},selectToken:{minWidth:556,maxWidth:556,maxHeight:680}}),this.mobileOverlay=new cg("app-root"),this.overlay=new Xu("app-root","center")}async connectedCallback(){await this.initTokens(),super.connectedCallback(),at(this,[this.chainId$.pipe(Be(Boolean),ke(),qf(1),ee(e=>this.syncTokens(e))),Kb().pipe(q(({brandColor:e})=>e),ke(),ee(e=>this.isRainbowTheme=e===Hs.rainbow)),this.mobileUpdate()],{requestUpdate:!1})}firstUpdated(){setTimeout(()=>this.classList.add("padding-top-transition"),100)}render(){return this.mobileMedia.matches?this.getMobileSwapForm():this.getDesktopSwapForm()}async syncTokens(e){const t=await Ne.getNativeToken(e);this.setSrcToken(t),this.setDstToken(null),this.requestUpdate()}async initTokens(){if(!await nt.data.getChainId())return;const t=oe.get("src-token-symbol",JSON.parse),n=oe.get("dst-token-symbol",JSON.parse);t&&this.setSrcToken(t),n&&this.setDstToken(n)}getMobileSwapForm(){const e={"shadow-container":!0,"shadow-container-rainbow":this.isRainbowTheme};return A`<inch-icon ${Gt(this.unicornLoaderRef)} class="unicorn-loader" icon="unicornRun"></inch-icon><div ${Gt(this.swapFormContainerRef)} class="${Xe(e)}"><inch-card style="max-width:100vw"><inch-swap-form .srcToken="${this.srcToken}" .dstToken="${this.dstToken}" .walletController="${nt}" @changeFusionInfoOpenState="${t=>this.onChangeFusionInfoOpenState(t)}" @openTokenSelector="${t=>this.onOpenMobileSelectToken(t)}" @changeChain="${()=>this.onOpenChangeChainView()}" @connectWallet="${()=>this.onOpenConnectWalletView()}"></inch-swap-form></inch-card></div>`}getDesktopSwapForm(){const e={"shadow-container":!0,"shadow-container-rainbow":this.isRainbowTheme};return A`<inch-icon ${Gt(this.unicornLoaderRef)} class="unicorn-loader" icon="unicornRun"></inch-icon><div ${Gt(this.swapFormContainerRef)} class="${Xe(e)}"><inch-card>${this.desktopScene.render({swapForm:()=>A`<inch-swap-form ${Gt(this.swapFormRef)} .srcToken="${Gd(this,()=>this.srcToken)}" .dstToken="${Gd(this,()=>this.dstToken)}" .walletController="${nt}" @switchPair="${()=>this.onSwitchPair()}" @changeChain="${()=>this.onOpenChangeChainView()}" @openTokenSelector="${t=>this.onOpenSelectToken(t)}" @connectWallet="${()=>this.onOpenConnectWalletView()}"></inch-swap-form>`,selectToken:()=>A`<inch-select-token chainId="${ge(this.chainId$)}" connectedWalletAddress="${ge(this.activeAddress$)}" @backCard="${()=>this.desktopScene.back()}" @selectToken="${async t=>{this.onSelectToken(t),await this.desktopScene.back()}}"></inch-select-token>`})}</inch-card></div>`}async onOpenSelectToken(e){await this.desktopScene.nextTo("selectToken"),this.targetSelectToken=e.detail.value}onSwitchPair(){const e=this.srcToken;this.setSrcToken(this.dstToken),this.setDstToken(e)}onChangeFusionInfoOpenState(e){e.detail.value&&!this.classList.contains("is-enlarged-form")&&this.classList.add("is-enlarged-form"),!e.detail.value&&this.classList.contains("is-enlarged-form")&&this.classList.remove("is-enlarged-form")}onSelectToken(e){const t=e.detail.value;if(this.targetSelectToken==="source"&&(this.dstToken&&$n(t,this.dstToken)&&this.setDstToken(this.srcToken),this.setSrcToken(t)),this.targetSelectToken==="destination"){if(!this.dstToken&&this.srcToken&&$n(t,this.srcToken))return;this.srcToken&&$n(t,this.srcToken)&&this.setSrcToken(this.dstToken),this.setDstToken(t)}}setSrcToken(e){this.srcToken=e,oe.set("src-token-symbol",e)}setDstToken(e){this.dstToken=e,oe.set("dst-token-symbol",e)}async onOpenConnectWalletView(){const e=await this.overlay.open(A`<inch-wallet-manage showShadow @closeCard="${()=>this.overlay.close(e)}" .controller="${nt}"></inch-wallet-manage>`)}async onOpenChangeChainView(){const e=await this.overlay.open(A`<inch-chain-selector-list showShadow @closeCard="${()=>this.overlay.close(e)}" .controller="${nt}"></inch-chain-selector-list>`)}async onOpenMobileSelectToken(e){const t=await this.mobileOverlay.open(A`<inch-card forMobileView style="width:100%;height:100%;display:flex"><inch-select-token chainId="${ge(this.chainId$)}" connectedWalletAddress="${ge(this.activeAddress$)}" @backCard="${()=>this.mobileOverlay.close(t)}" @selectToken="${async n=>{this.onSelectToken(n),await this.mobileOverlay.close(t)}}"></inch-select-token></inch-card>`);this.targetSelectToken=e.detail.value}mobileUpdate(){let e=0,t=!1,n=!1;const r=new bg,i=60,s=5e5,o=3,a=4,c=()=>document.querySelector("#app-root"),l=()=>this.swapFormContainerRef.value,u=()=>this.unicornLoaderRef.value,h=p=>{if(p<0)return;let m;p>i?(t||(Yf(50),r.play().then()),t=!0,p<=i+o?m=i+(p-i)/s:m=i+o/s+(p-i-o)/a):(t=!1,m=p);const f=(p>i?i:p)/i;W(u(),{transform:`scale(${f})`}),W(l(),{transform:`translate3d(0, ${m}px, 0)`}),e=m},d=async()=>{n=!0;let p=e;p>i&&r.isPlaying&&(await l().animate([{transform:`translate3d(0, ${p}px, 0)`},{transform:`translate3d(0, ${i}px, 0)`}],{duration:200,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,p=i,W(l(),{transform:`translate3d(0, ${p}px, 0)`}),await r.onEnded()),await l().animate([{transform:`translate3d(0, ${p}px, 0)`},{transform:"translate3d(0, 0, 0)"}],{duration:800,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,h(0),W(l(),{transform:""}),t=!1,n=!1};return J(()=>{const p=l();return le(p,"touchstart").pipe(Be(()=>{var m;return!n&&(((m=c())==null?void 0:m.scrollTop)??0)===0}),Q(m=>{r.load();const f=m.touches[0].clientY;return le(p,"touchmove").pipe(q(g=>g.touches[0].clientY-f),ee(g=>h(g)),Ho(le(p,"touchend").pipe(ee(()=>d()))))}))}).pipe(Uo(ay))}};In.tagName="inch-swap-form-container";In.styles=[KA,$a.styles()];Gs([Oe()],In.prototype,"srcToken",2);Gs([Oe()],In.prototype,"dstToken",2);Gs([Oe()],In.prototype,"isRainbowTheme",2);In=Gs([X(In.tagName)],In);class bg{get isPlaying(){return!this.audio.paused}constructor(){this.audio=new Audio("audio/unicorn-run.mp3"),this.audio.preload="none",this.audio.volume=.4}load(){this.audio.load()}async play(){try{await this.audio.play()}catch(t){console.error("AudionController Error",t)}}onEnded(){return gt(le(this.audio,"ended"))}}Gs([Tr()],bg.prototype,"play",1);var JA=Object.defineProperty,XA=Object.getOwnPropertyDescriptor,QA=(e,t,n,r)=>{for(var i=r>1?void 0:r?XA(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&JA(t,n,i),i};let Pl=class extends G{render(){return A`<inch-header></inch-header><div id="outlet" class="content"><inch-swap-form-container></inch-swap-form-container></div><inch-footer></inch-footer>`}};Pl.styles=[Qy,_a];Pl=QA([X("app-root")],Pl);Promise.all([Gk(Ub.systemSync,Hs.community),R(()=>Promise.resolve().then(()=>wS),void 0).then(e=>e.connectWalletController.init())]).then(()=>{const e=document.createElement("app-root");e.id="app-root",document.body.appendChild(e)});R(()=>import("./virtual_pwa-register-DOvynTq9.js"),__vite__mapDeps([])).then(({registerSW:e})=>{e({onRegisteredSW:(t,n)=>n.update(),onNeedRefresh:()=>console.log("update ready"),onOfflineReady:()=>console.log("offline ready")})});export{C as $,it as A,gc as B,gr as C,Vf as D,er as E,Be as F,J as G,Te as H,Ob as I,kr as J,x as K,ge as L,ei as M,q as N,ye as O,on as P,dC as Q,$f as R,rt as S,Ne as T,nC as U,pC as V,oe as W,le as X,or as Y,wn as Z,R as _,Oe as a,Ko as a0,Ie as a1,Cw as a2,aa as a3,rn as a4,Ts as a5,Bi as a6,Mt as a7,tp as a8,Le as b,St as c,xa as d,Xe as e,at as f,xC as g,ee as h,M as i,gC as j,Ul as k,xe as l,_C as m,j as n,yr as o,Je as p,ke as q,wC as r,G as s,X as t,Q as u,be as v,pt as w,A as x,US as y,Wo as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-CKwcaMEN.js.map
