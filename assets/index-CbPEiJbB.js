(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Wb="modulepreload",Gb=function(e){return"/interface/"+e},_d={},H=function(t,n,r){let i=Promise.resolve();return n&&n.length>0&&(document.getElementsByTagName("link"),i=Promise.all(n.map(s=>{if(s=Gb(s),s in _d)return;_d[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Wb,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((l,u)=>{c.addEventListener("load",l),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})}))),i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};const ra=globalThis,Ru=ra.ShadowRoot&&(ra.ShadyCSS===void 0||ra.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Mu=Symbol(),Ed=new WeakMap;let vp=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==Mu)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(Ru&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=Ed.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&Ed.set(n,t))}return t}toString(){return this.cssText}};const ye=e=>new vp(typeof e=="string"?e:e+"",void 0,Mu),G=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new vp(n,e,Mu)},Kb=(e,t)=>{if(Ru)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=ra.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},$d=Ru?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return ye(n)})(e):e;const{is:Yb,defineProperty:Zb,getOwnPropertyDescriptor:Jb,getOwnPropertyNames:Xb,getOwnPropertySymbols:Qb,getPrototypeOf:ey}=Object,ir=globalThis,Sd=ir.trustedTypes,ty=Sd?Sd.emptyScript:"",vc=ir.reactiveElementPolyfillSupport,ys=(e,t)=>e,pa={toAttribute(e,t){switch(t){case Boolean:e=e?ty:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},Ra=(e,t)=>!Yb(e,t),Ad={attribute:!0,type:String,converter:pa,reflect:!1,hasChanged:Ra};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ir.litPropertyMetadata??(ir.litPropertyMetadata=new WeakMap);let mi=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=Ad){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&Zb(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:s}=Jb(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get(){return i==null?void 0:i.call(this)},set(o){const a=i==null?void 0:i.call(this);s.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Ad}static _$Ei(){if(this.hasOwnProperty(ys("elementProperties")))return;const t=ey(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(ys("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ys("properties"))){const n=this.properties,r=[...Xb(n),...Qb(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift($d(i))}else t!==void 0&&n.push($d(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Kb(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var s;const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:pa).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(t,n){var s;const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const o=r.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)==null?void 0:s.fromAttribute)!==void 0?o.converter:pa;this._$Em=i,this[i]=a.fromAttribute(n,o.type),this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){if(r??(r=this.constructor.getPropertyOptions(t)),!(r.hasChanged??Ra)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}};mi.elementStyles=[],mi.shadowRootOptions={mode:"open"},mi[ys("elementProperties")]=new Map,mi[ys("finalized")]=new Map,vc==null||vc({ReactiveElement:mi}),(ir.reactiveElementVersions??(ir.reactiveElementVersions=[])).push("2.0.4");const ws=globalThis,ma=ws.trustedTypes,kd=ma?ma.createPolicy("lit-html",{createHTML:e=>e}):void 0,Du="$lit$",En=`lit$${Math.random().toFixed(9).slice(2)}$`,Nu="?"+En,ny=`<${Nu}>`,Yr=document,Bs=()=>Yr.createComment(""),Os=e=>e===null||typeof e!="object"&&typeof e!="function",xp=Array.isArray,_p=e=>xp(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",xc=`[ 	
\f\r]`,is=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Cd=/-->/g,Pd=/>/g,Cr=RegExp(`>|${xc}(?:([^\\s"'>=/]+)(${xc}*=${xc}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Id=/'/g,Td=/"/g,Ep=/^(?:script|style|textarea|title)$/i,$p=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),I=$p(1),FP=$p(2),dn=Symbol.for("lit-noChange"),Me=Symbol.for("lit-nothing"),Bd=new WeakMap,Rr=Yr.createTreeWalker(Yr,129);function Sp(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return kd!==void 0?kd.createHTML(t):t}const Ap=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":"",o=is;for(let a=0;a<n;a++){const c=e[a];let l,u,h=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===is?u[1]==="!--"?o=Cd:u[1]!==void 0?o=Pd:u[2]!==void 0?(Ep.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Cr):u[3]!==void 0&&(o=Cr):o===Cr?u[0]===">"?(o=i??is,h=-1):u[1]===void 0?h=-2:(h=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Cr:u[3]==='"'?Td:Id):o===Td||o===Id?o=Cr:o===Cd||o===Pd?o=is:(o=Cr,i=void 0);const m=o===Cr&&e[a+1].startsWith("/>")?" ":"";s+=o===is?c+ny:h>=0?(r.push(l),c.slice(0,h)+Du+c.slice(h)+En+m):c+En+(h===-2?a:m)}return[Sp(e,s+(e[n]||"<?>")+(t===2?"</svg>":"")),r]};let hl=class kp{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[l,u]=Ap(t,n);if(this.el=kp.createElement(l,r),Rr.currentNode=this.el.content,n===2){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=Rr.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Du)){const d=u[o++],m=i.getAttribute(h).split(En),b=/([.?@])?(.*)/.exec(d);c.push({type:1,index:s,name:b[2],strings:m,ctor:b[1]==="."?Ip:b[1]==="?"?Tp:b[1]==="@"?Bp:fo}),i.removeAttribute(h)}else h.startsWith(En)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(Ep.test(i.tagName)){const h=i.textContent.split(En),d=h.length-1;if(d>0){i.textContent=ma?ma.emptyScript:"";for(let m=0;m<d;m++)i.append(h[m],Bs()),Rr.nextNode(),c.push({type:2,index:++s});i.append(h[d],Bs())}}}else if(i.nodeType===8)if(i.data===Nu)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(En,h+1))!==-1;)c.push({type:7,index:s}),h+=En.length-1}s++}}static createElement(t,n){const r=Yr.createElement("template");return r.innerHTML=t,r}};function Zr(e,t,n=e,r){var o,a;if(t===dn)return t;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=Os(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(t=Zr(e,i._$AS(e,t.values),i,r)),t}let Cp=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=((t==null?void 0:t.creationScope)??Yr).importNode(n,!0);Rr.currentNode=i;let s=Rr.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Ma(s,s.nextSibling,this,t):c.type===1?l=new c.ctor(s,c.name,c.strings,this,t):c.type===6&&(l=new Op(s,this,t)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=Rr.nextNode(),o++)}return Rr.currentNode=Yr,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}},Ma=class Pp{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=Me,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Zr(this,t,n),Os(t)?t===Me||t==null||t===""?(this._$AH!==Me&&this._$AR(),this._$AH=Me):t!==this._$AH&&t!==dn&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):_p(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==Me&&Os(this._$AH)?this._$AA.nextSibling.data=t:this.T(Yr.createTextNode(t)),this._$AH=t}$(t){var s;const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=hl.createElement(Sp(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new Cp(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(t){let n=Bd.get(t.strings);return n===void 0&&Bd.set(t.strings,n=new hl(t)),n}k(t){xp(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new Pp(this.S(Bs()),this.S(Bs()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}},fo=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=Me,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Me}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=Zr(this,t,n,0),o=!Os(t)||t!==this._$AH&&t!==dn,o&&(this._$AH=t);else{const a=t;let c,l;for(t=s[0],c=0;c<s.length-1;c++)l=Zr(this,a[r+c],n,c),l===dn&&(l=this._$AH[c]),o||(o=!Os(l)||l!==this._$AH[c]),l===Me?t=Me:t!==Me&&(t+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(t)}j(t){t===Me?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},Ip=class extends fo{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Me?void 0:t}},Tp=class extends fo{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Me)}},Bp=class extends fo{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=Zr(this,t,n,0)??Me)===dn)return;const r=this._$AH,i=t===Me&&r!==Me||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==Me&&(r===Me||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}},Op=class{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Zr(this,t)}};const ry={P:Du,A:En,C:Nu,M:1,L:Ap,R:Cp,D:_p,V:Zr,I:Ma,H:fo,N:Tp,U:Bp,B:Ip,F:Op},_c=ws.litHtmlPolyfillSupport;_c==null||_c(hl,Ma),(ws.litHtmlVersions??(ws.litHtmlVersions=[])).push("3.1.3");const Ti=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new Ma(t.insertBefore(Bs(),s),s,void 0,n??{})}return i._$AI(e),i};let le=class extends mi{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Ti(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return dn}};var wp;le._$litElement$=!0,le.finalized=!0,(wp=globalThis.litElementHydrateSupport)==null||wp.call(globalThis,{LitElement:le});const Ec=globalThis.litElementPolyfillSupport;Ec==null||Ec({LitElement:le});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.5");const me=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};const iy={attribute:!0,type:String,converter:pa,reflect:!1,hasChanged:Ra},sy=(e=iy,t,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.P(o,void 0,e),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function K(e){return(t,n)=>typeof n=="object"?sy(e,t,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,o?{...r,wrapped:!0}:r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(e,t,n)}function Le(e){return K({...e,state:!0,attribute:!1})}const{I:oy}=ry,ay=e=>e.strings===void 0,Od=()=>document.createComment(""),ss=(e,t,n)=>{var s;const r=e._$AA.parentNode,i=t===void 0?e._$AB:t._$AA;if(n===void 0){const o=r.insertBefore(Od(),i),a=r.insertBefore(Od(),i);n=new oy(o,a,e,e.options)}else{const o=n._$AB.nextSibling,a=n._$AM,c=a!==e;if(c){let l;(s=n._$AQ)==null||s.call(n,e),n._$AM=e,n._$AP!==void 0&&(l=e._$AU)!==a._$AU&&n._$AP(l)}if(o!==i||c){let l=n._$AA;for(;l!==o;){const u=l.nextSibling;r.insertBefore(l,i),l=u}}}return n},Pr=(e,t,n=e)=>(e._$AI(t,n),e),cy={},ly=(e,t=cy)=>e._$AH=t,uy=e=>e._$AH,$c=e=>{var r;(r=e._$AP)==null||r.call(e,!1,!0);let t=e._$AA;const n=e._$AB.nextSibling;for(;t!==n;){const i=t.nextSibling;t.remove(),t=i}};const po={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},gn=e=>(...t)=>({_$litDirective$:e,values:t});let mo=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};const vs=(e,t)=>{var r;const n=e._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,t,!1),vs(i,t);return!0},ga=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while((n==null?void 0:n.size)===0)},Rp=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),fy(t)}};function hy(e){this._$AN!==void 0?(ga(this),this._$AM=e,Rp(this)):this._$AM=e}function dy(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let s=n;s<r.length;s++)vs(r[s],!1),ga(r[s]);else r!=null&&(vs(r,!1),ga(r));else vs(this,e)}const fy=e=>{e.type==po.CHILD&&(e._$AP??(e._$AP=dy),e._$AQ??(e._$AQ=hy))};let Ki=class extends mo{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),Rp(this),this.isConnected=t._$AU}_$AO(t,n=!0){var r,i;t!==this.isConnected&&(this.isConnected=t,t?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(vs(this,t),ga(this))}setValue(t){if(ay(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};var dl=function(e,t){return dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},dl(e,t)};function bt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function go(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function py(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Mp(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Bi(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Zt(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function wi(e){return this instanceof wi?(this.v=e,this):new wi(e)}function my(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(b){return Promise.resolve(b).then(m,h)}}function a(m,b){r[m]&&(i[m]=function(g){return new Promise(function(v,y){s.push([m,g,v,y])>1||c(m,g)})},b&&(i[m]=b(i[m])))}function c(m,b){try{l(r[m](b))}catch(g){d(s[0][3],g)}}function l(m){m.value instanceof wi?Promise.resolve(m.value.v).then(u,h):d(s[0][2],m)}function u(m){c("next",m)}function h(m){c("throw",m)}function d(m,b){m(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function gy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Bi=="function"?Bi(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function we(e){return typeof e=="function"}function Fu(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sc=Fu(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ba(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var xr=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Bi(o),c=a.next();!c.done;c=a.next()){var l=c.value;l.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(we(u))try{u()}catch(g){s=g instanceof Sc?g.errors:[g]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Bi(h),m=d.next();!m.done;m=d.next()){var b=m.value;try{Rd(b)}catch(g){s=s??[],g instanceof Sc?s=Zt(Zt([],Bt(s)),Bt(g.errors)):s.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Sc(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Rd(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&ba(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&ba(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Dp=xr.EMPTY;function Np(e){return e instanceof xr||e&&"closed"in e&&we(e.remove)&&we(e.add)&&we(e.unsubscribe)}function Rd(e){we(e)?e():e.unsubscribe()}var Fp={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Lp={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Zt([e,t],Bt(n)))},clearTimeout:function(e){var t=Lp.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function jp(e){Lp.setTimeout(function(){throw e})}function ya(){}function ia(e){e()}var Lu=function(e){bt(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Np(n)&&n.add(r)):r.destination=vy,r}return t.create=function(n,r,i){return new Oi(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(xr),by=Function.prototype.bind;function Ac(e,t){return by.call(e,t)}var yy=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Uo(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Uo(r)}else Uo(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Uo(n)}},e}(),Oi=function(e){bt(t,e);function t(n,r,i){var s=e.call(this)||this,o;if(we(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&Fp.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Ac(n.next,a),error:n.error&&Ac(n.error,a),complete:n.complete&&Ac(n.complete,a)}):o=n}return s.destination=new yy(o),s}return t}(Lu);function Uo(e){jp(e)}function wy(e){throw e}var vy={closed:!0,next:ya,error:wy,complete:ya},ju=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ii(e){return e}function xy(e){return e.length===0?ii:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Fe=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=Ey(t)?t:new Oi(t,n,r);return ia(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Md(n),new n(function(i,s){var o=new Oi({next:function(a){try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[ju]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return xy(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Md(t),new t(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function Md(e){var t;return(t=e??Fp.Promise)!==null&&t!==void 0?t:Promise}function _y(e){return e&&we(e.next)&&we(e.error)&&we(e.complete)}function Ey(e){return e&&e instanceof Lu||_y(e)&&Np(e)}function $y(e){return we(e==null?void 0:e.lift)}function nt(e){return function(t){if($y(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(e,t,n,r,i){return new Sy(e,t,n,r,i)}var Sy=function(e){bt(t,e);function t(n,r,i,s,o,a){var c=e.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(l){try{r(l)}catch(u){n.error(u)}}:e.prototype._next,c._error=s?function(l){try{s(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Lu),wa={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=wa.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=t(function(s){n=void 0,e(s)});return new xr(function(){return n==null?void 0:n(i)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return requestAnimationFrame.apply(void 0,Zt([],Bt(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wa.delegate;return((n==null?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Zt([],Bt(e)))},delegate:void 0},Ay=Fu(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ft=function(e){bt(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Dd(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ay},t.prototype.next=function(n){var r=this;ia(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Bi(r.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(n)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;ia(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;ia(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?Dp:(this.currentObservers=null,a.push(n),new xr(function(){r.currentObservers=null,ba(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},t.prototype.asObservable=function(){var n=new Fe;return n.source=this,n},t.create=function(n,r){return new Dd(n,r)},t}(Fe),Dd=function(e){bt(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Dp},t}(ft),Ri=function(e){bt(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(ft),zu={now:function(){return(zu.delegate||Date).now()},delegate:void 0},zp=function(e){bt(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=zu);var s=e.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return t.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),c=0;c<a.length&&!n.closed;c+=s?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var c=i.now(),l=0,u=1;u<s.length&&s[u]<=c;u+=2)l=u;l&&s.splice(0,l+1)}},t}(ft),ky=function(e){bt(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(xr),fl={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Zt([e,t],Bt(n)))},clearInterval:function(e){var t=fl.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Uu=function(e){bt(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),fl.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&fl.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ba(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ky),Cy=1,kc,pl={};function Nd(e){return e in pl?(delete pl[e],!0):!1}var Up={setImmediate:function(e){var t=Cy++;return pl[t]=!0,kc||(kc=Promise.resolve()),kc.then(function(){return Nd(t)&&e()}),t},clearImmediate:function(e){Nd(e)}},Py=Up.setImmediate,Iy=Up.clearImmediate,ml={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Py.apply(void 0,Zt([],Bt(e)))},clearImmediate:function(e){var t=ml.delegate;return((t==null?void 0:t.clearImmediate)||Iy)(e)},delegate:void 0},Ty=function(e){bt(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=ml.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==r&&(ml.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(Uu),Fd=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=zu.now,e}(),Vu=function(e){bt(t,e);function t(n,r){r===void 0&&(r=Fd.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(Fd),By=function(e){bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,s;n=n||i.shift();do if(s=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,s){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw s}},t}(Vu),Hu=new By(Ty),qu=new Vu(Uu),Oy=qu,Ry=function(e){bt(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=wa.requestAnimationFrame(function(){return n.flush(void 0)})))},t.prototype.recycleAsyncId=function(n,r,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==r&&(wa.cancelAnimationFrame(r),n._scheduled=void 0)},t}(Uu),My=function(e){bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,s;n=n||i.shift();do if(s=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,s){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw s}},t}(Vu),Dy=new My(Ry),Vp=new Fe(function(e){return e.complete()});function Hp(e){return e&&we(e.schedule)}function Wu(e){return e[e.length-1]}function qp(e){return we(Wu(e))?e.pop():void 0}function bo(e){return Hp(Wu(e))?e.pop():void 0}function Ny(e,t){return typeof Wu(e)=="number"?e.pop():t}var Gu=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Wp(e){return we(e==null?void 0:e.then)}function Gp(e){return we(e[ju])}function Kp(e){return Symbol.asyncIterator&&we(e==null?void 0:e[Symbol.asyncIterator])}function Yp(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Fy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zp=Fy();function Jp(e){return we(e==null?void 0:e[Zp])}function Xp(e){return my(this,arguments,function(){var n,r,i,s;return Mp(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,wi(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,wi(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,wi(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Qp(e){return we(e==null?void 0:e.getReader)}function yt(e){if(e instanceof Fe)return e;if(e!=null){if(Gp(e))return Ly(e);if(Gu(e))return jy(e);if(Wp(e))return zy(e);if(Kp(e))return em(e);if(Jp(e))return Uy(e);if(Qp(e))return Vy(e)}throw Yp(e)}function Ly(e){return new Fe(function(t){var n=e[ju]();if(we(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jy(e){return new Fe(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function zy(e){return new Fe(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,jp)})}function Uy(e){return new Fe(function(t){var n,r;try{for(var i=Bi(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function em(e){return new Fe(function(t){Hy(e,t).catch(function(n){return t.error(n)})})}function Vy(e){return em(Xp(e))}function Hy(e,t){var n,r,i,s;return py(this,void 0,void 0,function(){var o,a;return Mp(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=gy(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function sr(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Da(e,t){return t===void 0&&(t=0),nt(function(n,r){n.subscribe(Ze(r,function(i){return sr(r,e,function(){return r.next(i)},t)},function(){return sr(r,e,function(){return r.complete()},t)},function(i){return sr(r,e,function(){return r.error(i)},t)}))})}function Na(e,t){return t===void 0&&(t=0),nt(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function qy(e,t){return yt(e).pipe(Na(t),Da(t))}function Wy(e,t){return yt(e).pipe(Na(t),Da(t))}function Gy(e,t){return new Fe(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Ky(e,t){return new Fe(function(n){var r;return sr(n,t,function(){r=e[Zp](),sr(n,t,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return we(r==null?void 0:r.return)&&r.return()}})}function tm(e,t){if(!e)throw new Error("Iterable cannot be null");return new Fe(function(n){sr(n,t,function(){var r=e[Symbol.asyncIterator]();sr(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function Yy(e,t){return tm(Xp(e),t)}function Zy(e,t){if(e!=null){if(Gp(e))return qy(e,t);if(Gu(e))return Gy(e,t);if(Wp(e))return Wy(e,t);if(Kp(e))return tm(e,t);if(Jp(e))return Ky(e,t);if(Qp(e))return Yy(e,t)}throw Yp(e)}function mr(e,t){return t?Zy(e,t):yt(e)}function st(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=bo(e);return mr(e,n)}function Ld(e,t){var n=we(e)?e:function(){return e},r=function(i){return i.error(n())};return new Fe(r)}var Jy=Fu(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function $t(e,t){return new Promise(function(n,r){var i=new Oi({next:function(s){n(s),i.unsubscribe()},error:r,complete:function(){r(new Jy)}});e.subscribe(i)})}function Xy(e){return e instanceof Date&&!isNaN(e)}function te(e,t){return nt(function(n,r){var i=0;n.subscribe(Ze(r,function(s){r.next(e.call(t,s,i++))}))})}var Qy=Array.isArray;function ew(e,t){return Qy(t)?e.apply(void 0,Zt([],Bt(t))):e(t)}function nm(e){return te(function(t){return ew(e,t)})}var tw=Array.isArray,nw=Object.getPrototypeOf,rw=Object.prototype,iw=Object.keys;function sw(e){if(e.length===1){var t=e[0];if(tw(t))return{args:t,keys:null};if(ow(t)){var n=iw(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function ow(e){return e&&typeof e=="object"&&nw(e)===rw}function aw(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=bo(e),r=qp(e),i=sw(e),s=i.args,o=i.keys;if(s.length===0)return mr([],n);var a=new Fe(cw(s,n,o?function(c){return aw(o,c)}:ii));return r?a.pipe(nm(r)):a}function cw(e,t,n){return n===void 0&&(n=ii),function(r){jd(t,function(){for(var i=e.length,s=new Array(i),o=i,a=i,c=function(u){jd(t,function(){var h=mr(e[u],t),d=!1;h.subscribe(Ze(r,function(m){s[u]=m,d||(d=!0,a--),a||r.next(n(s.slice()))},function(){--o||r.complete()}))},r)},l=0;l<i;l++)c(l)},r)}}function jd(e,t,n){e?sr(n,e,t):t()}function lw(e,t,n,r,i,s,o,a){var c=[],l=0,u=0,h=!1,d=function(){h&&!c.length&&!l&&t.complete()},m=function(g){return l<r?b(g):c.push(g)},b=function(g){l++;var v=!1;yt(n(g,u++)).subscribe(Ze(t,function(y){t.next(y)},function(){v=!0},void 0,function(){if(v)try{l--;for(var y=function(){var x=c.shift();o||b(x)};c.length&&l<r;)y();d()}catch(x){t.error(x)}}))};return e.subscribe(Ze(t,m,function(){h=!0,d()})),function(){}}function Ku(e,t,n){return n===void 0&&(n=1/0),we(t)?Ku(function(r,i){return te(function(s,o){return t(r,s,i,o)})(yt(e(r,i)))},n):(typeof t=="number"&&(n=t),nt(function(r,i){return lw(r,i,e,n)}))}function rm(e){return e===void 0&&(e=1/0),Ku(ii,e)}function uw(){return rm(1)}function zd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return uw()(mr(e,bo(e)))}function de(e){return new Fe(function(t){yt(e()).subscribe(t)})}var hw=["addListener","removeListener"],dw=["addEventListener","removeEventListener"],fw=["on","off"];function Ee(e,t,n,r){if(we(n)&&(r=n,n=void 0),r)return Ee(e,t,n).pipe(nm(r));var i=Bt(gw(e)?dw.map(function(a){return function(c){return e[a](t,c,n)}}):pw(e)?hw.map(Ud(e,t)):mw(e)?fw.map(Ud(e,t)):[],2),s=i[0],o=i[1];if(!s&&Gu(e))return Ku(function(a){return Ee(a,t,n)})(yt(e));if(!s)throw new TypeError("Invalid event target");return new Fe(function(a){var c=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return a.next(1<l.length?l:l[0])};return s(c),function(){return o(c)}})}function Ud(e,t){return function(n){return function(r){return e[n](t,r)}}}function pw(e){return we(e.addListener)&&we(e.removeListener)}function mw(e){return we(e.on)&&we(e.off)}function gw(e){return we(e.addEventListener)&&we(e.removeEventListener)}function Rs(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Oy);var r=-1;return t!=null&&(Hp(t)?n=t:r=t),new Fe(function(i){var s=Xy(e)?+e-n.now():e;s<0&&(s=0);var o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function bw(e,t){return t===void 0&&(t=qu),Rs(e,e,t)}function Dn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=bo(e),r=Ny(e,1/0),i=e;return i.length?i.length===1?yt(i[0]):rm(r)(mr(i,n)):Vp}function Xe(e,t){return nt(function(n,r){var i=0;n.subscribe(Ze(r,function(s){return e.call(t,s,i++)&&r.next(s)}))})}function Yu(e){return nt(function(t,n){var r=null,i=!1,s;r=t.subscribe(Ze(n,void 0,void 0,function(o){s=yt(e(o,Yu(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Yi(e,t){return t===void 0&&(t=qu),nt(function(n,r){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var l=s;s=null,r.next(l)}};function c(){var l=o+e,u=t.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(Ze(r,function(l){s=l,o=t.now(),i||(i=t.schedule(c,e),r.add(i))},function(){a(),r.complete()},void 0,function(){s=i=null}))})}function im(e){return nt(function(t,n){var r=!1;t.subscribe(Ze(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function yw(e){return e<=0?function(){return Vp}:nt(function(t,n){var r=0;t.subscribe(Ze(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Je(e,t){return t===void 0&&(t=ii),e=e??ww,nt(function(n,r){var i,s=!0;n.subscribe(Ze(r,function(o){var a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}function ww(e,t){return e===t}function vw(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new ft}:t,r=e.resetOnError,i=r===void 0?!0:r,s=e.resetOnComplete,o=s===void 0?!0:s,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(l){var u,h,d,m=0,b=!1,g=!1,v=function(){h==null||h.unsubscribe(),h=void 0},y=function(){v(),u=d=void 0,b=g=!1},x=function(){var E=u;y(),E==null||E.unsubscribe()};return nt(function(E,$){m++,!g&&!b&&v();var k=d=d??n();$.add(function(){m--,m===0&&!g&&!b&&(h=Cc(x,c))}),k.subscribe($),!u&&m>0&&(u=new Oi({next:function(A){return k.next(A)},error:function(A){g=!0,v(),h=Cc(y,i,A),k.error(A)},complete:function(){b=!0,v(),h=Cc(y,o),k.complete()}}),yt(E).subscribe(u))})(l)}}function Cc(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new Oi({next:function(){i.unsubscribe(),e()}});return yt(t.apply(void 0,Zt([],Bt(n)))).subscribe(i)}}function Be(e,t,n){var r,i,s,o,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,o=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,s=e.refCount,a=s===void 0?!1:s,n=e.scheduler):o=e??1/0,vw({connector:function(){return new zp(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function sm(e){return Xe(function(t,n){return e<=n})}function Ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=bo(e);return nt(function(r,i){(n?zd(e,r,n):zd(e,r)).subscribe(i)})}function fe(e,t){return nt(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(Ze(r,function(c){i==null||i.unsubscribe();var l=0,u=s++;yt(e(c,u)).subscribe(i=Ze(r,function(h){return r.next(t?t(c,h,u,l++):h)},function(){i=null,a()}))},function(){o=!0,a()}))})}function Fa(e){return nt(function(t,n){yt(e).subscribe(Ze(n,function(){return n.complete()},ya)),!n.closed&&t.subscribe(n)})}function pe(e,t,n){var r=we(e)||t||n?{next:e,error:t,complete:n}:e;return r?nt(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Ze(s,function(c){var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},function(c){var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},function(){var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ii}function Zu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=qp(e);return nt(function(r,i){for(var s=e.length,o=new Array(s),a=e.map(function(){return!1}),c=!1,l=function(h){yt(e[h]).subscribe(Ze(i,function(d){o[h]=d,!c&&!a[h]&&(a[h]=!0,(c=a.every(ii))&&(a=null))},ya))},u=0;u<s;u++)l(u);r.subscribe(Ze(i,function(h){if(c){var d=Zt([h],Bt(o));i.next(n?n.apply(void 0,Zt([],Bt(d))):d)}}))})}var xw=class extends Ki{render(e,t){return this.subscription?this.lastValue??t??"":(this.subscription=e.pipe(Da(Hu)).subscribe(n=>{this.lastValue=n,this.setValue(n)}),t??"")}disconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}},Pe=gn(xw),_w=class extends Ki{constructor(){super(...arguments),this.isDisconnected=!1,this.handler=e=>{this.isDisconnected||this.setValue(e)}}render(e,t){return e.then(this.handler),t??""}disconnected(){this.isDisconnected=!0}},gl=gn(_w),Ew=class extends mo{constructor(e){super(e),this.elementKeySet=new Set,this.view=document.createElement("div"),this.lock=!1,this.view.style.display="flex",this.view.style.gap="8px"}render(e,t,n,r){if(this.lock)return I`${this.view}`;if(!this.view.children.length)return this.addedElementsWithoutAnimation(e,t,r),I`${this.view}`;const i=new Set,s=new Map,o=new Map;let a=0;for(const u of e){const h=t(u,a);i.add(h),s.set(h,u),o.set(h,a),a++}const c=new Set,l=new Set;return this.elementKeySet.forEach(u=>{i.has(u)||c.add(u)}),i.forEach(u=>{this.elementKeySet.has(u)||l.add(u)}),this.lock=!0,Promise.all([this.deleteElements(c,n.deleteElement),this.addedElements(l,s,o,n.addedElement,r)]).then(()=>{this.elementKeySet=i,this.lock=!1}),I`${this.view}`}async deleteElements(e,t){const n=[],r=async i=>{const s=this.view.querySelector(`#${i}`);s&&(await t(s),s.remove())};for(const i of e)n.push(r(i));await Promise.all(n)}async addedElements(e,t,n,r,i){const s=[],o=async a=>{const c=t.get(a),l=document.createElement("div");l.id=a.toString();const u=i(c);Ti(u,l);const h=await r(l),d=this.view.children[n.get(a)??0];d?this.view.insertBefore(l,d):this.view.appendChild(l),await h(l)};for(const a of e)s.push(o(a));await Promise.all(s)}addedElementsWithoutAnimation(e,t,n){let r=0;for(const i of e){const s=t(i,r),o=document.createElement("div");o.id=s.toString();const a=n(i);Ti(a,o),this.view.appendChild(o),this.elementKeySet.add(s),r++}}},KP=gn(Ew);function ie(e,t){for(const n in t)e.style[n]=t[n]??""}function om(e,t){const n=document.createElement(e);if(t&&typeof t=="function")try{t(n)}catch(r){console.error("call side effect error",r)}return document.head.appendChild(n),n}function Pc(e){om("style",t=>bl(t,e))}function bl(e,t){e.textContent=t.cssText}function am(e,t,n){return new CustomEvent(e,{bubbles:!0,composed:!0,detail:{value:t,event:n}})}function Oe(e,t,n,r){e.dispatchEvent(am(t,n,r))}function cm(e){const t=document.head.querySelector("#theme-color");if(!t){om("meta",n=>{n.id="theme-color",n.name="theme-color",n.content=e});return}t.content=e}function lm(e=40){try{navigator.vibrate(e)}catch{}}var $w={requestUpdate:!0},Sw=class{constructor(e,t,n){this.host=e,this.observers=t,e.addController(this),this.config={...$w,...n},this.subscribe()}hostDisconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}subscribe(){const e=ct(Array.isArray(this.observers)?this.observers:[this.observers]),t=[];this.config.debounceTimeMs&&t.push(Yi(this.config.debounceTimeMs)),this.subscription=e.pipe(...t).subscribe(()=>{this.config.requestUpdate&&this.host.requestUpdate()})}};function ut(e,t,n){return new Sw(e,t,n)}var um="screen and (max-width: 610px)",Ic;function Vn(){return Ic||(Ic=matchMedia(um)),Ic}function rt(e){return G`
      @media ${ye(um)} {
          ${ye(e)}
      }
  `}var hm=de(()=>Ee(Vn(),"change")).pipe(Be({bufferSize:0,refCount:!0}));function La(e){ut(e,[hm])}function dm(){return hm}function bn(e){return La(e),Vn()}function Ms(){const e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")&&!e.includes("crios")}function yl(){var e;return((e=window==null?void 0:window.navigator)==null?void 0:e.standalone)??!1}function Aw(e){return Ms()&&yl()?ye(e):ye("")}var Tc=new WeakMap;function Mr(e){if(Tc.has(e))return Tc.get(e);const t=new Fe(n=>{const r=new ResizeObserver(i=>n.next(i[0]));return r.observe(e),()=>{r.unobserve(e)}});return Tc.set(e,t),t}var wl=(e=>(e.en="en",e.ar="ar",e))(wl||{}),kw=["ar"];function fm(e){return kw.includes(e)}var va=new Map,Ju=new Ri(null),Cw="en",Vd,Ds="en",Hd=0,qd=0,pm=!1,mm=Ju.pipe(te(()=>Ds));async function Pw(e){for(const t in e){const n=Reflect.get(e,t),r=va.get(t)??[];r.push(n),va.set(t,r)}await Xu(Ds)}async function Iw(e){await Xu(e)}async function Tw(){const e=localStorage.getItem("1inch_locale")??"en";pm=!0,await Xu(e)}function Bw(e,t){return Ju.pipe(te(n=>{if(!n)return"";const r=n[e]??"";return t&&r.includes("{{")&&r.includes("}}")?Ow(r,t):r}))}function Ow(e,t){let n=e;for(const r in t){const i=t[r],s=`{{${r}}}`;n=n.replaceAll(s,`${i}`)}return n}async function Xu(e){if(!pm)return;const t=document.querySelector("html");t.dir=fm(e)?"rtl":"ltr";const n=va.get(Cw)??[],r=va.get(e)??[],i=s=>s.reduce((o,a)=>({...o,...a}),{});if(n.length!==Hd){const s=await Promise.all(n.map(o=>o()));Vd=i(s),Hd=n.length}if(Ds!==e||r.length!==qd){const s=await Promise.all(r.map(a=>a())),o=i(s);Ju.next({...Vd,...o}),qd=r.length}Ds=e}function Mi(){return fm(Ds)}Reflect.set(window,"changeLocale",Iw);var Rw=class extends Ki{render(e,t){return this.subscription&&this.lastPath===e?this.lastValue??"":(this.disconnected(),this.subscription=Bw(e,t).pipe(Da(Hu)).subscribe(n=>{this.setValue(n),this.lastValue=n,this.lastPath=e}),"")}disconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}},$e=gn(Rw);const Mw=G`:host{--height:100vh;overflow-y:auto;overflow-x:hidden!important;height:var(--height);display:flex;flex-direction:column;justify-content:space-between;background-color:var(--color-background-bg-body);overscroll-behavior:none;touch-action:pan-y;transition:height .2s}@supports (height:100dvh){:host{--height:100dvh}}${rt(G`:host::-webkit-scrollbar{display:none}`)}${Aw(G`:host{height:calc(var(--height) - 10px)}`)}.content{display:flex;width:100%;justify-content:center;margin-bottom:auto}`,Dw=G`.header-container{width:100%;box-sizing:border-box;padding:16px 24px;display:flex;align-items:center;justify-content:space-between;max-width:1400px;margin:0 auto}.mobile-header{height:56px;padding:8px;max-width:100vw}.right-content{display:flex;align-items:center;gap:8px}`;var Nw=Object.defineProperty,Fw=Object.getOwnPropertyDescriptor,yo=(e,t,n,r)=>{for(var i=r>1?void 0:r?Fw(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Nw(t,n,i),i};const gm="important",Lw=" !"+gm,Qu=gn(class extends mo{constructor(e){var t;if(super(e),e.type!==po.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in t){const i=t[r];if(i!=null){this.ft.add(r);const s=typeof i=="string"&&i.endsWith(Lw);r.includes("-")||s?n.setProperty(r,s?i.slice(0,-11):i,s?gm:""):n[r]=i}}return dn}});const jw=Symbol();let ja=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((t,n)=>{this.o=t,this.h=n}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(t,n,r){var s;this.p=0,this.i=0,(this._=t).addController(this);const i=typeof n=="object"?n:{task:n,args:r};this.v=i.task,this.j=i.args,this.m=i.argsEqual??zw,this.k=i.onComplete,this.A=i.onError,this.autoRun=i.autoRun??!0,"initialValue"in i&&(this.u=i.initialValue,this.i=2,this.O=(s=this.T)==null?void 0:s.call(this))}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;const t=this.j();if(!Array.isArray(t))throw Error("The args function must return an array");return t}async S(){const t=this.T(),n=this.O;this.O=t,t===n||t===void 0||n!==void 0&&this.m(n,t)||await this.run(t)}async run(t){var o,a,c,l,u;let n,r;t??(t=this.T()),this.O=t,this.i===1?(o=this.q)==null||o.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();const i=++this.p;this.q=new AbortController;let s=!1;try{n=await this.v(t,{signal:this.q.signal})}catch(h){s=!0,r=h}if(this.p===i){if(n===jw)this.i=0;else{if(s===!1){try{(a=this.k)==null||a.call(this,n)}catch{}this.i=2,(c=this.o)==null||c.call(this,n)}else{try{(l=this.A)==null||l.call(this,r)}catch{}this.i=3,(u=this.h)==null||u.call(this,r)}this.u=n,this.l=r}this._.requestUpdate()}}abort(t){var n;this.i===1&&((n=this.q)==null||n.abort(t))}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(t){var n,r,i,s;switch(this.i){case 0:return(n=t.initial)==null?void 0:n.call(t);case 1:return(r=t.pending)==null?void 0:r.call(t);case 2:return(i=t.complete)==null?void 0:i.call(t,this.value);case 3:return(s=t.error)==null?void 0:s.call(t,this.error);default:throw Error("Unexpected status: "+this.i)}}};const zw=(e,t)=>e===t||e.length===t.length&&e.every((n,r)=>!Ra(n,t[r]));var Uw={circle16:{width:"16px",height:"16px",loader:()=>H(()=>import("./circle_16.svg-VYULZBAJ-awPSFd5W.js"),__vite__mapDeps([])).then(e=>e.circle16Svg)},cross8:{width:"8px",height:"8px",loader:()=>H(()=>import("./cross_8.svg-2PAWLMBW-BPDCCfNa.js"),__vite__mapDeps([])).then(e=>e.cross8Svg)},startDefault16:{width:"16px",height:"16px",loader:()=>H(()=>import("./start-default_16.svg-BPNXGI3W-YYBDs3eu.js"),__vite__mapDeps([])).then(e=>e.startDefault16Svg)},connect16:{width:"16px",height:"16px",loader:()=>H(()=>import("./connect_16.svg-7T77SMC7-BRq2NXhl.js"),__vite__mapDeps([])).then(e=>e.connect16Svg)},cornerDownRight16:{width:"16px",height:"16px",loader:()=>H(()=>import("./corner-down-right_16.svg-6HB33N2Y-BZ_sJsE3.js"),__vite__mapDeps([])).then(e=>e.cornerDownRight16Svg)},chevronDown16:{width:"16px",height:"16px",loader:()=>H(()=>import("./chevron-down_16.svg-RVOYQPAA-BWBaaNvI.js"),__vite__mapDeps([])).then(e=>e.chevronDown16Svg)},arrowDown16:{width:"16px",height:"16px",loader:()=>H(()=>import("./arrow-down_16.svg-JUQTX2FN-3aRblxXA.js"),__vite__mapDeps([])).then(e=>e.arrowDown16Svg)},fusion16:{width:"16px",height:"16px",loader:()=>H(()=>import("./fusion_16-WAQ4L5YJ-Cc6SCLNG.js"),__vite__mapDeps([])).then(e=>e.fusion16Svg)},link16:{width:"16px",height:"16px",loader:()=>H(()=>import("./link_16.svg-IMQVAHE3-At-g2j3I.js"),__vite__mapDeps([])).then(e=>e.link16Svg)},plusCircle16:{width:"16px",height:"16px",loader:()=>H(()=>import("./plus-circle_16.svg-LRUOJFKC-DIAR09l1.js"),__vite__mapDeps([])).then(e=>e.plusCircle16Svg)},circle24:{width:"24px",height:"24px",loader:()=>H(()=>import("./circle_24.svg-T5YTVAQH-CRGWkX3b.js"),__vite__mapDeps([])).then(e=>e.circle24Svg)},arrowDown24:{width:"24px",height:"24px",loader:()=>H(()=>import("./arrow-down_24.svg-EIL7XQPZ-C9FG5rrD.js"),__vite__mapDeps([])).then(e=>e.arrowDown24Svg)},arrowLeft24:{width:"24px",height:"24px",loader:()=>H(()=>import("./arrow-left_24.svg-SCB6QTLP-DqNimIPA.js"),__vite__mapDeps([])).then(e=>e.arrowLeft24Svg)},cross24:{width:"24px",height:"24px",loader:()=>H(()=>import("./cross_24.svg-YTRLIKSM-CFzHftnz.js"),__vite__mapDeps([])).then(e=>e.cross24Svg)},search24:{width:"24px",height:"24px",loader:()=>H(()=>import("./search_24.svg-RSX2HF6Z-BVQv4at9.js"),__vite__mapDeps([])).then(e=>e.search24Svg)},edit24:{width:"24px",height:"24px",loader:()=>H(()=>import("./edit_24.svg-TPDYNI2L-BRuGtSo-.js"),__vite__mapDeps([])).then(e=>e.edit24Svg)},connect24:{width:"24px",height:"24px",loader:()=>H(()=>import("./connect_24.svg-RW5EMHSM-D7mBEr8O.js"),__vite__mapDeps([])).then(e=>e.connect24Svg)},link24:{width:"24px",height:"24px",loader:()=>H(()=>import("./link_24.svg-RMCNNGED-EJZbo0lC.js"),__vite__mapDeps([])).then(e=>e.link24Svg)},alert24:{width:"24px",height:"24px",loader:()=>H(()=>import("./alert_24.svg-VYZDMMJ3-hY-WhbIq.js"),__vite__mapDeps([])).then(e=>e.alert24Svg)},l2Chain24:{width:"24px",height:"24px",loader:()=>H(()=>import("./l2-chain_24.svg-V4BCPDFM-Dagk7-f7.js"),__vite__mapDeps([])).then(e=>e.l2Chain24Svg)},l2ChainRTL24:{width:"24px",height:"24px",loader:()=>H(()=>import("./l2-chain-rtl_24.svg-PGCWA4VF-XuizA-Cs.js"),__vite__mapDeps([])).then(e=>e.l2Chain24Svg)},authRefresh36:{width:"36px",height:"36px",loader:()=>H(()=>import("./auth-refresh_36.svg-YP6MCX6O-B4nSFKCR.js"),__vite__mapDeps([])).then(e=>e.authRefresh36Svg)},logoFull:{width:"102px",height:"40px",loader:()=>H(()=>import("./logo-full.svg-66MEN6VS-CSIZaSga.js"),__vite__mapDeps([])).then(e=>e.logoFullSvg)},unicornRun:{width:"38px",height:"24px",loader:()=>H(()=>import("./unicorn_run.svg-AIUTJEZZ-CM5VMzEs.js"),__vite__mapDeps([])).then(e=>e.unicornRunSvg)},fire48:{width:"48px",height:"48px",loader:()=>H(()=>import("./fire_48.png-HJ2PAHJI-BneknhfY.js"),__vite__mapDeps([])).then(e=>e.fire48Png)},emptySearch:{width:"160px",height:"160px",loader:()=>H(()=>import("./empty_search.svg-LAEID2U4-BLapkSe0.js"),__vite__mapDeps([])).then(e=>e.emptySearch)},eth24:{width:"24px",height:"24px",loader:()=>H(()=>import("./eth_24.svg-L3LBLDTX-CNVLXOIW.js"),__vite__mapDeps([])).then(e=>e.eth24Svg)},bnb24:{width:"24px",height:"24px",loader:()=>H(()=>import("./bnb_24.svg-R4VWRKJR-DQKI5KrO.js"),__vite__mapDeps([])).then(e=>e.bnb24Svg)},op24:{width:"24px",height:"24px",loader:()=>H(()=>import("./op_24.svg-OOM6WSBI-CI_wTHdB.js"),__vite__mapDeps([])).then(e=>e.op24Svg)},matic24:{width:"24px",height:"24px",loader:()=>H(()=>import("./matic_24.svg-DSR3PWXB-dY9h0W20.js"),__vite__mapDeps([])).then(e=>e.matic24Svg)},arbitrum24:{width:"24px",height:"24px",loader:()=>H(()=>import("./arbitrum_24.svg-HDMEFZLP-BUpKQqfw.js"),__vite__mapDeps([])).then(e=>e.arbitrum24Svg)},gnosis24:{width:"24px",height:"24px",loader:()=>H(()=>import("./gnosis_24.svg-P724ZJPL-Br0aol1D.js"),__vite__mapDeps([])).then(e=>e.gnosis24Svg)},avalanche24:{width:"24px",height:"24px",loader:()=>H(()=>import("./avalanche_24.svg-RPZLLEAL-DnTTQ2yn.js"),__vite__mapDeps([])).then(e=>e.avalanche24Svg)},fantom24:{width:"24px",height:"24px",loader:()=>H(()=>import("./fantom_24.svg-NUWRHOLE-C6b4gD5w.js"),__vite__mapDeps([])).then(e=>e.fantom24Svg)},aurora24:{width:"24px",height:"24px",loader:()=>H(()=>import("./aurora_24.svg-SSFMVW4S-ctnL5_PO.js"),__vite__mapDeps([])).then(e=>e.aurora24Svg)},klaytn24:{width:"24px",height:"24px",loader:()=>H(()=>import("./klaytn_24.svg-UYTDUYUT-CaXtE__r.js"),__vite__mapDeps([])).then(e=>e.klaytn24Svg)},zkSyncEra24:{width:"24px",height:"24px",loader:()=>H(()=>import("./zksyncera_24.svg-ZJ62QLHT-Ckj8NFiP.js"),__vite__mapDeps([])).then(e=>e.zkSyncEra24Svg)},base24:{width:"24px",height:"24px",loader:()=>H(()=>import("./base_24.svg-QPOECYQV-BzAKXmTN.js"),__vite__mapDeps([])).then(e=>e.base24Svg)}},ln=class extends le{constructor(){super(...arguments),this.iconLoadTask=new ja(this,([e])=>this.loadImage(e),()=>[this.icon])}render(){var t,n;const e={width:this.width??((t=this.iconRecord)==null?void 0:t.width),height:this.height??((n=this.iconRecord)==null?void 0:n.height)};return this.iconLoadTask.render({pending:()=>I`<div style="${Qu(e)}"></div>`,complete:r=>typeof r=="function"?r({...e,props:this.props}):r})}async loadImage(e){if(!e)throw new Error("icon is required field for inch-icon element");if(this.iconRecord=Uw[e],!this.iconRecord)throw new Error(`icon name ${e} not exist`);return await this.iconRecord.loader()}};ln.tagName="inch-icon";ln.styles=G`:host{display:flex;width:fit-content;height:fit-content}`;yo([K({type:String,attribute:"icon"})],ln.prototype,"icon",2);yo([K({type:String,attribute:!0})],ln.prototype,"width",2);yo([K({type:String,attribute:!0})],ln.prototype,"height",2);yo([K({type:Object})],ln.prototype,"props",2);ln=yo([me(ln.tagName)],ln);const Vw=Object.freeze(Object.defineProperty({__proto__:null,get IconElement(){return ln}},Symbol.toStringTag,{value:"Module"}));const St=gn(class extends mo{constructor(e){var t;if(super(e),e.type!==po.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,i;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in t)t[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(t)}const n=e.element.classList;for(const s of this.st)s in t||(n.remove(s),this.st.delete(s));for(const s in t){const o=!!t[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return dn}});var Hw=Object.defineProperty,qw=Object.getOwnPropertyDescriptor,_r=(e,t,n,r)=>{for(var i=r>1?void 0:r?qw(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Hw(t,n,i),i},Ww=G`:host{display:block}button{cursor:pointer;font-family:Inter,sans-serif;font-style:normal;font-weight:600;display:flex;align-items:center;justify-content:center;gap:8px;border:1px solid var(--button-border-color,none);background-color:var(--button-background-color);color:var(--button-text-color-ext,var(--button-text-color,var(--color-core-white)));box-sizing:border-box;transition:background-color .2s,box-shadow .2s,color .2s,transform .1s;outline:0;user-select:none;-webkit-tap-highlight-color:transparent;will-change:background-color,color,box-shadow,transform}button.full-size{width:100%}@media (hover:hover){button:enabled:hover{background-color:var(--button-background-color-hover);color:var(--button-text-color-ext-hover,var(--button-text-color-hover,var(--button-text-color)))}}button:enabled:active,button:enabled:focus-visible{transform:scale(.98);box-shadow:0 0 0 2px var(--button-box-shadow-color-active)}.active-box-shadow-inset:enabled:active,.active-box-shadow-inset:enabled:focus-visible{box-shadow:inset 0 0 0 2px var(--button-box-shadow-color-active)}button:disabled{cursor:not-allowed}`,Gw=G`button{border-radius:var(--border-radius)}.xs{padding:0 2px;--border-radius:4px;font-size:12px}.m{padding:6px 12px;--border-radius:8px;font-size:14px}.l{padding:8px 16px;--border-radius:12px;font-size:14px}.xl{padding:12px 24px;--border-radius:16px;font-size:16px}.xxl{padding:16px 24px;--border-radius:16px;font-size:20px}.m.only-icon{padding:0}.l.only-icon{padding:6px}.xl.only-icon{padding:12px}.xxl.only-icon{padding:18px}`,Kw=G`.primary{--button-background-color:var(--primary);--button-background-color-hover:var(--primary-hover);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-core-white);--loader-color:var(--primary-hover)}.primary-critical{--button-background-color:var(--color-core-red-critical);--button-background-color-hover:var(--color-core-red-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical);--button-text-color:var(--color-core-white)}.primary-warning{--button-background-color:var(--color-core-orange-warning);--button-background-color-hover:var(--color-core-orange-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning);--button-text-color:var(--color-core-white)}.primary-gray{--button-background-color:var(--color-background-bg-primary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary)}.secondary{--button-background-color:var(--secondary);--button-background-color-hover:var(--secondary-hover);--button-box-shadow-color-active:var(--secondary-hover);--button-text-color:var(--primary);--button-text-color-hover:var(--primary-hover)}.secondary-critical{--button-background-color:var(--color-background-bg-critical);--button-background-color-hover:var(--color-background-bg-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical-hover);--button-text-color:var(--color-core-red-critical-hover)}.secondary-warning{--button-background-color:var(--color-background-bg-warning);--button-background-color-hover:var(--color-background-bg-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning-hover);--button-text-color:var(--color-core-orange-warning)}.secondary-gray{--button-background-color:transparent;--button-border-color:var(--color-border-border-tertiary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary);--button-background-color-disabled:transparent;--button-border-color-disabled:var(--color-background-bg-disabled)}.tertiary{--button-background-color:transparent;--button-background-color-hover:var(--secondary);--button-text-color:var(--primary)}.tertiary-gray{--button-background-color:transparent;--button-background-color-hover:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary)}button:disabled{background-color:var(--button-background-color-disabled,var(--color-background-bg-disabled));color:var(--color-content-content-disabled);border:1px solid var(--button-border-color-disabled,none)}`,Yw=G`button.loader{position:relative;--loader-border-size:2px}button.loader:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;border-radius:var(--border-radius);border:var(--loader-border-size) solid var(--loader-color,var(--button-box-shadow-color-active));animation:loader 3s linear infinite}@keyframes loader{0%{clip-path:polygon(0 0,100% 0,100% 5%,0 5%)}10%{clip-path:polygon(50% 0,100% 0,100% 50%,50% 5%)}20%{clip-path:polygon(95% 0,100% 0,100% 100%,95% 100%)}40%{clip-path:polygon(50% 50%,100% 50%,100% 100%,50% 100%)}50%{clip-path:polygon(0 95%,100% 95%,100% 100%,0 100%)}70%{clip-path:polygon(0 50%,50% 50%,50% 100%,0 100%)}80%{clip-path:polygon(0 0,5% 0,5% 100%,0 100%)}90%{clip-path:polygon(0 0,50% 0,50% 50%,0 50%)}100%{clip-path:polygon(0 0,100% 0,100% 5%,0 5%)}}`,Tt=class extends le{constructor(){super(...arguments),this.size="xl",this.type="primary",this.fullSize=!1,this.disabled=!1,this.loader=!1,this.disabledSlotPointerEvent=!1,this.isIconButton=!1}render(){const e={[this.size]:!0,[this.type]:!0,"only-icon":this.isIconButton,"full-size":this.fullSize,loader:this.loader,"active-box-shadow-inset":this.type.includes("secondary")&&!this.type.includes("gray")};return I`<button class="${St(e)}" @click="${()=>lm()}" ?disabled="${this.disabled}"><slot style="${this.disabledSlotPointerEvent?"pointer-events: none;":""}" @slotchange="${this.handleSlotChange}"></slot></button>`}handleSlotChange(e){const t=e.target;if(!t)return;const n=t.assignedNodes({flatten:!0}).filter(r=>r.nodeName!=="#text");this.isIconButton=n.length===1&&n[0].nodeName.toLowerCase()==="inch-icon",this.requestUpdate()}};Tt.tagName="inch-button";Tt.styles=[Ww,Gw,Kw,Yw];_r([K({type:String,attribute:!0})],Tt.prototype,"size",2);_r([K({type:String,attribute:!0})],Tt.prototype,"type",2);_r([K({type:Boolean,attribute:!0})],Tt.prototype,"fullSize",2);_r([K({type:Boolean,attribute:!0})],Tt.prototype,"disabled",2);_r([K({type:Boolean,attribute:!0})],Tt.prototype,"loader",2);_r([K({type:Boolean,attribute:!0})],Tt.prototype,"disabledSlotPointerEvent",2);_r([Le()],Tt.prototype,"isIconButton",2);Tt=_r([me(Tt.tagName)],Tt);var Zw=Object.defineProperty,Jw=Object.getOwnPropertyDescriptor,Er=(e,t,n,r)=>{for(var i=r>1?void 0:r?Jw(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Zw(t,n,i),i},Xw=G`:host{background-color:var(--color-background-bg-primary);border-radius:24px;width:fit-content;height:fit-content;display:block}:host(.shadow){box-shadow:0 -3px 4px 0 var(--primary-12),0 6px 12px 0 var(--primary-12)}:host(.mobile){border-bottom-left-radius:0;border-bottom-right-radius:0;width:100vw;height:fit-content;box-shadow:none}.card-content{padding:8px;display:flex;width:100%;height:100%;box-sizing:border-box;flex-direction:column;gap:8px}`,Lr=class extends le{constructor(){super(...arguments),this.forMobileView=!1,this.showShadow=!1}render(){return I`<slot name="header"></slot><div class="card-content"><slot></slot></div>`}firstUpdated(){this.forMobileView&&!this.classList.contains("mobile")&&this.classList.add("mobile"),this.showShadow&&!this.classList.contains("shadow")&&this.classList.add("shadow")}};Lr.tagName="inch-card";Lr.styles=Xw;Er([K({type:Boolean})],Lr.prototype,"forMobileView",2);Er([K({type:Boolean})],Lr.prototype,"showShadow",2);Lr=Er([me(Lr.tagName)],Lr);var Qw=G`:host{display:flex;height:60px;width:100%;padding:16px 16px 0;box-sizing:border-box;border-top-left-radius:32px;border-top-right-radius:32px}:host(.not-native-mode){height:44px;padding:0}.card-header-container{display:grid;grid-template-columns:1fr 1fr 1fr;width:100%;height:100%}.position-container{height:100%;width:100%;display:flex;align-items:center;color:var(--color-content-content-primary);gap:8px;word-wrap:break-word;white-space:nowrap}.center-container{justify-content:center}.left-container{justify-content:flex-start}.right-container{justify-content:flex-end}.card-header-title{font-size:20px;font-weight:600;line-height:28px;letter-spacing:0;text-align:center}.card-header-title__left:not(.card-header-title__and-back){margin-left:8px}.card-header-title__left:not(.card-header-title__and-back):dir(rtl){margin-right:8px}${rt(G`.card-header-title{font-size:16px}:host{height:52px;padding:8px 8px 0}:host(.not-native-mode){margin-top:-8px;margin-left:-8px;width:calc(100% + 16px);height:52px}`)}`,kn=class extends le{constructor(){super(),this.headerTextPosition="center",this.backButton=!1,this.closeButton=!1,this.slotDirty={},this.slot="header"}render(){return I`<div class="card-header-container"><div class="position-container left-container"><slot @slotchange="${()=>this.onSlotChange("left")}" name="left-container"></slot>${this.getBackButton("left")} ${this.getHeader("left")}</div><div class="position-container center-container"><slot @slotchange="${()=>this.onSlotChange("center")}" name="center-container"></slot>${this.getHeader("center")}</div><div class="position-container right-container"><slot @slotchange="${()=>this.onSlotChange("right")}" name="right-container"></slot>${this.getCloseButton("right")}</div></div>`}firstUpdated(){var e;((e=this.parentElement)==null?void 0:e.localName)!=="inch-card"&&this.classList.add("not-native-mode")}getHeader(e){const t=this.slotDirty[e]??!1,n={"card-header-title":!0,[`card-header-title__${e}`]:!0,"card-header-title__and-back":this.backButton};return this.headerTextPosition===e&&!t?I`<span class="${St(n)}">${this.headerText}</span>`:""}getBackButton(e){const t=this.slotDirty[e]??!1;return this.backButton&&!t?I`<inch-button @click="${n=>Oe(this,"backCard",null,n)}" size="l" type="tertiary-gray"><inch-icon icon="arrowLeft24"></inch-icon></inch-button>`:""}getCloseButton(e){const t=this.slotDirty[e]??!1;return this.closeButton&&!t?I`<inch-button @click="${n=>Oe(this,"closeCard",null,n)}" size="l" type="tertiary-gray"><inch-icon icon="cross24"></inch-icon></inch-button>`:""}onSlotChange(e){this.slotDirty={...this.slotDirty,[e]:!0},this.requestUpdate()}};kn.tahName="inch-card-header";kn.styles=Qw;Er([K({type:String,attribute:!0})],kn.prototype,"headerText",2);Er([K({type:String,attribute:!0})],kn.prototype,"headerTextPosition",2);Er([K({type:Boolean,attribute:!0})],kn.prototype,"backButton",2);Er([K({type:Boolean,attribute:!0})],kn.prototype,"closeButton",2);kn=Er([me(kn.tahName)],kn);function*eh(e,t){if(e!==void 0){let n=0;for(const r of e)yield t(r,n++)}}const Cn=e=>e??Me;var ev=Object.create,wo=Object.defineProperty,bm=Object.getOwnPropertyDescriptor,th=Object.getOwnPropertyNames,tv=Object.getPrototypeOf,nv=Object.prototype.hasOwnProperty,Zi=(e,t)=>function(){return e&&(t=(0,e[th(e)[0]])(e=0)),t},ZP=(e,t)=>function(){return t||(0,e[th(e)[0]])((t={exports:{}}).exports,t),t.exports},JP=(e,t)=>{for(var n in t)wo(e,n,{get:t[n],enumerable:!0})},ym=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of th(t))!nv.call(e,i)&&i!==n&&wo(e,i,{get:()=>t[i],enumerable:!(r=bm(t,i))||r.enumerable});return e},XP=(e,t,n)=>(n=e!=null?ev(tv(e)):{},ym(!e||!e.__esModule?wo(n,"default",{value:e,enumerable:!0}):n,e)),QP=e=>ym(wo({},"__esModule",{value:!0}),e),$r=(e,t,n,r)=>{for(var i=bm(t,n),s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=o(t,n,i)||i);return i&&wo(t,n,i),i},wm,j=Zi({"<define:__environment__>"(){wm={oneInchDevPortalHost:"https://jellyfish-app-8xwqz.ondigitalocean.app/",walletConnectProjectId:"2dd59e55b1b7bbfb98ddf9266f813b3b",baseHref:"",infuraApiKey:"",appVersion:"1.0.0-dev.27"}}}),z=Zi({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.20.2/node_modules/esbuild-plugin-polyfill-node/polyfills/__dirname.js"(){}});function rv(){if(vl)return gi;vl=!0,gi.byteLength=a,gi.toByteArray=l,gi.fromByteArray=d;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(m){var b=m.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=m.indexOf("=");g===-1&&(g=b);var v=g===b?0:4-g%4;return[g,v]}function a(m){var b=o(m),g=b[0],v=b[1];return(g+v)*3/4-v}function c(m,b,g){return(b+g)*3/4-g}function l(m){var b,g=o(m),v=g[0],y=g[1],x=new n(c(m,v,y)),E=0,$=y>0?v-4:v,k;for(k=0;k<$;k+=4)b=t[m.charCodeAt(k)]<<18|t[m.charCodeAt(k+1)]<<12|t[m.charCodeAt(k+2)]<<6|t[m.charCodeAt(k+3)],x[E++]=b>>16&255,x[E++]=b>>8&255,x[E++]=b&255;return y===2&&(b=t[m.charCodeAt(k)]<<2|t[m.charCodeAt(k+1)]>>4,x[E++]=b&255),y===1&&(b=t[m.charCodeAt(k)]<<10|t[m.charCodeAt(k+1)]<<4|t[m.charCodeAt(k+2)]>>2,x[E++]=b>>8&255,x[E++]=b&255),x}function u(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function h(m,b,g){for(var v,y=[],x=b;x<g;x+=3)v=(m[x]<<16&16711680)+(m[x+1]<<8&65280)+(m[x+2]&255),y.push(u(v));return y.join("")}function d(m){for(var b,g=m.length,v=g%3,y=[],x=16383,E=0,$=g-v;E<$;E+=x)y.push(h(m,E,E+x>$?$:E+x));return v===1?(b=m[g-1],y.push(e[b>>2]+e[b<<4&63]+"==")):v===2&&(b=(m[g-2]<<8)+m[g-1],y.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),y.join("")}return gi}function iv(){return xl||(xl=!0,ds.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,d=n?-1:1,m=e[t+h];for(h+=d,s=m&(1<<-u)-1,m>>=-u,u+=a;u>0;s=s*256+e[t+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+e[t+h],h+=d,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(m?-1:1)*o*Math.pow(2,s-r)},ds.write=function(e,t,n,r,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,h=u>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,b=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=d/c:t+=d*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*c-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+m]=a&255,m+=b,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[n+m]=o&255,m+=b,o/=256,l-=8);e[n+m-b]|=g*128}),ds}function sv(){if(_l)return Xn;_l=!0;const e=rv(),t=iv(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Xn.Buffer=o,Xn.SlowBuffer=y,Xn.INSPECT_MAX_BYTES=50;const r=2147483647;Xn.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const w=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(w,f),w.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(w){if(w>r)throw new RangeError('The value "'+w+'" is invalid for option "size"');const f=new Uint8Array(w);return Object.setPrototypeOf(f,o.prototype),f}function o(w,f,p){if(typeof w=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(w)}return a(w,f,p)}o.poolSize=8192;function a(w,f,p){if(typeof w=="string")return h(w,f);if(ArrayBuffer.isView(w))return m(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(nn(w,ArrayBuffer)||w&&nn(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nn(w,SharedArrayBuffer)||w&&nn(w.buffer,SharedArrayBuffer)))return b(w,f,p);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _=w.valueOf&&w.valueOf();if(_!=null&&_!==w)return o.from(_,f,p);const C=g(w);if(C)return C;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return o.from(w[Symbol.toPrimitive]("string"),f,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}o.from=function(w,f,p){return a(w,f,p)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function l(w,f,p){return c(w),w<=0?s(w):f!==void 0?typeof p=="string"?s(w).fill(f,p):s(w).fill(f):s(w)}o.alloc=function(w,f,p){return l(w,f,p)};function u(w){return c(w),s(w<0?0:v(w)|0)}o.allocUnsafe=function(w){return u(w)},o.allocUnsafeSlow=function(w){return u(w)};function h(w,f){if((typeof f!="string"||f==="")&&(f="utf8"),!o.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const p=x(w,f)|0;let _=s(p);const C=_.write(w,f);return C!==p&&(_=_.slice(0,C)),_}function d(w){const f=w.length<0?0:v(w.length)|0,p=s(f);for(let _=0;_<f;_+=1)p[_]=w[_]&255;return p}function m(w){if(nn(w,Uint8Array)){const f=new Uint8Array(w);return b(f.buffer,f.byteOffset,f.byteLength)}return d(w)}function b(w,f,p){if(f<0||w.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<f+(p||0))throw new RangeError('"length" is outside of buffer bounds');let _;return f===void 0&&p===void 0?_=new Uint8Array(w):p===void 0?_=new Uint8Array(w,f):_=new Uint8Array(w,f,p),Object.setPrototypeOf(_,o.prototype),_}function g(w){if(o.isBuffer(w)){const f=v(w.length)|0,p=s(f);return p.length===0||w.copy(p,0,0,f),p}if(w.length!==void 0)return typeof w.length!="number"||wc(w.length)?s(0):d(w);if(w.type==="Buffer"&&Array.isArray(w.data))return d(w.data)}function v(w){if(w>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return w|0}function y(w){return+w!=w&&(w=0),o.alloc(+w)}o.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==o.prototype},o.compare=function(f,p){if(nn(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),nn(p,Uint8Array)&&(p=o.from(p,p.offset,p.byteLength)),!o.isBuffer(f)||!o.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===p)return 0;let _=f.length,C=p.length;for(let B=0,R=Math.min(_,C);B<R;++B)if(f[B]!==p[B]){_=f[B],C=p[B];break}return _<C?-1:C<_?1:0},o.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(f,p){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return o.alloc(0);let _;if(p===void 0)for(p=0,_=0;_<f.length;++_)p+=f[_].length;const C=o.allocUnsafe(p);let B=0;for(_=0;_<f.length;++_){let R=f[_];if(nn(R,Uint8Array))B+R.length>C.length?(o.isBuffer(R)||(R=o.from(R)),R.copy(C,B)):Uint8Array.prototype.set.call(C,R,B);else if(o.isBuffer(R))R.copy(C,B);else throw new TypeError('"list" argument must be an Array of Buffers');B+=R.length}return C};function x(w,f){if(o.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||nn(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);const p=w.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&p===0)return 0;let C=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return li(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return xd(w).length;default:if(C)return _?-1:li(w).length;f=(""+f).toLowerCase(),C=!0}}o.byteLength=x;function E(w,f,p){let _=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,f>>>=0,p<=f))return"";for(w||(w="utf8");;)switch(w){case"hex":return oe(this,f,p);case"utf8":case"utf-8":return Q(this,f,p);case"ascii":return F(this,f,p);case"latin1":case"binary":return W(this,f,p);case"base64":return J(this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,f,p);default:if(_)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),_=!0}}o.prototype._isBuffer=!0;function $(w,f,p){const _=w[f];w[f]=w[p],w[p]=_}o.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<f;p+=2)$(this,p,p+1);return this},o.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<f;p+=4)$(this,p,p+3),$(this,p+1,p+2);return this},o.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<f;p+=8)$(this,p,p+7),$(this,p+1,p+6),$(this,p+2,p+5),$(this,p+3,p+4);return this},o.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?Q(this,0,f):E.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(f){if(!o.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:o.compare(this,f)===0},o.prototype.inspect=function(){let f="";const p=Xn.INSPECT_MAX_BYTES;return f=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(f+=" ... "),"<Buffer "+f+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(f,p,_,C,B){if(nn(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(p===void 0&&(p=0),_===void 0&&(_=f?f.length:0),C===void 0&&(C=0),B===void 0&&(B=this.length),p<0||_>f.length||C<0||B>this.length)throw new RangeError("out of range index");if(C>=B&&p>=_)return 0;if(C>=B)return-1;if(p>=_)return 1;if(p>>>=0,_>>>=0,C>>>=0,B>>>=0,this===f)return 0;let R=B-C,ue=_-p;const Ie=Math.min(R,ue),Ae=this.slice(C,B),Te=f.slice(p,_);for(let xe=0;xe<Ie;++xe)if(Ae[xe]!==Te[xe]){R=Ae[xe],ue=Te[xe];break}return R<ue?-1:ue<R?1:0};function k(w,f,p,_,C){if(w.length===0)return-1;if(typeof p=="string"?(_=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,wc(p)&&(p=C?0:w.length-1),p<0&&(p=w.length+p),p>=w.length){if(C)return-1;p=w.length-1}else if(p<0)if(C)p=0;else return-1;if(typeof f=="string"&&(f=o.from(f,_)),o.isBuffer(f))return f.length===0?-1:A(w,f,p,_,C);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(w,f,p):Uint8Array.prototype.lastIndexOf.call(w,f,p):A(w,[f],p,_,C);throw new TypeError("val must be string, number or Buffer")}function A(w,f,p,_,C){let B=1,R=w.length,ue=f.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(w.length<2||f.length<2)return-1;B=2,R/=2,ue/=2,p/=2}function Ie(Te,xe){return B===1?Te[xe]:Te.readUInt16BE(xe*B)}let Ae;if(C){let Te=-1;for(Ae=p;Ae<R;Ae++)if(Ie(w,Ae)===Ie(f,Te===-1?0:Ae-Te)){if(Te===-1&&(Te=Ae),Ae-Te+1===ue)return Te*B}else Te!==-1&&(Ae-=Ae-Te),Te=-1}else for(p+ue>R&&(p=R-ue),Ae=p;Ae>=0;Ae--){let Te=!0;for(let xe=0;xe<ue;xe++)if(Ie(w,Ae+xe)!==Ie(f,xe)){Te=!1;break}if(Te)return Ae}return-1}o.prototype.includes=function(f,p,_){return this.indexOf(f,p,_)!==-1},o.prototype.indexOf=function(f,p,_){return k(this,f,p,_,!0)},o.prototype.lastIndexOf=function(f,p,_){return k(this,f,p,_,!1)};function P(w,f,p,_){p=Number(p)||0;const C=w.length-p;_?(_=Number(_),_>C&&(_=C)):_=C;const B=f.length;_>B/2&&(_=B/2);let R;for(R=0;R<_;++R){const ue=parseInt(f.substr(R*2,2),16);if(wc(ue))return R;w[p+R]=ue}return R}function O(w,f,p,_){return zo(li(f,w.length-p),w,p,_)}function T(w,f,p,_){return zo(Ub(f),w,p,_)}function L(w,f,p,_){return zo(xd(f),w,p,_)}function N(w,f,p,_){return zo(Vb(f,w.length-p),w,p,_)}o.prototype.write=function(f,p,_,C){if(p===void 0)C="utf8",_=this.length,p=0;else if(_===void 0&&typeof p=="string")C=p,_=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(_)?(_=_>>>0,C===void 0&&(C="utf8")):(C=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const B=this.length-p;if((_===void 0||_>B)&&(_=B),f.length>0&&(_<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let R=!1;for(;;)switch(C){case"hex":return P(this,f,p,_);case"utf8":case"utf-8":return O(this,f,p,_);case"ascii":case"latin1":case"binary":return T(this,f,p,_);case"base64":return L(this,f,p,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,f,p,_);default:if(R)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),R=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(w,f,p){return f===0&&p===w.length?e.fromByteArray(w):e.fromByteArray(w.slice(f,p))}function Q(w,f,p){p=Math.min(w.length,p);const _=[];let C=f;for(;C<p;){const B=w[C];let R=null,ue=B>239?4:B>223?3:B>191?2:1;if(C+ue<=p){let Ie,Ae,Te,xe;switch(ue){case 1:B<128&&(R=B);break;case 2:Ie=w[C+1],(Ie&192)===128&&(xe=(B&31)<<6|Ie&63,xe>127&&(R=xe));break;case 3:Ie=w[C+1],Ae=w[C+2],(Ie&192)===128&&(Ae&192)===128&&(xe=(B&15)<<12|(Ie&63)<<6|Ae&63,xe>2047&&(xe<55296||xe>57343)&&(R=xe));break;case 4:Ie=w[C+1],Ae=w[C+2],Te=w[C+3],(Ie&192)===128&&(Ae&192)===128&&(Te&192)===128&&(xe=(B&15)<<18|(Ie&63)<<12|(Ae&63)<<6|Te&63,xe>65535&&xe<1114112&&(R=xe))}}R===null?(R=65533,ue=1):R>65535&&(R-=65536,_.push(R>>>10&1023|55296),R=56320|R&1023),_.push(R),C+=ue}return D(_)}const ae=4096;function D(w){const f=w.length;if(f<=ae)return String.fromCharCode.apply(String,w);let p="",_=0;for(;_<f;)p+=String.fromCharCode.apply(String,w.slice(_,_+=ae));return p}function F(w,f,p){let _="";p=Math.min(w.length,p);for(let C=f;C<p;++C)_+=String.fromCharCode(w[C]&127);return _}function W(w,f,p){let _="";p=Math.min(w.length,p);for(let C=f;C<p;++C)_+=String.fromCharCode(w[C]);return _}function oe(w,f,p){const _=w.length;(!f||f<0)&&(f=0),(!p||p<0||p>_)&&(p=_);let C="";for(let B=f;B<p;++B)C+=Hb[w[B]];return C}function he(w,f,p){const _=w.slice(f,p);let C="";for(let B=0;B<_.length-1;B+=2)C+=String.fromCharCode(_[B]+_[B+1]*256);return C}o.prototype.slice=function(f,p){const _=this.length;f=~~f,p=p===void 0?_:~~p,f<0?(f+=_,f<0&&(f=0)):f>_&&(f=_),p<0?(p+=_,p<0&&(p=0)):p>_&&(p=_),p<f&&(p=f);const C=this.subarray(f,p);return Object.setPrototypeOf(C,o.prototype),C};function ne(w,f,p){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+f>p)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(f,p,_){f=f>>>0,p=p>>>0,_||ne(f,p,this.length);let C=this[f],B=1,R=0;for(;++R<p&&(B*=256);)C+=this[f+R]*B;return C},o.prototype.readUintBE=o.prototype.readUIntBE=function(f,p,_){f=f>>>0,p=p>>>0,_||ne(f,p,this.length);let C=this[f+--p],B=1;for(;p>0&&(B*=256);)C+=this[f+--p]*B;return C},o.prototype.readUint8=o.prototype.readUInt8=function(f,p){return f=f>>>0,p||ne(f,1,this.length),this[f]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(f,p){return f=f>>>0,p||ne(f,2,this.length),this[f]|this[f+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(f,p){return f=f>>>0,p||ne(f,2,this.length),this[f]<<8|this[f+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(f,p){return f=f>>>0,p||ne(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(f,p){return f=f>>>0,p||ne(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},o.prototype.readBigUInt64LE=Kn(function(f){f=f>>>0,xt(f,"offset");const p=this[f],_=this[f+7];(p===void 0||_===void 0)&&Ge(f,this.length-8);const C=p+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,B=this[++f]+this[++f]*2**8+this[++f]*2**16+_*2**24;return BigInt(C)+(BigInt(B)<<BigInt(32))}),o.prototype.readBigUInt64BE=Kn(function(f){f=f>>>0,xt(f,"offset");const p=this[f],_=this[f+7];(p===void 0||_===void 0)&&Ge(f,this.length-8);const C=p*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],B=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+_;return(BigInt(C)<<BigInt(32))+BigInt(B)}),o.prototype.readIntLE=function(f,p,_){f=f>>>0,p=p>>>0,_||ne(f,p,this.length);let C=this[f],B=1,R=0;for(;++R<p&&(B*=256);)C+=this[f+R]*B;return B*=128,C>=B&&(C-=Math.pow(2,8*p)),C},o.prototype.readIntBE=function(f,p,_){f=f>>>0,p=p>>>0,_||ne(f,p,this.length);let C=p,B=1,R=this[f+--C];for(;C>0&&(B*=256);)R+=this[f+--C]*B;return B*=128,R>=B&&(R-=Math.pow(2,8*p)),R},o.prototype.readInt8=function(f,p){return f=f>>>0,p||ne(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},o.prototype.readInt16LE=function(f,p){f=f>>>0,p||ne(f,2,this.length);const _=this[f]|this[f+1]<<8;return _&32768?_|4294901760:_},o.prototype.readInt16BE=function(f,p){f=f>>>0,p||ne(f,2,this.length);const _=this[f+1]|this[f]<<8;return _&32768?_|4294901760:_},o.prototype.readInt32LE=function(f,p){return f=f>>>0,p||ne(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},o.prototype.readInt32BE=function(f,p){return f=f>>>0,p||ne(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},o.prototype.readBigInt64LE=Kn(function(f){f=f>>>0,xt(f,"offset");const p=this[f],_=this[f+7];(p===void 0||_===void 0)&&Ge(f,this.length-8);const C=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(_<<24);return(BigInt(C)<<BigInt(32))+BigInt(p+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),o.prototype.readBigInt64BE=Kn(function(f){f=f>>>0,xt(f,"offset");const p=this[f],_=this[f+7];(p===void 0||_===void 0)&&Ge(f,this.length-8);const C=(p<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(C)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+_)}),o.prototype.readFloatLE=function(f,p){return f=f>>>0,p||ne(f,4,this.length),t.read(this,f,!0,23,4)},o.prototype.readFloatBE=function(f,p){return f=f>>>0,p||ne(f,4,this.length),t.read(this,f,!1,23,4)},o.prototype.readDoubleLE=function(f,p){return f=f>>>0,p||ne(f,8,this.length),t.read(this,f,!0,52,8)},o.prototype.readDoubleBE=function(f,p){return f=f>>>0,p||ne(f,8,this.length),t.read(this,f,!1,52,8)};function ge(w,f,p,_,C,B){if(!o.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>C||f<B)throw new RangeError('"value" argument is out of bounds');if(p+_>w.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(f,p,_,C){if(f=+f,p=p>>>0,_=_>>>0,!C){const ue=Math.pow(2,8*_)-1;ge(this,f,p,_,ue,0)}let B=1,R=0;for(this[p]=f&255;++R<_&&(B*=256);)this[p+R]=f/B&255;return p+_},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(f,p,_,C){if(f=+f,p=p>>>0,_=_>>>0,!C){const ue=Math.pow(2,8*_)-1;ge(this,f,p,_,ue,0)}let B=_-1,R=1;for(this[p+B]=f&255;--B>=0&&(R*=256);)this[p+B]=f/R&255;return p+_},o.prototype.writeUint8=o.prototype.writeUInt8=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,1,255,0),this[p]=f&255,p+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,2,65535,0),this[p]=f&255,this[p+1]=f>>>8,p+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,2,65535,0),this[p]=f>>>8,this[p+1]=f&255,p+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,4,4294967295,0),this[p+3]=f>>>24,this[p+2]=f>>>16,this[p+1]=f>>>8,this[p]=f&255,p+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,4,4294967295,0),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=f&255,p+4};function je(w,f,p,_,C){rs(f,_,C,w,p,7);let B=Number(f&BigInt(4294967295));w[p++]=B,B=B>>8,w[p++]=B,B=B>>8,w[p++]=B,B=B>>8,w[p++]=B;let R=Number(f>>BigInt(32)&BigInt(4294967295));return w[p++]=R,R=R>>8,w[p++]=R,R=R>>8,w[p++]=R,R=R>>8,w[p++]=R,p}function Nt(w,f,p,_,C){rs(f,_,C,w,p,7);let B=Number(f&BigInt(4294967295));w[p+7]=B,B=B>>8,w[p+6]=B,B=B>>8,w[p+5]=B,B=B>>8,w[p+4]=B;let R=Number(f>>BigInt(32)&BigInt(4294967295));return w[p+3]=R,R=R>>8,w[p+2]=R,R=R>>8,w[p+1]=R,R=R>>8,w[p]=R,p+8}o.prototype.writeBigUInt64LE=Kn(function(f,p=0){return je(this,f,p,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Kn(function(f,p=0){return Nt(this,f,p,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(f,p,_,C){if(f=+f,p=p>>>0,!C){const Ie=Math.pow(2,8*_-1);ge(this,f,p,_,Ie-1,-Ie)}let B=0,R=1,ue=0;for(this[p]=f&255;++B<_&&(R*=256);)f<0&&ue===0&&this[p+B-1]!==0&&(ue=1),this[p+B]=(f/R>>0)-ue&255;return p+_},o.prototype.writeIntBE=function(f,p,_,C){if(f=+f,p=p>>>0,!C){const Ie=Math.pow(2,8*_-1);ge(this,f,p,_,Ie-1,-Ie)}let B=_-1,R=1,ue=0;for(this[p+B]=f&255;--B>=0&&(R*=256);)f<0&&ue===0&&this[p+B+1]!==0&&(ue=1),this[p+B]=(f/R>>0)-ue&255;return p+_},o.prototype.writeInt8=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,1,127,-128),f<0&&(f=255+f+1),this[p]=f&255,p+1},o.prototype.writeInt16LE=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,2,32767,-32768),this[p]=f&255,this[p+1]=f>>>8,p+2},o.prototype.writeInt16BE=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,2,32767,-32768),this[p]=f>>>8,this[p+1]=f&255,p+2},o.prototype.writeInt32LE=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,4,2147483647,-2147483648),this[p]=f&255,this[p+1]=f>>>8,this[p+2]=f>>>16,this[p+3]=f>>>24,p+4},o.prototype.writeInt32BE=function(f,p,_){return f=+f,p=p>>>0,_||ge(this,f,p,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=f&255,p+4},o.prototype.writeBigInt64LE=Kn(function(f,p=0){return je(this,f,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Kn(function(f,p=0){return Nt(this,f,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ft(w,f,p,_,C,B){if(p+_>w.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function vn(w,f,p,_,C){return f=+f,p=p>>>0,C||Ft(w,f,p,4),t.write(w,f,p,_,23,4),p+4}o.prototype.writeFloatLE=function(f,p,_){return vn(this,f,p,!0,_)},o.prototype.writeFloatBE=function(f,p,_){return vn(this,f,p,!1,_)};function qn(w,f,p,_,C){return f=+f,p=p>>>0,C||Ft(w,f,p,8),t.write(w,f,p,_,52,8),p+8}o.prototype.writeDoubleLE=function(f,p,_){return qn(this,f,p,!0,_)},o.prototype.writeDoubleBE=function(f,p,_){return qn(this,f,p,!1,_)},o.prototype.copy=function(f,p,_,C){if(!o.isBuffer(f))throw new TypeError("argument should be a Buffer");if(_||(_=0),!C&&C!==0&&(C=this.length),p>=f.length&&(p=f.length),p||(p=0),C>0&&C<_&&(C=_),C===_||f.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),f.length-p<C-_&&(C=f.length-p+_);const B=C-_;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,_,C):Uint8Array.prototype.set.call(f,this.subarray(_,C),p),B},o.prototype.fill=function(f,p,_,C){if(typeof f=="string"){if(typeof p=="string"?(C=p,p=0,_=this.length):typeof _=="string"&&(C=_,_=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!o.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(f.length===1){const R=f.charCodeAt(0);(C==="utf8"&&R<128||C==="latin1")&&(f=R)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(p<0||this.length<p||this.length<_)throw new RangeError("Out of range index");if(_<=p)return this;p=p>>>0,_=_===void 0?this.length:_>>>0,f||(f=0);let B;if(typeof f=="number")for(B=p;B<_;++B)this[B]=f;else{const R=o.isBuffer(f)?f:o.from(f,C),ue=R.length;if(ue===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(B=0;B<_-p;++B)this[B+p]=R[B%ue]}return this};const it={};function kr(w,f,p){it[w]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}kr("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),kr("ERR_INVALID_ARG_TYPE",function(w,f){return`The "${w}" argument must be of type number. Received type ${typeof f}`},TypeError),kr("ERR_OUT_OF_RANGE",function(w,f,p){let _=`The value of "${w}" is out of range.`,C=p;return Number.isInteger(p)&&Math.abs(p)>2**32?C=tn(String(p)):typeof p=="bigint"&&(C=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(C=tn(C)),C+="n"),_+=` It must be ${f}. Received ${C}`,_},RangeError);function tn(w){let f="",p=w.length;const _=w[0]==="-"?1:0;for(;p>=_+4;p-=3)f=`_${w.slice(p-3,p)}${f}`;return`${w.slice(0,p)}${f}`}function Wn(w,f,p){xt(f,"offset"),(w[f]===void 0||w[f+p]===void 0)&&Ge(f,w.length-(p+1))}function rs(w,f,p,_,C,B){if(w>p||w<f){const R=typeof f=="bigint"?"n":"";let ue;throw f===0||f===BigInt(0)?ue=`>= 0${R} and < 2${R} ** ${(B+1)*8}${R}`:ue=`>= -(2${R} ** ${(B+1)*8-1}${R}) and < 2 ** ${(B+1)*8-1}${R}`,new it.ERR_OUT_OF_RANGE("value",ue,w)}Wn(_,C,B)}function xt(w,f){if(typeof w!="number")throw new it.ERR_INVALID_ARG_TYPE(f,"number",w)}function Ge(w,f,p){throw Math.floor(w)!==w?(xt(w,p),new it.ERR_OUT_OF_RANGE("offset","an integer",w)):f<0?new it.ERR_BUFFER_OUT_OF_BOUNDS:new it.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,w)}const Gn=/[^+/0-9A-Za-z-_]/g;function jo(w){if(w=w.split("=")[0],w=w.trim().replace(Gn,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function li(w,f){f=f||1/0;let p;const _=w.length;let C=null;const B=[];for(let R=0;R<_;++R){if(p=w.charCodeAt(R),p>55295&&p<57344){if(!C){if(p>56319){(f-=3)>-1&&B.push(239,191,189);continue}else if(R+1===_){(f-=3)>-1&&B.push(239,191,189);continue}C=p;continue}if(p<56320){(f-=3)>-1&&B.push(239,191,189),C=p;continue}p=(C-55296<<10|p-56320)+65536}else C&&(f-=3)>-1&&B.push(239,191,189);if(C=null,p<128){if((f-=1)<0)break;B.push(p)}else if(p<2048){if((f-=2)<0)break;B.push(p>>6|192,p&63|128)}else if(p<65536){if((f-=3)<0)break;B.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((f-=4)<0)break;B.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return B}function Ub(w){const f=[];for(let p=0;p<w.length;++p)f.push(w.charCodeAt(p)&255);return f}function Vb(w,f){let p,_,C;const B=[];for(let R=0;R<w.length&&!((f-=2)<0);++R)p=w.charCodeAt(R),_=p>>8,C=p%256,B.push(C),B.push(_);return B}function xd(w){return e.toByteArray(jo(w))}function zo(w,f,p,_){let C;for(C=0;C<_&&!(C+p>=f.length||C>=w.length);++C)f[C+p]=w[C];return C}function nn(w,f){return w instanceof f||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===f.name}function wc(w){return w!==w}const Hb=function(){const w="0123456789abcdef",f=new Array(256);for(let p=0;p<16;++p){const _=p*16;for(let C=0;C<16;++C)f[_+C]=w[p]+w[C]}return f}();function Kn(w){return typeof BigInt>"u"?qb:w}function qb(){throw new Error("BigInt not supported")}return Xn}var gi,vl,ds,xl,Xn,_l,Yn,ov,av=Zi({"node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/buffer.js"(){j(),z(),U(),V(),gi={},vl=!1,ds={},xl=!1,Xn={},_l=!1,Yn=sv(),Yn.Buffer,Yn.SlowBuffer,Yn.INSPECT_MAX_BYTES,Yn.kMaxLength,ov=Yn.Buffer,Yn.INSPECT_MAX_BYTES,Yn.kMaxLength}}),U=Zi({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.20.2/node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){av()}}),ui,Bc,cv=Zi({"node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/process.js"(){j(),z(),U(),V(),ui={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ui.now===void 0&&(Bc=Date.now(),ui.timing&&ui.timing.navigationStart&&(Bc=ui.timing.navigationStart),ui.now=()=>Date.now()-Bc)}}),V=Zi({"node_modules/.pnpm/esbuild-plugin-polyfill-node@0.3.0_esbuild@0.20.2/node_modules/esbuild-plugin-polyfill-node/polyfills/process.js"(){cv()}});j();z();U();V();function za(e){return wm[e]}j();z();U();V();j();z();U();V();var lv=class{constructor(e){this.config=e,this.storage=uv()}get prefix(){return this.config.storagePrefix??""}get separator(){return this.config.storageSeparator??":"}set(e,t){if(this.storage)try{const n=this.key(e),r=typeof t!="string"?JSON.stringify(t):t;this.storage.setItem(n,r)}catch(n){console.warn(n)}}get(e,t){if(!this.storage)return null;try{const n=this.key(e),r=this.storage.getItem(n);return r===null?null:t(r)}catch(n){return console.warn(n),null}}remove(e){if(this.storage)try{const t=this.key(e);this.storage.removeItem(t)}catch(t){console.warn(t)}}update(e,t){const n=this.get(e,cn),r=t(n);return this.set(e,r),r}updateEntity(e,t,n){const i={...this.get(e,cn)??{},[t]:n};this.set(e,i)}key(e){return[this.prefix,e].join(this.separator)}};function uv(){return Wd(window.localStorage)?window.localStorage:Wd(window.sessionStorage)?window.sessionStorage:null}function Wd(e){if(window!=null&&window.localStorage)try{e.setItem("@__test__@","1");const t=window.localStorage.getItem("@__test__@");e.removeItem("@__test__@");const n=e.getItem("@__test__@");return t==="1"&&n===null}catch{return!1}return!1}function cn(e){return JSON.parse(e)}var ve=new lv({storagePrefix:"one-inch",storageSeparator:":"});j();z();U();V();var t2=e=>[...Array(e)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),S=(e=>(e[e.eth=1]="eth",e[e.bnb=56]="bnb",e[e.matic=137]="matic",e[e.op=10]="op",e[e.arbitrum=42161]="arbitrum",e[e.gnosis=100]="gnosis",e[e.avalanche=43114]="avalanche",e[e.fantom=250]="fantom",e[e.aurora=1313161554]="aurora",e[e.klaytn=8217]="klaytn",e[e.zkSyncEra=324]="zkSyncEra",e))(S||{});const hv="1.0.4";let Ot=class El extends Error{constructor(t,n={}){var o;const r=n.cause instanceof El?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof El&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${hv}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Sr(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const vm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xm=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,_m=/^\(.+?\).*?$/,Gd=/^tuple(?<array>(\[(\d*)\])*)$/;function $l(e){let t=e.type;if(Gd.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=$l(s),i<n-1&&(t+=", ")}const r=Sr(Gd,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,$l({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function os(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=$l(i),r!==n-1&&(t+=", ")}return t}function dv(e){return e.type==="function"?`function ${e.name}(${os(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${os(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${os(e.inputs)})`:e.type==="error"?`error ${e.name}(${os(e.inputs)})`:e.type==="constructor"?`constructor(${os(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Em=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function fv(e){return Em.test(e)}function pv(e){return Sr(Em,e)}const $m=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function mv(e){return $m.test(e)}function gv(e){return Sr($m,e)}const Sm=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function bv(e){return Sm.test(e)}function yv(e){return Sr(Sm,e)}const Am=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function km(e){return Am.test(e)}function wv(e){return Sr(Am,e)}const Cm=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function vv(e){return Cm.test(e)}function xv(e){return Sr(Cm,e)}const _v=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ev(e){return _v.test(e)}const $v=/^receive\(\) external payable$/;function Sv(e){return $v.test(e)}const Av=new Set(["indexed"]),Sl=new Set(["calldata","memory","storage"]);class kv extends Ot{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Cv extends Ot{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Pv extends Ot{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Iv extends Ot{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Tv extends Ot{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Bv extends Ot{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ov extends Ot{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class fs extends Ot{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Rv extends Ot{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Mv extends Ot{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Dv extends Ot{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Nv extends Ot{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Fv(e,t){return t?`${t}:${e}`:e}const Oc=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Lv(e,t={}){if(bv(e)){const n=yv(e);if(!n)throw new fs({signature:e,type:"function"});const r=jt(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Tr(r[a],{modifiers:Sl,structs:t,type:"function"}));const o=[];if(n.returns){const a=jt(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Tr(a[l],{modifiers:Sl,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}if(mv(e)){const n=gv(e);if(!n)throw new fs({signature:e,type:"event"});const r=jt(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Tr(r[o],{modifiers:Av,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}if(fv(e)){const n=pv(e);if(!n)throw new fs({signature:e,type:"error"});const r=jt(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Tr(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}if(vv(e)){const n=xv(e);if(!n)throw new fs({signature:e,type:"constructor"});const r=jt(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Tr(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}if(Ev(e))return{type:"fallback"};if(Sv(e))return{type:"receive",stateMutability:"payable"};throw new Rv({signature:e})}const jv=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,zv=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Uv=/^u?int$/;function Tr(e,t){var h,d;const n=Fv(e,t==null?void 0:t.type);if(Oc.has(n))return Oc.get(n);const r=_m.test(e),i=Sr(r?zv:jv,e);if(!i)throw new Pv({param:e});if(i.name&&Hv(i.name))throw new Iv({param:e,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,l={};if(r){c="tuple";const m=jt(i.type),b=[],g=m.length;for(let v=0;v<g;v++)b.push(Tr(m[v],{structs:a}));l={components:b}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(Uv.test(i.type))c=`${i.type}256`;else if(c=i.type,(t==null?void 0:t.type)!=="struct"&&!Pm(c))throw new Cv({type:c});if(i.modifier){if(!((d=(h=t==null?void 0:t.modifiers)==null?void 0:h.has)!=null&&d.call(h,i.modifier)))throw new Tv({param:e,type:t==null?void 0:t.type,modifier:i.modifier});if(Sl.has(i.modifier)&&!qv(c,!!i.array))throw new Bv({param:e,type:t==null?void 0:t.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return Oc.set(n,u),u}function jt(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const o=e[s],a=e.slice(s+1);switch(o){case",":return r===0?jt(a,[...t,n.trim()]):jt(a,t,`${n}${o}`,r);case"(":return jt(a,t,`${n}${o}`,r+1);case")":return jt(a,t,`${n}${o}`,r-1);default:return jt(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Nv({current:n,depth:r});return t.push(n.trim()),t}function Pm(e){return e==="address"||e==="bool"||e==="function"||e==="string"||vm.test(e)||xm.test(e)}const Vv=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Hv(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||vm.test(e)||xm.test(e)||Vv.test(e)}function qv(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Wv(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!km(a))continue;const c=wv(a);if(!c)throw new fs({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],h=l.length;for(let d=0;d<h;d++){const b=l[d].trim();if(!b)continue;const g=Tr(b,{type:"struct"});u.push(g)}if(!u.length)throw new Mv({signature:a});t[c.name]=u}const r={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=Im(c,t)}return r}const Gv=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Im(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(_m.test(o.type))r.push(o);else{const c=Sr(Gv,o.type);if(!(c!=null&&c.type))throw new Ov({abiParameter:o});const{array:l,type:u}=c;if(u in t){if(n.has(u))throw new Dv({type:u});r.push({...o,type:`tuple${l??""}`,components:Im(t[u]??[],t,new Set([...n,u]))})}else if(Pm(u))r.push(o);else throw new kv({type:u})}}return r}function wt(e){const t=Wv(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];km(s)||n.push(Lv(s,t))}return n}function X(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const i=e[n];return typeof i=="function"?i:s=>t(e,s)}function Nn(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new a1(e.type);return`${e.name}(${Ua(e.inputs,{includeName:t})})`}function Ua(e,{includeName:t=!1}={}){return e?e.map(n=>Kv(n,{includeName:t})).join(t?", ":","):""}function Kv(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ua(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function fn(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Re(e){return fn(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Yv="2.16.3",Zv=e=>e,Va=e=>e,Jv=()=>`viem@${Yv}`;class M extends Error{constructor(t,n={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Jv()});const r=n.cause instanceof M?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof M&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${n.docsBaseUrl??"https://viem.sh"}${i}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Tm(this,t)}}function Tm(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?Tm(e.cause,t):t?null:e}class Xv extends M{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Kd extends M{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Bm extends M{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ua(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Ha extends M{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Qv extends M{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class e1 extends M{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Re(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Om extends M{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Rm extends M{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class t1 extends M{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class Mm extends M{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Yd extends M{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class xa extends M{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class n1 extends M{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class r1 extends M{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Nn(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Nn(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Dm extends M{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Ns extends M{constructor({abiItem:t,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ua(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=i}}class qa extends M{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Nn(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class i1 extends M{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class s1 extends M{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class o1 extends M{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class a1 extends M{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class c1 extends M{constructor(t){super(`Type "${t}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class l1 extends M{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class Nm extends M{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class Fm extends M{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class Zd extends M{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function un(e,{dir:t,size:n=32}={}){return typeof e=="string"?or(e,{dir:t,size:n}):u1(e,{dir:t,size:n})}function or(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Fm({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function u1(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Fm({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}class h1 extends M{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class d1 extends M{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class f1 extends M{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Di(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function yn(e,{size:t}){if(Re(e)>t)throw new f1({givenSize:Re(e),maxSize:t})}function Ce(e,t={}){const{signed:n}=t;t.size&&yn(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function pn(e,t={}){return Number(Ce(e,t))}const p1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Y(e,t={}){return typeof e=="number"||typeof e=="bigint"?re(e,t):typeof e=="string"?Jr(e,t):typeof e=="boolean"?nh(e,t):Ue(e,t)}function nh(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(yn(n,{size:t.size}),un(n,{size:t.size})):n}function Ue(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=p1[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(yn(r,{size:t.size}),un(r,{dir:"right",size:t.size})):r}function re(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new h1({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?un(a,{size:r}):a}const m1=new TextEncoder;function Jr(e,t={}){const n=m1.encode(e);return Ue(n,t)}const g1=new TextEncoder;function Vt(e,t={}){return typeof e=="number"||typeof e=="bigint"?y1(e,t):typeof e=="boolean"?b1(e,t):fn(e)?Ht(e,t):jr(e,t)}function b1(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(yn(n,{size:t.size}),un(n,{size:t.size})):n}const xn={zero:48,nine:57,A:65,F:70,a:97,f:102};function Jd(e){if(e>=xn.zero&&e<=xn.nine)return e-xn.zero;if(e>=xn.A&&e<=xn.F)return e-(xn.A-10);if(e>=xn.a&&e<=xn.f)return e-(xn.a-10)}function Ht(e,t={}){let n=e;t.size&&(yn(n,{size:t.size}),n=un(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=Jd(r.charCodeAt(a++)),l=Jd(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new M(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function y1(e,t){const n=re(e,t);return Ht(n)}function jr(e,t={}){const n=g1.encode(e);return typeof t.size=="number"?(yn(n,{size:t.size}),un(n,{dir:"right",size:t.size})):n}function _a(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function rh(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function w1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_a(e.outputLen),_a(e.blockLen)}function Ni(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Lm(e,t){rh(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Vo=BigInt(2**32-1),Xd=BigInt(32);function v1(e,t=!1){return t?{h:Number(e&Vo),l:Number(e>>Xd&Vo)}:{h:Number(e>>Xd&Vo)|0,l:Number(e&Vo)|0}}function x1(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=v1(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const _1=(e,t,n)=>e<<n|t>>>32-n,E1=(e,t,n)=>t<<n|e>>>32-n,$1=(e,t,n)=>t<<n-32|e>>>64-n,S1=(e,t,n)=>e<<n-32|t>>>64-n,Rc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const jm=e=>e instanceof Uint8Array,A1=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Mc=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rn=(e,t)=>e<<32-t|e>>>t,k1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!k1)throw new Error("Non little-endian hardware is not supported");function C1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Wa(e){if(typeof e=="string"&&(e=C1(e)),!jm(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function P1(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!jm(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class ih{clone(){return this._cloneInto()}}function zm(e){const t=r=>e().update(Wa(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function I1(e=32){if(Rc&&typeof Rc.getRandomValues=="function")return Rc.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[Um,Vm,Hm]=[[],[],[]],T1=BigInt(0),as=BigInt(1),B1=BigInt(2),O1=BigInt(7),R1=BigInt(256),M1=BigInt(113);for(let e=0,t=as,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Um.push(2*(5*r+n)),Vm.push((e+1)*(e+2)/2%64);let i=T1;for(let s=0;s<7;s++)t=(t<<as^(t>>O1)*M1)%R1,t&B1&&(i^=as<<(as<<BigInt(s))-as);Hm.push(i)}const[D1,N1]=x1(Hm,!0),Qd=(e,t,n)=>n>32?$1(e,t,n):_1(e,t,n),ef=(e,t,n)=>n>32?S1(e,t,n):E1(e,t,n);function F1(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],h=Qd(l,u,1)^n[a],d=ef(l,u,1)^n[a+1];for(let m=0;m<50;m+=10)e[o+m]^=h,e[o+m+1]^=d}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=Vm[o],c=Qd(i,s,a),l=ef(i,s,a),u=Um[o];i=e[u],s=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=D1[r],e[1]^=N1[r]}n.fill(0)}class sh extends ih{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,_a(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=A1(this.state)}keccak(){F1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ni(this);const{blockLen:n,state:r}=this;t=Wa(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Ni(this,!1),rh(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return _a(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Lm(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new sh(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const L1=(e,t,n)=>zm(()=>new sh(t,e,n)),j1=L1(1,136,256/8);function at(e,t){const n=t||"hex",r=j1(fn(e,{strict:!1})?Vt(e):e);return n==="bytes"?r:Y(r)}const z1=e=>at(Vt(e));function U1(e){return z1(e)}function V1(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new M("Unable to normalize signature.");return i}const H1=e=>{const t=typeof e=="string"?e:dv(e);return V1(t)};function qm(e){return U1(H1(e))}const oh=qm;class qe extends M{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class ah extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const Dc=new ah(8192);function Ga(e,t){if(Dc.has(`${e}.${t}`))return Dc.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=at(jr(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Dc.set(`${e}.${t}`,s),s}function nr(e,t){if(!Ne(e,{strict:!1}))throw new qe({address:e});return Ga(e,t)}const q1=/^0x[a-fA-F0-9]{40}$/,Nc=new ah(8192);function Ne(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Nc.has(r))return Nc.get(r);const i=q1.test(e)?e.toLowerCase()===e?!0:n?Ga(e)===e:!0:!1;return Nc.set(r,i),i}function Fn(e){return typeof e[0]=="string"?Jt(e):W1(e)}function W1(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Jt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Fs(e,t,n,{strict:r}={}){return fn(e,{strict:!1})?Ym(e,t,n,{strict:r}):Km(e,t,n,{strict:r})}function Wm(e,t){if(typeof t=="number"&&t>0&&t>Re(e)-1)throw new Nm({offset:t,position:"start",size:Re(e)})}function Gm(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Re(e)!==n-t)throw new Nm({offset:n,position:"end",size:Re(e)})}function Km(e,t,n,{strict:r}={}){Wm(e,t);const i=e.slice(t,n);return r&&Gm(i,t,n),i}function Ym(e,t,n,{strict:r}={}){Wm(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Gm(i,t,n),i}function si(e,t){if(e.length!==t.length)throw new Om({expectedLength:e.length,givenLength:t.length});const n=G1({params:e,values:t}),r=lh(n);return r.length===0?"0x":r}function G1({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(ch({param:e[r],value:t[r]}));return n}function ch({param:e,value:t}){const n=uh(e.type);if(n){const[r,i]=n;return Y1(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return ex(t,{param:e});if(e.type==="address")return K1(t);if(e.type==="bool")return J1(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return X1(t,{signed:r})}if(e.type.startsWith("bytes"))return Z1(t,{param:e});if(e.type==="string")return Q1(t);throw new i1(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function lh(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=Re(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(re(t+i,{size:32})),r.push(a),i+=Re(a)):n.push(a)}return Fn([...n,...r])}function K1(e){if(!Ne(e))throw new qe({address:e});return{dynamic:!1,encoded:or(e.toLowerCase())}}function Y1(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new o1(e);if(!r&&e.length!==t)throw new Qv({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const a=ch({param:n,value:e[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=lh(s);if(r){const a=re(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Fn([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Fn(s.map(({encoded:o})=>o))}}function Z1(e,{param:t}){const[,n]=t.type.split("bytes"),r=Re(e);if(!n){let i=e;return r%32!==0&&(i=or(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Fn([or(re(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new e1({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:or(e,{dir:"right"})}}function J1(e){if(typeof e!="boolean")throw new M(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:or(nh(e))}}function X1(e,{signed:t}){return{dynamic:!1,encoded:re(e,{size:32,signed:t})}}function Q1(e){const t=Jr(e),n=Math.ceil(Re(t)/32),r=[];for(let i=0;i<n;i++)r.push(or(Fs(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Fn([or(re(Re(t),{size:32})),...r])}}function ex(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=Array.isArray(e)?i:s.name,a=ch({param:s,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?lh(r):Fn(r.map(({encoded:i})=>i))}}function uh(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const oi=e=>Fs(qm(e),0,4);function vo(e){const{abi:t,args:n=[],name:r}=e,i=fn(r,{strict:!1}),s=t.filter(a=>i?a.type==="function"?oi(a)===r:a.type==="event"?oh(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const h="inputs"in a&&a.inputs[u];return h?Al(l,h):!1})){if(o&&"inputs"in o&&o.inputs){const l=Zm(a.inputs,o.inputs,n);if(l)throw new r1({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function Al(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Ne(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>Al(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>Al(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Zm(e,t,n){for(const r in e){const i=e[r],s=t[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Zm(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Ne(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Ne(n[r],{strict:!1}):!1)return o}}const tf="/docs/contract/encodeEventTopics";function xo(e){var c;const{abi:t,eventName:n,args:r}=e;let i=t[0];if(n){const l=vo({abi:t,name:n});if(!l)throw new Yd(n,{docsPath:tf});i=l}if(i.type!=="event")throw new Yd(void 0,{docsPath:tf});const s=Nn(i),o=oh(s);let a=[];if(r&&"inputs"in i){const l=(c=i.inputs)==null?void 0:c.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(h=>r[h.name]))??[]:[];u.length>0&&(a=(l==null?void 0:l.map((h,d)=>Array.isArray(u[d])?u[d].map((m,b)=>nf({param:h,value:u[d][b]})):u[d]?nf({param:h,value:u[d]}):null))??[])}return[o,...a]}function nf({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return at(Vt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new l1(e.type);return si([e],[t])}function Ka(e,{method:t}){var r,i;const n={};return e.transport.type==="fallback"&&((i=(r=e.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&t===s&&(n[o]=c.request)})),s=>n[s]||e.request}async function Jm(e,t){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=t,l=Ka(e,{method:"eth_newFilter"}),u=s?xo({abi:r,args:i,eventName:s}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?re(o):o,toBlock:typeof c=="bigint"?re(c):c,topics:u}]});return{abi:r,args:i,eventName:s,id:h,request:l(h),strict:!!a,type:"event"}}function Rt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const rf="/docs/contract/encodeFunctionData";function tx(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const s=vo({abi:t,args:n,name:r});if(!s)throw new xa(r,{docsPath:rf});i=s}if(i.type!=="function")throw new xa(void 0,{docsPath:rf});return{abi:[i],functionName:oi(Nn(i))}}function Hn(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:tx(e)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?si(i.inputs,t??[]):void 0;return Jt([s,o??"0x"])}const Xm={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},nx={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},rx={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class sf extends M{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Qm extends M{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class ix extends M{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const sx={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ix({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Qm({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new sf({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new sf({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function hh(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(sx);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function ox(e,t={}){typeof t.size<"u"&&yn(e,{size:t.size});const n=Ue(e,t);return Ce(n,t)}function ax(e,t={}){let n=e;if(typeof t.size<"u"&&(yn(n,{size:t.size}),n=Di(n)),n.length>1||n[0]>1)throw new d1(n);return!!n[0]}function Pn(e,t={}){typeof t.size<"u"&&yn(e,{size:t.size});const n=Ue(e,t);return pn(n,t)}function cx(e,t={}){let n=e;return typeof t.size<"u"&&(yn(n,{size:t.size}),n=Di(n,{dir:"right"})),new TextDecoder().decode(n)}function _o(e,t){const n=typeof t=="string"?Ht(t):t,r=hh(n);if(Re(n)===0&&e.length>0)throw new Ha;if(Re(t)&&Re(t)<32)throw new Bm({data:typeof t=="string"?t:Ue(t),params:e,size:Re(t)});let i=0;const s=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(i);const[c,l]=vi(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function vi(e,t,{staticPosition:n}){const r=uh(t.type);if(r){const[i,s]=r;return ux(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return px(e,t,{staticPosition:n});if(t.type==="address")return lx(e);if(t.type==="bool")return hx(e);if(t.type.startsWith("bytes"))return dx(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return fx(e,t);if(t.type==="string")return mx(e,{staticPosition:n});throw new s1(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const of=32,kl=32;function lx(e){const t=e.readBytes(32);return[Ga(Ue(Km(t,-20))),32]}function ux(e,t,{length:n,staticPosition:r}){if(!n){const o=Pn(e.readBytes(kl)),a=r+o,c=a+of;e.setPosition(a);const l=Pn(e.readBytes(of)),u=Ls(t);let h=0;const d=[];for(let m=0;m<l;++m){e.setPosition(c+(u?m*32:h));const[b,g]=vi(e,t,{staticPosition:c});h+=g,d.push(b)}return e.setPosition(r+32),[d,32]}if(Ls(t)){const o=Pn(e.readBytes(kl)),a=r+o,c=[];for(let l=0;l<n;++l){e.setPosition(a+l*32);const[u]=vi(e,t,{staticPosition:a});c.push(u)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=vi(e,t,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function hx(e){return[ax(e.readBytes(32),{size:32}),32]}function dx(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=Pn(e.readBytes(32));e.setPosition(n+o);const a=Pn(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Ue(c),32]}return[Ue(e.readBytes(Number.parseInt(i),32)),32]}function fx(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[r>48?ox(i,{signed:n}):Pn(i,{signed:n}),32]}function px(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(Ls(t)){const o=Pn(e.readBytes(kl)),a=n+o;for(let c=0;c<t.components.length;++c){const l=t.components[c];e.setPosition(a+s);const[u,h]=vi(e,l,{staticPosition:a});s+=h,i[r?c:l==null?void 0:l.name]=u}return e.setPosition(n+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,l]=vi(e,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function mx(e,{staticPosition:t}){const n=Pn(e.readBytes(32)),r=t+n;e.setPosition(r);const i=Pn(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=cx(Di(s));return e.setPosition(t+32),[o,32]}function Ls(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Ls);const n=uh(e.type);return!!(n&&Ls({...e,type:n[1]}))}function gx(e){const{abi:t,data:n}=e,r=Fs(n,0,4);if(r==="0x")throw new Ha;const s=[...t||[],nx,rx].find(o=>o.type==="error"&&r===oi(Nn(o)));if(!s)throw new Rm(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?_o(s.inputs,Fs(n,4)):void 0,errorName:s.name}}const We=(e,t,n)=>JSON.stringify(e,(r,i)=>typeof i=="bigint"?i.toString():i,n);function e0({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof t[s]=="object"?We(t[s]):t[s]}`).join(", ")})`}const bx={gwei:9,wei:18},yx={ether:-9,wei:9};function et(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function dh(e,t="wei"){return et(e,bx[t])}function pt(e,t="wei"){return et(e,yx[t])}class wx extends M{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class vx extends M{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function af(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function xx(e){return e.reduce((t,{address:n,...r})=>{let i=`${t}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=af(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=af(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Eo(e){const t=Object.entries(e).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=t.reduce((r,[i])=>Math.max(r,i.length),0);return t.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class _x extends M{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Ex extends M{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class $x extends M{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Eo(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Sx extends M{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class Ax extends M{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d}){var b;const m=Eo({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof d<"u"&&`${dh(d)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${pt(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${pt(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${pt(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class t0 extends M{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),t&&s!==void 0&&(o=`Transaction at block hash "${t}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class n0 extends M{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class cf extends M{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class r0 extends M{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d,stateOverride:m}){var v;const b=n?Rt(n):void 0;let g=Eo({from:b==null?void 0:b.address,to:h,value:typeof d<"u"&&`${dh(d)} ${((v=i==null?void 0:i.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${pt(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${pt(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${pt(l)} gwei`,nonce:u});m&&(g+=`
${xx(m)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class kx extends M{constructor(t,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=vo({abi:n,args:r,name:o}),l=c?e0({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Nn(c,{includeName:!0}):void 0,h=Eo({address:i&&Zv(i),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",h].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=i,this.functionName=o,this.sender=a}}class Cl extends M{constructor({abi:t,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=gx({abi:t,data:n});const{abiItem:u,errorName:h,args:d}=o;if(h==="Error")c=d[0];else if(h==="Panic"){const[m]=d;c=Xm[m]}else{const m=u?Nn(u,{includeName:!0}):void 0,b=u&&d?e0({abiItem:u,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:"",b&&b!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof Rm&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=l}}class Cx extends M{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Px extends M{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CounterfactualDeploymentFailedError"})}}class fh extends M{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class xs extends M{constructor({body:t,details:n,headers:r,status:i,url:s}){super("HTTP request failed.",{details:n,metaMessages:[i&&`Status: ${i}`,`URL: ${Va(s)}`,t&&`Request body: ${We(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=i,this.url=s}}class Ix extends M{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${Va(r)}`,`Request body: ${We(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Ya extends M{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Va(r)}`,`Request body: ${We(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Pl extends M{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Va(n)}`,`Request body: ${We(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Tx=-1;class vt extends M{constructor(t,{code:n,docsPath:r,metaMessages:i,shortMessage:s}){super(s,{cause:t,docsPath:r,metaMessages:i||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Ya?t.code:n??Tx}}class Ji extends vt{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class js extends vt{constructor(t){super(t,{code:js.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(js,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class zs extends vt{constructor(t){super(t,{code:zs.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(zs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Us extends vt{constructor(t){super(t,{code:Us.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Us,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Vs extends vt{constructor(t){super(t,{code:Vs.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Vs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Xr extends vt{constructor(t){super(t,{code:Xr.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Qr extends vt{constructor(t){super(t,{code:Qr.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Hs extends vt{constructor(t){super(t,{code:Hs.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Hs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class qs extends vt{constructor(t){super(t,{code:qs.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(qs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Fi extends vt{constructor(t){super(t,{code:Fi.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Fi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ws extends vt{constructor(t){super(t,{code:Ws.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Ws,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Li extends vt{constructor(t){super(t,{code:Li.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Li,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Gs extends vt{constructor(t){super(t,{code:Gs.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Gs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class zr extends Ji{constructor(t){super(t,{code:zr.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ks extends Ji{constructor(t){super(t,{code:Ks.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Ks,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ys extends Ji{constructor(t){super(t,{code:Ys.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Ys,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Zs extends Ji{constructor(t){super(t,{code:Zs.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Zs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Js extends Ji{constructor(t){super(t,{code:Js.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Js,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Xs extends Ji{constructor(t){super(t,{code:Xs.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Xs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Bx extends vt{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Ox=3;function Qs(e,{abi:t,address:n,args:r,docsPath:i,functionName:s,sender:o}){const{code:a,data:c,message:l,shortMessage:u}=e instanceof fh?e:e instanceof M?e.walk(d=>"data"in d)||e.walk():{},h=e instanceof Ha?new Cx({functionName:s}):[Ox,Xr.code].includes(a)&&(c||l||u)?new Cl({abi:t,data:typeof c=="object"?c.data:c,functionName:s,message:u??l}):e;return new kx(h,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}class Rx extends M{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:h,value:d}){var b;const m=Eo({from:n==null?void 0:n.address,to:h,value:typeof d<"u"&&`${dh(d)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${pt(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${pt(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${pt(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class yi extends M{constructor({cause:t,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(yi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ei extends M{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${pt(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(ei,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Il extends M{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${pt(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Il,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Tl extends M{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Tl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Bl extends M{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Bl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ol extends M{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Ol,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Rl extends M{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Rl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Ml extends M{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Ml,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Dl extends M{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Dl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Nl extends M{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Nl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class eo extends M{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${pt(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${pt(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(eo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Za extends M{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function ph(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof M?e.walk(i=>i.code===yi.code):e;return r instanceof M?new yi({cause:e,message:r.details}):yi.nodeMessage.test(n)?new yi({cause:e,message:e.details}):ei.nodeMessage.test(n)?new ei({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Il.nodeMessage.test(n)?new Il({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Tl.nodeMessage.test(n)?new Tl({cause:e,nonce:t==null?void 0:t.nonce}):Bl.nodeMessage.test(n)?new Bl({cause:e,nonce:t==null?void 0:t.nonce}):Ol.nodeMessage.test(n)?new Ol({cause:e,nonce:t==null?void 0:t.nonce}):Rl.nodeMessage.test(n)?new Rl({cause:e}):Ml.nodeMessage.test(n)?new Ml({cause:e,gas:t==null?void 0:t.gas}):Dl.nodeMessage.test(n)?new Dl({cause:e,gas:t==null?void 0:t.gas}):Nl.nodeMessage.test(n)?new Nl({cause:e}):eo.nodeMessage.test(n)?new eo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Za({cause:e})}function Mx(e,{docsPath:t,...n}){const r=(()=>{const i=ph(e,n);return i instanceof Za?e:i})();return new Rx(r,{docsPath:t,...n})}function mh(e,{format:t}){if(!t)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in e&&(n[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=t(e||{});return r(i),n}function Ja(e,t){return({exclude:n,format:r})=>({exclude:n,format:i=>{const s=t(i);if(n)for(const o of n)delete s[o];return{...s,...r(i)}},type:e})}const Dx={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function $o(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Ue(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=re(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=re(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=re(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=re(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=re(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=re(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Dx[e.type]),typeof e.value<"u"&&(t.value=re(e.value)),t}const Nx=Ja("transactionRequest",$o);function lf(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Zd({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Zd({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Fx(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:s}=e,o={};if(s!==void 0&&(o.code=s),t!==void 0&&(o.balance=re(t)),n!==void 0&&(o.nonce=re(n)),r!==void 0&&(o.state=lf(r)),i!==void 0){if(o.state)throw new vx;o.stateDiff=lf(i)}return o}function i0(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Ne(n,{strict:!1}))throw new qe({address:n});if(t[n])throw new wx({address:n});t[n]=Fx(r)}return t}function So(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=e,o=t?Rt(t):void 0;if(o&&!Ne(o.address))throw new qe({address:o.address});if(s&&!Ne(s))throw new qe({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new _x;if(r&&r>2n**256n-1n)throw new ei({maxFeePerGas:r});if(i&&r&&i>r)throw new eo({maxFeePerGas:r,maxPriorityFeePerGas:i})}class Lx extends M{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class gh extends M{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class jx extends M{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${pt(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class s0 extends M{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const o0={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Xa(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?pn(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?pn(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?o0[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const a0=Ja("transaction",Xa);function bh(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Xa(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const c0=Ja("block",bh);async function gr(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:i}={}){var u,h,d;const s=r??"latest",o=i??!1,a=n!==void 0?re(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!c)throw new s0({blockHash:t,blockNumber:n});return(((d=(h=(u=e.chain)==null?void 0:u.formatters)==null?void 0:h.block)==null?void 0:d.format)||bh)(c)}async function yh(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function zx(e,t){return l0(e,t)}async function l0(e,t){var s,o,a;const{block:n,chain:r=e.chain,request:i}=t||{};if(typeof((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee)=="function"){const c=n||await X(e,gr,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:i})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Ce(c)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):X(e,gr,"getBlock")({}),X(e,yh,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new gh;const u=l-c.baseFeePerGas;return u<0n?0n:u}}async function Ux(e,t){return Fl(e,t)}async function Fl(e,t){var d,m;const{block:n,chain:r=e.chain,request:i,type:s="eip1559"}=t||{},o=await(async()=>{var b,g;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:i}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new Lx;const c=10**(((d=o.toString().split(".")[1])==null?void 0:d.length)??0),l=b=>b*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await X(e,gr,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:i,type:s});if(b!==null)return b}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new gh;const b=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await l0(e,{block:u,chain:r,request:i}),g=l(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??g+b,maxPriorityFeePerGas:b}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await X(e,yh,"getGasPrice")({}))}}async function u0(e,{address:t,blockTag:n="latest",blockNumber:r}){const i=await e.request({method:"eth_getTransactionCount",params:[t,r?re(r):n]},{dedupe:!!r});return pn(i)}function wh(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>Ht(s)):e.blobs,i=[];for(const s of r)i.push(Uint8Array.from(t.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Ue(s))}function vh(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ht(o)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(o=>Ht(o)):e.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>Ue(o))}function Vx(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}class Hx extends ih{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Mc(this.buffer)}update(t){Ni(this);const{view:n,buffer:r,blockLen:i}=this;t=Wa(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Mc(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ni(this),Lm(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Vx(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Mc(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const qx=(e,t,n)=>e&t^~e&n,Wx=(e,t,n)=>e&t^e&n^t&n,Gx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jn=new Uint32Array(64);class Kx extends Hx{constructor(){super(64,32,8,!1),this.A=Zn[0]|0,this.B=Zn[1]|0,this.C=Zn[2]|0,this.D=Zn[3]|0,this.E=Zn[4]|0,this.F=Zn[5]|0,this.G=Zn[6]|0,this.H=Zn[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let h=0;h<16;h++,n+=4)Jn[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const d=Jn[h-15],m=Jn[h-2],b=rn(d,7)^rn(d,18)^d>>>3,g=rn(m,17)^rn(m,19)^m>>>10;Jn[h]=g+Jn[h-7]+b+Jn[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const d=rn(a,6)^rn(a,11)^rn(a,25),m=u+d+qx(a,c,l)+Gx[h]+Jn[h]|0,g=(rn(r,2)^rn(r,13)^rn(r,22))+Wx(r,i,s)|0;u=l,l=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const h0=zm(()=>new Kx);function d0(e,t){const n=t||"hex",r=h0(fn(e,{strict:!1})?Vt(e):e);return n==="bytes"?r:Y(r)}function Yx(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),i=d0(t,"bytes");return i.set([n],0),r==="bytes"?i:Ue(i)}function f0(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const s of t)i.push(Yx({commitment:s,to:r,version:n}));return i}const uf=6,p0=32,xh=4096,m0=p0*xh,hf=m0*uf-1-1*xh*uf,g0=1;class Zx extends M{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class b0 extends M{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class Jx extends M{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class Xx extends M{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${g0}`,`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function Qx(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ht(e.data):e.data,r=Re(n);if(!r)throw new b0;if(r>hf)throw new Zx({maxSize:hf,size:r});const i=[];let s=!0,o=0;for(;s;){const a=hh(new Uint8Array(m0));let c=0;for(;c<xh;){const l=n.slice(o,o+(p0-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>Ue(a.bytes))}function y0(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??Qx({data:t,to:r}),s=e.commitments??wh({blobs:i,kzg:n,to:r}),o=e.proofs??vh({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function w0(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new $x({transaction:e})}async function Ao(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return pn(t)}const v0=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Qa(e,t){const{account:n=e.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,parameters:c=v0,type:l}=t,u=n?Rt(n):void 0,h={...t,...u?{from:u==null?void 0:u.address}:{}};let d;async function m(){return d||(d=await X(e,gr,"getBlock")({blockTag:"latest"}),d)}let b;async function g(){return b||(i?i.id:typeof t.chainId<"u"?t.chainId:(b=await X(e,Ao,"getChainId")({}),b))}if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&o){const v=wh({blobs:r,kzg:o});if(c.includes("blobVersionedHashes")){const y=f0({commitments:v,to:"hex"});h.blobVersionedHashes=y}if(c.includes("sidecars")){const y=vh({blobs:r,commitments:v,kzg:o}),x=y0({blobs:r,commitments:v,proofs:y,to:"hex"});h.sidecars=x}}if(c.includes("chainId")&&(h.chainId=await g()),c.includes("nonce")&&typeof a>"u"&&u)if(u.nonceManager){const v=await g();h.nonce=await u.nonceManager.consume({address:u.address,chainId:v,client:e})}else h.nonce=await X(e,u0,"getTransactionCount")({address:u.address,blockTag:"pending"});if((c.includes("fees")||c.includes("type"))&&typeof l>"u")try{h.type=w0(h)}catch{const v=await m();h.type=typeof(v==null?void 0:v.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(c.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const v=await m(),{maxFeePerGas:y,maxPriorityFeePerGas:x}=await Fl(e,{block:v,chain:i,request:h});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<x)throw new jx({maxPriorityFeePerGas:x});h.maxPriorityFeePerGas=x,h.maxFeePerGas=y}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new gh;const v=await m(),{gasPrice:y}=await Fl(e,{block:v,chain:i,request:h,type:"legacy"});h.gasPrice=y}return c.includes("gas")&&typeof s>"u"&&(h.gas=await X(e,_h,"estimateGas")({...h,account:u?{address:u.address,type:"json-rpc"}:void 0})),So(h),delete h.parameters,h}async function _h(e,t){var i,s,o;const n=t.account??e.account,r=n?Rt(n):void 0;try{const{accessList:a,blobs:c,blobVersionedHashes:l,blockNumber:u,blockTag:h,data:d,gas:m,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:v,maxPriorityFeePerGas:y,nonce:x,to:E,value:$,stateOverride:k,...A}=await Qa(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),O=(u?re(u):void 0)||h,T=i0(k);So(t);const L=(o=(s=(i=e.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,J=(L||$o)({...mh(A,{format:L}),from:r==null?void 0:r.address,accessList:a,blobs:c,blobVersionedHashes:l,data:d,gas:m,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:v,maxPriorityFeePerGas:y,nonce:x,to:E,value:$}),Q=await e.request({method:"eth_estimateGas",params:T?[J,O??"latest",T]:O?[J,O]:[J]});return BigInt(Q)}catch(a){throw Mx(a,{...t,account:r,chain:e.chain})}}async function e_(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=Hn({abi:n,args:i,functionName:s});try{return await X(e,_h,"estimateGas")({data:a,to:r,...o})}catch(c){const l=o.account?Rt(o.account):void 0;throw Qs(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l==null?void 0:l.address})}}const df="/docs/contract/decodeEventLog";function Eh(e){const{abi:t,data:n,strict:r,topics:i}=e,s=r??!0,[o,...a]=i;if(!o)throw new t1({docsPath:df});const c=t.find(g=>g.type==="event"&&o===oh(Nn(g)));if(!(c&&"name"in c)||c.type!=="event")throw new Mm(o,{docsPath:df});const{name:l,inputs:u}=c,h=u==null?void 0:u.some(g=>!("name"in g&&g.name));let d=h?[]:{};const m=u.filter(g=>"indexed"in g&&g.indexed);for(let g=0;g<m.length;g++){const v=m[g],y=a[g];if(!y)throw new qa({abiItem:c,param:v});d[h?g:v.name||g]=t_({param:v,value:y})}const b=u.filter(g=>!("indexed"in g&&g.indexed));if(b.length>0){if(n&&n!=="0x")try{const g=_o(b,n);if(g)if(h)d=[...d,...g];else for(let v=0;v<b.length;v++)d[b[v].name]=g[v]}catch(g){if(s)throw g instanceof Bm||g instanceof Qm?new Ns({abiItem:c,data:n,params:b,size:Re(n)}):g}else if(s)throw new Ns({abiItem:c,data:"0x",params:b,size:0})}return{eventName:l,args:Object.values(d).length>0?d:void 0}}function t_({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(_o([e],t)||[])[0]}function $h({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(i=>{var s;try{const o=Eh({...i,abi:e,strict:r});return t&&!t.includes(o.eventName)?null:{...o,...i}}catch(o){let a,c;if(o instanceof Mm)return null;if(o instanceof Ns||o instanceof qa){if(r)return null;a=o.abiItem.name,c=(s=o.abiItem.inputs)==null?void 0:s.some(l=>!("name"in l&&l.name))}return{...i,args:c?[]:{},eventName:a}}}).filter(Boolean)}function Ln(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Sh(e,{address:t,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(s?[s]:void 0);let h=[];u&&(h=[u.flatMap(g=>xo({abi:[g],eventName:g.name,args:a}))],s&&(h=h[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:h,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:h,fromBlock:typeof r=="bigint"?re(r):r,toBlock:typeof i=="bigint"?re(i):i}]});const m=d.map(b=>Ln(b));return u?$h({abi:u,logs:m,strict:l}):m}async function x0(e,t){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=t,u=o?vo({abi:n,name:o}):void 0,h=u?void 0:n.filter(d=>d.type==="event");return X(e,Sh,"getLogs")({address:r,args:i,blockHash:s,event:u,events:h,fromBlock:a,toBlock:c,strict:l})}const Fc="/docs/contract/decodeFunctionResult";function Xi(e){const{abi:t,args:n,functionName:r,data:i}=e;let s=t[0];if(r){const a=vo({abi:t,args:n,name:r});if(!a)throw new xa(r,{docsPath:Fc});s=a}if(s.type!=="function")throw new xa(void 0,{docsPath:Fc});if(!s.outputs)throw new n1(s.name,{docsPath:Fc});const o=_o(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Ll=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],_0=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],E0=[..._0,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],n_=[..._0,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],ff=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],pf=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],r_=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],i_="0x82ad56cb",s_="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",o_="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",a_="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class jl extends M{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class c_ extends M{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class l_ extends M{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class $0 extends M{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class ec extends M{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}const Lc="/docs/contract/encodeDeployData";function tc(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const i=t.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new Xv({docsPath:Lc});if(!("inputs"in i))throw new Kd({docsPath:Lc});if(!i.inputs||i.inputs.length===0)throw new Kd({docsPath:Lc});const s=si(i.inputs,n);return Jt([r,s])}function Qi({blockNumber:e,chain:t,contract:n}){var i;const r=(i=t==null?void 0:t.contracts)==null?void 0:i[n];if(!r)throw new jl({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new jl({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function u_(e,{docsPath:t,...n}){const r=(()=>{const i=ph(e,n);return i instanceof Za?e:i})();return new r0(r,{docsPath:t,...n})}const jc=new Map;function Ah({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const h=u.map(({args:d})=>d);h.length!==0&&e(h).then(d=>{var m;i&&Array.isArray(d)&&d.sort(i);for(let b=0;b<u.length;b++){const{pendingPromise:g}=u[b];(m=g.resolve)==null||m.call(g,[d[b],d])}}).catch(d=>{var m;for(let b=0;b<u.length;b++){const{pendingPromise:g}=u[b];(m=g.reject)==null||m.call(g,d)}})},o=()=>jc.delete(t),a=()=>c().map(({args:u})=>u),c=()=>jc.get(t)||[],l=u=>jc.set(t,[...c(),u]);return{flush:o,async schedule(u){const h={},d=new Promise((g,v)=>{h.resolve=g,h.reject=v});return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,pendingPromise:h}),d):(l({args:u,pendingPromise:h}),setTimeout(s,r),d)}}}async function nc(e,t){var N,J,Q,ae;const{account:n=e.account,batch:r=!!((N=e.batch)!=null&&N.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:c,data:l,factory:u,factoryData:h,gas:d,gasPrice:m,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:v,nonce:y,to:x,value:E,stateOverride:$,...k}=t,A=n?Rt(n):void 0;if(c&&(u||h))throw new M("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&x)throw new M("Cannot provide both `code` & `to` as parameters.");const P=c&&l,O=u&&h&&x&&l,T=P||O,L=P?f_({code:c,data:l}):O?p_({data:l,factory:u,factoryData:h,to:x}):l;try{So(t);const F=(i?re(i):void 0)||s,W=i0($),oe=(ae=(Q=(J=e.chain)==null?void 0:J.formatters)==null?void 0:Q.transactionRequest)==null?void 0:ae.format,ne=(oe||$o)({...mh(k,{format:oe}),from:A==null?void 0:A.address,accessList:o,blobs:a,data:L,gas:d,gasPrice:m,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:v,nonce:y,to:T?void 0:x,value:E});if(r&&h_({request:ne})&&!W)try{return await d_(e,{...ne,blockNumber:i,blockTag:s})}catch(je){if(!(je instanceof $0)&&!(je instanceof jl))throw je}const ge=await e.request({method:"eth_call",params:W?[ne,F,W]:[ne,F]});return ge==="0x"?{data:void 0}:{data:ge}}catch(D){const F=m_(D),{offchainLookup:W,offchainLookupSignature:oe}=await H(()=>import("./ccip-CsDZpTNa.js"),__vite__mapDeps([]));if(e.ccipRead!==!1&&(F==null?void 0:F.slice(0,10))===oe&&x)return{data:await W(e,{data:F,to:x})};throw T&&(F==null?void 0:F.slice(0,10))==="0x101bb98d"?new Px({factory:u}):u_(D,{...t,account:A,chain:e.chain})}}function h_({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(i_)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function d_(e,t){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=e.batch)==null?void 0:g.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:c}=t;let l=a;if(!l){if(!e.chain)throw new $0;l=Qi({blockNumber:i,chain:e.chain,contract:"multicall3"})}const h=(i?re(i):void 0)||s,{schedule:d}=Ah({id:`${e.uid}.${h}`,wait:r,shouldSplitBatch(v){return v.reduce((x,{data:E})=>x+(E.length-2),0)>n*2},fn:async v=>{const y=v.map($=>({allowFailure:!0,callData:$.data,target:$.to})),x=Hn({abi:Ll,args:[y],functionName:"aggregate3"}),E=await e.request({method:"eth_call",params:[{data:x,to:l},h]});return Xi({abi:Ll,args:[y],functionName:"aggregate3",data:E||"0x"})}}),[{returnData:m,success:b}]=await d({data:o,to:c});if(!b)throw new fh({data:m});return m==="0x"?{data:void 0}:{data:m}}function f_(e){const{code:t,data:n}=e;return tc({abi:wt(["constructor(bytes, bytes)"]),bytecode:s_,args:[t,n]})}function p_(e){const{data:t,factory:n,factoryData:r,to:i}=e;return tc({abi:wt(["constructor(address, bytes, address, bytes)"]),bytecode:o_,args:[i,t,n,r]})}function m_(e){var n;if(!(e instanceof M))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function jn(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=Hn({abi:n,args:i,functionName:s});try{const{data:c}=await X(e,nc,"call")({...o,data:a,to:r});return Xi({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw Qs(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function g_(e,t){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=t,c=a.account?Rt(a.account):e.account,l=Hn({abi:n,args:i,functionName:o});try{const{data:u}=await X(e,nc,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:r,...a,account:c}),h=Xi({abi:n,args:i,functionName:o,data:u||"0x"}),d=n.filter(m=>"name"in m&&m.name===t.functionName);return{result:h,request:{abi:d,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(u){throw Qs(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const zc=new Map,mf=new Map;let b_=0;function br(e,t,n){const r=++b_,i=()=>zc.get(e)||[],s=()=>{const u=i();zc.set(e,u.filter(h=>h.id!==r))},o=()=>{const u=mf.get(e);i().length===1&&u&&u(),s()},a=i();if(zc.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const u in t)c[u]=(...h)=>{var m,b;const d=i();if(d.length!==0)for(const g of d)(b=(m=g.fns)[u])==null||b.call(m,...h)};const l=n(c);return typeof l=="function"&&mf.set(e,l),o}async function Ea(e){return new Promise(t=>setTimeout(t,e))}function ko(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;t&&(a=await e({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await Ea(c);const l=async()=>{i&&(await e({unpoll:s}),await Ea(r),l())};l()})(),s}const y_=new Map,w_=new Map;function v_(e){const t=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=t(e,y_),r=t(e,w_);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function x_(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=v_(t),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const __=e=>`blockNumber.${e}`;async function Co(e,{cacheTime:t=e.cacheTime}={}){const n=await x_(()=>e.request({method:"eth_blockNumber"}),{cacheKey:__(e.uid),cacheTime:t});return BigInt(n)}async function rc(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>Ln(s));return!("abi"in t)||!t.abi?i:$h({abi:t.abi,logs:i,strict:n})}async function ic(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function E_(e,t){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:h=e.pollingInterval,strict:d}=t;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const v=d??!1,y=We(["watchContractEvent",r,i,s,e.uid,o,h,v,a]);return br(y,{onLogs:l,onError:c},x=>{let E;a!==void 0&&(E=a-1n);let $,k=!1;const A=ko(async()=>{var P;if(!k){try{$=await X(e,Jm,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:v,fromBlock:a})}catch{}k=!0;return}try{let O;if($)O=await X(e,rc,"getFilterChanges")({filter:$});else{const T=await X(e,Co,"getBlockNumber")({});E&&E!==T?O=await X(e,x0,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:E+1n,toBlock:T,strict:v}):O=[],E=T}if(O.length===0)return;if(s)x.onLogs(O);else for(const T of O)x.onLogs([T])}catch(O){$&&O instanceof Qr&&(k=!1),(P=x.onError)==null||P.call(x,O)}},{emitOnBegin:!0,interval:h});return async()=>{$&&await X(e,ic,"uninstallFilter")({filter:$}),A()}})})():(()=>{const v=d??!1,y=We(["watchContractEvent",r,i,s,e.uid,o,h,v]);let x=!0,E=()=>x=!1;return br(y,{onLogs:l,onError:c},$=>((async()=>{try{const k=(()=>{if(e.transport.type==="fallback"){const O=e.transport.transports.find(T=>T.config.type==="webSocket");return O?O.value:e.transport}return e.transport})(),A=o?xo({abi:n,eventName:o,args:i}):[],{unsubscribe:P}=await k.subscribe({params:["logs",{address:r,topics:A}],onData(O){var L;if(!x)return;const T=O.result;try{const{eventName:N,args:J}=Eh({abi:n,data:T.data,topics:T.topics,strict:d}),Q=Ln(T,{args:J,eventName:N});$.onLogs([Q])}catch(N){let J,Q;if(N instanceof Ns||N instanceof qa){if(d)return;J=N.abiItem.name,Q=(L=N.abiItem.inputs)==null?void 0:L.some(D=>!("name"in D&&D.name))}const ae=Ln(T,{args:Q?[]:{},eventName:J});$.onLogs([ae])}},onError(O){var T;(T=$.onError)==null||T.call($,O)}});E=P,x||E()}catch(k){c==null||c(k)}})(),()=>E()))})()}class sc extends M{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}function S0({chain:e,currentChainId:t}){if(!e)throw new l_;if(t!==e.id)throw new c_({chain:e,currentChainId:t})}function $_(e,{docsPath:t,...n}){const r=(()=>{const i=ph(e,n);return i instanceof Za?e:i})();return new Ax(r,{docsPath:t,...n})}async function kh(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function Ch(e,t){var y,x,E,$;const{account:n=e.account,chain:r=e.chain,accessList:i,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:d,to:m,value:b,...g}=t;if(!n)throw new sc({docsPath:"/docs/actions/wallet/sendTransaction"});const v=Rt(n);try{So(t);let k;if(r!==null&&(k=await X(e,Ao,"getChainId")({}),S0({currentChainId:k,chain:r})),v.type==="local"){const T=await X(e,Qa,"prepareTransactionRequest")({account:v,accessList:i,blobs:s,chain:r,chainId:k,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:d,parameters:[...v0,"sidecars"],to:m,value:b,...g}),L=(y=r==null?void 0:r.serializers)==null?void 0:y.transaction,N=await v.signTransaction(T,{serializer:L});return await X(e,kh,"sendRawTransaction")({serializedTransaction:N})}const A=($=(E=(x=e.chain)==null?void 0:x.formatters)==null?void 0:E.transactionRequest)==null?void 0:$.format,O=(A||$o)({...mh(g,{format:A}),accessList:i,blobs:s,chainId:k,data:o,from:v.address,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:d,to:m,value:b});return await e.request({method:"eth_sendTransaction",params:[O]},{retryCount:0})}catch(k){throw $_(k,{...t,account:v,chain:t.chain||void 0})}}async function S_(e,t){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=t,c=Hn({abi:n,args:i,functionName:o});return X(e,Ch,"sendTransaction")({data:`${c}${s?s.replace("0x",""):""}`,to:r,...a})}class A_ extends M{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip712DomainNotFoundError"})}}async function k_(e,t){const{address:n,factory:r,factoryData:i}=t;try{const[s,o,a,c,l,u,h]=await X(e,jn,"readContract")({abi:C_,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new A_({address:n}):o}}const C_=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function P_(e,{chain:t}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:re(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}const zl=256;let Ho=zl,qo;function A0(e=11){if(!qo||Ho+e>zl*2){qo="",Ho=0;for(let t=0;t<zl;t++)qo+=(256+Math.random()*256|0).toString(16).substring(1)}return qo.substring(Ho,Ho+++e)}function k0(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=e,c=e.chain,l=e.account?Rt(e.account):void 0,{config:u,request:h,value:d}=e.transport({chain:c,pollingInterval:o}),m={...u,...d},b={account:l,batch:t,cacheTime:n,ccipRead:r,chain:c,key:i,name:s,pollingInterval:o,request:h,transport:m,type:a,uid:A0()};function g(v){return y=>{const x=y(v);for(const $ in b)delete x[$];const E={...v,...x};return Object.assign(E,{extend:g(E)})}}return Object.assign(b,{extend:g(b)})}const Wo=new ah(8192);function I_(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Wo.get(n))return Wo.get(n);const r=e().finally(()=>Wo.delete(n));return Wo.set(n,r),r}function Ul(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof t=="function"?t({count:a,error:l}):t;u&&await Ea(u),o({count:a+1})};try{const l=await e();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}function T_(e,t={}){return async(n,r={})=>{const{dedupe:i=!1,retryDelay:s=150,retryCount:o=3,uid:a}={...t,...r},c=i?at(Jr(`${a}.${We(n)}`)):void 0;return I_(()=>Ul(async()=>{try{return await e(n)}catch(l){const u=l;switch(u.code){case js.code:throw new js(u);case zs.code:throw new zs(u);case Us.code:throw new Us(u);case Vs.code:throw new Vs(u);case Xr.code:throw new Xr(u);case Qr.code:throw new Qr(u);case Hs.code:throw new Hs(u);case qs.code:throw new qs(u);case Fi.code:throw new Fi(u);case Ws.code:throw new Ws(u);case Li.code:throw new Li(u);case Gs.code:throw new Gs(u);case zr.code:throw new zr(u);case Ks.code:throw new Ks(u);case Ys.code:throw new Ys(u);case Zs.code:throw new Zs(u);case Js.code:throw new Js(u);case Xs.code:throw new Xs(u);case 5e3:throw new zr(u);default:throw l instanceof M?l:new Bx(u)}}},{delay:({count:l,error:u})=>{var h;if(u&&u instanceof xs){const d=(h=u==null?void 0:u.headers)==null?void 0:h.get("Retry-After");if(d!=null&&d.match(/\d/))return Number.parseInt(d)*1e3}return~~(1<<l)*s},retryCount:o,shouldRetry:({error:l})=>B_(l)}),{enabled:i,id:c})}}function B_(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Li.code||e.code===Xr.code:e instanceof xs&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Po({key:e,name:t,request:n,retryCount:r=3,retryDelay:i=150,timeout:s,type:o},a){const c=A0();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:i,timeout:s,type:o},request:T_(n,{retryCount:r,retryDelay:i,uid:c}),value:a}}function O_(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:i}=t;return({retryCount:s})=>Po({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:i,type:"custom"})}function R_(e,t={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,retryCount:s,retryDelay:o}=t;return({chain:a,pollingInterval:c=4e3,timeout:l,...u})=>{let h=e,d=()=>{};const m=Po({key:n,name:r,async request({method:b,params:g}){const v=async(y=0)=>{const x=h[y]({...u,chain:a,retryCount:0,timeout:l});try{const E=await x.request({method:b,params:g});return d({method:b,params:g,response:E,transport:x,status:"success"}),E}catch(E){if(d({error:E,method:b,params:g,transport:x,status:"error"}),M_(E)||y===h.length-1)throw E;return v(y+1)}};return v()},retryCount:s,retryDelay:o,type:"fallback"},{onResponse:b=>d=b,transports:h.map(b=>b({chain:a,retryCount:0}))});if(i){const b=typeof i=="object"?i:{};D_({chain:a,interval:b.interval??c,onTransports:g=>h=g,sampleCount:b.sampleCount,timeout:b.timeout,transports:h,weights:b.weights})}return m}}function M_(e){return"code"in e&&typeof e.code=="number"&&(e.code===Fi.code||e.code===zr.code||e.code===5e3)}function D_({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:i=1e3,transports:s,weights:o={}}){const{stability:a=.7,latency:c=.3}=o,l=[],u=async()=>{const h=await Promise.all(s.map(async b=>{const g=b({chain:e,retryCount:0,timeout:i}),v=Date.now();let y,x;try{await g.request({method:"net_listening"}),x=1}catch{x=0}finally{y=Date.now()}return{latency:y-v,success:x}}));l.push(h),l.length>r&&l.shift();const d=Math.max(...l.map(b=>Math.max(...b.map(({latency:g})=>g)))),m=s.map((b,g)=>{const v=l.map(k=>k[g].latency),x=1-v.reduce((k,A)=>k+A,0)/v.length/d,E=l.map(k=>k[g].success),$=E.reduce((k,A)=>k+A,0)/E.length;return $===0?[0,g]:[c*x+a*$,g]}).sort((b,g)=>g[0]-b[0]);n(m.map(([,b])=>s[b])),await Ea(t),u()};u()}class Ph extends M{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function C0(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(t)},n)),i(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}function N_(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Vl=N_();function P0(e,t={}){return{async request(n){var h;const{body:r,onRequest:i=t.onRequest,onResponse:s=t.onResponse,timeout:o=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const d=await C0(async({signal:b})=>{const g={...a,body:Array.isArray(r)?We(r.map(x=>({jsonrpc:"2.0",id:x.id??Vl.take(),...x}))):We({jsonrpc:"2.0",id:r.id??Vl.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:l||"POST",signal:u||(o>0?b:null)},v=new Request(e,g);return i&&await i(v),await fetch(e,g)},{errorInstance:new Pl({body:r,url:e}),timeout:o,signal:!0});s&&await s(d);let m;if((h=d.headers.get("Content-Type"))!=null&&h.startsWith("application/json")?m=await d.json():(m=await d.text(),m=JSON.parse(m||"{}")),!d.ok)throw new xs({body:r,details:We(m.error)||d.statusText,headers:d.headers,status:d.status,url:e});return m}catch(d){throw d instanceof xs||d instanceof Pl?d:new xs({body:r,details:d.message,url:e})}}}}function F_(e,t={}){const{batch:n,fetchOptions:r,key:i="http",name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:a,retryDelay:c}=t;return({chain:l,retryCount:u,timeout:h})=>{const{batchSize:d=1e3,wait:m=0}=typeof n=="object"?n:{},b=t.retryCount??u,g=h??t.timeout??1e4,v=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!v)throw new Ph;const y=P0(v,{fetchOptions:r,onRequest:o,onResponse:a,timeout:g});return Po({key:i,name:s,async request({method:x,params:E}){const $={method:x,params:E},{schedule:k}=Ah({id:v,wait:m,shouldSplitBatch(T){return T.length>d},fn:T=>y.request({body:T}),sort:(T,L)=>T.id-L.id}),A=async T=>n?k(T):[await y.request({body:T})],[{error:P,result:O}]=await A($);if(P)throw new Ya({body:$,error:P,url:v});return O},retryCount:b,retryDelay:c,timeout:g,type:"http"},{fetchOptions:r,url:v})}}function Ih(e,t){var r,i,s,o,a,c;if(!(e instanceof M))return!1;const n=e.walk(l=>l instanceof Cl);return n instanceof Cl?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Xm[50]):!1}function I0(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return fn(t)?t:null}function sa(e){let t=new Uint8Array(32).fill(0);if(!e)return Ue(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const i=I0(n[r]),s=i?Vt(i):at(jr(n[r]),"bytes");t=at(Fn([t,s]),"bytes")}return Ue(t)}function L_(e){return`[${e.slice(2)}]`}function j_(e){const t=new Uint8Array(32).fill(0);return e?I0(e)||at(jr(e)):Ue(t)}function oc(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(jr(t).byteLength+2);let r=0;const i=t.split(".");for(let s=0;s<i.length;s++){let o=jr(i[s]);o.byteLength>255&&(o=jr(L_(j_(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function z_(e,{blockNumber:t,blockTag:n,coinType:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Qi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const l=Hn({abi:pf,functionName:"addr",...r!=null?{args:[sa(i),BigInt(r)]}:{args:[sa(i)]}}),u={address:c,abi:E0,functionName:"resolve",args:[Y(oc(i)),l],blockNumber:t,blockTag:n},h=X(e,jn,"readContract"),d=s?await h({...u,args:[...u.args,s]}):await h(u);if(d[0]==="0x")return null;const m=Xi({abi:pf,args:r!=null?[sa(i),BigInt(r)]:void 0,functionName:"addr",data:d[0]});return m==="0x"||Di(m)==="0x00"?null:m}catch(l){if(o)throw l;if(Ih(l,"resolve"))return null;throw l}}class U_ extends M{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class cs extends M{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Th extends M{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class V_ extends M{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const H_=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,q_=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,W_=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,G_=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function K_(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function gf(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function T0({uri:e,gatewayUrls:t}){const n=W_.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=gf(t==null?void 0:t.ipfs,"https://ipfs.io"),i=gf(t==null?void 0:t.arweave,"https://arweave.net"),s=e.match(H_),{protocol:o,subpath:a,target:c,subtarget:l=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||q_.test(e);if(e.startsWith("http")&&!u&&!h){let m=e;return t!=null&&t.arweave&&(m=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((u||h)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(G_,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Th({uri:e})}function B0(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new U_({data:e});return e.image||e.image_url||e.image_data}async function Y_({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(i=>i.json());return await Bh({gatewayUrls:e,uri:B0(n)})}catch{throw new Th({uri:t})}}async function Bh({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=T0({uri:t,gatewayUrls:e});if(r||await K_(n))return n;throw new Th({uri:t})}function Z_(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=t.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new cs({reason:"Only EIP-155 supported"});if(!o)throw new cs({reason:"Chain ID not found"});if(!c)throw new cs({reason:"Contract address not found"});if(!i)throw new cs({reason:"Token ID not found"});if(!a)throw new cs({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function J_(e,{nft:t}){if(t.namespace==="erc721")return jn(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return jn(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new V_({namespace:t.namespace})}async function X_(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Q_(e,{gatewayUrls:t,record:n}):Bh({uri:n,gatewayUrls:t})}async function Q_(e,{gatewayUrls:t,record:n}){const r=Z_(n),i=await J_(e,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=T0({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return Bh({uri:B0(u),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Y_({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function O0(e,{blockNumber:t,blockTag:n,name:r,key:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Qi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const l={address:c,abi:E0,functionName:"resolve",args:[Y(oc(r)),Hn({abi:ff,functionName:"text",args:[sa(r),i]})],blockNumber:t,blockTag:n},u=X(e,jn,"readContract"),h=s?await u({...l,args:[...l.args,s]}):await u(l);if(h[0]==="0x")return null;const d=Xi({abi:ff,functionName:"text",data:h[0]});return d===""?null:d}catch(l){if(o)throw l;if(Ih(l,"resolve"))return null;throw l}}async function eE(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await X(e,O0,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await X_(e,{record:c,gatewayUrls:r})}catch{return null}}async function tE(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Qi({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:n_,functionName:"reverse",args:[Y(oc(c))],blockNumber:n,blockTag:r},u=X(e,jn,"readContract"),[h,d]=i?await u({...l,args:[...l.args,i]}):await u(l);return t.toLowerCase()!==d.toLowerCase()?null:h}catch(l){if(s)throw l;if(Ih(l,"reverse"))return null;throw l}}async function nE(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:i}){let s=i;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=Qi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await X(e,jn,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Y(oc(r))],blockNumber:t,blockTag:n});return o}async function rE(e){const t=Ka(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function R0(e,{address:t,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),l=Ka(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(m=>xo({abi:[m],eventName:m.name,args:n}))],r&&(u=u[0]));const h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?re(s):s,toBlock:typeof a=="bigint"?re(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:l(h),strict:!!o,toBlock:a,type:"event"}}async function M0(e){const t=Ka(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function iE(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n?re(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||r]});return BigInt(s)}async function sE(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function oE(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?re(n):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),pn(s)}async function Hl(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?re(n):void 0,s=await e.request({method:"eth_getCode",params:[t,i||r]},{dedupe:!!i});if(s!=="0x")return s}function aE(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function cE(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=n?re(n):void 0,o=await e.request({method:"eth_feeHistory",params:[re(t),s||r,i]},{dedupe:!!s});return aE(o)}async function lE(e,{filter:t}){const n=t.strict??!1,i=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>Ln(s));return t.abi?$h({abi:t.abi,logs:i,strict:n}):i}function mn(e,t){if(!Ne(e,{strict:!1}))throw new qe({address:e});if(!Ne(t,{strict:!1}))throw new qe({address:t});return e.toLowerCase()===t.toLowerCase()}function Xt(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const uE=/^(.*)\[([0-9]*)\]$/,D0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,N0=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Uc=new Map;async function hE(e){const{getSocket:t,key:n="socket",reconnect:r=!0,url:i}=e,{attempts:s=5,delay:o=2e3}=typeof r=="object"?r:{};let a=Uc.get(`${n}:${i}`);if(a)return a;let c=0;const{schedule:l}=Ah({id:`${n}:${i}`,fn:async()=>{const d=new Map,m=new Map;let b,g;async function v(){return t({onError(y){var x,E;b=y;for(const $ of d.values())(x=$.onError)==null||x.call($,b);for(const $ of m.values())(E=$.onError)==null||E.call($,b);d.clear(),m.clear(),r&&c<s&&setTimeout(async()=>{c++,g=await v().catch(console.error)},o)},onOpen(){b=void 0,c=0},onResponse(y){const x=y.method==="eth_subscription",E=x?y.params.subscription:y.id,$=x?m:d,k=$.get(E);k&&k.onResponse(y),x||$.delete(E)}})}return g=await v(),b=void 0,a={close(){g.close(),Uc.delete(`${n}:${i}`)},socket:g,request({body:y,onError:x,onResponse:E}){b&&x&&x(b);const $=y.id??Vl.take(),k=A=>{var P;typeof A.id=="number"&&$!==A.id||(y.method==="eth_subscribe"&&typeof A.result=="string"&&m.set(A.result,{onResponse:k,onError:x}),y.method==="eth_unsubscribe"&&m.delete((P=y.params)==null?void 0:P[0]),E(A))};d.set($,{onResponse:k,onError:x});try{g.request({body:{jsonrpc:"2.0",id:$,...y}})}catch(A){x==null||x(A)}},requestAsync({body:y,timeout:x=1e4}){return C0(()=>new Promise((E,$)=>this.request({body:y,onError:$,onResponse:E})),{errorInstance:new Pl({body:y,url:i}),timeout:x})},requests:d,subscriptions:m,url:i},Uc.set(`${n}:${i}`,a),[a]}}),[u,[h]]=await l();return h}async function oa(e,t={}){const{reconnect:n}=t;return hE({async getSocket({onError:r,onOpen:i,onResponse:s}){const o=await H(()=>import("./native-DCTjMhwz.js"),__vite__mapDeps([])).then(h=>h.WebSocket),a=new o(e);function c(){a.removeEventListener("close",c),a.removeEventListener("message",l),a.removeEventListener("error",r),a.removeEventListener("open",i)}function l({data:h}){s(JSON.parse(h))}a.addEventListener("close",c),a.addEventListener("message",l),a.addEventListener("error",r),a.addEventListener("open",i),a.readyState===o.CONNECTING&&await new Promise((h,d)=>{a&&(a.onopen=h,a.onerror=d)});const{close:u}=a;return Object.assign(a,{close(){u.bind(a)(),c()},request({body:h}){if(a.readyState===a.CLOSED||a.readyState===a.CLOSING)throw new Ix({body:h,url:a.url,details:"Socket is closed."});return a.send(JSON.stringify(h))}})},reconnect:n,url:e})}async function dE(e){const t=await oa(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function fE(e){const{domain:t={},message:n,primaryType:r}=e,i={EIP712Domain:V0({domain:t}),...e.types};U0({domain:t,message:n,primaryType:r,types:i});const s=["0x1901"];return t&&s.push(pE({domain:t,types:i})),r!=="EIP712Domain"&&s.push(F0({data:n,primaryType:r,types:i})),at(Fn(s))}function pE({domain:e,types:t}){return F0({data:e,primaryType:"EIP712Domain",types:t})}function F0({data:e,primaryType:t,types:n}){const r=L0({data:e,primaryType:t,types:n});return at(r)}function L0({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],i=[mE({primaryType:t,types:n})];for(const s of n[t]){const[o,a]=z0({types:n,name:s.name,type:s.type,value:e[s.name]});r.push(o),i.push(a)}return si(r,i)}function mE({primaryType:e,types:t}){const n=Y(gE({primaryType:e,types:t}));return at(n)}function gE({primaryType:e,types:t}){let n="";const r=j0({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const s of i)n+=`${s}(${t[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function j0({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||t[i]===void 0)return n;n.add(i);for(const s of t[i])j0({primaryType:s.type,types:t},n);return n}function z0({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},at(L0({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},at(r)];if(n==="string")return[{type:"bytes32"},at(Y(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>z0({name:t,type:i,types:e,value:o}));return[{type:"bytes32"},at(si(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}function bE(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(c,l)=>{const u={...l};for(const h of c){const{name:d,type:m}=h;m==="address"&&(u[d]=u[d].toLowerCase())}return u},o=i.EIP712Domain?t?s(i.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return We({domain:o,message:a,primaryType:r,types:i})}function U0(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(o,a)=>{for(const c of o){const{name:l,type:u}=c,h=a[l],d=u.match(N0);if(d&&(typeof h=="number"||typeof h=="bigint")){const[g,v,y]=d;re(h,{signed:v==="int",size:Number.parseInt(y)/8})}if(u==="address"&&typeof h=="string"&&!Ne(h))throw new qe({address:h});const m=u.match(D0);if(m){const[g,v]=m;if(v&&Re(h)!==Number.parseInt(v))throw new Dm({expectedSize:Number.parseInt(v),givenSize:Re(h)})}const b=i[u];b&&s(b,h)}};i.EIP712Domain&&t&&s(i.EIP712Domain,t),r!=="EIP712Domain"&&s(i[r],n)}function V0({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function yE(e,t){if(e.length!==t.length)throw new Om({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(H0(i,s))}return Jt(n)}function H0(e,t,n=!1){if(e==="address"){const o=t;if(!Ne(o))throw new qe({address:o});return un(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Jr(t);if(e==="bytes")return t;if(e==="bool")return un(nh(t),{size:n?32:1});const r=e.match(N0);if(r){const[o,a,c="256"]=r,l=Number.parseInt(c)/8;return re(t,{size:n?32:l,signed:a==="int"})}const i=e.match(D0);if(i){const[o,a]=i;if(Number.parseInt(a)!==(t.length-2)/2)throw new Dm({expectedSize:Number.parseInt(a),givenSize:(t.length-2)/2});return un(t,{dir:"right",size:n?32:null})}const s=e.match(uE);if(s&&Array.isArray(t)){const[o,a]=s,c=[];for(let l=0;l<t.length;l++)c.push(H0(a,t[l],!0));return c.length===0?"0x":Jt(c)}throw new c1(e)}function ti(e,t="hex"){const n=q0(e),r=hh(new Uint8Array(n.length));return n.encode(r),t==="hex"?Ue(r.bytes):r.bytes}function q0(e){return Array.isArray(e)?wE(e.map(t=>q0(t))):vE(e)}function wE(e){const t=e.reduce((i,s)=>i+s.length,0),n=W0(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:s}of e)s(i)}}}function vE(e){const t=typeof e=="string"?Ht(e):e,n=W0(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function W0(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new M("Length is too large.")}const xE={"0x0":"reverted","0x1":"success"};function G0(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Ln(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?pn(e.transactionIndex):null,status:e.status?xE[e.status]:null,type:e.type?o0[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const K0=Ja("transactionReceipt",G0),_E=`Ethereum Signed Message:
`;function EE(e){const t=typeof e=="string"?Jr(e):typeof e.raw=="string"?e.raw:Ue(e.raw),n=Jr(`${_E}${Re(t)}`);return Fn([n,t])}function Y0(e,t){return at(EE(e),t)}const Z0="0x6492649264926492649264926492649264926492649264926492649264926492";function $E(e){return Ym(e,-32)===Z0}function SE(e){const{address:t,data:n,signature:r}=e;return Jt([si([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Z0])}function AE(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new b0;for(const n of t){const r=Re(n),i=pn(Fs(n,0,1));if(r!==32)throw new Jx({hash:n,size:r});if(i!==g0)throw new Xx({hash:n,version:i})}}J0(e)}function J0(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new ec({chainId:t});if(i&&!Ne(i))throw new qe({address:i});if(r&&r>2n**256n-1n)throw new ei({maxFeePerGas:r});if(n&&r&&n>r)throw new eo({maxFeePerGas:r,maxPriorityFeePerGas:n})}function kE(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(t<=0)throw new ec({chainId:t});if(s&&!Ne(s))throw new qe({address:s});if(n||i)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new ei({maxFeePerGas:r})}function CE(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s,accessList:o}=e;if(s&&!Ne(s))throw new qe({address:s});if(typeof t<"u"&&t<=0)throw new ec({chainId:t});if(n||i)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new ei({maxFeePerGas:r});if(o)throw new M("`accessList` is not a valid Legacy Transaction attribute.")}function Oh(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:i}=e[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new Sx({storageKey:i[s]});if(!Ne(r,{strict:!1}))throw new qe({address:r});t.push([r,i])}return t}function X0(e,t){const n=w0(e);return n==="eip1559"?IE(e,t):n==="eip2930"?TE(e,t):n==="eip4844"?PE(e,t):BE(e,t)}function PE(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:h}=e;AE(e);let d=e.blobVersionedHashes,m=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof m>"u")){const E=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(A=>Ue(A)),$=e.kzg,k=wh({blobs:E,kzg:$});if(typeof d>"u"&&(d=f0({commitments:k})),typeof m>"u"){const A=vh({blobs:E,commitments:k,kzg:$});m=y0({blobs:E,commitments:k,proofs:A})}}const b=Oh(u),g=[Y(n),i?Y(i):"0x",l?Y(l):"0x",c?Y(c):"0x",r?Y(r):"0x",s??"0x",o?Y(o):"0x",h??"0x",b,a?Y(a):"0x",d??[],...Rh(e,t)],v=[],y=[],x=[];if(m)for(let E=0;E<m.length;E++){const{blob:$,commitment:k,proof:A}=m[E];v.push($),y.push(k),x.push(A)}return Jt(["0x03",ti(m?[g,v,y,x]:g)])}function IE(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=e;J0(e);const h=Oh(l),d=[Y(n),i?Y(i):"0x",c?Y(c):"0x",a?Y(a):"0x",r?Y(r):"0x",s??"0x",o?Y(o):"0x",u??"0x",h,...Rh(e,t)];return Jt(["0x02",ti(d)])}function TE(e,t){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=e;kE(e);const u=Oh(c),h=[Y(n),s?Y(s):"0x",l?Y(l):"0x",r?Y(r):"0x",o??"0x",a?Y(a):"0x",i??"0x",u,...Rh(e,t)];return Jt(["0x01",ti(h)])}function BE(e,t){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=e;CE(e);let l=[s?Y(s):"0x",c?Y(c):"0x",r?Y(r):"0x",o??"0x",a?Y(a):"0x",i??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Ex({v:t.v});return h})();l=[...l,Y(u),t.r,t.s]}else n>0&&(l=[...l,Y(n),"0x","0x"]);return ti(l)}function Rh(e,t){const n=t??e,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=Di(n.r),o=Di(n.s);return[typeof i=="number"?i?Y(1):"0x":r===0n?"0x":r===1n?Y(1):r===27n?"0x":Y(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function ql(e,t){let[n,r="0"]=e.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[s,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${i?"-":""}${n}${r}`)}function OE(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function RE(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?pn(e.nonce):void 0,storageProof:e.storageProof?OE(e.storageProof):void 0}}async function ME(e,{address:t,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?re(n):void 0,a=await e.request({method:"eth_getProof",params:[t,i,o||s]});return RE(a)}async function DE(e,{address:t,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?re(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||r]})}async function Mh(e,{blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){var u,h,d;const o=r||"latest",a=n!==void 0?re(n):void 0;let c=null;if(i?c=await e.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,re(s)]},{dedupe:!0}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,re(s)]},{dedupe:!!a})),!c)throw new t0({blockHash:t,blockNumber:n,blockTag:o,hash:i,index:s});return(((d=(h=(u=e.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:d.format)||Xa)(c)}async function NE(e,{hash:t,transactionReceipt:n}){const[r,i]=await Promise.all([X(e,Co,"getBlockNumber")({}),t?X(e,Mh,"getTransaction")({hash:t}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function Wl(e,{hash:t}){var i,s,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new n0({hash:t});return(((o=(s=(i=e.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||G0)(n)}async function FE(e,t){var v;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=t,c=t.contracts,l=r??(typeof((v=e.batch)==null?void 0:v.multicall)=="object"&&e.batch.multicall.batchSize||1024);let u=o;if(!u){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");u=Qi({blockNumber:i,chain:e.chain,contract:"multicall3"})}const h=[[]];let d=0,m=0;for(let y=0;y<c.length;y++){const{abi:x,address:E,args:$,functionName:k}=c[y];try{const A=Hn({abi:x,args:$,functionName:k});m+=(A.length-2)/2,l>0&&m>l&&h[d].length>0&&(d++,m=(A.length-2)/2,h[d]=[]),h[d]=[...h[d],{allowFailure:!0,callData:A,target:E}]}catch(A){const P=Qs(A,{abi:x,address:E,args:$,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw P;h[d]=[...h[d],{allowFailure:!0,callData:"0x",target:E}]}}const b=await Promise.allSettled(h.map(y=>X(e,jn,"readContract")({abi:Ll,address:u,args:[y],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),g=[];for(let y=0;y<b.length;y++){const x=b[y];if(x.status==="rejected"){if(!n)throw x.reason;for(let $=0;$<h[y].length;$++)g.push({status:"failure",error:x.reason,result:void 0});continue}const E=x.value;for(let $=0;$<E.length;$++){const{returnData:k,success:A}=E[$],{callData:P}=h[y][$],{abi:O,address:T,functionName:L,args:N}=c[g.length];try{if(P==="0x")throw new Ha;if(!A)throw new fh({data:k});const J=Xi({abi:O,args:N,data:k,functionName:L});g.push(n?{result:J,status:"success"}:J)}catch(J){const Q=Qs(J,{abi:O,address:T,args:N,docsPath:"/docs/contract/multicall",functionName:L});if(!n)throw Q;g.push({error:Q,result:void 0,status:"failure"})}}}if(g.length!==c.length)throw new M("multicall results mismatch");return g}const Q0=BigInt(0),ac=BigInt(1),LE=BigInt(2),cc=e=>e instanceof Uint8Array,jE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ji(e){if(!cc(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=jE[e[n]];return t}function eg(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Dh(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function zi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Ur(e){return Dh(ji(e))}function Nh(e){if(!cc(e))throw new Error("Uint8Array expected");return Dh(ji(Uint8Array.from(e).reverse()))}function Ui(e,t){return zi(e.toString(16).padStart(t*2,"0"))}function Fh(e,t){return Ui(e,t).reverse()}function zE(e){return zi(eg(e))}function Lt(e,t,n){let r;if(typeof t=="string")try{r=zi(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(cc(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function to(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!cc(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function tg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function UE(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function VE(e){let t;for(t=0;e>Q0;e>>=ac,t+=1);return t}function HE(e,t){return e>>BigInt(t)&ac}const qE=(e,t,n)=>e|(n?ac:Q0)<<BigInt(t),Lh=e=>(LE<<BigInt(e-1))-ac,Vc=e=>new Uint8Array(e),bf=e=>Uint8Array.from(e);function ng(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Vc(e),i=Vc(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=Vc())=>{i=a(bf([0]),h),r=a(),h.length!==0&&(i=a(bf([1]),h),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const d=[];for(;h<t;){r=a();const m=r.slice();d.push(m),h+=r.length}return to(...d)};return(h,d)=>{o(),c(h);let m;for(;!(m=d(l()));)c();return o(),m}}const WE={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Io(e,t,n={}){const r=(i,s,o)=>{const a=WE[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const GE=Object.freeze(Object.defineProperty({__proto__:null,bitGet:HE,bitLen:VE,bitMask:Lh,bitSet:qE,bytesToHex:ji,bytesToNumberBE:Ur,bytesToNumberLE:Nh,concatBytes:to,createHmacDrbg:ng,ensureBytes:Lt,equalBytes:tg,hexToBytes:zi,hexToNumber:Dh,numberToBytesBE:Ui,numberToBytesLE:Fh,numberToHexUnpadded:eg,numberToVarBytesBE:zE,utf8ToBytes:UE,validateObject:Io},Symbol.toStringTag,{value:"Module"}));function KE(e,t){const n=fn(e)?Vt(e):e,r=fn(t)?Vt(t):t;return tg(n,r)}const He=BigInt(0),De=BigInt(1),Br=BigInt(2),YE=BigInt(3),Gl=BigInt(4),yf=BigInt(5),wf=BigInt(8);BigInt(9);BigInt(16);function dt(e,t){const n=e%t;return n>=He?n:t+n}function ZE(e,t,n){if(n<=He||t<He)throw new Error("Expected power/modulo > 0");if(n===De)return He;let r=De;for(;t>He;)t&De&&(r=r*e%n),e=e*e%n,t>>=De;return r}function Pt(e,t,n){let r=e;for(;t-- >He;)r*=r,r%=n;return r}function Kl(e,t){if(e===He||t<=He)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=dt(e,t),r=t,i=He,s=De;for(;n!==He;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==De)throw new Error("invert: does not exist");return dt(i,t)}function JE(e){const t=(e-De)/Br;let n,r,i;for(n=e-De,r=0;n%Br===He;n/=Br,r++);for(i=Br;i<e&&ZE(i,t,e)!==e-De;i++);if(r===1){const o=(e+De)/Gl;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+De)/Br;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(c,s),d=a.pow(c,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(d);m<l&&!a.eql(g,a.ONE);m++)g=a.sqr(g);const b=a.pow(u,De<<BigInt(l-m-1));u=a.sqr(b),h=a.mul(h,b),d=a.mul(d,u),l=m}return h}}function XE(e){if(e%Gl===YE){const t=(e+De)/Gl;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%wf===yf){const t=(e-yf)/wf;return function(r,i){const s=r.mul(i,Br),o=r.pow(s,t),a=r.mul(i,o),c=r.mul(r.mul(a,Br),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return JE(e)}const QE=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e$(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=QE.reduce((r,i)=>(r[i]="function",r),t);return Io(e,n)}function t$(e,t,n){if(n<He)throw new Error("Expected power > 0");if(n===He)return e.ONE;if(n===De)return t;let r=e.ONE,i=t;for(;n>He;)n&De&&(r=e.mul(r,i)),i=e.sqr(i),n>>=De;return r}function n$(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function rg(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function r$(e,t,n=!1,r={}){if(e<=He)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=rg(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=XE(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Lh(i),ZERO:He,ONE:De,create:c=>dt(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return He<=c&&c<e},is0:c=>c===He,isOdd:c=>(c&De)===De,neg:c=>dt(-c,e),eql:(c,l)=>c===l,sqr:c=>dt(c*c,e),add:(c,l)=>dt(c+l,e),sub:(c,l)=>dt(c-l,e),mul:(c,l)=>dt(c*l,e),pow:(c,l)=>t$(a,c,l),div:(c,l)=>dt(c*Kl(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Kl(c,e),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>n$(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Fh(c,s):Ui(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?Nh(c):Ur(c)}});return Object.freeze(a)}function ig(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function sg(e){const t=ig(e);return t+Math.ceil(t/2)}function i$(e,t,n=!1){const r=e.length,i=ig(t),s=sg(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Ur(e):Nh(e),a=dt(o,t-De)+De;return n?Fh(a,i):Ui(a,i)}const s$=BigInt(0),Hc=BigInt(1);function o$(e,t){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>s$;)s&Hc&&(o=o.add(a)),a=a.double(),s>>=Hc;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let l=i,u=l;for(let h=0;h<o;h++){u=l,c.push(u);for(let d=1;d<a;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let l=e.ZERO,u=e.BASE;const h=BigInt(2**i-1),d=2**i,m=BigInt(i);for(let b=0;b<a;b++){const g=b*c;let v=Number(o&h);o>>=m,v>c&&(v-=d,o+=Hc);const y=g,x=g+Math.abs(v)-1,E=b%2!==0,$=v<0;v===0?u=u.add(n(E,s[y])):l=l.add(n($,s[x]))}return{p:l,f:u}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,a(l))),this.wNAF(c,l,o)}}}function og(e){return e$(e.Fp),Io(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rg(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function a$(e){const t=og(e);Io(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:c$,hexToBytes:l$}=GE,Dr={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Dr;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:c$(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Dr,n=typeof e=="string"?l$(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Dr._parseInt(n.subarray(2)),{d:o,l:a}=Dr._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},$n=BigInt(0),It=BigInt(1);BigInt(2);const vf=BigInt(3);BigInt(4);function u$(e){const t=a$(e),{Fp:n}=t,r=t.toBytes||((b,g,v)=>{const y=g.toAffine();return to(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),i=t.fromBytes||(b=>{const g=b.subarray(1),v=n.fromBytes(g.subarray(0,n.BYTES)),y=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:v,y}});function s(b){const{a:g,b:v}=t,y=n.sqr(b),x=n.mul(y,b);return n.add(n.add(x,n.mul(b,g)),v)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(b){return typeof b=="bigint"&&$n<b&&b<t.n}function a(b){if(!o(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(b){const{allowedPrivateKeyLengths:g,nByteLength:v,wrapPrivateKey:y,n:x}=t;if(g&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=ji(b)),typeof b!="string"||!g.includes(b.length))throw new Error("Invalid key");b=b.padStart(v*2,"0")}let E;try{E=typeof b=="bigint"?b:Ur(Lt("private key",b,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof b}`)}return y&&(E=dt(E,x)),a(E),E}const l=new Map;function u(b){if(!(b instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,v,y){if(this.px=g,this.py=v,this.pz=y,g==null||!n.isValid(g))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(g){const{x:v,y}=g||{};if(!g||!n.isValid(v)||!n.isValid(y))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const x=E=>n.eql(E,n.ZERO);return x(v)&&x(y)?h.ZERO:new h(v,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const v=n.invertBatch(g.map(y=>y.pz));return g.map((y,x)=>y.toAffine(v[x])).map(h.fromAffine)}static fromHex(g){const v=h.fromAffine(i(Lt("pointHex",g)));return v.assertValidity(),v}static fromPrivateKey(g){return h.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:v}=this.toAffine();if(!n.isValid(g)||!n.isValid(v))throw new Error("bad point: x or y not FE");const y=n.sqr(v),x=s(g);if(!n.eql(y,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:v,py:y,pz:x}=this,{px:E,py:$,pz:k}=g,A=n.eql(n.mul(v,k),n.mul(E,x)),P=n.eql(n.mul(y,k),n.mul($,x));return A&&P}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:v}=t,y=n.mul(v,vf),{px:x,py:E,pz:$}=this;let k=n.ZERO,A=n.ZERO,P=n.ZERO,O=n.mul(x,x),T=n.mul(E,E),L=n.mul($,$),N=n.mul(x,E);return N=n.add(N,N),P=n.mul(x,$),P=n.add(P,P),k=n.mul(g,P),A=n.mul(y,L),A=n.add(k,A),k=n.sub(T,A),A=n.add(T,A),A=n.mul(k,A),k=n.mul(N,k),P=n.mul(y,P),L=n.mul(g,L),N=n.sub(O,L),N=n.mul(g,N),N=n.add(N,P),P=n.add(O,O),O=n.add(P,O),O=n.add(O,L),O=n.mul(O,N),A=n.add(A,O),L=n.mul(E,$),L=n.add(L,L),O=n.mul(L,N),k=n.sub(k,O),P=n.mul(L,T),P=n.add(P,P),P=n.add(P,P),new h(k,A,P)}add(g){u(g);const{px:v,py:y,pz:x}=this,{px:E,py:$,pz:k}=g;let A=n.ZERO,P=n.ZERO,O=n.ZERO;const T=t.a,L=n.mul(t.b,vf);let N=n.mul(v,E),J=n.mul(y,$),Q=n.mul(x,k),ae=n.add(v,y),D=n.add(E,$);ae=n.mul(ae,D),D=n.add(N,J),ae=n.sub(ae,D),D=n.add(v,x);let F=n.add(E,k);return D=n.mul(D,F),F=n.add(N,Q),D=n.sub(D,F),F=n.add(y,x),A=n.add($,k),F=n.mul(F,A),A=n.add(J,Q),F=n.sub(F,A),O=n.mul(T,D),A=n.mul(L,Q),O=n.add(A,O),A=n.sub(J,O),O=n.add(J,O),P=n.mul(A,O),J=n.add(N,N),J=n.add(J,N),Q=n.mul(T,Q),D=n.mul(L,D),J=n.add(J,Q),Q=n.sub(N,Q),Q=n.mul(T,Q),D=n.add(D,Q),N=n.mul(J,D),P=n.add(P,N),N=n.mul(F,D),A=n.mul(ae,A),A=n.sub(A,N),N=n.mul(ae,J),O=n.mul(F,O),O=n.add(O,N),new h(A,P,O)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return m.wNAFCached(this,l,g,v=>{const y=n.invertBatch(v.map(x=>x.pz));return v.map((x,E)=>x.toAffine(y[E])).map(h.fromAffine)})}multiplyUnsafe(g){const v=h.ZERO;if(g===$n)return v;if(a(g),g===It)return this;const{endo:y}=t;if(!y)return m.unsafeLadder(this,g);let{k1neg:x,k1:E,k2neg:$,k2:k}=y.splitScalar(g),A=v,P=v,O=this;for(;E>$n||k>$n;)E&It&&(A=A.add(O)),k&It&&(P=P.add(O)),O=O.double(),E>>=It,k>>=It;return x&&(A=A.negate()),$&&(P=P.negate()),P=new h(n.mul(P.px,y.beta),P.py,P.pz),A.add(P)}multiply(g){a(g);let v=g,y,x;const{endo:E}=t;if(E){const{k1neg:$,k1:k,k2neg:A,k2:P}=E.splitScalar(v);let{p:O,f:T}=this.wNAF(k),{p:L,f:N}=this.wNAF(P);O=m.constTimeNegate($,O),L=m.constTimeNegate(A,L),L=new h(n.mul(L.px,E.beta),L.py,L.pz),y=O.add(L),x=T.add(N)}else{const{p:$,f:k}=this.wNAF(v);y=$,x=k}return h.normalizeZ([y,x])[0]}multiplyAndAddUnsafe(g,v,y){const x=h.BASE,E=(k,A)=>A===$n||A===It||!k.equals(x)?k.multiplyUnsafe(A):k.multiply(A),$=E(this,v).add(E(g,y));return $.is0()?void 0:$}toAffine(g){const{px:v,py:y,pz:x}=this,E=this.is0();g==null&&(g=E?n.ONE:n.inv(x));const $=n.mul(v,g),k=n.mul(y,g),A=n.mul(x,g);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:$,y:k}}isTorsionFree(){const{h:g,isTorsionFree:v}=t;if(g===It)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:v}=t;return g===It?this:v?v(h,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return ji(this.toRawBytes(g))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,m=o$(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function h$(e){const t=og(e);return Io(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function d$(e){const t=h$(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(D){return $n<D&&D<n.ORDER}function a(D){return dt(D,r)}function c(D){return Kl(D,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=u$({...t,toBytes(D,F,W){const oe=F.toAffine(),he=n.toBytes(oe.x),ne=to;return W?ne(Uint8Array.from([F.hasEvenY()?2:3]),he):ne(Uint8Array.from([4]),he,n.toBytes(oe.y))},fromBytes(D){const F=D.length,W=D[0],oe=D.subarray(1);if(F===i&&(W===2||W===3)){const he=Ur(oe);if(!o(he))throw new Error("Point is not on curve");const ne=h(he);let ge=n.sqrt(ne);const je=(ge&It)===It;return(W&1)===1!==je&&(ge=n.neg(ge)),{x:he,y:ge}}else if(F===s&&W===4){const he=n.fromBytes(oe.subarray(0,n.BYTES)),ne=n.fromBytes(oe.subarray(n.BYTES,2*n.BYTES));return{x:he,y:ne}}else throw new Error(`Point of length ${F} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=D=>ji(Ui(D,t.nByteLength));function b(D){const F=r>>It;return D>F}function g(D){return b(D)?a(-D):D}const v=(D,F,W)=>Ur(D.slice(F,W));class y{constructor(F,W,oe){this.r=F,this.s=W,this.recovery=oe,this.assertValidity()}static fromCompact(F){const W=t.nByteLength;return F=Lt("compactSignature",F,W*2),new y(v(F,0,W),v(F,W,2*W))}static fromDER(F){const{r:W,s:oe}=Dr.toSig(Lt("DER",F));return new y(W,oe)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(F){return new y(this.r,this.s,F)}recoverPublicKey(F){const{r:W,s:oe,recovery:he}=this,ne=P(Lt("msgHash",F));if(he==null||![0,1,2,3].includes(he))throw new Error("recovery id invalid");const ge=he===2||he===3?W+t.n:W;if(ge>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const je=he&1?"03":"02",Nt=l.fromHex(je+m(ge)),Ft=c(ge),vn=a(-ne*Ft),qn=a(oe*Ft),it=l.BASE.multiplyAndAddUnsafe(Nt,vn,qn);if(!it)throw new Error("point at infinify");return it.assertValidity(),it}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return zi(this.toDERHex())}toDERHex(){return Dr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zi(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const x={isValidPrivateKey(D){try{return u(D),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const D=sg(t.n);return i$(t.randomBytes(D),t.n)},precompute(D=8,F=l.BASE){return F._setWindowSize(D),F.multiply(BigInt(3)),F}};function E(D,F=!0){return l.fromPrivateKey(D).toRawBytes(F)}function $(D){const F=D instanceof Uint8Array,W=typeof D=="string",oe=(F||W)&&D.length;return F?oe===i||oe===s:W?oe===2*i||oe===2*s:D instanceof l}function k(D,F,W=!0){if($(D))throw new Error("first arg must be private key");if(!$(F))throw new Error("second arg must be public key");return l.fromHex(F).multiply(u(D)).toRawBytes(W)}const A=t.bits2int||function(D){const F=Ur(D),W=D.length*8-t.nBitLength;return W>0?F>>BigInt(W):F},P=t.bits2int_modN||function(D){return a(A(D))},O=Lh(t.nBitLength);function T(D){if(typeof D!="bigint")throw new Error("bigint expected");if(!($n<=D&&D<O))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ui(D,t.nByteLength)}function L(D,F,W=N){if(["recovered","canonical"].some(tn=>tn in W))throw new Error("sign() legacy options not supported");const{hash:oe,randomBytes:he}=t;let{lowS:ne,prehash:ge,extraEntropy:je}=W;ne==null&&(ne=!0),D=Lt("msgHash",D),ge&&(D=Lt("prehashed msgHash",oe(D)));const Nt=P(D),Ft=u(F),vn=[T(Ft),T(Nt)];if(je!=null){const tn=je===!0?he(n.BYTES):je;vn.push(Lt("extraEntropy",tn))}const qn=to(...vn),it=Nt;function kr(tn){const Wn=A(tn);if(!d(Wn))return;const rs=c(Wn),xt=l.BASE.multiply(Wn).toAffine(),Ge=a(xt.x);if(Ge===$n)return;const Gn=a(rs*a(it+Ge*Ft));if(Gn===$n)return;let jo=(xt.x===Ge?0:2)|Number(xt.y&It),li=Gn;return ne&&b(Gn)&&(li=g(Gn),jo^=1),new y(Ge,li,jo)}return{seed:qn,k2sig:kr}}const N={lowS:t.lowS,prehash:!1},J={lowS:t.lowS,prehash:!1};function Q(D,F,W=N){const{seed:oe,k2sig:he}=L(D,F,W),ne=t;return ng(ne.hash.outputLen,ne.nByteLength,ne.hmac)(oe,he)}l.BASE._setWindowSize(8);function ae(D,F,W,oe=J){var xt;const he=D;if(F=Lt("msgHash",F),W=Lt("publicKey",W),"strict"in oe)throw new Error("options.strict was renamed to lowS");const{lowS:ne,prehash:ge}=oe;let je,Nt;try{if(typeof he=="string"||he instanceof Uint8Array)try{je=y.fromDER(he)}catch(Ge){if(!(Ge instanceof Dr.Err))throw Ge;je=y.fromCompact(he)}else if(typeof he=="object"&&typeof he.r=="bigint"&&typeof he.s=="bigint"){const{r:Ge,s:Gn}=he;je=new y(Ge,Gn)}else throw new Error("PARSE");Nt=l.fromHex(W)}catch(Ge){if(Ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ne&&je.hasHighS())return!1;ge&&(F=t.hash(F));const{r:Ft,s:vn}=je,qn=P(F),it=c(vn),kr=a(qn*it),tn=a(Ft*it),Wn=(xt=l.BASE.multiplyAndAddUnsafe(Nt,kr,tn))==null?void 0:xt.toAffine();return Wn?a(Wn.x)===Ft:!1}return{CURVE:t,getPublicKey:E,getSharedSecret:k,sign:Q,verify:ae,ProjectivePoint:l,Signature:y,utils:x}}class ag extends ih{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,w1(t);const r=Wa(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return Ni(this),this.iHash.update(t),this}digestInto(t){Ni(this),rh(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const cg=(e,t,n)=>new ag(e,t).update(n).digest();cg.create=(e,t)=>new ag(e,t);function f$(e){return{hash:e,hmac:(t,...n)=>cg(e,t,P1(...n)),randomBytes:I1}}function p$(e,t){const n=r=>d$({...e,...f$(r)});return Object.freeze({...n(t),create:n})}const lg=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),m$=BigInt(1),Yl=BigInt(2),_f=(e,t)=>(e+t/Yl)/t;function g$(e){const t=lg,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=Pt(u,n,t)*u%t,d=Pt(h,n,t)*u%t,m=Pt(d,Yl,t)*l%t,b=Pt(m,i,t)*m%t,g=Pt(b,s,t)*b%t,v=Pt(g,a,t)*g%t,y=Pt(v,c,t)*v%t,x=Pt(y,a,t)*g%t,E=Pt(x,n,t)*u%t,$=Pt(E,o,t)*b%t,k=Pt($,r,t)*l%t,A=Pt(k,Yl,t);if(!Zl.eql(Zl.sqr(A),e))throw new Error("Cannot find square root");return A}const Zl=r$(lg,void 0,void 0,{sqrt:g$}),jh=p$({a:BigInt(0),b:BigInt(7),Fp:Zl,n:xf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=xf,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-m$*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=_f(s*e,t),c=_f(-r*e,t);let l=dt(e-a*n-c*i,t),u=dt(-a*r-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},h0);BigInt(0);jh.ProjectivePoint;function b$({r:e,s:t,v:n,yParity:r}){const i=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new jh.Signature(Ce(e),Ce(t)).toCompactHex()}${i===0?"1b":"1c"}`}async function zh(e,t){const{address:n,factory:r,factoryData:i,hash:s,signature:o,...a}=t,c=fn(o)?o:typeof o=="object"&&"r"in o&&"s"in o?b$(o):Ue(o),l=await(async()=>!r&&!i||$E(c)||await X(e,Hl,"getCode")({address:n})?c:SE({address:r,data:i,signature:c}))();try{const{data:u}=await X(e,nc,"call")({data:tc({abi:r_,args:[n,s,l],bytecode:a_}),...a});return KE(u??"0x0","0x1")}catch(u){if(u instanceof r0)return!1;throw u}}async function y$(e,{address:t,message:n,factory:r,factoryData:i,signature:s,...o}){const a=Y0(n);return zh(e,{address:t,factory:r,factoryData:i,hash:a,signature:s,...o})}async function w$(e,t){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:l,...u}=t,h=fE({message:o,primaryType:a,types:c,domain:l});return zh(e,{address:n,factory:r,factoryData:i,hash:h,signature:s,...u})}function ug(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=e.pollingInterval}){const a=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const h=We(["watchBlockNumber",e.uid,t,n,o]);return br(h,{onBlockNumber:r,onError:i},d=>ko(async()=>{var m;try{const b=await X(e,Co,"getBlockNumber")({cacheTime:0});if(c){if(b===c)return;if(b-c>1&&n)for(let g=c+1n;g<b;g++)d.onBlockNumber(g,c),c=g}(!c||b>c)&&(d.onBlockNumber(b,c),c=b)}catch(b){(m=d.onError)==null||m.call(d,b)}},{emitOnBegin:t,interval:o}))})():(()=>{const h=We(["watchBlockNumber",e.uid,t,n]);return br(h,{onBlockNumber:r,onError:i},d=>{let m=!0,b=()=>m=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(x=>x.config.type==="webSocket");return y?y.value:e.transport}return e.transport})(),{unsubscribe:v}=await g.subscribe({params:["newHeads"],onData(y){var E;if(!m)return;const x=Ce((E=y.result)==null?void 0:E.number);d.onBlockNumber(x,c),c=x},onError(y){var x;(x=d.onError)==null||x.call(d,y)}});b=v,m||b()}catch(g){i==null||i(g)}})(),()=>b()})})()}async function v$(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:i=e.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a}){const c=We(["waitForTransactionReceipt",e.uid,n]);let l=0,u,h,d,m=!1;return new Promise((b,g)=>{a&&setTimeout(()=>g(new cf({hash:n})),a);const v=br(c,{onReplaced:r,resolve:b,reject:g},y=>{const x=X(e,ug,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(E){const $=A=>{x(),A(),v()};let k=E;if(!m){l>s&&$(()=>y.reject(new cf({hash:n})));try{if(d){if(t>1&&(!d.blockNumber||k-d.blockNumber+1n<t))return;$(()=>y.resolve(d));return}if(u||(m=!0,await Ul(async()=>{u=await X(e,Mh,"getTransaction")({hash:n}),u.blockNumber&&(k=u.blockNumber)},{delay:o,retryCount:s}),m=!1),d=await X(e,Wl,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||k-d.blockNumber+1n<t))return;$(()=>y.resolve(d))}catch(A){if(A instanceof t0||A instanceof n0){if(!u){m=!1;return}try{h=u,m=!0;const P=await Ul(()=>X(e,gr,"getBlock")({blockNumber:k,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:L})=>L instanceof s0});m=!1;const O=P.transactions.find(({from:L,nonce:N})=>L===h.from&&N===h.nonce);if(!O||(d=await X(e,Wl,"getTransactionReceipt")({hash:O.hash}),t>1&&(!d.blockNumber||k-d.blockNumber+1n<t)))return;let T="replaced";O.to===h.to&&O.value===h.value?T="repriced":O.from===O.to&&O.value===0n&&(T="cancelled"),$(()=>{var L;(L=y.onReplaced)==null||L.call(y,{reason:T,replacedTransaction:h,transaction:O,transactionReceipt:d}),y.resolve(d)})}catch(P){$(()=>y.reject(P))}}else $(()=>y.reject(A))}finally{l++}}}})})})}function x$(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),u=o??!1;let h;return l?(()=>{const b=We(["watchBlocks",e.uid,t,n,r,u,c]);return br(b,{onBlock:i,onError:s},g=>ko(async()=>{var v;try{const y=await X(e,gr,"getBlock")({blockTag:t,includeTransactions:u});if(y.number&&(h!=null&&h.number)){if(y.number===h.number)return;if(y.number-h.number>1&&n)for(let x=(h==null?void 0:h.number)+1n;x<y.number;x++){const E=await X(e,gr,"getBlock")({blockNumber:x,includeTransactions:u});g.onBlock(E,h),h=E}}(!(h!=null&&h.number)||t==="pending"&&!(y!=null&&y.number)||y.number&&y.number>h.number)&&(g.onBlock(y,h),h=y)}catch(y){(v=g.onError)==null||v.call(g,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,g=()=>b=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(E=>E.config.type==="webSocket");return x?x.value:e.transport}return e.transport})(),{unsubscribe:y}=await v.subscribe({params:["newHeads"],onData(x){var k,A,P;if(!b)return;const $=(((P=(A=(k=e.chain)==null?void 0:k.formatters)==null?void 0:A.block)==null?void 0:P.format)||bh)(x.result);i($,h),h=$},onError(x){s==null||s(x)}});g=y,b||g()}catch(v){s==null||s(v)}})(),()=>g()})()}function _$(e,{address:t,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:h}){const d=typeof l<"u"?l:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),m=h??!1;return d?(()=>{const v=We(["watchEvent",t,n,r,e.uid,i,u,o]);return br(v,{onLogs:c,onError:a},y=>{let x;o!==void 0&&(x=o-1n);let E,$=!1;const k=ko(async()=>{var A;if(!$){try{E=await X(e,R0,"createEventFilter")({address:t,args:n,event:i,events:s,strict:m,fromBlock:o})}catch{}$=!0;return}try{let P;if(E)P=await X(e,rc,"getFilterChanges")({filter:E});else{const O=await X(e,Co,"getBlockNumber")({});x&&x!==O?P=await X(e,Sh,"getLogs")({address:t,args:n,event:i,events:s,fromBlock:x+1n,toBlock:O}):P=[],x=O}if(P.length===0)return;if(r)y.onLogs(P);else for(const O of P)y.onLogs([O])}catch(P){E&&P instanceof Qr&&($=!1),(A=y.onError)==null||A.call(y,P)}},{emitOnBegin:!0,interval:u});return async()=>{E&&await X(e,ic,"uninstallFilter")({filter:E}),k()}})})():(()=>{let v=!0,y=()=>v=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(P=>P.config.type==="webSocket");return A?A.value:e.transport}return e.transport})(),E=s??(i?[i]:void 0);let $=[];E&&($=[E.flatMap(P=>xo({abi:[P],eventName:P.name,args:n}))],i&&($=$[0]));const{unsubscribe:k}=await x.subscribe({params:["logs",{address:t,topics:$}],onData(A){var O;if(!v)return;const P=A.result;try{const{eventName:T,args:L}=Eh({abi:E??[],data:P.data,topics:P.topics,strict:m}),N=Ln(P,{args:L,eventName:T});c([N])}catch(T){let L,N;if(T instanceof Ns||T instanceof qa){if(h)return;L=T.abiItem.name,N=(O=T.abiItem.inputs)==null?void 0:O.some(Q=>!("name"in Q&&Q.name))}const J=Ln(P,{args:N?[]:{},eventName:L});c([J])}},onError(A){a==null||a(A)}});y=k,v||y()}catch(x){a==null||a(x)}})(),()=>y()})()}function E$(e,{batch:t=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=e.pollingInterval}){return(typeof i<"u"?i:e.transport.type!=="webSocket")?(()=>{const l=We(["watchPendingTransactions",e.uid,t,s]);return br(l,{onTransactions:r,onError:n},u=>{let h;const d=ko(async()=>{var m;try{if(!h)try{h=await X(e,M0,"createPendingTransactionFilter")({});return}catch(g){throw d(),g}const b=await X(e,rc,"getFilterChanges")({filter:h});if(b.length===0)return;if(t)u.onTransactions(b);else for(const g of b)u.onTransactions([g])}catch(b){(m=u.onError)==null||m.call(u,b)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await X(e,ic,"uninstallFilter")({filter:h}),d()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:h}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!l)return;const m=d.result;r([m])},onError(d){n==null||n(d)}});u=h,l||u()}catch(h){n==null||n(h)}})(),()=>u()})()}function $$(e){var h,d,m;const{scheme:t,statement:n,...r}=((h=e.match(S$))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=((d=e.match(A$))==null?void 0:d.groups)??{},u=(m=e.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const S$=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,A$=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function k$(e){const{address:t,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=e;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||t&&!mn(r.address,t))return!1}catch{return!1}return!0}async function C$(e,t){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=t,u=$$(i);if(!u.address||!k$({address:n,domain:r,message:u,nonce:s,scheme:o,time:c}))return!1;const d=Y0(i);return zh(e,{address:u.address,hash:d,signature:a,...l})}function P$(e){return{call:t=>nc(e,t),createBlockFilter:()=>rE(e),createContractEventFilter:t=>Jm(e,t),createEventFilter:t=>R0(e,t),createPendingTransactionFilter:()=>M0(e),estimateContractGas:t=>e_(e,t),estimateGas:t=>_h(e,t),getBalance:t=>iE(e,t),getBlobBaseFee:()=>sE(e),getBlock:t=>gr(e,t),getBlockNumber:t=>Co(e,t),getBlockTransactionCount:t=>oE(e,t),getBytecode:t=>Hl(e,t),getChainId:()=>Ao(e),getCode:t=>Hl(e,t),getContractEvents:t=>x0(e,t),getEip712Domain:t=>k_(e,t),getEnsAddress:t=>z_(e,t),getEnsAvatar:t=>eE(e,t),getEnsName:t=>tE(e,t),getEnsResolver:t=>nE(e,t),getEnsText:t=>O0(e,t),getFeeHistory:t=>cE(e,t),estimateFeesPerGas:t=>Ux(e,t),getFilterChanges:t=>rc(e,t),getFilterLogs:t=>lE(e,t),getGasPrice:()=>yh(e),getLogs:t=>Sh(e,t),getProof:t=>ME(e,t),estimateMaxPriorityFeePerGas:t=>zx(e,t),getStorageAt:t=>DE(e,t),getTransaction:t=>Mh(e,t),getTransactionConfirmations:t=>NE(e,t),getTransactionCount:t=>u0(e,t),getTransactionReceipt:t=>Wl(e,t),multicall:t=>FE(e,t),prepareTransactionRequest:t=>Qa(e,t),readContract:t=>jn(e,t),sendRawTransaction:t=>kh(e,t),simulateContract:t=>g_(e,t),verifyMessage:t=>y$(e,t),verifySiweMessage:t=>C$(e,t),verifyTypedData:t=>w$(e,t),uninstallFilter:t=>ic(e,t),waitForTransactionReceipt:t=>v$(e,t),watchBlocks:t=>x$(e,t),watchBlockNumber:t=>ug(e,t),watchContractEvent:t=>E_(e,t),watchEvent:t=>_$(e,t),watchPendingTransactions:t=>E$(e,t)}}function I$(e){const{key:t="public",name:n="Public Client"}=e;return k0({...e,key:t,name:n,type:"publicClient"}).extend(P$)}function T$(e,t){const{abi:n,args:r,bytecode:i,...s}=t,o=tc({abi:n,args:r,bytecode:i});return Ch(e,{...s,data:o})}async function B$(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Ga(r))}async function O$(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function R$(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>nr(n))}async function M$(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function D$(e,{account:t=e.account,message:n}){if(!t)throw new sc({docsPath:"/docs/actions/wallet/signMessage"});const r=Rt(t);if(r.type==="local")return r.signMessage({message:n});const i=typeof n=="string"?Jr(n):n.raw instanceof Uint8Array?Y(n.raw):n.raw;return e.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function N$(e,t){var l,u,h,d;const{account:n=e.account,chain:r=e.chain,...i}=t;if(!n)throw new sc({docsPath:"/docs/actions/wallet/signTransaction"});const s=Rt(n);So({account:s,...t});const o=await X(e,Ao,"getChainId")({});r!==null&&S0({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=e.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||$o;return s.type==="local"?s.signTransaction({...i,chainId:o},{serializer:(d=(h=e.chain)==null?void 0:h.serializers)==null?void 0:d.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(i),chainId:re(o),from:s.address}]},{retryCount:0})}async function F$(e,t){const{account:n=e.account,domain:r,message:i,primaryType:s}=t;if(!n)throw new sc({docsPath:"/docs/actions/wallet/signTypedData"});const o=Rt(n),a={EIP712Domain:V0({domain:r}),...t.types};if(U0({domain:r,message:i,primaryType:s,types:a}),o.type==="local")return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=bE({domain:r,message:i,primaryType:s,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function L$(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:re(t)}]},{retryCount:0})}async function j$(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function z$(e){return{addChain:t=>P_(e,t),deployContract:t=>T$(e,t),getAddresses:()=>B$(e),getChainId:()=>Ao(e),getPermissions:()=>O$(e),prepareTransactionRequest:t=>Qa(e,t),requestAddresses:()=>R$(e),requestPermissions:t=>M$(e,t),sendRawTransaction:t=>kh(e,t),sendTransaction:t=>Ch(e,t),signMessage:t=>D$(e,t),signTransaction:t=>N$(e,t),signTypedData:t=>F$(e,t),switchChain:t=>L$(e,t),watchAsset:t=>j$(e,t),writeContract:t=>S_(e,t)}}function U$(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return k0({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(z$)}function V$(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:i,retryDelay:s}=t;return({chain:o,retryCount:a,timeout:c})=>{var d;const l=t.retryCount??a,u=c??t.timeout??1e4,h=e||((d=o==null?void 0:o.rpcUrls.default.webSocket)==null?void 0:d[0]);if(!h)throw new Ph;return Po({key:n,name:r,async request({method:m,params:b}){const g={method:m,params:b},v=await oa(h,{reconnect:i}),{error:y,result:x}=await v.requestAsync({body:g,timeout:u});if(y)throw new Ya({body:g,error:y,url:h});return x},retryCount:l,retryDelay:s,timeout:u,type:"webSocket"},{getSocket(){return dE(h)},getRpcClient(){return oa(h)},async subscribe({params:m,onData:b,onError:g}){const v=await oa(h),{result:y}=await new Promise((x,E)=>v.request({body:{method:"eth_subscribe",params:m},onResponse($){if($.error){E($.error),g==null||g($.error);return}if(typeof $.id=="number"){x($);return}$.method==="eth_subscription"&&b($.params)}}));return{subscriptionId:y,async unsubscribe(){return new Promise(x=>v.request({body:{method:"eth_unsubscribe",params:[y]},onResponse:x}))}}}})}}const on="0x0000000000000000000000000000000000000000",H$=2n**16n-1n,Vi=2n**48n-1n,q$=2n**160n-1n,W$=2n**256n-1n;function G$(e){const{r:t,s:n}=jh.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[i,s]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof i<"u"?{r:re(t,{size:32}),s:re(n,{size:32}),v:i,yParity:s}:{r:re(t,{size:32}),s:re(n,{size:32}),yParity:s}}const K$={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Y$={block:c0({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const i=Xa(r);return i.typeHex==="0x7e"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?Ce(r.mint):void 0,i.sourceHash=r.sourceHash,i.type="deposit"),i}),stateRoot:e.stateRoot}}}),transaction:a0({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?Ce(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:K0({format(e){return{l1GasPrice:e.l1GasPrice?Ce(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?Ce(e.l1GasUsed):null,l1Fee:e.l1Fee?Ce(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function Z$(e,t){return Q$(e)?X$(e):X0(e,t)}const J$={transaction:Z$};function X$(e){eS(e);const{sourceHash:t,data:n,from:r,gas:i,isSystemTx:s,mint:o,to:a,value:c}=e,l=[t,r,a??"0x",o?Y(o):"0x",c?Y(c):"0x",i?Y(i):"0x",s?"0x1":"0x",n??"0x"];return Jt(["0x7e",ti(l)])}function Q$(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function eS(e){const{from:t,to:n}=e;if(t&&!Ne(t))throw new qe({address:t});if(n&&!Ne(n))throw new qe({address:n})}const Ef={contracts:K$,formatters:Y$,serializers:J$},tS=Xt({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),nS=Xt({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),rS=Xt({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),iS=Xt({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),sS=Xt({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),oS=Xt({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),aS=Xt({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),Uh=50000n,$f=H$*32n,hg={block:c0({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var s;if(typeof r=="string")return r;const i=(s=hg.transaction)==null?void 0:s.format(r);return i.typeHex==="0x71"?i.type="eip712":i.typeHex==="0xff"&&(i.type="priority"),i});return{l1BatchNumber:e.l1BatchNumber?Ce(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?Ce(e.l1BatchTimestamp):null,transactions:t}}}),transaction:a0({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?Ce(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?Ce(e.l1BatchTxIndex):null}}}),transactionReceipt:K0({format(e){return{l1BatchNumber:e.l1BatchNumber?Ce(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?Ce(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...Ln(t),l1BatchNumber:t.l1BatchNumber?Ce(t.l1BatchNumber):null,transactionLogIndex:pn(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:Ce(t.blockHash),blockHash:t.blockHash,l1BatchNumber:Ce(t.l1BatchNumber),transactionIndex:Ce(t.transactionIndex),shardId:Ce(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:Ce(t.logIndex)}))}}}),transactionRequest:Nx({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:Y(e.gasPerPubdata)}:{gasPerPubdata:Y(Uh)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(Ht(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(Ht(t)))}:{},...e.customSignature?{customSignature:Array.from(Ht(e.customSignature))}:{}},type:"0x71"}:{}}})};class cS extends M{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidEip712TransactionError"})}}function dg(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function fg(e){const{chainId:t,to:n,from:r,paymaster:i,paymasterInput:s}=e;if(!dg(e))throw new cS;if(!t||t<=0)throw new ec({chainId:t});if(n&&!Ne(n))throw new qe({address:n});if(r&&!Ne(r))throw new qe({address:r});if(i&&!Ne(i))throw new qe({address:i});if(i&&!s)throw new M("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new M("`paymaster` must be provided when `paymasterInput` is defined")}function lS(e,t){return dg(e)?hS(e):X0(e,t)}const uS={transaction:lS};function hS(e){const{chainId:t,gas:n,nonce:r,to:i,from:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:u,paymaster:h,paymasterInput:d,gasPerPubdata:m,data:b}=e;fg(e);const g=[r?Y(r):"0x",c?Y(c):"0x",a?Y(a):"0x",n?Y(n):"0x",i??"0x",o?Y(o):"0x",b??"0x0",Y(t),Y(""),Y(""),Y(t),s??"0x",Y(m||Uh),u??[],l??"0x",h&&d?[h,d]:[]];return Jt(["0x71",ti(g)])}class dS extends M{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthExceedsMaxSizeError"})}}class fS extends M{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthInWordsMustBeOddError"})}}class pS extends M{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthMustBeDivisibleBy32Error"})}}function mS(e){const t=Vt(e);if(t.length%32!==0)throw new pS({givenLength:t.length});if(t.length>$f)throw new dS({givenLength:t.length,maxBytecodeSize:$f});const n=d0(t),r=Vt(n),i=t.length/32;if(i%2===0)throw new fS({givenLengthInWords:i});const s=Vt(i),o=un(s,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(o,2),r}const gS=e=>{fg(e);const t=bS(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function bS(e){const{gas:t,nonce:n,to:r,from:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:l,paymasterInput:u,gasPerPubdata:h,data:d}=e;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:h??Uh,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:l?BigInt(l):0n,nonce:n?BigInt(n):0n,value:s??0n,data:d||"0x0",factoryDeps:(c==null?void 0:c.map(m=>Y(mS(m))))??[],paymasterInput:u||"0x"}}const yS={formatters:hg,serializers:uS,custom:{getEip712Domain:gS}},wS=Xt({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),ls=1,vS=Xt({...Ef,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Ef.contracts,disputeGameFactory:{[ls]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[ls]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[ls]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[ls]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:ls}),xS=Xt({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),_S=Xt({...yS,id:324,name:"zkSync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"zkSync Explorer",url:"https://explorer.zksync.io/"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}});var ES={};const Se=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ES,ze=Object.keys,tt=Array.isArray;function ht(e,t){return typeof t!="object"||ze(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||Se.Promise||(Se.Promise=Promise);const no=Object.getPrototypeOf,$S={}.hasOwnProperty;function Ct(e,t){return $S.call(e,t)}function Hi(e,t){typeof t=="function"&&(t=t(no(e))),(typeof Reflect>"u"?ze:Reflect.ownKeys)(t).forEach(n=>{In(e,n,t[n])})}const pg=Object.defineProperty;function In(e,t,n,r){pg(e,t,ht(n&&Ct(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function xi(e){return{from:function(t){return e.prototype=Object.create(t.prototype),In(e.prototype,"constructor",e),{extend:Hi.bind(null,e.prototype)}}}}const SS=Object.getOwnPropertyDescriptor;function Vh(e,t){let n;return SS(e,t)||(n=no(e))&&Vh(n,t)}const AS=[].slice;function $a(e,t,n){return AS.call(e,t,n)}function mg(e,t){return t(e)}function ps(e){if(!e)throw new Error("Assertion Failed")}function gg(e){Se.setImmediate?setImmediate(e):setTimeout(e,0)}function bg(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function Tn(e,t){if(typeof t=="string"&&Ct(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=Tn(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a==null?void 0:Tn(a,t.substr(o+1))}}function qt(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){ps(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)qt(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),a=t.substr(s+1);if(a==="")n===void 0?tt(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var c=e[o];c&&Ct(e,o)||(c=e[o]={}),qt(c,a,n)}}else n===void 0?tt(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function yg(e){var t={};for(var n in e)Ct(e,n)&&(t[n]=e[n]);return t}const kS=[].concat;function wg(e){return kS.apply([],e)}const vg="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(wg([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Se[e]),CS=vg.map(e=>Se[e]);bg(vg,e=>[e,!0]);let er=null;function To(e){er=typeof WeakMap<"u"&&new WeakMap;const t=Jl(e);return er=null,t}function Jl(e){if(!e||typeof e!="object")return e;let t=er&&er.get(e);if(t)return t;if(tt(e)){t=[],er&&er.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Jl(e[n]))}else if(CS.indexOf(e.constructor)>=0)t=e;else{const s=no(e);for(var i in t=s===Object.prototype?{}:Object.create(s),er&&er.set(e,t),e)Ct(e,i)&&(t[i]=Jl(e[i]))}return t}const{toString:PS}={};function Xl(e){return PS.call(e).slice(8,-1)}const Ql=typeof Symbol<"u"?Symbol.iterator:"@@iterator",IS=typeof Ql=="symbol"?function(e){var t;return e!=null&&(t=e[Ql])&&t.apply(e)}:function(){return null},bi={};function Sn(e){var t,n,r,i;if(arguments.length===1){if(tt(e))return e.slice();if(this===bi&&typeof e=="string")return[e];if(i=IS(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Hh=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var wn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xg(e,t){wn=e,_g=t}var _g=()=>!0;const TS=!new Error("").stack;function ai(){if(TS)try{throw ai.arguments,new Error}catch(e){return e}return new Error}function eu(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(_g).map(r=>`
`+r).join("")):""}var Eg=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],qh=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Eg),BS={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function _i(e,t){this._e=ai(),this.name=e,this.message=t}function $g(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Sa(e,t,n,r){this._e=ai(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=$g(e,t)}function _s(e,t){this._e=ai(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=$g(e,t)}xi(_i).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+eu(this._e,2))}},toString:function(){return this.name+": "+this.message}}),xi(Sa).from(_i),xi(_s).from(_i);var Wh=qh.reduce((e,t)=>(e[t]=t+"Error",e),{});const OS=_i;var ee=qh.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=ai(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=BS[t]||n,this.inner=null)}return xi(r).from(OS),e[t]=r,e},{});ee.Syntax=SyntaxError,ee.Type=TypeError,ee.Range=RangeError;var Sf=Eg.reduce((e,t)=>(e[t+"Error"]=ee[t],e),{}),aa=qh.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=ee[t]),e),{});function _e(){}function ro(e){return e}function RS(e,t){return e==null||e===ro?t:function(n){return t(e(n))}}function ni(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function MS(e,t){return e===_e?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ni(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ni(i,this.onerror):i),s!==void 0?s:n}}function DS(e,t){return e===_e?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ni(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ni(r,this.onerror):r)}}function NS(e,t){return e===_e?t:function(n){var r=e.apply(this,arguments);ht(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ni(i,this.onsuccess):i),s&&(this.onerror=this.onerror?ni(s,this.onerror):s),r===void 0?o===void 0?void 0:o:ht(r,o)}}function FS(e,t){return e===_e?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Gh(e,t){return e===_e?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}aa.ModifyError=Sa,aa.DexieError=_i,aa.BulkError=_s;var io={};const Sg=100,[tu,Aa,nu]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,no(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,no(t),e]})(),Ag=Aa&&Aa.then,ca=tu&&tu.constructor,Kh=!!nu;var ru=!1,LS=nu?()=>{nu.then(Go)}:Se.setImmediate?setImmediate.bind(null,Go):Se.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Go(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Go,0)},Es=function(e,t){ms.push([e,t]),ka&&(LS(),ka=!1)},iu=!0,ka=!0,Vr=[],la=[],su=null,ou=ro,Ei={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Cf,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Cf(e[0],e[1])}catch{}})}},Z=Ei,ms=[],Hr=0,ua=[];function q(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=_e,this._lib=!1;var t=this._PSD=Z;if(wn&&(this._stackHolder=ai(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==io)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&cu(this,this._value))}this._state=null,this._value=null,++t.ref,Cg(this,e)}const au={get:function(){var e=Z,t=Ca;function n(r,i){var s=!e.global&&(e!==Z||t!==Ca);const o=s&&!zn();var a=new q((c,l)=>{Yh(this,new kg(Pa(r,e,s,o),Pa(i,e,s,o),c,l,e))});return wn&&Tg(a,this),a}return n.prototype=io,n},set:function(e){In(this,"then",e&&e.prototype===io?au:{get:function(){return e},set:au.set})}};function kg(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function Cg(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Bo();n&&typeof n.then=="function"?Cg(e,(i,s)=>{n instanceof q?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,Pg(e)),r&&Oo()}},cu.bind(null,e))}catch(n){cu(e,n)}}function cu(e,t){if(la.push(t),e._state===null){var n=e._lib&&Bo();t=ou(t),e._state=!1,e._value=t,wn&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch{}}(()=>{var r=Vh(t,"stack");t._promise=e,In(t,"stack",{get:()=>ru?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){Vr.some(i=>i._value===r._value)||Vr.push(r)}(e),Pg(e),n&&Oo()}}function Pg(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Yh(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),Hr===0&&(++Hr,Es(()=>{--Hr==0&&Zh()},[]))}function Yh(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Hr,Es(jS,[n,e,t])}else e._listeners.push(t)}function jS(e,t,n){try{su=t;var r,i=t._value;t._state?r=e(i):(la.length&&(la=[]),r=e(i),la.indexOf(i)===-1&&function(s){for(var o=Vr.length;o;)if(Vr[--o]._value===s._value)return void Vr.splice(o,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{su=null,--Hr==0&&Zh(),--n.psd.ref||n.psd.finalize()}}function Ig(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,o=e._value;o!=null?(i=o.name||"Error",s=o.message||o,r=eu(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+r)}return wn&&((r=eu(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&Ig(e._prev,t,n)),t}function Tg(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Go(){Bo()&&Oo()}function Bo(){var e=iu;return iu=!1,ka=!1,e}function Oo(){var e,t,n;do for(;ms.length>0;)for(e=ms,ms=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(ms.length>0);iu=!0,ka=!0}function Zh(){var e=Vr;Vr=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=ua.slice(0),n=t.length;n;)t[--n]()}function Ko(e){return new q(io,!1,e)}function ke(e,t){var n=Z;return function(){var r=Bo(),i=Z;try{return wr(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{wr(i,!1),r&&Oo()}}}Hi(q.prototype,{then:au,_then:function(e,t){Yh(this,new kg(null,null,e,t,Z))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Ko(r)):this.then(null,r=>r&&r.name===t?n(r):Ko(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Ko(t)))},stack:{get:function(){if(this._stack)return this._stack;try{ru=!0;var e=Ig(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{ru=!1}}},timeout:function(e,t){return e<1/0?new q((n,r)=>{var i=setTimeout(()=>r(new ee.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&In(q.prototype,Symbol.toStringTag,"Dexie.Promise"),Ei.env=Bg(),Hi(q,{all:function(){var e=Sn.apply(null,arguments).map(Yo);return new q(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>q.resolve(i).then(o=>{e[s]=o,--r||t(e)},n))})},resolve:e=>{if(e instanceof q)return e;if(e&&typeof e.then=="function")return new q((n,r)=>{e.then(n,r)});var t=new q(io,!0,e);return Tg(t,su),t},reject:Ko,race:function(){var e=Sn.apply(null,arguments).map(Yo);return new q((t,n)=>{e.map(r=>q.resolve(r).then(t,n))})},PSD:{get:()=>Z,set:e=>Z=e},totalEchoes:{get:()=>Ca},newPSD:yr,usePSD:ts,scheduler:{get:()=>Es,set:e=>{Es=e}},rejectionMapper:{get:()=>ou,set:e=>{ou=e}},follow:(e,t)=>new q((n,r)=>yr((i,s)=>{var o=Z;o.unhandleds=[],o.onunhandled=s,o.finalize=ni(function(){(function(a){function c(){a(),ua.splice(ua.indexOf(c),1)}ua.push(c),++Hr,Es(()=>{--Hr==0&&Zh()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),e()},t,n,r))}),ca&&(ca.allSettled&&In(q,"allSettled",function(){const e=Sn.apply(null,arguments).map(Yo);return new q(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>q.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||t(r)))})}),ca.any&&typeof AggregateError<"u"&&In(q,"any",function(){const e=Sn.apply(null,arguments).map(Yo);return new q((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,o)=>q.resolve(s).then(a=>t(a),a=>{i[o]=a,--r||n(new AggregateError(i))}))})}));const Qe={awaits:0,echoes:0,id:0};var zS=0,ha=[],qc=0,Ca=0,US=0;function yr(e,t,n,r){var i=Z,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++US;var o=Ei.env;s.env=Kh?{Promise:q,PromiseProp:{value:q,configurable:!0,writable:!0},all:q.all,race:q.race,allSettled:q.allSettled,any:q.any,resolve:q.resolve,reject:q.reject,nthen:Af(o.nthen,s),gthen:Af(o.gthen,s)}:{},t&&ht(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=ts(s,e,n,r);return s.ref===0&&s.finalize(),a}function es(){return Qe.id||(Qe.id=++zS),++Qe.awaits,Qe.echoes+=Sg,Qe.id}function zn(){return!!Qe.awaits&&(--Qe.awaits==0&&(Qe.id=0),Qe.echoes=Qe.awaits*Sg,!0)}function Yo(e){return Qe.echoes&&e&&e.constructor===ca?(es(),e.then(t=>(zn(),t),t=>(zn(),Ve(t)))):e}function VS(e){++Ca,Qe.echoes&&--Qe.echoes!=0||(Qe.echoes=Qe.id=0),ha.push(Z),wr(e,!0)}function HS(){var e=ha[ha.length-1];ha.pop(),wr(e,!1)}function wr(e,t){var n=Z;if((t?!Qe.echoes||qc++&&e===Z:!qc||--qc&&e===Z)||Og(t?VS.bind(null,e):HS),e!==Z&&(Z=e,n===Ei&&(Ei.env=Bg()),Kh)){var r=Ei.env.Promise,i=e.env;Aa.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Se,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Bg(){var e=Se.Promise;return Kh?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Se,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Aa.then,gthen:e.prototype.then}:{}}function ts(e,t,n,r,i){var s=Z;try{return wr(e,!0),t(n,r,i)}finally{wr(s,!1)}}function Og(e){Ag.call(tu,e)}function Pa(e,t,n,r){return typeof e!="function"?e:function(){var i=Z;n&&es(),wr(t,!0);try{return e.apply(this,arguments)}finally{wr(i,!1),r&&Og(zn)}}}function Af(e,t){return function(n,r){return e.call(this,Pa(n,t),Pa(r,t))}}(""+Ag).indexOf("[native code]")===-1&&(es=zn=_e);const kf="unhandledrejection";function Cf(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(Se.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(kf,!0,!0),ht(r,i)):Se.CustomEvent&&ht(r=new CustomEvent(kf,{detail:i}),i),r&&Se.dispatchEvent&&(dispatchEvent(r),!Se.PromiseRejectionEvent&&Se.onunhandledrejection))try{Se.onunhandledrejection(r)}catch{}wn&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var Ve=q.reject;function lu(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Z.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Wh.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>lu(e,t,n,r))):Ve(s)}return i._promise(t,(s,o)=>yr(()=>(Z.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return Ve(new ee.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Ve(new ee.DatabaseClosed);e.open().catch(_e)}return e._state.dbReadyPromise.then(()=>lu(e,t,n,r))}const Pf="3.2.7",Nr="￿",uu=-1/0,_n="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Rg="String expected.",$s=[],lc=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),qS=lc,WS=lc,Mg=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),uc="__dbnames",Wc="readonly",Gc="readwrite";function ri(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Dg={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zo(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=To(t))[e],t)}class GS{_trans(t,n,r){const i=this._tx||Z.trans,s=this.name;function o(c,l,u){if(!u.schema[s])throw new ee.NotFound("Table "+s+" not part of transaction");return n(u.idbtrans,u)}const a=Bo();try{return i&&i.db===this.db?i===Z.trans?i._promise(t,o,r):yr(()=>i._promise(t,o,r),{trans:i,transless:Z.transless||Z}):lu(this.db,t,[this.name],o)}finally{a&&Oo()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(tt(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=ze(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(l=>{if(l.compound&&n.every(u=>l.keyPath.indexOf(u)>=0)){for(let u=0;u<n.length;++u)if(n.indexOf(l.keyPath[u])===-1)return!1;return!0}return!1}).sort((l,u)=>l.keyPath.length-u.keyPath.length)[0];if(r&&this.db._maxKey!==Nr){const l=r.keyPath.slice(0,n.length);return this.where(l).equals(l.map(u=>t[u]))}!r&&wn&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(l,u){try{return s.cmp(l,u)===0}catch{return!1}}const[a,c]=n.reduce(([l,u],h)=>{const d=i[h],m=t[h];return[l||d,l||!d?ri(u,d&&d.multi?b=>{const g=Tn(b,h);return tt(g)&&g.some(v=>o(m,v))}:b=>o(m,Tn(b,h))):u]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,tt(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(Ct(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){ht(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Zo(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?q.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{qt(t,i,o)}catch{}return o})}update(t,n){if(typeof t!="object"||tt(t))return this.where(":id").equals(t).modify(n);{const r=Tn(t,this.schema.primKey.keyPath);if(r===void 0)return Ve(new ee.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ze(n).forEach(i=>{qt(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Zo(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?q.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{qt(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?q.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Dg})).then(t=>t.numFailures?q.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&i)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let u=c&&a?t.map(Zo(c)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:u,wantResults:s}).then(({numFailures:h,results:d,lastResult:m,failures:b})=>{if(h===0)return s?d:m;throw new _s(`${this.name}.bulkAdd(): ${h} of ${l} operations failed`,b)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&i)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let u=c&&a?t.map(Zo(c)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:u,wantResults:s}).then(({numFailures:h,results:d,lastResult:m,failures:b})=>{if(h===0)return s?d:m;throw new _s(`${this.name}.bulkPut(): ${h} of ${l} operations failed`,b)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new _s(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Ss(e){var t={},n=function(o,a){if(a){for(var c=arguments.length,l=new Array(c-1);--c;)l[c-1]=arguments[c];return t[o].subscribe.apply(null,l),e}if(typeof o=="string")return t[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,a,c){if(typeof o!="object"){var l;a||(a=FS),c||(c=_e);var u={subscribers:[],fire:c,subscribe:function(h){u.subscribers.indexOf(h)===-1&&(u.subscribers.push(h),u.fire=a(u.fire,h))},unsubscribe:function(h){u.subscribers=u.subscribers.filter(function(d){return d!==h}),u.fire=u.subscribers.reduce(a,c)}};return t[o]=n[o]=u,u}ze(l=o).forEach(function(h){var d=l[h];if(tt(d))s(h,l[h][0],l[h][1]);else{if(d!=="asap")throw new ee.InvalidArgument("Invalid event config");var m=s(h,ro,function(){for(var b=arguments.length,g=new Array(b);b--;)g[b]=arguments[b];m.subscribers.forEach(function(v){gg(function(){v.apply(null,g)})})})}})}}function us(e,t){return xi(t).from({prototype:e}),t}function hi(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Kc(e,t){e.filter=ri(e.filter,t)}function Yc(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>ri(r(),t()):t,e.justLimit=n&&!r}function da(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new ee.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function If(e,t,n){const r=da(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Jo(e,t,n,r){const i=e.replayFilter?ri(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(a,c,l)=>{if(!i||i(c,l,d=>c.stop(d),d=>c.fail(d))){var u=c.primaryKey,h=""+u;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(u)),Ct(s,h)||(s[h]=!0,t(a,c,l))}};return Promise.all([e.or._iterate(o,n),Tf(If(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Tf(If(e,r,n),ri(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Tf(e,t,n,r){var i=ke(r?(s,o,a)=>n(r(s),o,a):n);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,a=>o=a,a=>{s.stop(a),o=_e},a=>{s.fail(a),o=_e})||i(s.value,s,a=>o=a),o()})})}function ot(e,t){try{const n=Bf(e),r=Bf(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,c=o<a?o:a;for(let l=0;l<c;++l)if(i[l]!==s[l])return i[l]<s[l]?-1:1;return o===a?0:o<a?-1:1}(Of(e),Of(t));case"Array":return function(i,s){const o=i.length,a=s.length,c=o<a?o:a;for(let l=0;l<c;++l){const u=ot(i[l],s[l]);if(u!==0)return u}return o===a?0:o<a?-1:1}(e,t)}}catch{}return NaN}function Bf(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=Xl(e);return n==="ArrayBuffer"?"binary":n}function Of(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class KS{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,Ve.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,Ve.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=ri(n.algorithm,t)}_iterate(t,n){return Jo(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&ht(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Jo(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(hi(r,!0))return i.count({trans:n,query:{index:da(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return Jo(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function o(l,u){return u?o(l[r[u]],u-1):l[i]}var a=this._ctx.dir==="next"?1:-1;function c(l,u){var h=o(l,s),d=o(u,s);return h<d?-a:h>d?a:0}return this.toArray(function(l){return l.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&hi(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=da(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return Jo(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,hi(n)?Yc(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):Yc(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Yc(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return Kc(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Kc(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=ri(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&hi(n,!0)&&n.limit>0)return this._read(i=>{var s=da(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Kc(this._ctx,function(i){var s=i.primaryKey.toString(),o=Ct(r,s);return r[s]=!0,!o}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=ze(t),o=s.length;i=function(g){for(var v=!1,y=0;y<o;++y){var x=s[y],E=t[x];Tn(g,x)!==E&&(qt(g,x,E),v=!0)}return v}}const a=n.table.core,{outbound:c,extractKey:l}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,h=[];let d=0;const m=[],b=(g,v)=>{const{failures:y,numFailures:x}=v;d+=g-x;for(let E of ze(y))h.push(y[E])};return this.clone().primaryKeys().then(g=>{const v=y=>{const x=Math.min(u,g.length-y);return a.getMany({trans:r,keys:g.slice(y,y+x),cache:"immutable"}).then(E=>{const $=[],k=[],A=c?[]:null,P=[];for(let T=0;T<x;++T){const L=E[T],N={value:To(L),primKey:g[y+T]};i.call(N,N.value,N)!==!1&&(N.value==null?P.push(g[y+T]):c||ot(l(L),l(N.value))===0?(k.push(N.value),c&&A.push(g[y+T])):(P.push(g[y+T]),$.push(N.value)))}const O=hi(n)&&n.limit===1/0&&(typeof t!="function"||t===Zc)&&{index:n.index,range:n.range};return Promise.resolve($.length>0&&a.mutate({trans:r,type:"add",values:$}).then(T=>{for(let L in T.failures)P.splice(parseInt(L),1);b($.length,T)})).then(()=>(k.length>0||O&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:A,values:k,criteria:O,changeSpec:typeof t!="function"&&t}).then(T=>b(k.length,T))).then(()=>(P.length>0||O&&t===Zc)&&a.mutate({trans:r,type:"delete",keys:P,criteria:O}).then(T=>b(P.length,T))).then(()=>g.length>y+x&&v(y+u))})};return v(0).then(()=>{if(h.length>0)throw new Sa("Error modifying one or more objects",h,d,m);return g.length})})})}delete(){var t=this._ctx,n=t.range;return hi(t)&&(t.isPrimKey&&!WS||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:c,results:l,numFailures:u})=>{if(u)throw new Sa("Could not delete some values",Object.keys(a).map(h=>a[h]),o-u);return o-u}))}):this.modify(Zc)}}const Zc=(e,t)=>t.value=null;function YS(e,t){return e<t?-1:e===t?0:1}function ZS(e,t){return e>t?-1:e===t?0:1}function _t(e,t,n){var r=e instanceof Fg?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function di(e){return new e.Collection(e,()=>Ng("")).limit(0)}function JS(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),a=-1,c=0;c<o;++c){var l=t[c];if(l!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[c],l)<0&&(a=c)}return o<r.length&&s==="next"?e+n.substr(e.length):o<e.length&&s==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Xo(e,t,n,r){var i,s,o,a,c,l,u,h=n.length;if(!n.every(g=>typeof g=="string"))return _t(e,Rg);function d(g){i=function(y){return y==="next"?x=>x.toUpperCase():x=>x.toLowerCase()}(g),s=function(y){return y==="next"?x=>x.toLowerCase():x=>x.toUpperCase()}(g),o=g==="next"?YS:ZS;var v=n.map(function(y){return{lower:s(y),upper:i(y)}}).sort(function(y,x){return o(y.lower,x.lower)});a=v.map(function(y){return y.upper}),c=v.map(function(y){return y.lower}),l=g,u=g==="next"?"":r}d("next");var m=new e.Collection(e,()=>Qn(a[0],c[h-1]+r));m._ondirectionchange=function(g){d(g)};var b=0;return m._addAlgorithm(function(g,v,y){var x=g.key;if(typeof x!="string")return!1;var E=s(x);if(t(E,c,b))return!0;for(var $=null,k=b;k<h;++k){var A=JS(x,E,a[k],c[k],o,l);A===null&&$===null?b=k+1:($===null||o($,A)>0)&&($=A)}return v($!==null?function(){g.continue($+u)}:y),!1}),m}function Qn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ng(e){return{type:1,lower:e,upper:e}}class Fg{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?di(this):new this.Collection(this,()=>Qn(t,n,!r,!i))}catch{return _t(this,_n)}}equals(t){return t==null?_t(this,_n):new this.Collection(this,()=>Ng(t))}above(t){return t==null?_t(this,_n):new this.Collection(this,()=>Qn(t,void 0,!0))}aboveOrEqual(t){return t==null?_t(this,_n):new this.Collection(this,()=>Qn(t,void 0,!1))}below(t){return t==null?_t(this,_n):new this.Collection(this,()=>Qn(void 0,t,!1,!0))}belowOrEqual(t){return t==null?_t(this,_n):new this.Collection(this,()=>Qn(void 0,t))}startsWith(t){return typeof t!="string"?_t(this,Rg):this.between(t,t+Nr,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Xo(this,(n,r)=>n.indexOf(r[0])===0,[t],Nr)}equalsIgnoreCase(t){return Xo(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Sn.apply(bi,arguments);return t.length===0?di(this):Xo(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Sn.apply(bi,arguments);return t.length===0?di(this):Xo(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,Nr)}anyOf(){const t=Sn.apply(bi,arguments);let n=this._cmp;try{t.sort(n)}catch{return _t(this,_n)}if(t.length===0)return di(this);const r=new this.Collection(this,()=>Qn(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,o,a)=>{const c=s.key;for(;n(c,t[i])>0;)if(++i,i===t.length)return o(a),!1;return n(c,t[i])===0||(o(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[uu,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Sn.apply(bi,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return _t(this,_n)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[uu,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(t.length===0)return di(this);if(!t.every(x=>x[0]!==void 0&&x[1]!==void 0&&i(x[0],x[1])<=0))return _t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);const c=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;let u,h=i;function d(x,E){return h(x[0],E[0])}try{u=t.reduce(function(x,E){let $=0,k=x.length;for(;$<k;++$){const A=x[$];if(r(E[0],A[1])<0&&r(E[1],A[0])>0){A[0]=o(A[0],E[0]),A[1]=a(A[1],E[1]);break}}return $===k&&x.push(E),x},[]),u.sort(d)}catch{return _t(this,_n)}let m=0;const b=l?x=>i(x,u[m][1])>0:x=>i(x,u[m][1])>=0,g=c?x=>s(x,u[m][0])>0:x=>s(x,u[m][0])>=0;let v=b;const y=new this.Collection(this,()=>Qn(u[0][0],u[u.length-1][1],!c,!l));return y._ondirectionchange=x=>{x==="next"?(v=b,h=i):(v=g,h=s),u.sort(d)},y._addAlgorithm((x,E,$)=>{for(var k=x.key;v(k);)if(++m,m===u.length)return E($),!1;return!!function(A){return!b(A)&&!g(A)}(k)||(this._cmp(k,u[m][1])===0||this._cmp(k,u[m][0])===0||E(()=>{h===i?x.continue(u[m][0]):x.continue(u[m][1])}),!1)}),y}startsWithAnyOf(){const t=Sn.apply(bi,arguments);return t.every(n=>typeof n=="string")?t.length===0?di(this):this.inAnyRange(t.map(n=>[n,n+Nr])):_t(this,"startsWithAnyOf() only works with strings")}}function sn(e){return ke(function(t){return so(t),e(t.target.error),!1})}function so(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const oo="storagemutated",tr="x-storagemutated-1",vr=Ss(null,oo);class XS{_lock(){return ps(!Z.global),++this._reculock,this._reculock!==1||Z.global||(Z.lockOwnerFor=this),this}_unlock(){if(ps(!Z.global),--this._reculock==0)for(Z.global||(Z.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ts(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&Z.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(ps(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(r);case"MissingAPIError":throw new ee.MissingAPI(r.message,r);default:throw new ee.OpenFailed(r)}if(!this.active)throw new ee.TransactionInactive;return ps(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ke(i=>{so(i),this._reject(t.error)}),t.onabort=ke(i=>{so(i),this.active&&this._reject(new ee.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=ke(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&vr.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return Ve(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return Ve(new ee.TransactionInactive);if(this._locked())return new q((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,o)},Z])});if(r)return yr(()=>{var s=new q((o,a)=>{this._lock();const c=n(o,a,this);c&&c.then&&c.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new q((s,o)=>{var a=n(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=q.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new q((o,a)=>{r.then(c=>n._waitingQueue.push(ke(o.bind(null,c))),c=>n._waitingQueue.push(ke(a.bind(null,c)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Ct(n,t))return n[t];const r=this.schema[t];if(!r)throw new ee.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function hu(e,t,n,r,i,s,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+Lg(t)}}function Lg(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function jg(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:bg(n,r=>[r.name,r])}}let ao=e=>{try{return e.only([[]]),ao=()=>[[]],[[]]}catch{return ao=()=>Nr,Nr}};function du(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Tn(r,t)}(e):t=>Tn(t,e)}function Rf(e){return[].slice.call(e)}let QS=0;function As(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function eA(e,t,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:l,upper:u,lowerOpen:h,upperOpen:d}=c;return l===void 0?u===void 0?null:t.upperBound(u,!!d):u===void 0?t.lowerBound(l,!!h):t.bound(l,u,!!h,!!d)}const{schema:i,hasGetAll:s}=function(c,l){const u=Rf(c.objectStoreNames);return{schema:{name:c.name,tables:u.map(h=>l.objectStore(h)).map(h=>{const{keyPath:d,autoIncrement:m}=h,b=tt(d),g=d==null,v={},y={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:g,compound:b,keyPath:d,autoIncrement:m,unique:!0,extractKey:du(d)},indexes:Rf(h.indexNames).map(x=>h.index(x)).map(x=>{const{name:E,unique:$,multiEntry:k,keyPath:A}=x,P={name:E,compound:tt(A),keyPath:A,unique:$,multiEntry:k,extractKey:du(A)};return v[As(A)]=P,P}),getIndexByKeyPath:x=>v[As(x)]};return v[":id"]=y.primaryKey,d!=null&&(v[As(d)]=y.primaryKey),y})},hasGetAll:u.length>0&&"getAll"in l.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=i.tables.map(c=>function(l){const u=l.name;return{name:u,schema:l,mutate:function({trans:h,type:d,keys:m,values:b,range:g}){return new Promise((v,y)=>{v=ke(v);const x=h.objectStore(u),E=x.keyPath==null,$=d==="put"||d==="add";if(!$&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:k}=m||b||{length:1};if(m&&b&&m.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(k===0)return v({numFailures:0,failures:{},results:[],lastResult:void 0});let A;const P=[],O=[];let T=0;const L=J=>{++T,so(J)};if(d==="deleteRange"){if(g.type===4)return v({numFailures:T,failures:O,results:[],lastResult:void 0});g.type===3?P.push(A=x.clear()):P.push(A=x.delete(r(g)))}else{const[J,Q]=$?E?[b,m]:[b,null]:[m,null];if($)for(let ae=0;ae<k;++ae)P.push(A=Q&&Q[ae]!==void 0?x[d](J[ae],Q[ae]):x[d](J[ae])),A.onerror=L;else for(let ae=0;ae<k;++ae)P.push(A=x[d](J[ae])),A.onerror=L}const N=J=>{const Q=J.target.result;P.forEach((ae,D)=>ae.error!=null&&(O[D]=ae.error)),v({numFailures:T,failures:O,results:d==="delete"?m:P.map(ae=>ae.result),lastResult:Q})};A.onerror=J=>{L(J),N(J)},A.onsuccess=N})},getMany:({trans:h,keys:d})=>new Promise((m,b)=>{m=ke(m);const g=h.objectStore(u),v=d.length,y=new Array(v);let x,E=0,$=0;const k=P=>{const O=P.target;y[O._pos]=O.result,++$===E&&m(y)},A=sn(b);for(let P=0;P<v;++P)d[P]!=null&&(x=g.get(d[P]),x._pos=P,x.onsuccess=k,x.onerror=A,++E);E===0&&m(y)}),get:({trans:h,key:d})=>new Promise((m,b)=>{m=ke(m);const g=h.objectStore(u).get(d);g.onsuccess=v=>m(v.target.result),g.onerror=sn(b)}),query:function(h){return d=>new Promise((m,b)=>{m=ke(m);const{trans:g,values:v,limit:y,query:x}=d,E=y===1/0?void 0:y,{index:$,range:k}=x,A=g.objectStore(u),P=$.isPrimaryKey?A:A.index($.name),O=r(k);if(y===0)return m({result:[]});if(h){const T=v?P.getAll(O,E):P.getAllKeys(O,E);T.onsuccess=L=>m({result:L.target.result}),T.onerror=sn(b)}else{let T=0;const L=v||!("openKeyCursor"in P)?P.openCursor(O):P.openKeyCursor(O),N=[];L.onsuccess=J=>{const Q=L.result;return Q?(N.push(v?Q.value:Q.primaryKey),++T===y?m({result:N}):void Q.continue()):m({result:N})},L.onerror=sn(b)}})}(s),openCursor:function({trans:h,values:d,query:m,reverse:b,unique:g}){return new Promise((v,y)=>{v=ke(v);const{index:x,range:E}=m,$=h.objectStore(u),k=x.isPrimaryKey?$:$.index(x.name),A=b?g?"prevunique":"prev":g?"nextunique":"next",P=d||!("openKeyCursor"in k)?k.openCursor(r(E),A):k.openKeyCursor(r(E),A);P.onerror=sn(y),P.onsuccess=ke(O=>{const T=P.result;if(!T)return void v(null);T.___id=++QS,T.done=!1;const L=T.continue.bind(T);let N=T.continuePrimaryKey;N&&(N=N.bind(T));const J=T.advance.bind(T),Q=()=>{throw new Error("Cursor not stopped")};T.trans=h,T.stop=T.continue=T.continuePrimaryKey=T.advance=()=>{throw new Error("Cursor not started")},T.fail=ke(y),T.next=function(){let ae=1;return this.start(()=>ae--?this.continue():this.stop()).then(()=>this)},T.start=ae=>{const D=new Promise((W,oe)=>{W=ke(W),P.onerror=sn(oe),T.fail=oe,T.stop=he=>{T.stop=T.continue=T.continuePrimaryKey=T.advance=Q,W(he)}}),F=()=>{if(P.result)try{ae()}catch(W){T.fail(W)}else T.done=!0,T.start=()=>{throw new Error("Cursor behind last entry")},T.stop()};return P.onsuccess=ke(W=>{P.onsuccess=F,F()}),T.continue=L,T.continuePrimaryKey=N,T.advance=J,F(),D},v(T)},y)})},count({query:h,trans:d}){const{index:m,range:b}=h;return new Promise((g,v)=>{const y=d.objectStore(u),x=m.isPrimaryKey?y:y.index(m.name),E=r(b),$=E?x.count(E):x.count();$.onsuccess=ke(k=>g(k.target.result)),$.onerror=sn(v)})}}}(c)),a={};return o.forEach(c=>a[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!a[c])throw new Error(`Table '${c}' not found`);return a[c]},MIN_KEY:-1/0,MAX_KEY:ao(t),schema:i}}function fu({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},c){return{dbcore:function(u,h){return h.reduce((d,{create:m})=>({...d,...m(d)}),u)}(eA(s,o,c),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(o=>o.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function Ia({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(o=>{const a=Vh(o,i);(!a||"value"in a&&a.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?In(o,i,{get(){return this.table(i)},set(c){pg(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new e.Table(i,s))})})}function pu({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function tA(e,t){return e._cfg.version-t._cfg.version}function nA(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),a=Z.transless||Z;yr(()=>{Z.trans=s,Z.transless=a,t===0?(ze(i).forEach(c=>{Jc(n,c,i[c].primKey,i[c].indexes)}),fu(e,n),q.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:c},l,u,h){const d=[],m=c._versions;let b=c._dbSchema=gu(c,c.idbdb,h),g=!1;const v=m.filter(x=>x._cfg.version>=l);function y(){return d.length?q.resolve(d.shift()(u.idbtrans)).then(y):q.resolve()}return v.forEach(x=>{d.push(()=>{const E=b,$=x._cfg.dbschema;bu(c,E,h),bu(c,$,h),b=c._dbSchema=$;const k=zg(E,$);k.add.forEach(P=>{Jc(h,P[0],P[1].primKey,P[1].indexes)}),k.change.forEach(P=>{if(P.recreate)throw new ee.Upgrade("Not yet support for changing primary key");{const O=h.objectStore(P.name);P.add.forEach(T=>mu(O,T)),P.change.forEach(T=>{O.deleteIndex(T.name),mu(O,T)}),P.del.forEach(T=>O.deleteIndex(T))}});const A=x._cfg.contentUpgrade;if(A&&x._cfg.version>l){fu(c,h),u._memoizedTables={},g=!0;let P=yg($);k.del.forEach(N=>{P[N]=E[N]}),pu(c,[c.Transaction.prototype]),Ia(c,[c.Transaction.prototype],ze(P),P),u.schema=P;const O=Hh(A);let T;O&&es();const L=q.follow(()=>{if(T=A(u),T&&O){var N=zn.bind(null,null);T.then(N,N)}});return T&&typeof T.then=="function"?q.resolve(T):L.then(()=>T)}}),d.push(E=>{(!g||!qS)&&function($,k){[].slice.call(k.db.objectStoreNames).forEach(A=>$[A]==null&&k.db.deleteObjectStore(A))}(x._cfg.dbschema,E),pu(c,[c.Transaction.prototype]),Ia(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),u.schema=c._dbSchema})}),y().then(()=>{var x,E;E=h,ze(x=b).forEach($=>{E.db.objectStoreNames.contains($)||Jc(E,$,x[$].primKey,x[$].indexes)})})}(e,t,s,n).catch(o)})}function zg(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!lc)o.recreate=!0,n.change.push(o);else{const a=i.idxByName,c=s.idxByName;let l;for(l in a)c[l]||o.del.push(l);for(l in c){const u=a[l],h=c[l];u?u.src!==h.src&&o.change.push(h):o.add.push(h)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function Jc(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>mu(i,s)),i}function mu(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function gu(e,t,n){const r={};return $a(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const a=hu(Lg(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),c=[];for(let u=0;u<s.indexNames.length;++u){const h=s.index(s.indexNames[u]);o=h.keyPath;var l=hu(h.name,o,!!h.unique,!!h.multiEntry,!1,o&&typeof o!="string",!1);c.push(l)}r[i]=jg(i,a,c)}),r}function bu({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);e._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const c=o.indexNames[a],l=o.index(c).keyPath,u=typeof l=="string"?l:"["+$a(l).join("+")+"]";if(t[s]){const h=t[s].idxByName[u];h&&(h.name=c,delete t[s].idxByName[u],t[s].idxByName[c]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Se.WorkerGlobalScope&&Se instanceof Se.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class rA{_parseStoresSpec(t,n){ze(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((o,a)=>{const c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return hu(c,l||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),tt(l),a===0)}),s=i.shift();if(s.multi)throw new ee.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")}),n[r]=jg(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?ht(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(o=>{ht(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,pu(n,[n._allTables,n,n.Transaction.prototype]),Ia(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ze(s),s),n._storeNames=ze(s),this}upgrade(t){return this._cfg.contentUpgrade=Gh(this._cfg.contentUpgrade||_e,t),this}}function Jh(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Bn(uc,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Xh(e){return e&&typeof e.databases=="function"}function yu(e){return yr(function(){return Z.letThrough=!0,e()})}function iA(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function sA(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Ve(t.dbOpenError):e);wn&&(t.openCanceller._stackHolder=ai()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new ee.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,a=!1;const c=()=>new q((l,u)=>{if(i(),!n)throw new ee.MissingAPI;const h=e.name,d=t.autoSchema?n.open(h):n.open(h,Math.round(10*e.verno));if(!d)throw new ee.MissingAPI;d.onerror=sn(u),d.onblocked=ke(e._fireOnBlocked),d.onupgradeneeded=ke(m=>{if(o=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=so,o.abort(),d.result.close();const g=n.deleteDatabase(h);g.onsuccess=g.onerror=ke(()=>{u(new ee.NoSuchDatabase(`Database ${h} doesnt exist`))})}else{o.onerror=sn(u);var b=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;a=b<1,e._novip.idbdb=d.result,nA(e,b/10,o,u)}},u),d.onsuccess=ke(()=>{o=null;const m=e._novip.idbdb=d.result,b=$a(m.objectStoreNames);if(b.length>0)try{const v=m.transaction((g=b).length===1?g[0]:g,"readonly");t.autoSchema?function({_novip:y},x,E){y.verno=x.version/10;const $=y._dbSchema=gu(0,x,E);y._storeNames=$a(x.objectStoreNames,0),Ia(y,[y._allTables],ze($),$)}(e,m,v):(bu(e,e._dbSchema,v),function(y,x){const E=zg(gu(0,y.idbdb,x),y._dbSchema);return!(E.add.length||E.change.some($=>$.add.length||$.change.length))}(e,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),fu(e,v)}catch{}var g;$s.push(e),m.onversionchange=ke(v=>{t.vcFired=!0,e.on("versionchange").fire(v)}),m.onclose=ke(v=>{e.on("close").fire(v)}),a&&function({indexedDB:v,IDBKeyRange:y},x){!Xh(v)&&x!==uc&&Jh(v,y).put({name:x}).catch(_e)}(e._deps,h),l()},u)}).catch(l=>l&&l.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):q.reject(l));return q.race([r,(typeof navigator>"u"?q.resolve():iA()).then(c)]).then(()=>(i(),t.onReadyBeingFired=[],q.resolve(yu(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(Gh,_e);return t.onReadyBeingFired=[],q.resolve(yu(()=>u(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),Ve(l)}).finally(()=>{t.openComplete=!0,s()})}function wu(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return o=>{var a=s(o),c=a.value;return a.done?c:c&&typeof c.then=="function"?c.then(n,r):tt(c)?Promise.all(c).then(n,r):n(c)}}return i(t)()}function oA(e,t,n){var r=arguments.length;if(r<2)throw new ee.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,wg(i),n]}function Ug(e,t,n,r,i){return q.resolve().then(()=>{const s=Z.transless||Z,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(h){return h.name===Wh.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Ug(e,t,n,null,i))):Ve(h)}const c=Hh(i);let l;c&&es();const u=q.follow(()=>{if(l=i.call(o,o),l)if(c){var h=zn.bind(null,null);l.then(h,h)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=wu(l))},a);return(l&&typeof l.then=="function"?q.resolve(l).then(h=>o.active?h:Ve(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>l)).then(h=>(r&&o._resolve(),o._completion.then(()=>h))).catch(h=>(o._reject(h),Ve(h)))})}function Qo(e,t,n){const r=tt(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const aA={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function o(u,h,d){const m=As(u),b=i[m]=i[m]||[],g=u==null?0:typeof u=="string"?1:u.length,v=h>0,y={...d,isVirtual:v,keyTail:h,keyLength:g,extractKey:du(u),unique:!v&&d.unique};return b.push(y),y.isPrimaryKey||s.push(y),g>1&&o(g===2?u[0]:u.slice(0,g-1),h+1,d),b.sort((x,E)=>x.keyTail-E.keyTail),y}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const u of r.indexes)o(u.keyPath,0,u);function c(u){const h=u.query.index;return h.isVirtual?{...u,query:{index:h,range:(d=u.query.range,m=h.keyTail,{type:d.type===1?2:d.type,lower:Qo(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,m),lowerOpen:!0,upper:Qo(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,m),upperOpen:!0})}}:u;var d,m}return{...n,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(u){const h=i[As(u)];return h&&h[0]}},count:u=>n.count(c(u)),query:u=>n.query(c(u)),openCursor(u){const{keyTail:h,isVirtual:d,keyLength:m}=u.query.index;return d?n.openCursor(c(u)).then(b=>b&&function(g){return Object.create(g,{continue:{value:function(y){y!=null?g.continue(Qo(y,u.reverse?e.MAX_KEY:e.MIN_KEY,h)):u.unique?g.continue(g.key.slice(0,m).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,h)):g.continue()}},continuePrimaryKey:{value(y,x){g.continuePrimaryKey(Qo(y,e.MAX_KEY,h),x)}},primaryKey:{get:()=>g.primaryKey},key:{get(){const y=g.key;return m===1?y[0]:y.slice(0,m)}},value:{get:()=>g.value}})}(b)):n.openCursor(u)}}}}}};function Qh(e,t,n,r){return n=n||{},r=r||"",ze(e).forEach(i=>{if(Ct(t,i)){var s=e[i],o=t[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=Xl(s);a!==Xl(o)?n[r+i]=t[i]:a==="Object"?Qh(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i])}else s!==o&&(n[r+i]=t[i])}else n[r+i]=void 0}),ze(t).forEach(i=>{Ct(e,i)||(n[r+i]=t[i])}),n}const cA={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=Z.trans,{deleting:a,creating:c,updating:l}=o.table(t).hook;switch(s.type){case"add":if(c.fire===_e)break;return o._promise("readwrite",()=>u(s),!0);case"put":if(c.fire===_e&&l.fire===_e)break;return o._promise("readwrite",()=>u(s),!0);case"delete":if(a.fire===_e)break;return o._promise("readwrite",()=>u(s),!0);case"deleteRange":if(a.fire===_e)break;return o._promise("readwrite",()=>function(d){return h(d.trans,d.range,1e4)}(s),!0)}return n.mutate(s);function u(d){const m=Z.trans,b=d.keys||function(g,v){return v.type==="delete"?v.keys:v.keys||v.values.map(g.extractKey)}(r,d);if(!b)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:b}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(g,v,y){return v.type==="add"?Promise.resolve([]):g.getMany({trans:v.trans,keys:y,cache:"immutable"})}(n,d,b).then(g=>{const v=b.map((y,x)=>{const E=g[x],$={onerror:null,onsuccess:null};if(d.type==="delete")a.fire.call($,y,E,m);else if(d.type==="add"||E===void 0){const k=c.fire.call($,y,d.values[x],m);y==null&&k!=null&&(y=k,d.keys[x]=y,r.outbound||qt(d.values[x],r.keyPath,y))}else{const k=Qh(E,d.values[x]),A=l.fire.call($,k,y,E,m);if(A){const P=d.values[x];Object.keys(A).forEach(O=>{Ct(P,O)?P[O]=A[O]:qt(P,O,A[O])})}}return $});return n.mutate(d).then(({failures:y,results:x,numFailures:E,lastResult:$})=>{for(let k=0;k<b.length;++k){const A=x?x[k]:b[k],P=v[k];A==null?P.onerror&&P.onerror(y[k]):P.onsuccess&&P.onsuccess(d.type==="put"&&g[k]?d.values[k]:A)}return{failures:y,results:x,numFailures:E,lastResult:$}}).catch(y=>(v.forEach(x=>x.onerror&&x.onerror(y)),Promise.reject(y)))})}function h(d,m,b){return n.query({trans:d,values:!1,query:{index:r,range:m},limit:b}).then(({result:g})=>u({type:"delete",keys:g,trans:d}).then(v=>v.numFailures>0?Promise.reject(v.failures[0]):g.length<b?{failures:[],numFailures:0,lastResult:void 0}:h(d,{...m,lower:g[g.length-1],lowerOpen:!0},b)))}}}}})};function Vg(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)ot(t.keys[i],e[s])===0&&(r.push(n?To(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const lA={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=Vg(r.keys,r.trans._cache,r.cache==="clone");return i?q.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?To(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function ed(e){return!("from"in e)}const an=function(e,t){if(!this){const n=new an;return e&&"d"in e&&ht(n,e),n}ht(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function co(e,t,n){const r=ot(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(ed(e))return ht(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(ot(n,e.from)<0)return i?co(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Mf(e);if(ot(t,e.to)>0)return s?co(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Mf(e);ot(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),ot(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&lo(e,i),s&&o&&lo(e,s)}function lo(e,t){ed(t)||function n(r,{from:i,to:s,l:o,r:a}){co(r,i,s),o&&n(r,o),a&&n(r,a)}(e,t)}function Hg(e,t){const n=vu(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=vu(e);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(ot(a.from,i.to)<=0&&ot(a.to,i.from)>=0)return!0;ot(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function vu(e){let t=ed(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&ot(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||ot(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Mf(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...e},a=e[i];e.from=a.from,e.to=a.to,e[i]=a[i],o[i]=a[s],e[s]=o,o.d=Df(o)}e.d=Df(e)}function Df({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Hi(an.prototype,{add(e){return lo(this,e),this},addKey(e){return co(this,e,e),this},addKeys(e){return e.forEach(t=>co(this,t,t)),this},[Ql](){return vu(this)}});const uA={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new an(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:c}=o,l={...i,mutate:d=>{const m=d.trans,b=m.mutatedParts||(m.mutatedParts={}),g=A=>{const P=`idb://${t}/${r}/${A}`;return b[P]||(b[P]=new an)},v=g(""),y=g(":dels"),{type:x}=d;let[E,$]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const k=d.trans._cache;return i.mutate(d).then(A=>{if(tt(E)){x!=="delete"&&(E=A.results),v.addKeys(E);const P=Vg(E,k);P||x==="add"||y.addKeys(E),(P||$)&&function(O,T,L,N){function J(Q){const ae=O(Q.name||"");function D(W){return W!=null?Q.extractKey(W):null}const F=W=>Q.multiEntry&&tt(W)?W.forEach(oe=>ae.addKey(oe)):ae.addKey(W);(L||N).forEach((W,oe)=>{const he=L&&D(L[oe]),ne=N&&D(N[oe]);ot(he,ne)!==0&&(he!=null&&F(he),ne!=null&&F(ne))})}T.indexes.forEach(J)}(g,s,P,$)}else if(E){const P={from:E.lower,to:E.upper};y.add(P),v.add(P)}else v.add(n),y.add(n),s.indexes.forEach(P=>g(P.name).add(n));return A})}},u=({query:{index:d,range:m}})=>{var b,g;return[d,new an((b=m.lower)!==null&&b!==void 0?b:e.MIN_KEY,(g=m.upper)!==null&&g!==void 0?g:e.MAX_KEY)]},h={get:d=>[o,new an(d.key)],getMany:d=>[o,new an().addKeys(d.keys)],count:u,query:u,openCursor:u};return ze(h).forEach(d=>{l[d]=function(m){const{subscr:b}=Z;if(b){const g=$=>{const k=`idb://${t}/${r}/${$}`;return b[k]||(b[k]=new an)},v=g(""),y=g(":dels"),[x,E]=h[d](m);if(g(x.name||"").add(E),!x.isPrimaryKey){if(d!=="count"){const $=d==="query"&&c&&m.values&&i.query({...m,values:!1});return i[d].apply(this,arguments).then(k=>{if(d==="query"){if(c&&m.values)return $.then(({result:P})=>(v.addKeys(P),k));const A=m.values?k.result.map(a):k.result;m.values?v.addKeys(A):y.addKeys(A)}else if(d==="openCursor"){const A=k,P=m.values;return A&&Object.create(A,{key:{get:()=>(y.addKey(A.primaryKey),A.key)},primaryKey:{get(){const O=A.primaryKey;return y.addKey(O),O}},value:{get:()=>(P&&v.addKey(A.primaryKey),A.value)}})}return k})}y.add(n)}}return i[d].apply(this,arguments)}}),l}}}};class Bn{constructor(t,n){this._middlewares={},this.verno=0;const r=Bn.dependencies;this._options=n={addons:Bn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_e,dbReadyPromise:null,cancelOpen:_e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new q(a=>{s.dbReadyResolve=a}),s.openCanceller=new q((a,c)=>{s.cancelOpen=c}),this._state=s,this.name=t,this.on=Ss(this,"populate","blocked","versionchange","close",{ready:[Gh,_e]}),this.on.ready.subscribe=mg(this.on.ready.subscribe,a=>(c,l)=>{Bn.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||q.resolve().then(c),l&&a(c);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(c),l&&a(c);else{a(c);const h=this;l||a(function d(){h.on.ready.unsubscribe(c),h.on.ready.unsubscribe(d)})}})}),this.Collection=(o=this,us(KS.prototype,function(a,c){this.db=o;let l=Dg,u=null;if(c)try{l=c()}catch(b){u=b}const h=a._ctx,d=h.table,m=d.hook.reading.fire;this._ctx={table:d,index:h.index,isPrimKey:!h.index||d.schema.primKey.keyPath&&h.index===d.schema.primKey.name,range:l,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:h.or,valueMapper:m!==ro?m:null}})),this.Table=function(a){return us(GS.prototype,function(c,l,u){this.db=a,this._tx=u,this.name=c,this.schema=l,this.hook=a._allTables[c]?a._allTables[c].hook:Ss(null,{creating:[MS,_e],reading:[RS,ro],updating:[NS,_e],deleting:[DS,_e]})})}(this),this.Transaction=function(a){return us(XS.prototype,function(c,l,u,h,d){this.db=a,this.mode=c,this.storeNames=l,this.schema=u,this.chromeTransactionDurability=h,this.idbtrans=null,this.on=Ss(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new q((m,b)=>{this._resolve=m,this._reject=b}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},m=>{var b=this.active;return this.active=!1,this.on.error.fire(m),this.parent?this.parent._reject(m):b&&this.idbtrans&&this.idbtrans.abort(),Ve(m)})})}(this),this.Version=function(a){return us(rA.prototype,function(c){this.db=a,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return us(Fg.prototype,function(c,l,u){this.db=a,this._ctx={table:c,index:l===":id"?null:l,or:u};const h=a._deps.indexedDB;if(!h)throw new ee.MissingAPI;this._cmp=this._ascending=h.cmp.bind(h),this._descending=(d,m)=>h.cmp(m,d),this._max=(d,m)=>h.cmp(d,m)>0?d:m,this._min=(d,m)=>h.cmp(d,m)<0?d:m,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=ao(n.IDBKeyRange),this._createTransaction=(a,c,l,u)=>new this.Transaction(a,c,l,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),$s.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(a))},this.use(aA),this.use(cA),this.use(uA),this.use(lA),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new ee.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(tA),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||Z.letThrough||this._vip)?t():new q((n,r)=>{if(this._state.openComplete)return r(new ee.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new ee.DatabaseClosed);this.open().catch(_e)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return sA(this)}_close(){const t=this._state,n=$s.indexOf(this);if(n>=0&&$s.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new q(r=>{t.dbReadyResolve=r}),t.openCanceller=new q((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new ee.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new q((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=ke(()=>{(function({indexedDB:a,IDBKeyRange:c},l){!Xh(a)&&l!==uc&&Jh(a,c).delete(l).catch(_e)})(this._deps,this.name),r()}),o.onerror=sn(i),o.onblocked=this._fireOnBlocked};if(t)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ze(this._allTables).map(t=>this._allTables[t])}transaction(){const t=oA.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=Z.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let o,a;t=t.replace("!","").replace("?","");try{if(a=n.map(l=>{var u=l instanceof this.Table?l.name:l;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Wc)o=Wc;else{if(t!="rw"&&t!=Gc)throw new ee.InvalidArgument("Invalid transaction mode: "+t);o=Gc}if(i){if(i.mode===Wc&&o===Gc){if(!s)throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(l=>{if(i&&i.storeNames.indexOf(l)===-1){if(!s)throw new ee.SubTransaction("Table "+l+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(l){return i?i._promise(null,(u,h)=>{h(l)}):Ve(l)}const c=Ug.bind(null,this,o,a,i,r);return i?i._promise(o,c,"lock"):Z.trans?ts(Z.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!Ct(this._allTables,t))throw new ee.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const hA=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class dA{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[hA](){return this}}function qg(e,t){return ze(t).forEach(n=>{lo(e[n]||(e[n]=new an),t[n])}),e}function td(e){let t,n=!1;const r=new dA(i=>{const s=Hh(e);let o=!1,a={},c={};const l={get closed(){return o},unsubscribe:()=>{o=!0,vr.storagemutated.unsubscribe(m)}};i.start&&i.start(l);let u=!1,h=!1;function d(){return ze(c).some(g=>a[g]&&Hg(a[g],c[g]))}const m=g=>{qg(a,g),d()&&b()},b=()=>{if(u||o)return;a={};const g={},v=function(y){s&&es();const x=()=>yr(e,{subscr:y,trans:null}),E=Z.trans?ts(Z.transless,x):x();return s&&E.then(zn,zn),E}(g);h||(vr(oo,m),h=!0),u=!0,Promise.resolve(v).then(y=>{n=!0,t=y,u=!1,o||(d()?b():(a={},c=g,i.next&&i.next(y)))},y=>{u=!1,n=!1,i.error&&i.error(y),l.unsubscribe()})};return b(),l});return r.hasValue=()=>n,r.getValue=()=>t,r}let xu;try{xu={indexedDB:Se.indexedDB||Se.mozIndexedDB||Se.webkitIndexedDB||Se.msIndexedDB,IDBKeyRange:Se.IDBKeyRange||Se.webkitIDBKeyRange}}catch{xu={indexedDB:null,IDBKeyRange:null}}const Ir=Bn;function fa(e){let t=An;try{An=!0,vr.storagemutated.fire(e)}finally{An=t}}Hi(Ir,{...aa,delete:e=>new Ir(e,{addons:[]}).delete(),exists:e=>new Ir(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Xh(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==uc)):Jh(t,n).toCollection().primaryKeys()}(Ir.dependencies).then(e)}catch{return Ve(new ee.MissingAPI)}},defineClass:()=>function(e){ht(this,e)},ignoreTransaction:e=>Z.trans?ts(Z.transless,e):e(),vip:yu,async:function(e){return function(){try{var t=wu(e.apply(this,arguments));return t&&typeof t.then=="function"?t:q.resolve(t)}catch(n){return Ve(n)}}},spawn:function(e,t,n){try{var r=wu(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:q.resolve(r)}catch(i){return Ve(i)}},currentTransaction:{get:()=>Z.trans||null},waitFor:function(e,t){const n=q.resolve(typeof e=="function"?Ir.ignoreTransaction(e):e).timeout(t||6e4);return Z.trans?Z.trans.waitFor(n):n},Promise:q,debug:{get:()=>wn,set:e=>{xg(e,e==="dexie"?()=>!0:Mg)}},derive:xi,extend:ht,props:Hi,override:mg,Events:Ss,on:vr,liveQuery:td,extendObservabilitySet:qg,getByKeyPath:Tn,setByKeyPath:qt,delByKeyPath:function(e,t){typeof t=="string"?qt(e,t,void 0):"length"in t&&[].map.call(t,function(n){qt(e,n,void 0)})},shallowClone:yg,deepClone:To,getObjectDiff:Qh,cmp:ot,asap:gg,minKey:uu,addons:[],connections:$s,errnames:Wh,dependencies:xu,semVer:Pf,version:Pf.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Ir.maxKey=ao(Ir.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(vr(oo,e=>{if(!An){let t;lc?(t=document.createEvent("CustomEvent"),t.initCustomEvent(tr,!0,!0,e)):t=new CustomEvent(tr,{detail:e}),An=!0,dispatchEvent(t),An=!1}}),addEventListener(tr,({detail:e})=>{An||fa(e)}));let An=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(tr);typeof e.unref=="function"&&e.unref(),vr(oo,t=>{An||e.postMessage(t)}),e.onmessage=t=>{t.data&&fa(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){vr(oo,t=>{try{An||(typeof localStorage<"u"&&localStorage.setItem(tr,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:tr,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===tr){const n=JSON.parse(t.newValue);n&&fa(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===tr&&fa(t.changedParts)})}q.rejectionMapper=function(e,t){if(!e||e instanceof _i||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Sf[e.name])return e;var n=new Sf[e.name](t||e.message,e);return"stack"in e&&In(n,"stack",{get:function(){return this.inner.stack}}),n},xg(wn,Mg);const fA=Object.freeze(Object.defineProperty({__proto__:null,Dexie:Bn,RangeSet:an,default:Bn,liveQuery:td,mergeRanges:lo,rangesOverlap:Hg},Symbol.toStringTag,{value:"Module"}));j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();var Xc=new Map;function pA({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const h=u.map(({args:d})=>d);h.length!==0&&e(h).then(d=>{var m;i&&Array.isArray(d)&&d.sort(i);for(let b=0;b<u.length;b++){const{pendingPromise:g}=u[b];(m=g.resolve)==null||m.call(g,[d[b],d])}}).catch(d=>{var m;for(let b=0;b<u.length;b++){const{pendingPromise:g}=u[b];(m=g.reject)==null||m.call(g,d)}})},o=()=>Xc.delete(t),a=()=>c().map(({args:u})=>u),c=()=>Xc.get(t)||[],l=u=>Xc.set(t,[...c(),u]);return{flush:o,async schedule(u){const h={},d=new Promise((g,v)=>{h.resolve=g,h.reject=v});return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,pendingPromise:h}),d):(l({args:u,pendingPromise:h}),setTimeout(s,r),d)}}}function mA(e,t={}){const{batch:n,fetchOptions:r,key:i="http",name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:a,retryDelay:c}=t;return({chain:l,retryCount:u,timeout:h})=>{const{batchSize:d=1e3,wait:m=0}=typeof n=="object"?n:{},b=t.retryCount??u,g=h??t.timeout??1e4,v=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!v)throw new Ph;const y=P0(v,{fetchOptions:r,onRequest:o,onResponse:a,timeout:g});return Po({key:i,name:s,async request({method:x,params:E}){if(Nf[x])return Nf[x]();const $={method:x,params:E},{schedule:k}=pA({id:v,wait:m,shouldSplitBatch(T){return T.length>d},fn:T=>y.request({body:T}),sort:(T,L)=>T.id-L.id}),A=async T=>n?k(T):[await y.request({body:T})],[{error:P,result:O}]=await A($);if(P)throw new Ya({body:$,error:P,url:v});return O},retryCount:b,retryDelay:c,timeout:g,type:"http"},{fetchOptions:r,url:v})}}var Nf={net_listening:()=>!0},_u={wait:50,batchSize:50};function gA(e){const t=wA[e],n=vA[e],r=[...n.map(s=>V$(s,{reconnect:{attempts:5,delay:5e3}})),...t.map(s=>F_(s,{batch:_u}))],i=bA(e);return i&&r.push(mA(i,{batch:_u,key:"infura"})),R_(r,{retryCount:10,retryDelay:3e4,rank:{interval:6e4*5,sampleCount:t.length+n.length,timeout:500,weights:{latency:.4,stability:.7}}})}function bA(e){const t=za("infuraApiKey"),n=yA[e];return!t||n===""?null:`${n}${t}`}var yA={[S.eth]:"https://mainnet.infura.io/v3/",[S.bnb]:"",[S.matic]:"https://polygon-mainnet.infura.io/v3/",[S.op]:"https://optimism-mainnet.infura.io/v3/",[S.arbitrum]:"https://arbitrum-mainnet.infura.io/v3/",[S.gnosis]:"",[S.avalanche]:"https://avalanche-mainnet.infura.io/v3/",[S.fantom]:"",[S.aurora]:"",[S.klaytn]:"",[S.zkSyncEra]:""},wA={[S.eth]:["https://ethereum-rpc.publicnode.com","https://ethereum.publicnode.com","https://rpc.mevblocker.io","https://eth.merkle.io","https://1rpc.io/eth","https://rpc.flashbots.net","https://eth-pokt.nodies.app","https://eth.meowrpc.com","https://eth.drpc.org","https://eth.llamarpc.com","https://eth-mainnet.public.blastapi.io","https://rpc.ankr.com/eth","https://cloudflare-eth.com","https://eth-mainnet.gateway.pokt.network/v1/5f3453978e354ab992c4da79","https://nodes.mewapi.io/rpc/eth","https://endpoints.omniatech.io/v1/eth/mainnet/public","https://ethereum-mainnet-rpc.allthatnode.com","https://ethereum-mainnet-archive.allthatnode.com","https://ethereum-mainnet-rpc-germany.allthatnode.com","https://ethereum-mainnet-archive-germany.allthatnode.com"],[S.bnb]:["https://bsc.publicnode.com","https://bsc-rpc.publicnode.com","https://endpoints.omniatech.io/v1/bsc/mainnet/public","https://bsc-pokt.nodies.app","https://bsc.meowrpc.com","https://bsc.drpc.org","https://1rpc.io/bnb"],[S.matic]:["https://polygon-bor-rpc.publicnode.com","https://polygon-rpc.com","https://polygon-pokt.nodies.app","https://polygon-heimdall-rpc.publicnode.com:443","https://endpoints.omniatech.io/v1/matic/mainnet/public","https://polygon-bor.publicnode.com","https://polygon.drpc.org","https://polygon.meowrpc.com","https://polygon.llamarpc.com"],[S.op]:["https://optimism-rpc.publicnode.com","https://optimism.llamarpc.com","https://optimism.publicnode.com","https://op-pokt.nodies.app","https://optimism.meowrpc.com","https://optimism.drpc.org","https://endpoints.omniatech.io/v1/op/mainnet/public"],[S.arbitrum]:["https://arbitrum-one.publicnode.com","https://arb-pokt.nodies.app","https://arbitrum.meowrpc.com","https://arbitrum.drpc.org","https://endpoints.omniatech.io/v1/arbitrum/one/public"],[S.gnosis]:["https://gnosis.publicnode.com","https://gnosis-rpc.publicnode.com","https://rpc.gnosischain.com","https://gnosis.drpc.org"],[S.avalanche]:["https://avalanche-c-chain.publicnode.com","https://1rpc.io/avax/c","https://endpoints.omniatech.io/v1/avax/mainnet/public","https://avax.meowrpc.com","https://avalanche.drpc.org"],[S.fantom]:["https://fantom.publicnode.com","https://fantom-pokt.nodies.app","https://1rpc.io/ftm","https://fantom.drpc.org"],[S.aurora]:["https://mainnet.aurora.dev","https://endpoints.omniatech.io/v1/aurora/mainnet/public","https://1rpc.io/aurora","https://aurora.drpc.org"],[S.klaytn]:["https://klaytn.drpc.org","https://rpc.ankr.com/klaytn","https://klaytn.blockpi.network/v1/rpc/public"],[S.zkSyncEra]:["https://mainnet.era.zksync.io","https://zksync-era.blockpi.network/v1/rpc/public","https://zksync.meowrpc.com","https://zksync.drpc.org"]},vA={[S.eth]:["wss://ethereum-rpc.publicnode.com","wss://ethereum.publicnode.com","wss://eth.drpc.org"],[S.bnb]:["wss://bsc.publicnode.com","wss://bsc-rpc.publicnode.com"],[S.matic]:["wss://polygon.drpc.org","wss://polygon-bor-rpc.publicnode.com","wss://polygon-bor.publicnode.com","wss://polygon-heimdall-rpc.publicnode.com:443/websocket"],[S.op]:["wss://optimism.publicnode.com"],[S.arbitrum]:["wss://arbitrum-one.publicnode.com"],[S.gnosis]:["wss://rpc.gnosischain.com/wss","wss://gnosis-rpc.publicnode.com","wss://gnosis.publicnode.com"],[S.avalanche]:["wss://avalanche-c-chain.publicnode.com"],[S.fantom]:["wss://gnosis.publicnode.com"],[S.aurora]:["wss://mainnet.aurora.dev"],[S.klaytn]:["wss://public-en-cypress.klaytn.net/ws"],[S.zkSyncEra]:["wss://mainnet.era.zksync.io/ws"]};j();z();U();V();var xA={[S.eth]:wS,[S.bnb]:iS,[S.matic]:xS,[S.op]:vS,[S.arbitrum]:tS,[S.gnosis]:oS,[S.avalanche]:rS,[S.fantom]:sS,[S.aurora]:nS,[S.klaytn]:aS,[S.zkSyncEra]:_S};function qi(e){return xA[e]}var Qc={[S.eth]:null,[S.bnb]:null,[S.matic]:null,[S.op]:null,[S.arbitrum]:null,[S.gnosis]:null,[S.avalanche]:null,[S.fantom]:null,[S.aurora]:null,[S.klaytn]:null,[S.zkSyncEra]:null};function _A(e){const t=qi(e),n=gA(e);return I$({batch:{multicall:_u},chain:t,transport:n})}function At(e){return Qc[e]||(Qc[e]=_A(e)),Qc[e]}j();z();U();V();var EA={[S.eth]:!1,[S.bnb]:!1,[S.matic]:!1,[S.op]:!0,[S.arbitrum]:!0,[S.gnosis]:!1,[S.avalanche]:!1,[S.fantom]:!1,[S.aurora]:!1,[S.klaytn]:!1,[S.zkSyncEra]:!0};function Eu(e){return EA[e]}j();z();U();V();j();z();U();V();var nd={[S.eth]:11e3,[S.bnb]:3e3,[S.matic]:3e3,[S.op]:3e3,[S.arbitrum]:3e3,[S.gnosis]:5e3,[S.avalanche]:3e3,[S.fantom]:3e3,[S.aurora]:3e3,[S.klaytn]:3e3,[S.zkSyncEra]:3e3},el={[S.eth]:null,[S.bnb]:null,[S.matic]:null,[S.op]:null,[S.arbitrum]:null,[S.gnosis]:null,[S.avalanche]:null,[S.fantom]:null,[S.aurora]:null,[S.klaytn]:null,[S.zkSyncEra]:null},Wg=Date.now();document.addEventListener("mousemove",()=>Wg=Date.now());function $A(e){let t,n=!1;const r=()=>Date.now()-Wg>60*1e3;return new Fe(i=>{const s=o=>{i.next(o);const a=r();a&&!n?(n=!0,t==null||t.unsubscribe(),t=SA(e).subscribe(s),console.log("slow block loader")):!a&&n&&(n=!1,t==null||t.unsubscribe(),t=Ff(e).subscribe(s),console.log("regular block loader"))};return t=Ff(e).subscribe(s),()=>{t==null||t.unsubscribe()}})}function Ff(e){return new Fe(t=>At(e).watchBlocks({onBlock:r=>t.next(r)})).pipe(Be({bufferSize:1,refCount:!0}))}function SA(e){const t=At(e);return bw(30*1e3).pipe(fe(()=>t.getBlock()))}function AA(){const e=document.hasFocus(),t=document.visibilityState==="visible";return e&&t}function kA(){let e=!0;return Dn(Ee(window,"focus"),Ee(window,"blur"),Ee(document,"visibilitychange")).pipe(Ye(null),te(()=>e?(e=!1,!0):AA()),Je())}function Ro(e){return el[e]===null&&(el[e]=kA().pipe(fe(t=>t?$A(e):st()),Yi(nd[e]/2),Be({bufferSize:1,refCount:!0}))),el[e]}j();z();U();V();j();z();U();V();var rd="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function Un(e){return mn(rd,e)}j();z();U();V();j();z();U();V();var hc=class{constructor(e,t=!1){this.ttlMs=e,this.autoClean=t,this.cache=new Map,this.enabledAutoClean()}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()})}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),null):t.value:null}has(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),!1):!0:!1}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.autoCleanTimer&&clearInterval(this.autoCleanTimer)}size(){return 0}enabledAutoClean(){this.autoClean&&(this.autoCleanTimer=setInterval(()=>{for(const e of[...this.cache.keys()])this.get(e)},this.ttlMs))}};j();z();U();V();var Gg=class{constructor(e){this.bufferSize=e,this.cache=new Map,this.indexes=new Map,this.lastIndex=0}set(e,t){if(this.has(e))return;if(this.cache.size>=this.bufferSize){const r=Math.min(...this.indexes.keys()),i=this.indexes.get(r);this.indexes.delete(r),this.cache.delete(i);return}const n=this.lastIndex++;this.indexes.set(n,e),this.cache.set(e,t)}get(e){return this.cache.get(e)??null}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.indexes.clear(),this.lastIndex=0}size(){return this.cache.size}};j();z();U();V();j();z();U();V();j();z();U();V();function Fr(e,t){const r=CA(e,t).split("."),i=r[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return r.length>1?`${i}.${r[1]}`:i}function CA(e,t){const n=e.indexOf(".");if(n===-1||e.length-n-1<=t)return e;if(t>0){const i=n+t+1;return e.substring(0,i)}return e.substring(0,n)}function rr(e,t,n=t){if(e.length===1)return e;const r=e.indexOf(".");if(r===-1||e.slice(0,r).length>1)return Fr(e,n);let i=0;for(let s=r+1;s<e.length;s++)if(e[s]==="0")i++;else return Fr(e,i+t);return Fr(e,n)}function Lf(e,t,n=t){if(e.length===1)return e;const r=rr(e,t,n),i=r.replace(/\s+/g,""),[s]=i.split("."),o=s.length;if(o<=6)return r;if(o>6&&o<=9){const l=i.slice(0,o-6),u=i.slice(o-6,o-5);return`${l}.${u}M`}const a=i.slice(0,o-9),c=i.slice(o-9,o-8);return`${a}.${c}B`}function Kg(e){const t=Math.floor(e/86400);e%=24*3600;const n=Math.floor(e/3600);e%=3600;const r=Math.floor(e/60);e%=60;const i=[];return t>0&&i.push(`${t}D`),n>0&&i.push(`${n}H`),r>0&&i.push(`${r}m`),(e>0||i.length===0)&&i.push(`${e}s`),i.join(" ")}j();z();U();V();function $u(e,t={}){const{width:n,head:r=6,tail:i=4}=t;return n!==void 0&&(n>1410||940>n&&n>800)?e:`${e.slice(0,r)}...${e.slice(e.length-i)}`}j();z();U();V();var Wt=class{constructor(){throw new Error("BigMath does not support instance creation. Use static methods: div, mul, add, sub, avr, pow, min, max.")}static from(e,t){return BigInt(e*10**t)}static div(e,t,n,r,i=r){if(t===0n)throw new Error("Division by zero.");if(e===0n)return 0n;const s=BigInt(10)**BigInt(Math.max(n,r));e=e*(s/BigInt(10)**BigInt(n)),t=t*(s/BigInt(10)**BigInt(r));const o=BigInt(10)**BigInt(i);return e=e*o,e/t}static mul(e,t,n,r,i=r){if(e===0n||t===0n)return 0n;const s=e*t,a=10n**BigInt(n+r),c=10n**BigInt(i);return s*c/a}static add(e,t,n,r,i=r){const s=Math.max(n,r,i);e=e*BigInt(10)**BigInt(s-n),t=t*BigInt(10)**BigInt(s-r);const o=e+t;return i<s?o/BigInt(10)**BigInt(s-i):o}static sub(e,t,n,r,i=r){const s=Math.max(n,r,i);e=e*BigInt(10)**BigInt(s-n),t=t*BigInt(10)**BigInt(s-r);const o=e-t;return i<s?o/BigInt(10)**BigInt(s-i):o}static avr(e,t,n=t){if(e.length===0)return 0n;const r=BigInt(10)**BigInt(n);return e.map(o=>o*r/BigInt(10)**BigInt(t)).reduce((o,a)=>o+a,BigInt(0))/BigInt(e.length)}static pow(e,t,n,r=n){if(t<0)throw new Error("Negative exponents are not supported.");if(t===0)return BigInt(10)**BigInt(r);const i=BigInt(10)**BigInt(n);let o=(e*i)**BigInt(t);const a=BigInt(10)**BigInt(t*n);if(o=o/a,r!==n){const c=BigInt(10)**BigInt(r-n);o=o*c}return o}static min(...e){let t=e[0];for(const n of e)n<t&&(t=n);return t}static max(...e){let t=e[0];for(const n of e)n>t&&(t=n);return t}static calculatePercentage(e,t){if(t<0||t>100)throw new Error("Percentage must be a number between 0 and 100");const n=t/100;return e*BigInt(n*1e32)/BigInt(1e32)}};j();z();U();V();j();z();U();V();function Mt(e){const t=new WeakMap,n=r=>{let i=t.get(r);return i||(i=new Map,t.set(r,i)),i};return function(r,i,s){const o=s.value;return s.value=function(...a){const c=n(this),l=e?e(this,...a):JSON.stringify(a,PA);if(c.has(l))return c.get(l);const u=o.apply(this,a).finally(()=>c.delete(l));return c.set(l,u),u},s}}function PA(e,t){return typeof t=="bigint"?t.toString():t}j();z();U();V();var jf=new hc(1e4),tl=new hc(5e3),zf=new hc(5e3),ci=class{constructor(){this.host=za("oneInchDevPortalHost")}async getWhiteListedTokens(e){return(await(await fetch(`${this.host}/token/v1.2/${e}/token-list`)).json()).tokens}async getBalancesByWalletAddress(e,t){return await(await fetch(`${this.host}/balance/v1.2/${e}/balances/${t}`)).json()}async getTokenPrices(e){const t=jf.get(e);if(t)return t;const n=new URLSearchParams({currency:"USD"}),i=await(await fetch(`${this.host}/price/v1.1/${e}?${n}`)).json();return jf.set(e,i),i}async getFusionQuoteReceive(e,t,n,r,i,s,o=!1){const{auctionDuration:a,auctionEndAmount:c,auctionStartAmount:l,points:u}=s??{},h=[e,t,n,r,i,o,a,c,l,u==null?void 0:u.join(",")].filter(Boolean).join(":"),d=tl.get(h);if(d)return d;const m=new URLSearchParams({fromTokenAddress:t,toTokenAddress:n,walletAddress:i,amount:r.toString(),enableEstimate:o.toString(),isLedgerLive:"false"}),b=await fetch(`${this.host}/fusion/quoter/v2.0/${e}/quote/receive?${m}`,{method:s?"POST":"GET",body:s&&JSON.stringify(s)});if(!b.ok)return tl.set(h,null),null;const g=await b.json();return tl.set(h,g),{...g,chainId:e}}async getGasPrice(e){const t=zf.get(e);if(t)return t;const n=await fetch(`${this.host}/gas-price/v1.5/${e}`);if(!n.ok)return null;const r=await n.json();return zf.set(e,r),r}};$r([Mt()],ci.prototype,"getWhiteListedTokens");$r([Mt()],ci.prototype,"getBalancesByWalletAddress");$r([Mt()],ci.prototype,"getTokenPrices");$r([Mt()],ci.prototype,"getFusionQuoteReceive");$r([Mt()],ci.prototype,"getGasPrice");var id=class{constructor(e,t){this.storageKey=e,this.ttlDays=t,this.cache=new Map;const n=ve.get(this.storageKeyAndVersion,cn);this.cache=new Map(n)}get storageKeyAndVersion(){return[this.storageKey,"v2"].join(":")}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()}),this.updatePersistence()}get(e){var t;return this.checkCacheData(e),((t=this.cache.get(e))==null?void 0:t.value)??null}has(e){return this.checkCacheData(e),this.cache.has(e)}delete(e){const t=this.cache.delete(e);return this.updatePersistence(),t}clear(){this.cache.clear(),this.updatePersistence()}size(){let e=!1;return this.cache.forEach((t,n)=>{this.checkCacheData(n,!0)&&!e&&(e=!0)}),e&&this.updatePersistence(),this.cache.size}checkCacheData(e,t){const n=this.cache.get(e);if(!n)return!1;let r=!1;return Date.now()-n.timestamp>this.ttlDays*864e5&&(this.cache.delete(e),r=!0,(t??!1)||this.updatePersistence()),r}updatePersistence(){ve.set(this.storageKeyAndVersion,Array.from(this.cache.entries()))}};j();z();U();V();var IA=1,hs;async function fi(e){if(hs)return Reflect.get(hs,"cache");const t=await H(()=>Promise.resolve().then(()=>fA),void 0).then(n=>n.Dexie);return hs=new t("one-inch-long-time-async-cache_"+e),hs.version(IA).stores({cache:["key","value","timestamp"].join(", ")}),Reflect.get(hs,"cache")}var TA=class{constructor(e,t){this.storageKey=e,this.ttlDays=t}async set(e,t){await(await fi(this.storageKey)).put({key:e.toLowerCase(),value:t,timestamp:Date.now()}),this.cleanOldRecords().catch(console.error)}async get(e){const t=e.toLowerCase(),r=await(await fi(this.storageKey)).filter(i=>Date.now()-i.timestamp<this.ttlDays*864e5&&i.key===t).first();return this.cleanOldRecords().catch(console.error),(r==null?void 0:r.value)??null}async has(e){return await this.get(e)!==null}async delete(e){try{return await(await fi(this.storageKey)).delete(e),this.cleanOldRecords().catch(console.error),!0}catch{return!1}}async clear(){(await fi(this.storageKey)).clear()}async size(){return await this.cleanOldRecords().catch(console.error),(await fi(this.storageKey)).count()}async cleanOldRecords(){await(await fi(this.storageKey)).where("timestamp").below(Date.now()-this.ttlDays*864e5).delete()}};j();z();U();V();var dc=class{constructor(){this.timeCacheStorage={}}set(e,t,n){let r=this.timeCacheStorage[e];r||(r=new hc(nd[e]),this.timeCacheStorage[e]=r),r.set(t,n)}get(e,t){const n=this.timeCacheStorage[e];return n?n.get(t):null}},BA=wt(["function balanceOf(address _owner) public view returns (uint256 balance)"]),Uf=new dc;async function OA(e,t,n){const r=[t,n].join(":"),i=Uf.get(e,r);if(i!==null)return i;const s=At(e);if(Un(n))return await s.getBalance({address:t});const o=await s.readContract({abi:BA,functionName:"balanceOf",args:[t],address:n});return Uf.set(e,r,o),o}async function RA(e,t,n){const r={};return await Promise.all(n.map(i=>OA(e,t,i).then(s=>r[i]=s.toString()))),r}j();z();U();V();var MA=wt(["function allowance(address owner, address spender) public view returns (uint256)"]),Vf=new dc;async function DA(e,t,n,r){const i=[e,t,n,r].join(":"),s=Vf.get(e,i);if(s!==null)return s;const o=At(e);if(Un(t))return W$;const a=await o.readContract({abi:MA,functionName:"allowance",args:[n,r],address:t});return Vf.set(e,i,a),a}j();z();U();V();var NA="function permit(address owner, address spender, uint value, uint deadline, uint8 v, bytes32 r, bytes32 s) external",FA="function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s) external",Yg=()=>wt([NA,FA]),LA=()=>wt(["function nonces(address owner) external view returns (uint)","function nonce(address owner) external view returns (uint)","function getNonce(address owner) external view returns (uint)","function _nonces(address owner) external view returns (uint)"]),jA=wt(["function DOMAIN_SEPARATOR() external view returns (bytes32)"]);wt(["function version() view returns (string)"]);wt(["function name() view returns (string)"]);var zA=()=>oi(Yg()[0]),UA=()=>oi(Yg()[0]),VA=()=>oi(jA[0]),HA=()=>LA().map(e=>oi(e)),Hf=new Gg(5);async function qA(e,t){const n=[e,t].join(":"),r=Hf.get(n);if(r)return r;const s=await At(e).getBytecode({address:t});if(!s)throw new Error(`Contract not found: ${t}`);return Hf.set(n,s),s}function WA(e){return e.includes(VA().replace("0x","").toLowerCase())}function GA(e){return HA().some(t=>e.includes(t.replace("0x","").toLowerCase()))}function KA(e){const t=zA().replace("0x","").toLowerCase();return e.includes(t)||YA(e)}function YA(e){const t=UA().replace("0x","").toLowerCase();return e.includes(t)}async function ZA(e,t){try{const r=(await qA(e,t)).toLowerCase();let i=!0;return i&&(i=KA(r)),i&&(i=WA(r)),i&&(i=GA(r)),i}catch{return!1}}j();z();U();V();j();z();U();V();j();z();U();V();function Zg(e){return S[e]!==void 0}function Jg(e){if(!Zg(e))throw new Error(`chain ${e} not supported`)}function gs(e){return Jg(e),e===S.zkSyncEra?"0x6fd4383cb451173d5f9304f041c7bcbf27d561ff":"0x111111125421ca6dc452d289314280a0f8842a65"}function Xg(e){return Jg(e),e===S.zkSyncEra?"0x0000000000225e31D15943971F47aD3022F714Fa":"0x000000000022D473030F116dDEE9F6B43aC78BA3"}var Qg=new TA("permit2",29),JA={[S.eth]:!1,[S.bnb]:!1,[S.matic]:!1,[S.op]:!1,[S.arbitrum]:!1,[S.gnosis]:!1,[S.avalanche]:!1,[S.fantom]:!1,[S.aurora]:!1,[S.klaytn]:!1,[S.zkSyncEra]:!0},eb=()=>H(()=>import("./permit2_abi-SSKWNLFZ-5IYTefWS.js"),__vite__mapDeps([])).then(e=>e.default);function sd(e){return JA[e]??!1}async function XA(e,t,n,r){if(!sd(e))throw new Error(`chain ${e} not supported Permit2`);const{nonce:i}=await QA(e,t,n,r),s={details:{token:t,amount:q$,expiration:Number(Vi),nonce:i},spender:r,sigDeadline:Number(Vi)};return{domain:{chainId:e,name:"Permit2",verifyingContract:Xg(e)},account:n,primaryType:"PermitSingle",types:l6,message:s}}async function QA(e,t,n,r){if(!sd(e))throw new Error(`chain ${e} not supported Permit2`);const s=await At(e).readContract({address:Xg(e),abi:await eb(),functionName:"allowance",args:[t,n,r]}),[o,a,c]=s;return{amount:o,expiration:a,nonce:c}}async function e6(e,t,n,r,i,s){const o=[e,t,n,r].join(":");await Qg.set(o,{permitSingle:s,signature:i})}async function Su(e,t,n,r){const i=[e,t,n,r].join(":");return await Qg.get(i)}async function t6(e,t,n,r){return await Su(e,t,n,r)!==null}async function n6(e,t,n,r){const i=G$(n),s=Hn({abi:await eb(),functionName:"permit",args:[t,r,`${i.r}${tb(r6(i.s,i.v===27n?0:1))}`]}),o=i6(s),a=r.details.token,c=r.spender;return o6(s6(o),a,t,c)}function r6(e,t){const n=Vt(e);return t===1&&(n[0]|=128),Y(n)}function i6(e){const t="0x";return t+e.substring(t.length+8)}function tb(e){const t=e.toString();return t.startsWith("0x")?t.substring(2):t}function s6(e){if(e.length!==706)throw new Error("");const[t,n,r,i,s,o,a,c]=_o([{name:"owner",type:"address"},{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"},{name:"signature",type:"bytes"}],e);return`0x${[r.toString(16).padStart(40,"0"),i.toString()===Vi.toString()?"00000000":(BigInt(i)+1n).toString(16).padStart(8,"0"),s.toString(16).padStart(8,"0"),a.toString()===Vi.toString()?"00000000":(a+1n).toString(16).padStart(8,"0"),BigInt(c).toString(16).padStart(128,"0")].join("")}`}function o6(e,t,n,r){if(e.length!==194)throw new Error("");const i={amount:BigInt(e.slice(0,42)),expiration:+("0x"+e.slice(42,50)),nonce:+("0x"+e.slice(50,58)),sigDeadline:BigInt("0x"+e.slice(58,66)),r:"0x"+e.slice(66,130),vs:"0x"+e.slice(130,194)};return si([{name:"owner",type:"address"},{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"},{name:"signature",type:"bytes"}],[n,t,i.amount,i.expiration===0?Number(Vi):i.expiration-1,i.nonce,r,i.sigDeadline===0n?Vi:i.sigDeadline-1n,i.r+tb(i.vs)])}var a6=[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],c6=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],l6={PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:a6,EIP712Domain:c6};j();z();U();V();var u6=[S.eth,S.bnb,S.matic,S.arbitrum,S.avalanche,S.op,S.gnosis,S.fantom];function h6(e){return u6.includes(e)}j();z();U();V();var nb={[S.eth]:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",[S.bnb]:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",[S.matic]:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",[S.op]:"0x4200000000000000000000000000000000000006",[S.arbitrum]:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",[S.gnosis]:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",[S.avalanche]:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",[S.fantom]:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",[S.aurora]:"0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb",[S.klaytn]:"0xe4f05a66ec68b54a58b17c22107b02e0232cc817",[S.zkSyncEra]:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91"},d6=wt(["function deposit() public payable"]);function f6(e){return nb[e]}function uo(e){const t=qi(e);return{chainId:e,symbol:`W${t.nativeCurrency.symbol}`,name:`W${t.nativeCurrency.symbol}`,decimals:t.nativeCurrency.decimals,address:nb[e],isInternalWrapToken:!0}}function rb(e){return e.isInternalWrapToken?e.symbol.slice(1):e.symbol}async function p6(e,t){const n=At(e),r=f6(e);return await n.estimateContractGas({abi:d6,address:r,value:t,functionName:"deposit"})}j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();var qf=wt(["function getPair(address tokenA, address tokenB) external view returns (address pair)"]),Wf=wt(["function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast)","function token0() external view returns (address)","function token1() external view returns (address)"]),od=class{constructor(e,t,n){this.name=e,this.factoryContractGetter=t,this.supportedChain=n,this.pools=new id(`${this.name}_pools`,7)}isSupportedChain(e){return this.supportedChain.includes(e)}async getRate(e,t,n){try{const r=nr(t.address),i=nr(n.address),[s,o]=await this.getPool(e,r,i);if(s===on)return null;const a=await this.getReserves(e,s),c=a[2];if(Date.now()-c*1e3>36e5)return null;const l=!mn(t.address,o),u=Wt.div(l?a[0]:a[1],l?a[1]:a[0],n.decimals,t.decimals,t.decimals),h=Wt.div(l?a[1]:a[0],l?a[0]:a[1],t.decimals,n.decimals,n.decimals);return{chainId:e,rate:u,revertedRate:h,isReverted:l,sourceToken:t,destinationToken:n}}catch(r){return console.error(`Error in UniswapV2BaseAdapter adapter name ${this.name}`,r),null}}async getPool(e,t,n){const r=[e,t,n].join(":");if(this.pools.has(r))return this.pools.get(r);const i=[e,n,t].join(":");if(this.pools.has(i))return this.pools.get(i);const s=At(e);let o=await s.readContract({address:nr(this.factoryContractGetter(e)),functionName:"getPair",args:[t,n],abi:qf});o!==on&&(o=await s.readContract({address:nr(this.factoryContractGetter(e)),functionName:"getPair",args:[n,t],abi:qf}));let a=on;return o!==on&&(a=await s.readContract({address:o,abi:Wf,functionName:"token0"})),this.pools.set(r,[o,a]),this.pools.set(i,[o,a]),[o,a]}async getReserves(e,t){return await At(e).readContract({address:t,abi:Wf,functionName:"getReserves"})}},m6=new od("UniswapV2",()=>"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",[S.eth,S.bnb,S.matic,S.op,S.arbitrum,S.avalanche]);j();z();U();V();var g6={[S.eth]:"0xC0AeE478e3658e2610c5F7A4A2E1777cE9e4f2Ac",[S.bnb]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[S.matic]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[S.gnosis]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[S.fantom]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[S.avalanche]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[S.arbitrum]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4"},b6=new od("SushiSwapV2",e=>g6[e],[S.eth,S.bnb,S.matic,S.gnosis,S.fantom,S.arbitrum,S.avalanche]);j();z();U();V();var y6={[S.eth]:"0x1097053Fd2ea711dad45caCcc45EfF7548fCB362",[S.bnb]:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",[S.arbitrum]:"0x02a84c1b3BBD7401a5f7fa98a384EBC70bB5749E"},w6=new od("PancakeSwapV2",e=>y6[e],[S.eth,S.bnb,S.arbitrum]);j();z();U();V();j();z();U();V();var v6=wt(["function getPool(address tokenA, address tokenB, uint24 fee) external view returns (address pool)"]),nl=wt(["function liquidity() external view returns (uint128)","function slot0() external view returns (uint160 sqrtPriceX96, int24 tick, uint16 observationIndex, uint16 observationCardinality, uint16 observationCardinalityNext, uint8 feeProtocol, bool unlocked)","function token0() external view returns (address)","function token1() external view returns (address)"]),fc=class{constructor(e,t,n,r){this.name=e,this.factoryContractGetter=t,this.supportedChain=n,this.feeTiers=r,this.pools=new id(`${this.name}_pools`,7),this.liquidityCache=new dc}isSupportedChain(e){return this.supportedChain.includes(e)}async getRate(e,t,n){try{const r=nr(t.address),i=nr(n.address),[s,o]=await this.getPool(e,r,i);if(s===on)return null;const a=!mn(t.address,o),[c,l]=await Promise.all([this.getSqrtPriceX96(e,s),this.getLiquidity(e,s)]),[u,h]=this.calculatePrice(c,t,n,l,a);return{chainId:e,rate:u,revertedRate:h,sourceToken:t,destinationToken:n,isReverted:a}}catch(r){return console.error(`Error in UniswapV3BaseRateAdapter adapter name ${this.name}`,r),null}}async getPool(e,t,n){const r=[e,t,n].join(":");if(this.pools.has(r))return this.pools.get(r);const i=[e,n,t].join(":");if(this.pools.has(i))return this.pools.get(i);const s=At(e);let o=on,a=0n;for(const c of this.feeTiers){const l=await s.readContract({address:nr(this.factoryContractGetter(e)),functionName:"getPool",args:[t,n,c],abi:v6});if(l===on)continue;const u=await this.getLiquidity(e,l);u>a&&(a=u,o=l)}if(o!==on){const c=await s.readContract({address:o,abi:nl,functionName:"token0"});return this.pools.set(r,[o,c]),this.pools.set(i,[o,c]),[o,c]}return[on,on]}async getSqrtPriceX96(e,t){const n=At(e),[r]=await n.readContract({address:t,abi:nl,functionName:"slot0"});return r}async getLiquidity(e,t){const n=this.liquidityCache.get(e,t);if(n)return n;const i=await At(e).readContract({address:t,functionName:"liquidity",abi:nl});return this.liquidityCache.set(e,t,i),i}calculatePrice(e,t,n,r,i){const s=2n**96n,o=r*s/e,a=r*e/s;return[Wt.div(i?o:a,i?a:o,n.decimals,t.decimals,t.decimals),Wt.div(i?a:o,i?o:a,t.decimals,n.decimals,n.decimals)]}};function x6(e){return e===S.bnb?"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7":e===S.avalanche?"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD":"0x1F98431c8aD98523631AE4a59f267346ea31F984"}var _6=new fc("UniswapV3",x6,[S.eth,S.bnb,S.matic,S.op,S.arbitrum,S.avalanche],[100,500,3e3,1e4]);j();z();U();V();function E6(e){return e===S.zkSyncEra?"0x1BB72E0CbbEA93c08f535fc7856E0338D7F7a8aB":"0x0BFbCF9fa4f9C56B0F40a671Ad40E0805A091865"}var $6=new fc("PancakeSwapV3",E6,[S.eth,S.bnb,S.arbitrum,S.zkSyncEra],[100,500,2500,1e4]);j();z();U();V();var S6={[S.eth]:"0xbACEB8eC6b9355Dfc0269C18bac9d6E2Bdc29C4F",[S.bnb]:"0x126555dd55a39328F69400d6aE4F782Bd4C34ABb",[S.matic]:"0x917933899c6a5F8E37F31E19f92CdBFF7e8FF0e2",[S.gnosis]:"0xf78031CBCA409F2FB6876BDFDBc1b2df24cF9bEf",[S.fantom]:"0x7770978eED668a3ba661d51a773d3a992Fc9DDCB",[S.avalanche]:"0x3e603C14aF37EBdaD31709C4f848Fc6aD5BEc715",[S.arbitrum]:"0x1af415a1EbA07a4986a52B6f2e7dE7003D82231e",[S.op]:"0x9c6522117e2ed1fE5bdb72bb0eD5E3f2bdE7DBe0"},A6=new fc("SushiSwapV3",e=>S6[e],[S.eth,S.bnb,S.op,S.matic,S.gnosis,S.fantom,S.arbitrum,S.avalanche],[100,500,3e3,1e4]);j();z();U();V();var k6=new fc("SpookySwapV3",()=>"0x7928a2c48754501f3a8064765ECaE541daE5c3E6",[S.fantom],[100,500,3e3,1e4]),ib=class{constructor(e){this.onChainAdapters=e,this.rateCache=new dc}async getOnChainRate(e,t,n){const r=await this.getOnChainRawRate(e,t,n);if(r.length===0)return null;const i=o=>o.isReverted?o.revertedRate:o.rate;let s=r[0];for(const o of r)i(o)>i(s)&&(s=o);return s}listenOnChainRate(e,t,n){return Ro(e).pipe(Ye(null),fe(()=>this.getOnChainRate(e,t,n)))}async getOnChainRawRate(e,t,n){let r=t,i=n;if(Un(t.address)){const u=uo(e);if(!u)return[];r=u}if(Un(n.address)){const u=uo(e);if(!u)return[];i=u}const s=[r.address,i.address].join(":"),o=this.rateCache.get(e,s);if(o!==null)return o;const a=this.onChainAdapters.filter(u=>u.isSupportedChain(e)),l=(await Promise.all(a.map(u=>u.getRate(e,r,i)))).filter(u=>u!==null);return this.rateCache.set(e,s,l),l}};$r([Mt((e,t,n,r)=>[t,n.address,r.address].join(":"))],ib.prototype,"getOnChainRate");function sb(){return new ib([_6,$6,A6,k6,m6,b6,w6])}j();z();U();V();var C6={[S.eth]:"0xdac17f958d2ee523a2206206994597c13d831ec7",[S.bnb]:"0x55d398326f99059ff775485246999027b3197955",[S.matic]:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",[S.op]:"0x94b008aa00579c1307b0ef2c499ad98a8ce58e58",[S.arbitrum]:"0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9",[S.gnosis]:"0x4ecaba5870353805a9f068101a40e0f32ed605c6",[S.avalanche]:"0xc7198437980c041c805a1edcba50c1ce5db95118",[S.fantom]:"0xcc1b99ddac1a33c201a742a1851662e87bc7f22c",[S.aurora]:"0x4988a896b1227218e4a686fde5eabdcabd91571f",[S.klaytn]:"0x754288077d0ff82af7a5317c7cb8c444d421d103",[S.zkSyncEra]:"0x493257fd37edb34451f62edf8d2a0c418852ba4c"},P6=6,I6=class{constructor(){this.rateProvider=sb()}async getPrice(e,t){const n=C6[e];if(mn(t.address,n))return"1";const r=await this.rateProvider.getOnChainRate(e,{address:n,chainId:e,decimals:P6,name:"USDT",symbol:"USDT"},t);return r?et(r.rate,t.decimals):"0"}};j();z();U();V();j();z();U();V();var Gf={native:1e3,USDT:100,USDC:100,WETH:62,"1INCH":61,"PEG:ETH":60,"PEG:USD":50,"PEG:BTC":40,"PEG:EUR":30,staking:20,savings:10,tokens:0},Gi,ad=(Gi=class extends Bn{constructor(){super("one-inch-token"),this.tokenCache=new Gg(50),this.version(Gi.databaseVersion).stores({tokens:["id","address","decimals","chainId","name","symbol","*tags","eip2612","logoURL","isFavorite","priority"].join(", "),balances:["id","chainId","tokenAddress","walletAddress","amount"].join(", ")})}async getToken(t,n){const r=pi(t,n);if(this.tokenCache.has(r))return this.tokenCache.get(r);const i=await this.tokens.where("id").equals(r).toArray();return this.tokenCache.set(r,i[0]),i[0]??null}async getNativeToken(t){return this.getToken(t,rd)}getTokenBySymbol(t,n){return this.tokens.where("chainId").equals(t).filter(r=>r.symbol===n).toArray()}async getTokenMap(t,n){const r=new Set(n),i={};return await this.tokens.each(s=>{s.chainId===t&&r.has(s.address)&&(i[s.address]=s)}),i}getTokenList(t,n){const r=new Set(n);return this.tokens.filter(i=>i.chainId===t&&r.has(i.address)).toArray()}async getTokenBalanceMap(t,n,r){const i=new Set(r),s={};return await this.balances.each(o=>{o.chainId===t&&o.walletAddress===n&&i.has(o.tokenAddress)&&(s[o.tokenAddress]=BigInt(o.amount))}),s}async getTokens(t,n){const r=new Set(n);return this.tokens.filter(i=>i.chainId===t&&r.has(i.address)).toArray()}async getAllTokenAddresses(t){const n=[];return await this.tokens.where("chainId").equals(t).each(r=>n.push(r.address)),n}async getTokenBalance(t,n,r){const i=pi(t,r,n);return(await this.balances.where("id").equals(i).toArray())[0]??null}async isEmptyTokenBalanceStorage(t,n){return this.balances.filter(r=>r.chainId===t&&mn(r.walletAddress,n)).toArray().then(r=>r.length===0)}async setTokens(t,n){var i;const r=[];for(const s of n)r.push({id:pi(t,s.address),address:s.address,decimals:s.decimals,eip2612:((i=s.extensions)==null?void 0:i.eip2612)??null,name:s.name,symbol:s.symbol,tags:s.tags,logoURL:s.logoURI,isFavorite:!1,chainId:t,priority:T6(s)});this.tokenCache.clear(),await this.tokens.bulkPut(r)}async setBalances(t,n,r){const i=[];for(const s in r){const o=s;i.push({id:pi(t,n,o),chainId:t,tokenAddress:o,walletAddress:n,amount:r[o]})}await this.balances.bulkPut(i)}async getAllFavoriteTokenAddresses(t){const n=[];return await this.tokens.where("chainId").equals(t).each(r=>{r.isFavorite&&n.push(r.address)}),n}async getSortedForViewTokenAddresses(t,n,r){const i={},s={},o=new Set,a=[],c=[],l=n.toLowerCase();return r&&await this.balances.where("chainId").equals(t).and(u=>mn(u.walletAddress,r)).each(u=>i[u.tokenAddress]=BigInt(u.amount)),await this.tokens.where("chainId").equals(t).each(u=>{if(!(l!==""&&!u.address.toLowerCase().includes(l)&&!u.name.toLowerCase().startsWith(l)&&!u.symbol.toLowerCase().startsWith(l))){if(i[u.address]&&i[u.address]>0n){a.push(u.address);return}s[u.address]=u.priority,c.push(u.address),u.isFavorite&&o.add(u.address)}}),{notZero:a,zero:c.sort((u,h)=>{const d=s[u],m=s[h],b=o.has(u),g=o.has(h);return b===g?d<m?1:d>m?-1:0:b?-1:g?1:0})}}async setFavoriteState(t,n,r){const i=pi(t,n);this.tokenCache.delete(i),await this.tokens.update(i,{isFavorite:r})}async setEip2612Support(t,n,r){const i=pi(t,n);await this.tokens.update(i,{eip2612:r})}},Gi.databaseVersion=4,Gi);function pi(...e){return e.join(":")}function T6(e){var n;let t=((n=e.providers)==null?void 0:n.length)??0;t+=Gf[e.symbol]??0;for(const r of e.tags)t+=Gf[r]??0;return t}var rl=`last-update-token-database-timestamp-v${ad.databaseVersion}`,il=`last-update-token-balance-database-timestamp-v${ad.databaseVersion}`,B6=6048e5,O6=nd,cd=class{constructor(){this.schema=new ad,this.tokenUsdPriceProvider=new I6,this.oneInchApiAdapter=new ci,this.lastUpdateTokenDatabaseTimestampStorage=ve.get(rl,cn),this.lastUpdateTokenBalanceDatabaseTimestampStorage=ve.get(il,cn)}async getSortedForViewTokenAddresses(e,t,n){await this.updateTokenDatabase(e),n&&await this.updateBalanceDatabase(e,n);const r=await this.schema.getSortedForViewTokenAddresses(e,t,n);if(n){const i=await this.getTokenUSDPrices(e,r.notZero),s=await this.getTokenMap(e,r.notZero),o=await this.getTokenBalanceMap(e,n,r.notZero),a=await this.getAllFavoriteTokenAddresses(e),c=new Set(a),l={};for(const u of r.notZero){const h=s[u],d=i[u],m=et(o[u],h.decimals);l[u]=Number(m)*Number(d)}return[...r.notZero.sort((u,h)=>{const d=c.has(u),m=c.has(h);return d===m?l[h]-l[u]:d?-1:1}),...r.zero]}return[...r.notZero,...r.zero]}async getToken(e,t){return await this.updateTokenDatabase(e),await this.schema.getToken(e,t)}async getNativeToken(e){return await this.updateTokenDatabase(e),await this.schema.getNativeToken(e)}async getTokenBySymbol(e,t){return await this.updateTokenDatabase(e),this.schema.getTokenBySymbol(e,t)}async getTokenList(e,t){return await this.updateTokenDatabase(e),await this.schema.getTokenList(e,t)}async getTokenMap(e,t){return await this.schema.getTokenMap(e,t)}async getTokenBalanceMap(e,t,n){return await this.updateBalanceDatabase(e,t),await this.schema.getTokenBalanceMap(e,t,n)}async getTokenBalance(e,t,n){return await this.updateBalanceDatabase(e,n,t),await this.schema.getTokenBalance(e,t,n)}async getTokenUSDPrice(e,t){return(await this.getTokenUSDPrices(e,[t]))[t]}async getPriorityToken(e,t){const n=await this.getTokenList(e,t),r=i=>i.tags.includes("PEG:USD")||i.tags.includes("PEG:EUR");return n.sort((i,s)=>{const o=r(i),a=r(s);return o&&a?i.priority-s.priority:o&&!a?-1:!o&&a?1:i.priority-s.priority})[0]}async setFavoriteState(e,t,n){await this.schema.setFavoriteState(e,t,n)}async getAllFavoriteTokenAddresses(e){return await this.schema.getAllFavoriteTokenAddresses(e)}async getTokenUSDPrices(e,t){const n={},r=await this.oneInchApiAdapter.getTokenPrices(e).catch(()=>null);if(r===null){const i=await this.schema.getTokens(e,t);return await Promise.all(i.map(s=>this.tokenUsdPriceProvider.getPrice(e,s).catch(()=>"0").then(o=>n[s.address]=o))),n}for(const i of t)n[i]=r[i]??"0";return n}async isSupportedTokenPermit(e,t){const n=await this.schema.getToken(e,t);if(!n)return!1;if(n.eip2612===null){const r=await ZA(e,t);return await this.schema.setEip2612Support(e,t,r),r}return n.eip2612}async updateTokenDatabase(e){var r;const t=(r=this.lastUpdateTokenDatabaseTimestampStorage)==null?void 0:r[e];if(t&&Date.now()-t<B6)return;const n=await this.oneInchApiAdapter.getWhiteListedTokens(e);await this.schema.setTokens(e,n),ve.updateEntity(rl,e.toString(),Date.now()),this.lastUpdateTokenDatabaseTimestampStorage=ve.get(rl,cn)}async updateBalanceDatabase(e,t,n){var o;const r=[e,t].join(":"),i=(o=this.lastUpdateTokenBalanceDatabaseTimestampStorage)==null?void 0:o[r];if(i&&Date.now()-i<O6[e])return;const s=async()=>{let a=await this.oneInchApiAdapter.getBalancesByWalletAddress(e,t).catch(()=>null);a===null&&(a=await this.getBalancesOnChain(e,t)),await this.schema.setBalances(e,t,a),ve.updateEntity(il,r,Date.now()),this.lastUpdateTokenBalanceDatabaseTimestampStorage=ve.get(il,cn)};if(n){if(await this.schema.getTokenBalance(e,n,t)===null)return await s()}else if(await this.schema.isEmptyTokenBalanceStorage(e,t))return await s();s().catch(a=>console.error(a))}liveQuery(e){return td(e)}async getBalancesOnChain(e,t){const n=await this.schema.getAllTokenAddresses(e);return RA(e,t,n)}};$r([Mt()],cd.prototype,"updateTokenDatabase");$r([Mt()],cd.prototype,"updateBalanceDatabase");var mt=new cd;j();z();U();V();function hn(e,t){const n=mn(e.address,t.address),r=e.chainId===t.chainId;return n&&r}j();z();U();V();function R6(e,t){return e.rate===t.rate&&e.chainId===t.chainId&&e.revertedRate===t.revertedRate&&hn(e.sourceToken,t.sourceToken)&&hn(e.destinationToken,t.destinationToken)}var Kf=class{constructor(){this.lastSnapshot={token:null,amount:null},this.signalChange$=new ft}setToken(e){const{token:t}=this.lastSnapshot;t&&e&&hn(t,e)||(this.lastSnapshot={...this.lastSnapshot,token:e,amount:0n},this.signalChange$.next())}setAmount(e){const{amount:t}=this.lastSnapshot;t!==e&&(this.lastSnapshot={...this.lastSnapshot,amount:e},this.signalChange$.next())}getSnapshot(){return this.lastSnapshot}streamSnapshot(){return this.signalChange$.pipe(te(()=>this.lastSnapshot),Ye(this.lastSnapshot),Je(),Be({bufferSize:1,refCount:!0}))}},M6=class{constructor(){this.source=new Kf,this.destination=new Kf,this.pairChance$=new ft}switchPair(){const{source:e,destination:t}=this;this.source=t,this.destination=e,this.pairChance$.next()}setPair(e){this.setToken(e.srcToken,"source"),this.setToken(e.dstToken,"destination"),this.pairChance$.next()}setAmount(e,t){this.getTokenContext(e).setAmount(t)}streamSnapshot(e){return this.pairChance$.pipe(Ye(null),fe(()=>this.getTokenContext(e).streamSnapshot()))}getSnapshot(e){return this.getTokenContext(e).getSnapshot()}setToken(e,t){this.getTokenContext(t).setToken(e)}getTokenContext(e){if(e==="source")return this.source;if(e==="destination")return this.destination;throw new Error(`invalid token type ${e}`)}};j();z();U();V();var D6=class{constructor(e,t,n=sb()){this.pairHolder=e,this.walletController=t,this.rateProvider=n}async getDataSnapshot(){const e=this.pairHolder.getSnapshot("source"),t=this.pairHolder.getSnapshot("destination"),{token:n,amount:r}=e,{token:i}=t,s=await this.walletController.data.getChainId(),o=await this.walletController.data.getActiveAddress();if(s===null||n===null||i===null||r===null||o===null)throw new Error("");const a=await this.rateProvider.getOnChainRate(s,n,i);if(a===null)throw new Error("");let c;return a.revertedRate?c=Wt.div(r,a.revertedRate,n.decimals,i.decimals,i.decimals):c=Wt.mul(r,a.rate,n.decimals,n.decimals,i.decimals),{chainId:s,sourceToken:n,destinationToken:i,sourceTokenAmount:r,destinationTokenAmount:c,rate:a,minReceive:c,autoAuctionTime:null,autoSlippage:null,rawResponseData:null}}};j();z();U();V();var N6=class{constructor(e,t,n,r,i){this.swapContext=e,this.pairHolder=t,this.walletController=n,this.settings=r,this.devPortalAdapter=i}async getDataSnapshot(){const e=this.pairHolder.getSnapshot("source"),t=this.pairHolder.getSnapshot("destination");let{token:n}=e;const{amount:r}=e,{token:i}=t,s=await this.walletController.data.getChainId(),o=await this.walletController.data.getActiveAddress();if(s===null||n===null||i===null||r===null||o===null||r===0n)throw new Error("");if(await this.swapContext.getMaxAmount()<r)throw new Error("");Un(n.address)&&(n=uo(s));const c=await this.devPortalAdapter.getFusionQuoteReceive(s,n.address,i.address,r,o);if(c===null)throw new Error("");const{toTokenAmount:l,recommended_preset:u,presets:h,autoK:d}=c,m=h[u],b=BigInt(l),g=Wt.div(b,r,i.decimals,n.decimals),v=Wt.div(r,b,n.decimals,i.decimals),y={chainId:s,rate:g,revertedRate:v,isReverted:!1,sourceToken:n,destinationToken:i},x=this.settings.slippage;let E=BigInt(m.auctionEndAmount);if(x.value!==null){const[$]=x.value,k=Wt.calculatePercentage(b,$);E=b-k}return{chainId:s,sourceToken:n,destinationToken:i,sourceTokenAmount:r,minReceive:E,destinationTokenAmount:b,autoAuctionTime:m.auctionDuration,autoSlippage:d,rate:y,rawResponseData:c}}};j();z();U();V();j();z();U();V();var Yf=class{constructor(e,t=null){this.name=e,this.initValue=t,this.valueState$=new Ri(F6(this.name)??this.initValue),this.value$=this.valueState$,this.originalValue=null}get value(){return this.valueState$.value}setValue(e){this.valueState$.next(e),sl(this.name,e)}resetValue(){this.valueState$.next(this.originalValue),sl(this.name,this.originalValue)}cleanValue(){this.valueState$.next(null),sl(this.name,null)}startChangingValue(){if(this.originalValue!==null)throw new Error("value changing in progress");this.originalValue=this.value}endChangingValue(){this.originalValue=null}},Au="one-inch-settings";function sl(e,t){const n=ve.get(Au,cn)??{};ve.set(Au,{...n,[e]:t})}function F6(e){const t=ve.get(Au,cn);return t===null?null:Reflect.get(t,e)}var ob=class{constructor(e){this.walletController=e,this.pairHolder=new M6,this.subscription=new xr,this.oneInchApiAdapter=new ci,this.settings={slippage:new Yf("slippage"),auctionTime:new Yf("auctionTime")},this.contextStrategy={onChain:new D6(this.pairHolder,this.walletController),fusion:new N6(this,this.pairHolder,this.walletController,this.settings,this.oneInchApiAdapter)},this.loading$=new Ri(!1),this.chainId$=de(()=>this.walletController.data.chainId$).pipe(Je()),this.connectedWalletAddress$=de(()=>this.walletController.data.activeAddress$).pipe(Je()),this.block$=this.chainId$.pipe(fe(t=>t?Ro(t):st(null))),this.updateData$=new ft,this.updateDataComplete$=new ft,this.dataUpdateEmitter$=Dn(this.block$,this.chainId$,this.connectedWalletAddress$,this.pairHolder.streamSnapshot("source"),this.pairHolder.streamSnapshot("destination"),this.updateData$).pipe(Yi(500),te(()=>{}),Ye(void 0),Be({bufferSize:1,refCount:!0})),this.dataSnapshot$=this.dataUpdateEmitter$.pipe(Zu(this.connectedWalletAddress$),fe(([t,n])=>(this.loading$.next(!0),this.getDataSnapshot(n===null))),pe(()=>{this.loading$.next(!1),this.updateDataComplete$.next()}),Be({bufferSize:1,refCount:!0})),this.rate$=this.dataSnapshot$.pipe(te(t=>(t==null?void 0:t.rate)??null)),this.minReceive$=this.dataSnapshot$.pipe(te(t=>(t==null?void 0:t.minReceive)??0n)),this.destinationTokenAmount$=this.dataSnapshot$.pipe(te(t=>(t==null?void 0:t.destinationTokenAmount)??0n)),this.autoSlippage$=this.dataSnapshot$.pipe(te(t=>(t==null?void 0:t.autoSlippage)??null)),this.autoAuctionTime$=this.dataSnapshot$.pipe(te(t=>(t==null?void 0:t.autoAuctionTime)??null)),this.slippage$=ct([this.autoSlippage$,this.settings.slippage.value$]).pipe(te(([t,n])=>n?{type:n[1],value:n[0]}:{type:"auto",value:t}),Be({bufferSize:1,refCount:!0})),this.auctionTime$=ct([this.autoAuctionTime$,this.settings.auctionTime.value$]).pipe(te(([t,n])=>n?{type:n[1],value:n[0]}:{type:"auto",value:t}),Be({bufferSize:1,refCount:!0})),this.subscription.add(Dn(this.destinationTokenAmount$.pipe(Je(),pe(t=>{this.setTokenAmountByType("destination",t)}))).subscribe())}wrapNativeToken(e){throw new Error("Method not implemented.")}getApprove(){throw new Error("Method not implemented.")}getSettingsController(e){const t=this.settings[e];if(!t)throw new Error("");return t}async getPermit(){const e=await this.walletController.data.getChainId(),t=await this.walletController.data.getActiveAddress(),n=this.pairHolder.getSnapshot("source");if(!e||!t||!L6(n))throw new Error("");if(await Su(e,n.token.address,t,gs(e))!==null)return;const i=await XA(e,n.token.address,t,gs(e)),s=await this.walletController.signTypedData(i);await e6(e,n.token.address,t,gs(e),s,i.message)}destroy(){this.subscription.unsubscribe()}setPair(e){this.pairHolder.setPair(e)}switchPair(){this.pairHolder.switchPair()}async getSnapshot(){this.updateData$.next(),await $t(this.updateDataComplete$);const[e,t,n]=await Promise.all([$t(this.dataSnapshot$),$t(this.slippage$),$t(this.auctionTime$)]);return{...e,slippage:t,auctionTime:n}}async fusionSwap(e){const{chainId:t,sourceToken:n,destinationToken:r,sourceTokenAmount:i,destinationTokenAmount:s,slippage:o,auctionTime:a,rawResponseData:c}=e,l=await this.walletController.data.getActiveAddress();if(l===null)throw new Error("");if(!c)throw new Error("");const u=await this.getFusionSDKInstance(t),h=await Su(t,n.address,l,gs(t)),d={walletAddress:l,fromTokenAddress:n.address,toTokenAddress:r.address,amount:i.toString(),preset:c.recommended_preset};h&&(d.permit=await n6(t,l,h.signature,h.permitSingle),d.isPermit2=!0);const{type:m,value:b}=o,{type:g,value:v}=a;if(m!=="auto"||g!=="auto"){const x=c.presets[c.recommended_preset],E=s-Wt.calculatePercentage(s,b??c.autoK);d.customPreset={auctionEndAmount:E.toString(),auctionDuration:v??x.auctionDuration,auctionStartAmount:x.auctionStartAmount},d.preset="custom"}const y=await u.createOrder(d);await u.submitOrder(y.order,y.quoteId)}async getMaxAmount(){const t=this.pairHolder.getSnapshot("source").token,n=await this.walletController.data.getActiveAddress();if(!t||!n)return 0n;const r=await mt.getTokenBalance(t.chainId,t.address,n);let i=BigInt((r==null?void 0:r.amount)??0);if(Un(t.address)){const s=await this.walletController.data.getChainId();if(!s)return 0n;const[o,a]=await Promise.all([p6(s,i),this.oneInchApiAdapter.getGasPrice(s)]);if(!a)return 0n;const c=a.high,l=o*(BigInt(c.maxFeePerGas)+BigInt(c.maxPriorityFeePerGas));i=i-l,i<0n&&(i=0n)}return i}async setMaxAmount(){const e=await this.getMaxAmount();this.setTokenAmountByType("source",e)}getTokenByType(e){return this.pairHolder.streamSnapshot(e).pipe(te(t=>t.token),Je())}getTokenAmountByType(e){return this.pairHolder.streamSnapshot(e).pipe(te(t=>t.amount),Je())}getTokenRawAmountByType(e){return this.pairHolder.streamSnapshot(e).pipe(te(t=>t.amount),Je())}setTokenAmountByType(e,t){this.pairHolder.setAmount(e,t)}async getFusionSDKInstance(e){const{FusionSDK:t}=await H(()=>import("./esm-RVCTRB6B-DliJNlqK.js"),__vite__mapDeps([]));return new t({url:za("oneInchDevPortalHost")+"/fusion",network:e,blockchainProvider:new j6(e,this.walletController),httpProvider:new z6})}async getDataSnapshot(e){if(!e)try{return await this.contextStrategy.fusion.getDataSnapshot()}catch{return this.getDataSnapshot(!0)}try{return await this.contextStrategy.onChain.getDataSnapshot()}catch{return null}}};function L6(e){return e.token!==null&&e.amount!==null}var j6=class{constructor(e,t){this.chainId=e,this.walletController=t,this.client=At(this.chainId)}async signTypedData(e,t){return await this.walletController.signTypedData(t)}async ethCall(e,t){return(await this.client.call({to:e,data:t})).data??""}},z6=class{async get(e){return(await fetch(e)).json()}async post(e,t){return(await fetch(e,{method:"POST",body:JSON.stringify(t)})).json().catch(()=>{})}};j();z();U();V();j();z();U();V();j();z();U();V();j();z();U();V();async function ku(e,t,n){const r=ab(e,t,n);await r.requestAddresses().catch(s=>{var o,a;if(s.core===4001||(a=(o=s.message)==null?void 0:o.toLowerCase())!=null&&a.includes("user reject")||s.details==="Cancelled")throw s});const i=await r.getChainId();return e!==i&&await r.switchChain(qi(e)),r}function ab(e,t,n){return U$({chain:qi(e),transport:O_(t),account:n})}j();z();U();V();j();z();U();V();function ol(e,t){return new Fe(n=>{const r=i=>{n.next(i)};return e.on(t,r),()=>{if("removeListener"in e)return e.removeListener(t,r);console.warn("unable to unsubscribe from provider",e,t)}})}var cb=class{constructor(e){this.info=e,this.provider$=new Ri(null),this.activeAddressInner$=new Ri(null),this.providerOrDisconnect$=Dn(this.provider$,de(()=>this.disconnect$).pipe(te(()=>null))),this.addresses$=this.providerOrDisconnect$.pipe(fe(t=>t?mr(this.getAddresses()).pipe(fe(n=>ol(t,"accountsChanged").pipe(Ye(n)))):st([])),Be({bufferSize:1,refCount:!0})),this.activeAddress$=ct([this.addresses$,this.activeAddressInner$]).pipe(te(([t,n])=>n||t[0]),Be({bufferSize:1,refCount:!0})),this.chainId$=this.providerOrDisconnect$.pipe(fe(t=>t?mr(this.getChainId()).pipe(fe(n=>ol(t,"chainChanged").pipe(te(r=>Zf(r)),Ye(n)))):st(null)),Be({bufferSize:1,refCount:!0})),this.disconnect$=this.provider$.pipe(Xe(Boolean),fe(t=>ol(t,"disconnect"))),this.isConnected$=this.activeAddress$.pipe(te(t=>!!t)),this.info$=st(e)}getInfo(){return this.info}setProvider(e){this.provider$.next(e)}async getAddresses(){const e=this.provider$.value;return e?await e.request({method:"eth_accounts"}):[]}async getActiveAddress(){const e=this.activeAddressInner$.value;return e||((await this.getAddresses())[0]??null)}async getChainId(){const e=this.provider$.value;if(!e)return null;const t=await e.request({method:"eth_chainId"}).catch(()=>null);return t?Zf(t):null}async isConnected(){return!!await this.getActiveAddress()}setActiveAddress(e){this.activeAddressInner$.next(e)}};function Zf(e){return typeof e=="number"?e:parseInt(e,16)}j();z();U();V();function U6(e){const{code:t,message:n}=e;return t===4001||(n==null?void 0:n.toLowerCase().includes("user rejected"))}var Jf=class{constructor(e){this.providerDetail=e,this.client=null,this.data=new cb(this.providerDetail.info)}async connect(e){return this.client=await ku(e,this.providerDetail.provider),this.data.setProvider(this.providerDetail.provider),!0}async restoreConnect(e,t){this.data.setProvider(this.providerDetail.provider);const r=(await this.data.getAddresses()).length>0&&e!==null;return r?this.client=ab(e,this.providerDetail.provider):this.data.setProvider(null),!r&&t?this.connect(e):r}async disconnect(){return this.client=null,this.data.setProvider(null),!0}async changeChain(e){return this.client?(await this.client.switchChain({id:e}),!0):!1}async isConnected(){var t;return(await((t=this.client)==null?void 0:t.getAddresses())??[]).length>0}setActiveAddress(e){this.data.setActiveAddress(e)}async writeContract(e){if(!await this.isConnected()||!this.client)throw new Error("Wallet not connected");const t=await this.data.getActiveAddress();return await this.client.writeContract({...e,account:t})}async signTypedData(e){if(!await this.isConnected()||!this.client)throw new Error("Wallet not connected");const t=await this.data.getActiveAddress();try{return await this.client.signTypedData({...e,account:t})}catch(r){if(U6(r))throw new r;console.log(r)}const n=JSON.stringify(e,V6);return await this.providerDetail.provider.request({method:"eth_signTypedData_v3",params:[t,n]})}};function V6(e,t){return typeof t=="bigint"?t.toString():t}j();z();U();V();j();z();U();V();function H6(e){ve.set("chainId",Number(e))}function lb(){return ve.get("chainId",Number)}function q6(e){ve.set("activeAddress",e)}function W6(){return ve.get("activeAddress",String)}function Xf(e){ve.set("activeWallet",e)}function Qf(){return ve.get("activeWallet",String)}function G6(e){const t=ve.get("connectedWallet",JSON.parse),n=new Set(t);n.has(e)||(n.add(e),ve.set("connectedWallet",[...n.keys()]))}function K6(){return ve.get("connectedWallet",JSON.parse)}function ep(e){const t=ve.get("connectedWallet",JSON.parse),n=new Set(t);n.has(e)&&(n.delete(e),ve.set("connectedWallet",[...n.keys()]))}j();z();U();V();var al=new WeakMap;function Ke(e){if(al.has(e))return al.get(e);const t=yE(["string","string","string"],[e.name,e.rdns??"",e.icon]).slice(0,10);return al.set(e,t),t}var Y6=class{constructor(e){this.dataProvider=e,this.chainIdInner$=new Ri(lb()??S.eth),this.currentActiveAdapter$=de(()=>this.dataProvider.update$).pipe(Ye(null),te(()=>this.dataProvider.currentActiveAdapter),Je(),Be({bufferSize:1,refCount:!0})),this.currentActiveAdapterData$=this.currentActiveAdapter$.pipe(te(t=>(t==null?void 0:t.data)??null),Be({bufferSize:1,refCount:!0})),this.info$=this.currentActiveAdapterData$.pipe(Xe(Boolean),fe(t=>t.info$)),this.addresses$=this.currentActiveAdapterData$.pipe(fe(t=>(t==null?void 0:t.addresses$)??st([])),pe(t=>console.log(t)),Be({bufferSize:1,refCount:!0})),this.activeAddress$=this.currentActiveAdapterData$.pipe(fe(t=>(t==null?void 0:t.activeAddress$)??st(null)),pe(t=>t&&q6(t)),Be({bufferSize:1,refCount:!0})),this.chainId$=ct([this.currentActiveAdapterData$,this.chainIdInner$]).pipe(fe(([t,n])=>(t==null?void 0:t.chainId$)??st(n)),pe(t=>t&&H6(t)),Be({bufferSize:1,refCount:!0})),this.disconnect$=this.currentActiveAdapterData$.pipe(fe(t=>(t==null?void 0:t.disconnect$)??st()),Be({bufferSize:1,refCount:!0})),this.isConnected$=this.currentActiveAdapterData$.pipe(fe(t=>(t==null?void 0:t.isConnected$)??st(!1)),Be({bufferSize:1,refCount:!0})),ct([this.activeAddress$,this.chainId$]).pipe(Na(Hu)).subscribe()}getInfo(){if(!this.dataProvider.currentActiveAdapter)throw new Error("");return this.dataProvider.currentActiveAdapter.data.getInfo()}async getAddresses(){const e=await this.getProviderDataAdapter();return e?await e.getAddresses():[]}async getActiveAddress(){if(!this.dataProvider.currentActiveAdapter)return null;const e=await this.getProviderDataAdapter();return e?await e.getActiveAddress():null}async getChainId(){if(!this.dataProvider.currentActiveAdapter)return this.chainIdInner$.value;const e=await this.getProviderDataAdapter();if(!e)return this.chainIdInner$.value;const t=await e.getChainId();return t||this.chainIdInner$.value}async isConnected(){if(!this.dataProvider.currentActiveAdapter)return!1;const e=await this.getProviderDataAdapter();return e?await e.isConnected():!1}async isActiveAddress(e,t){var o,a;const n=Ke(e),r=await((o=this.dataProvider.currentActiveAdapter)==null?void 0:o.data.getActiveAddress())??null,i=((a=this.dataProvider.currentActiveAdapter)==null?void 0:a.data.getInfo())??null,s=i?Ke(i):null;return!!r&&!!s&&n===s&&mn(r,t)}isActiveWallet(e){var i;const t=Ke(e),n=((i=this.dataProvider.currentActiveAdapter)==null?void 0:i.data.getInfo())??null,r=n?Ke(n):null;return!!r&&r===t}isActiveAddress$(e,t){const n=Ke(e);return ct([this.currentActiveAdapter$,this.activeAddress$]).pipe(te(([r,i])=>{const s=r?Ke(r.data.getInfo()):null;return!!i&&!!s&&n===s&&mn(i,t)}))}isActiveWallet$(e){const t=Ke(e);return this.currentActiveAdapter$.pipe(te(n=>{const r=n?Ke(n.data.getInfo()):null;return!!r&&r===t}))}setChainId(e){this.chainIdInner$.next(e)}getProviderDataAdapter(){return $t(this.currentActiveAdapterData$.pipe(Fa(Rs(0)),im(null)))}};j();z();U();V();function Z6(){return!!window.ethereum}async function J6(){if(!window.ethereum)throw new Error("injected provider not supported");return{provider:window.ethereum,info:{walletId:"injectedWalletId",uuid:"injectedWallet",name:Q6(),icon:await X6()}}}var tp={default:()=>H(()=>import("./default-icon-NESIX3HN-hUM9d_KI.js"),__vite__mapDeps([])).then(e=>e.icon),oneInchWallet:()=>H(()=>import("./one-inch-wallet-icon-6XENT7X2-BaRagC6q.js"),__vite__mapDeps([])).then(e=>e.icon)};function X6(){var e;return(e=window.ethereum)!=null&&e.isOneInchWallet?tp.oneInchWallet():tp.default()}function Q6(){var e;return(e=window.ethereum)!=null&&e.isOneInchWallet?"1inch wallet":"Browser wallet"}j();z();U();V();j();z();U();V();var ek=class{constructor(e){this.providerDetail=e,this.provider=null,this.client=null,this.data=new cb(this.providerDetail.info)}async isConnected(){var e;return((e=this.provider)==null?void 0:e.isConnected())??!1}async connect(e){if(this.provider)await this.provider.connect();else{const t=await H(()=>import("./multi-connect-provider-W5AWYUIU-CdsWg7mL.js"),__vite__mapDeps([])).then(n=>n.MultiConnectProvider.connect());this.client=await ku(e,t),this.data.setProvider(t),this.provider=t}return!0}async restoreConnect(){if(this.provider)await this.provider.restoreConnect();else{const e=await H(()=>import("./multi-connect-provider-W5AWYUIU-CdsWg7mL.js"),__vite__mapDeps([])).then(t=>t.MultiConnectProvider.restoreConnect());this.client=await ku(e.chainId,e),this.data.setProvider(e),this.provider=e}return!0}async disconnect(){var e;return(e=this.provider)==null||e.disconnect(),!0}async changeChain(e){var t;return await((t=this.client)==null?void 0:t.switchChain({id:e})),!0}setActiveAddress(e){var t;(t=this.provider)==null||t.setActiveAddress(e)}async writeContract(e){if(!await this.isConnected()||!this.client)throw new Error("Wallet not connected");const t=await this.data.getActiveAddress();return await Promise.any([this.client.writeContract({...e,account:t}),$t(Rs(60*1e3*3).pipe(fe(()=>Ld(()=>new Error("wallet connect request timed out")))))])}async signTypedData(e){if(!await this.isConnected()||!this.client)throw new Error("Wallet not connected");const t=await this.data.getActiveAddress();return await Promise.race([this.client.signTypedData({...e,account:t}),$t(Rs(60*1e3*3).pipe(fe(()=>Ld(()=>new Error("wallet connect request timed out")))))])}};j();z();U();V();async function tk(){return{info:{walletId:"walletConnectId",uuid:"walletConnect",name:"Wallet Connect",icon:await rk()}}}var nk={default:()=>H(()=>import("./wallet-connect-icon-WCOBJV5J-uUFaev5O.js"),__vite__mapDeps([])).then(e=>e.icon)};function rk(){return nk.default()}var ik=class{constructor(){this.data=new Y6(this),this.activeAdapters=new Map,this.update$=new ft,this.currentActiveAdapterId=null,this.adapters=new Map}get isConnected(){return this.currentActiveAdapter!==null}get currentActiveAdapter(){return this.currentActiveAdapterId?this.activeAdapters.get(this.currentActiveAdapterId)??null:null}async init(){await this.initWallets(),await this.restoreChainId(),await this.restoreWalletConnection(),this.update$.next()}async getSupportedWallets(){const e=[];return this.adapters.forEach(t=>e.push(t.data.getInfo())),e.sort((t,n)=>{const r=Ke(t),i=Ke(n);return r===this.currentActiveAdapterId&&i!==this.currentActiveAdapterId?-1:r!==this.currentActiveAdapterId&&i===this.currentActiveAdapterId?1:this.activeAdapters.has(r)&&this.activeAdapters.has(i)?0:this.activeAdapters.has(r)&&!this.activeAdapters.has(i)?-1:!this.activeAdapters.has(r)&&this.activeAdapters.has(i)?1:0})}async connect(e){const t=await this.data.getChainId(),n=Ke(e);if(!this.adapters.has(n))throw new Error(`Invalid wallet info ${e.name} not exist`);const r=await this.connectSafe(t,n);return this.afterConnectWallet(r,n),this.update$.next(),r}async addConnection(e){const t=await this.data.getChainId(),n=Ke(e);if(!this.adapters.has(n))throw new Error(`Invalid wallet info ${e.name} not exist`);const r=this.adapters.get(n);if(!r)throw new Error("Invalid wallet id");if(!this.activeAdapters.has(n))throw new Error(`Wallet adapter ${e.name} not connected`);let i;try{i=await r.connect(t)}catch{i=!1}return this.update$.next(),i}async disconnect(){if(this.currentActiveAdapter===null)return!0;try{const e=await this.currentActiveAdapter.disconnect();return this.currentActiveAdapterId&&this.activeAdapters.delete(this.currentActiveAdapterId),this.currentActiveAdapterId&&ep(this.currentActiveAdapterId),this.currentActiveAdapterId=null,this.update$.next(),e}catch(e){return console.error(e),!1}}async changeChain(e){let t=!0;if(this.currentActiveAdapter)try{t=await this.currentActiveAdapter.changeChain(e)}catch{t=!1}return t&&this.data.setChainId(e),t}getDataAdapter(e){const t=Ke(e),n=this.adapters.get(t);if(!n)throw new Error(`Invalid wallet info ${e.name} not exist`);return n.data}async setActiveAddress(e,t){const n=Ke(e);return await this.setActiveAddressInner(n,t)}async writeContract(e){if(!this.currentActiveAdapter||!this.currentActiveAdapter.client)throw new Error("Wallet not connected");return await this.currentActiveAdapter.writeContract(e)}async signTypedData(e){if(!this.currentActiveAdapter||!this.currentActiveAdapter.client)throw new Error("Wallet not connected");return await this.currentActiveAdapter.signTypedData(e)}async setActiveAddressInner(e,t){var r;let n=!0;if(this.currentActiveAdapterId!==e){const i=await this.data.getChainId();if(!this.adapters.has(e))throw new Error("Invalid wallet not exist");n=await this.connectSafe(i,e),this.afterConnectWallet(n,e)}n&&((r=this.currentActiveAdapter)==null||r.setActiveAddress(t)),this.update$.next()}async connectSafe(e,t,n=!1){const r=this.adapters.get(t);if(!r)throw new Error("Invalid wallet id");let i;if(!this.activeAdapters.has(t)||n){try{i=await r.connect(e)}catch{i=!1}i&&this.activeAdapters.set(t,r)}else i=await r.isConnected(),!n&&!i&&(i=await this.connectSafe(e,t,!0));return i}async restoreConnectSafe(e,t,n){const r=this.adapters.get(t);if(!r)throw new Error("Invalid wallet id");let i;if(this.activeAdapters.has(t))i=await r.isConnected();else{try{i=await r.restoreConnect(e,n)}catch{i=!1}i&&this.activeAdapters.set(t,r)}return i}async restoreChainId(){const e=lb();e&&await this.changeChain(e)}async restoreWalletConnection(){const e=Qf(),t=K6();if(!t)return;await this.getSupportedWallets();const n=await this.data.getChainId();for(const o of t){if(o===e||!this.adapters.has(o))continue;const a=await this.restoreConnectSafe(n,o).catch(()=>!1);this.afterConnectWallet(a,o)}if(!e||!this.adapters.has(e))return;const r=await this.restoreConnectSafe(n,e,!0);if(this.afterConnectWallet(r,e),!r)return;const i=W6();!i||!this.currentActiveAdapter||!(await this.currentActiveAdapter.data.getAddresses()).includes(i)||await this.setActiveAddressInner(e,i)}initWallets(){return new Promise(e=>{let t=!1;Ee(window,"eip6963:announceProvider").pipe(pe(n=>{t=sk(window.ethereum,n.detail.provider);const r=Ke(n.detail.info);this.adapters.has(r)||this.adapters.set(r,new Jf(n.detail))}),Yi(100),yw(1),Fa(Rs(100)),im(null),pe(async()=>{if(!t&&Z6()){const i=await J6(),s=Ke(i.info);this.adapters.has(s)||this.adapters.set(s,new Jf(i))}const n=await tk(),r=Ke(n.info);this.adapters.set(r,new ek(n)),e()})).subscribe(),window.dispatchEvent(new Event("eip6963:requestProvider"))})}afterConnectWallet(e,t){e?(this.currentActiveAdapterId=t,G6(t),Xf(t)):(ep(t),Qf()===t&&Xf(null),this.currentActiveAdapterId===t&&(this.currentActiveAdapterId=null),this.activeAdapters.has(t)&&(this.adapters.get(t).disconnect().catch(),this.activeAdapters.delete(t)))}};function sk(e,t){if(e===t)return!0;const n=Object.keys(e??{}),r=Object.keys(t??{});if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function ok(){return new ik}function ce(e,t,n){return e?t(e):n==null?void 0:n(e)}let ub=class extends Event{constructor(t,n,r){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=n,this.subscribe=r??!1}};function i2(e){return e}let np=class{constructor(t,n,r,i){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(s,o)=>{this.unsubscribe&&(this.unsubscribe!==o&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=s,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(s,o)),this.unsubscribe=o},this.host=t,n.context!==void 0){const s=n;this.context=s.context,this.callback=s.callback,this.subscribe=s.subscribe??!1}else this.context=n,this.callback=r,this.subscribe=i??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new ub(this.context,this.t,this.subscribe))}};class ak{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,n=!1){const r=n||!Object.is(t,this.o);this.o=t,r&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[n,{disposer:r}]of this.subscriptions)n(this.o,r)},t!==void 0&&(this.value=t)}addCallback(t,n,r){if(!r)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:n});const{disposer:i}=this.subscriptions.get(t);t(this.value,i)}clearCallbacks(){this.subscriptions.clear()}}let ck=class extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}};class pc extends ak{constructor(t,n,r){var i,s;super(n.context!==void 0?n.initialValue:r),this.onContextRequest=o=>{const a=o.composedPath()[0];o.context===this.context&&a!==this.host&&(o.stopPropagation(),this.addCallback(o.callback,a,o.subscribe))},this.onProviderRequest=o=>{const a=o.composedPath()[0];if(o.context!==this.context||a===this.host)return;const c=new Set;for(const[l,{consumerHost:u}]of this.subscriptions)c.has(l)||(c.add(l),u.dispatchEvent(new ub(this.context,l,!0)));o.stopPropagation()},this.host=t,n.context!==void 0?this.context=n.context:this.context=n,this.attachListeners(),(s=(i=this.host).addController)==null||s.call(i,this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new ck(this.context))}}function Dt({context:e,subscribe:t}){return(n,r)=>{typeof r=="object"?r.addInitializer(function(){new np(this,{context:e,callback:i=>{n.set.call(this,i)},subscribe:t})}):n.constructor.addInitializer(i=>{new np(i,{context:e,callback:s=>{i[r]=s},subscribe:t})})}}var lk=Object.defineProperty,uk=Object.getOwnPropertyDescriptor,Qt=(e,t,n,r)=>{for(var i=r>1?void 0:r?uk(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&lk(t,n,i),i};const On=()=>new hk;class hk{}const cl=new WeakMap,zt=gn(class extends Ki{render(e){return Me}update(e,[t]){var r;const n=t!==this.Y;return n&&this.Y!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=t,this.ht=(r=e.options)==null?void 0:r.host,this.rt(this.ct=e.element)),Me}rt(e){if(typeof this.Y=="function"){const t=this.ht??globalThis;let n=cl.get(t);n===void 0&&(n=new WeakMap,cl.set(t,n)),n.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),n.set(this.Y,e),e!==void 0&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){var e,t;return typeof this.Y=="function"?(e=cl.get(this.ht??globalThis))==null?void 0:e.get(this.Y):(t=this.Y)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function dk(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var Cu=["#FF0000","#FF7F00","#ffd500","#40ff00","#0000FF","#37009e","#8B00FF"],a2=dk(Cu),rp=mk(Cu,Cu.length/2),fk=[...rp,...rp.reverse()];function Wi(e){const t=parseInt(e.slice(1),16),n=t>>16&255,r=t>>8&255,i=t&255;return[n,r,i]}function Mo(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}function $i(e,t,n){return Math.round(e+(t-e)*n)}function pk(e,t,n){const[r,i,s]=Wi(e),[o,a,c]=Wi(t),l=[];for(let u=0;u<=n;u++){const h=u/n,d=$i(r,o,h),m=$i(i,a,h),b=$i(s,c,h);l.push(Mo(d,m,b))}return l}function mk(e,t){const n=[];for(let r=0;r<e.length-1;r++){const i=pk(e[r],e[r+1],t);n.push(...i.slice(0,-1))}return n.push(e[e.length-1]),n}function gk(e,t,n,r,i){const s=Wi(e),o=Wi(t),a=(i-n)/(r-n),c=$i(s[0],o[0],a),l=$i(s[1],o[1],a),u=$i(s[2],o[2],a);return Mo(c,l,u)}function ip(e,t=100){const[n,r,i]=Wi(e);return ye(`rgba(${n}, ${r}, ${i}, ${t}%)`)}function bk(e){e=e.replace(/^#/,"");const t=parseInt(e,16);let n=t>>16&255,r=t>>8&255,i=t&255;const s=-32,o=-32,a=-32,c=l=>Math.max(0,Math.min(255,l));return n=c(n+s),r=c(r+o),i=c(i+a),ye(Mo(n,r,i))}function c2(){const n=[Math.floor(Math.random()*168+32),Math.floor(Math.random()*168+32),200];return n.sort(()=>Math.random()-.5),Mo(n[0],n[1],n[2])}function yk(e,t){let[n,r,i]=Wi(e);return n=Math.min(255,Math.max(0,n*t)),r=Math.min(255,Math.max(0,r*t)),i=Math.min(255,Math.max(0,i*t)),Mo(Math.round(n),Math.round(r),Math.round(i))}function l2(e){return G`
      :root {
          --primary: ${ye(e)};
          --primary-50: ${ip(e,50)};
          --primary-12: ${ip(e,12)};
          --primary-hover: ${bk(e)};
          --secondary: ${ye(e)}1f;
          --secondary-hover: ${ye(e)}3d;
      }
  `}var wk=new RegExp("(?<=var\\().*?(?=\\))");function sp(e){const t=e.match(wk),n=t?t[0]:e;return getComputedStyle(document.documentElement).getPropertyValue(n).trim()}var hb=document.createElement("style"),db=document.createElement("style"),vk=G`

    @font-face { font-family: "Inter"; font-style: normal; font-weight: 500; font-display: swap; src: url("fonts/Inter/Inter-Medium.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 600; font-display: swap; src: url("fonts/Inter/Inter-SemiBold.woff2") format("woff2"); }
    @font-face { font-family: "Inter"; font-style: normal; font-weight: 400; font-display: swap; src: url("fonts/Inter/Inter-Regular.woff2") format("woff2"); }

    * {
        font-family: 'Inter', sans-serif;
        font-style: normal;
    }

`,xk=G`
    
    html {
        background-color: var(--color-background-bg-body);
        position: fixed;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
    }

    body {
        margin: 0;
        background-color: var(--color-background-bg-body);
        box-sizing: border-box;
    }

    ::view-transition-old(root),
    ::view-transition-new(root) {
        animation: none;
        mix-blend-mode: normal;
    }
    
    * {
        user-select: none;
        outline: none;
        -webkit-user-select: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
    }

`,fb=(e=>(e[e.systemSync=0]="systemSync",e[e.dark=1]="dark",e[e.darkBlue=2]="darkBlue",e[e.light=3]="light",e[e.lightBlue=4]="lightBlue",e))(fb||{}),Do=(e=>(e[e.community=0]="community",e[e.random=1]="random",e[e.rainbow=2]="rainbow",e[e.orange=3]="orange",e[e.violet=4]="violet",e))(Do||{}),bs={0:()=>Ek(),1:()=>H(()=>import("./dark.style-RDRVTWPL-BKhozlFy.js"),__vite__mapDeps([])).then(e=>e.themeDark),2:()=>H(()=>import("./dark-blue.style-2PB6BUXY-CPKD0u3g.js"),__vite__mapDeps([])).then(e=>e.themeDarkBlue),3:()=>H(()=>import("./light.style-55EXDB3H-BdeuPvz5.js"),__vite__mapDeps([])).then(e=>e.themeLight),4:()=>H(()=>import("./light-blue.style-OHBMKLEV-BqJoJJv-.js"),__vite__mapDeps([])).then(e=>e.themeLightBlue)},_k={0:()=>H(()=>import("./community.style-CIS6CBXM-C2sc0cUj.js"),__vite__mapDeps([])).then(e=>e.communityStyle),2:()=>H(()=>import("./rainbow.style-LHFWPEFX-PFuq9day.js"),__vite__mapDeps([])).then(e=>e.rainbowStyle),1:()=>H(()=>import("./random.style-YBA3AO4N-CRO1u2Xa.js"),__vite__mapDeps([])).then(e=>e.randomStyle),3:()=>H(()=>import("./orange.style-JBOLVSHH-BePdJ9NS.js"),__vite__mapDeps([])).then(e=>e.orangeStyle),4:()=>H(()=>import("./violet.style-3IXA5FI4-DjBZdzvq.js"),__vite__mapDeps([])).then(e=>e.violetStyle)};function Ek(){var e,t;return window.matchMedia("(prefers-color-scheme: dark)").matches?(e=window==null?void 0:window.ethereum)!=null&&e.isOneInchIOSWallet?bs[2]():bs[1]():(t=window==null?void 0:window.ethereum)!=null&&t.isOneInchIOSWallet?bs[4]():bs[3]()}var pb,mb,Pu={0:()=>bb(),3:()=>"#f1f1f1",4:()=>"#f1f1f1",1:()=>"#0e0e0e",2:()=>"#0e0e0e"},ld=window.matchMedia("(prefers-color-scheme: dark)"),gb=new zp(1);function bb(){return ld.matches?Pu[1]():Pu[3]()}function yb(){return gb}ld.onchange=async()=>{pb===0&&await wb(0,mb)};function $k(e){return e===0?ld.matches:e===1||e===2}async function wb(e,t,n){await(async()=>{const i=await bs[e](),s=await _k[t]();bl(hb,i),bl(db,s),cm(Pu[e]()),pb=e,mb=t,document.documentElement.setAttribute("theme",$k(e)?"dark":"light"),document.documentElement.setAttribute("brand-color",Do[t]),gb.next({mainColor:e,brandColor:t})})()}var Sk=(e,t)=>G`
    
    ${ye(e)} {
        overflow: auto;
        touch-action: pan-y;
        overscroll-behavior: none;
        scrollbar-color: var(--primary) transparent;
        scrollbar-width: ${ye("thin")};
        scrollbar-gutter: stable;
    }

    /* width */
    ${ye(e)}::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    /* Track */
    ${ye(e)}::-webkit-scrollbar-track {
        background: transparent;
    }

    /* Handle */
    ${ye(e)}::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 4px;
    }

    /* Handle on hover */
    ${ye(e)}::-webkit-scrollbar-thumb:hover {
        background: var(--primary-hover);
    }
    
    ${rt(G`
        ${ye(e)}::-webkit-scrollbar {
            display: none;
        }
    `)}
    
    ${ye("")}
`,mc=Sk(":host");async function Ak(e=3,t=0){document.head.appendChild(hb),document.head.appendChild(db),Pc(vk),Pc(xk),Pc(mc),await wb(e,t)}function vb(){return ye(`linear-gradient(90deg, ${ye(fk.join(","))})`)}const op=(e,t,n)=>{const r=new Map;for(let i=t;i<=n;i++)r.set(e[i],i);return r},kk=gn(class extends mo{constructor(e){if(super(e),e.type!==po.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,n){let r;n===void 0?n=t:t!==void 0&&(r=t);const i=[],s=[];let o=0;for(const a of e)i[o]=r?r(a,o):o,s[o]=n(a,o),o++;return{values:s,keys:i}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,r]){const i=uy(e),{values:s,keys:o}=this.dt(t,n,r);if(!Array.isArray(i))return this.ut=o,s;const a=this.ut??(this.ut=[]),c=[];let l,u,h=0,d=i.length-1,m=0,b=s.length-1;for(;h<=d&&m<=b;)if(i[h]===null)h++;else if(i[d]===null)d--;else if(a[h]===o[m])c[m]=Pr(i[h],s[m]),h++,m++;else if(a[d]===o[b])c[b]=Pr(i[d],s[b]),d--,b--;else if(a[h]===o[b])c[b]=Pr(i[h],s[b]),ss(e,c[b+1],i[h]),h++,b--;else if(a[d]===o[m])c[m]=Pr(i[d],s[m]),ss(e,i[h],i[d]),d--,m++;else if(l===void 0&&(l=op(o,m,b),u=op(a,h,d)),l.has(a[h]))if(l.has(a[d])){const g=u.get(o[m]),v=g!==void 0?i[g]:null;if(v===null){const y=ss(e,i[h]);Pr(y,s[m]),c[m]=y}else c[m]=Pr(v,s[m]),ss(e,i[h],v),i[g]=null;m++}else $c(i[d]),d--;else $c(i[h]),h++;for(;m<=b;){const g=ss(e,c[b+1]);Pr(g,s[m]),c[m++]=g}for(;h<=d;){const g=i[h++];g!==null&&$c(g)}return this.ut=o,ly(e,c),dn}});var ud=Symbol("scrollContext"),ar=class extends le{constructor(){super(...arguments),this.context=new pc(this,{context:ud})}setScrollTopFromConsumer(e){this.scrollTopFromConsumer=e}firstUpdated(){this.context.setValue(this)}updated(){ie(this,{maxHeight:this.maxHeight?`${this.maxHeight}px`:""})}render(){return I`<slot></slot>`}};ar.tagName="inch-scroll-view-provider";Qt([K({type:Number,attribute:!1})],ar.prototype,"maxHeight",2);ar=Qt([me(ar.tagName)],ar);var Si=class extends le{constructor(){super(...arguments),this.contentRef=On(),this.scrollContainerRef=On(),this.globalOffsetY=0}get contentHeight(){var e;return((e=this.contentRef.value)==null?void 0:e.clientHeight)??0}get scrollContainer(){if(!this.scrollContainerRef.value)throw new Error("");return this.scrollContainerRef.value}firstUpdated(){if(!this.context)throw new Error("inch-scroll-view-consumer must be used inside inch-scroll-view-provider");this.globalOffsetY=this.context.clientHeight-this.clientHeight,ut(this,[Dn(Mr(this.context),Mr(this.contentRef.value)).pipe(pe(()=>this.updateView())),Ee(this.scrollContainer,"scroll",{passive:!0}).pipe(pe(()=>{var e;this.context.setScrollTopFromConsumer(((e=this.scrollContainer)==null?void 0:e.scrollTop)??0)}))],{requestUpdate:!1})}render(){return I`
      <div class="scroll-container" ${zt(this.scrollContainerRef)}>
        <div ${zt(this.contentRef)}>
          <slot></slot>
        </div>
      </div>
    `}updateView(){this.contentHeight>(this.context.maxHeight??0)?(this.scrollContainer.style.height=`${(this.context.maxHeight??0)-this.globalOffsetY}px`,!this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.add("overflow")):(this.scrollContainer.style.height=`${this.contentHeight}px`,this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.remove("overflow"))}};Si.tagName="inch-scroll-view-consumer";Si.styles=[mc,G`
        .scroll-container {
            display: block;
            flex-direction: column;
            transition: height .1s;
        }
        .overflow {
            overflow: auto;
            overscroll-behavior: none;
            touch-action: pan-y;
            display: block;
            position: relative;
            contain: size layout;
        }
    `];Qt([Dt({context:ud,subscribe:!0})],Si.prototype,"context",2);Si=Qt([me(Si.tagName)],Si);var xb=class _b extends Event{constructor(t){super(_b.eventName,{bubbles:!1}),this.first=t.first,this.last=t.last}};xb.eventName="rangeChanged";var Eb=class $b extends Event{constructor(t){super($b.eventName,{bubbles:!1}),this.first=t.first,this.last=t.last}};Eb.eventName="visibilityChanged";var Sb=class Ab extends Event{constructor(){super(Ab.eventName,{bubbles:!1})}};Sb.eventName="unpinned";var Ck=class{constructor(e){this._element=null;const t=e??window;this._node=t,e&&(this._element=e)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}},Pk=class extends Ck{constructor(e,t){super(t),this._clients=new Set,this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1,this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this);const n=this._node;this._originalScrollTo=n.scrollTo,this._originalScrollBy=n.scrollBy,this._originalScroll=n.scroll,this._attach(e)}get _destination(){return this.__destination}get scrolling(){return this._destination!==null}scrollTo(e,t){const n=typeof e=="number"&&typeof t=="number"?{left:e,top:t}:e;this._scrollTo(n)}scrollBy(e,t){const n=typeof e=="number"&&typeof t=="number"?{left:e,top:t}:e;n.top!==void 0&&(n.top+=this.scrollTop),n.left!==void 0&&(n.left+=this.scrollLeft),this._scrollTo(n)}_nativeScrollTo(e){this._originalScrollTo.bind(this._element||window)(e)}_scrollTo(e,t=null,n=null){this._end!==null&&this._end(),e.behavior==="smooth"?(this._setDestination(e),this._retarget=t,this._end=n):this._resetScrollState(),this._nativeScrollTo(e)}_setDestination(e){let{top:t,left:n}=e;return t=t===void 0?void 0:Math.max(0,Math.min(t,this.maxScrollTop)),n=n===void 0?void 0:Math.max(0,Math.min(n,this.maxScrollLeft)),this._destination!==null&&n===this._destination.left&&t===this._destination.top?!1:(this.__destination={top:t,left:n,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(e){this._destination&&this._setDestination(e)&&this._nativeScrollTo(this._destination)}managedScrollTo(e,t,n){return this._scrollTo(e,t,n),this._updateManagedScrollTo}correctScrollError(e){this.correctingScrollError=!0,requestAnimationFrame(()=>requestAnimationFrame(()=>this.correctingScrollError=!1)),this._nativeScrollTo(e),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(this._destination!==null){const{scrollTop:e,scrollLeft:t}=this;let{top:n,left:r}=this._destination;n=Math.min(n||0,this.maxScrollTop),r=Math.min(r||0,this.maxScrollLeft);const i=Math.abs(n-e),s=Math.abs(r-t);i<1&&s<1&&(this._end&&this._end(),this._resetScrollState())}}detach(e){return this._clients.delete(e),this._clients.size===0&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(e){this._clients.add(e),this._clients.size===1&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}},ap=typeof window<"u"?window.ResizeObserver:void 0,Iu=Symbol("virtualizerRef"),ea="virtualizer-sizer",cp,Ik=class{constructor(e){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,this._layoutInitialized=null,!e)throw new Error("Virtualizer constructor requires a configuration object");if(e.hostElement)this._init(e);else throw new Error('Virtualizer configuration requires the "hostElement" property')}set items(e){Array.isArray(e)&&e!==this._items&&(this._itemsChanged=!0,this._items=e,this._schedule(this._updateLayout))}_init(e){this._isScroller=!!e.scroller,this._initHostElement(e);const t=e.layout||{};this._layoutInitialized=this._initLayout(t)}_initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this)),this._hostElementRO=new ap(()=>this._hostElementSizeChanged()),this._childrenRO=new ap(this._childrenSizeChanged.bind(this))}_initHostElement(e){const t=this._hostElement=e.hostElement;this._applyVirtualizerStyles(),t[Iu]=this}connected(){this._initObservers();const e=this._isScroller;this._clippingAncestors=Ok(this._hostElement,e),this._scrollerController=new Pk(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen()}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach(e=>{e.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(e),this._hostElementRO.observe(e)}),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach(e=>this._childrenRO.observe(e)),this._scrollEventListeners.forEach(e=>e.addEventListener("scroll",this,this._scrollEventListenerOptions))}disconnected(){var e,t,n,r;this._scrollEventListeners.forEach(i=>i.removeEventListener("scroll",this,this._scrollEventListenerOptions)),this._scrollEventListeners=[],this._clippingAncestors=[],(e=this._scrollerController)==null||e.detach(this),this._scrollerController=null,(t=this._mutationObserver)==null||t.disconnect(),this._mutationObserver=null,(n=this._hostElementRO)==null||n.disconnect(),this._hostElementRO=null,(r=this._childrenRO)==null||r.disconnect(),this._childrenRO=null,this._rejectLayoutCompletePromise("disconnected")}_applyVirtualizerStyles(){const t=this._hostElement.style;t.display=t.display||"block",t.position=t.position||"relative",t.contain=t.contain||"size layout",this._isScroller&&(t.overflow=t.overflow||"auto",t.minHeight=t.minHeight||"150px")}_getSizer(){const e=this._hostElement;if(!this._sizer){let t=e.querySelector(`[${ea}]`);t||(t=document.createElement("div"),t.setAttribute(ea,""),e.appendChild(t)),Object.assign(t.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),t.textContent="&nbsp;",t.setAttribute(ea,""),this._sizer=t}return this._sizer}async updateLayoutConfig(e){await this._layoutInitialized;const t=e.type||cp;if(typeof t=="function"&&this._layout instanceof t){const n={...e};return delete n.type,this._layout.config=n,!0}return!1}async _initLayout(e){let t,n;if(typeof e.type=="function"){n=e.type;const r={...e};delete r.type,t=r}else t=e;n===void 0&&(cp=n=(await H(()=>import("./flow-SRYXLKOV-BnuMDPmE.js"),__vite__mapDeps([]))).FlowLayout),this._layout=new n(r=>this._handleLayoutMessage(r),t),this._layout.measureChildren&&typeof this._layout.updateItemSizes=="function"&&(typeof this._layout.measureChildren=="function"&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){this._benchmarkStart===null&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(this._benchmarkStart!==null){const e=window.performance.now(),t=e-this._benchmarkStart,r=performance.getEntriesByName("uv-virtualizing","measure").filter(i=>i.startTime>=this._benchmarkStart&&i.startTime<e).reduce((i,s)=>i+s.duration,0);return this._benchmarkStart=null,{timeElapsed:t,virtualizationTime:r}}return null}_measureChildren(){const e={},t=this._children,n=this._measureChildOverride||this._measureChild;for(let r=0;r<t.length;r++){const i=t[r],s=this._first+r;(this._itemsChanged||this._toBeMeasured.has(i))&&(e[s]=n.call(this,i,this._items[s]))}this._childMeasurements=e,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(e){const{width:t,height:n}=e.getBoundingClientRect();return Object.assign({width:t,height:n},Tk(e))}async _schedule(e){this._scheduled.has(e)||(this._scheduled.add(e),await Promise.resolve(),this._scheduled.delete(e),e.call(this))}async _updateDOM(e){this._scrollSize=e.scrollSize,this._adjustRange(e.range),this._childrenPos=e.childPositions,this._scrollError=e.scrollError||null;const{_rangeChanged:t,_itemsChanged:n}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),(t||n)&&(this._notifyRange(),this._rangeChanged=!1),this._finishDOMUpdate()}_finishDOMUpdate(){this._children.forEach(e=>this._childrenRO.observe(e)),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end")}_updateLayout(){this._layout&&this._scrollerController&&(this._layout.items=this._items,this._updateView(),this._childMeasurements!==null&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){var e;if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(t){console.warn("Error measuring performance data: ",t)}window.performance.mark("uv-start")}this._scrollerController.correctingScrollError===!1&&((e=this._layout)==null||e.unpin()),this._schedule(this._updateLayout)}handleEvent(e){switch(e.type){case"scroll":(e.currentTarget===window||this._clippingAncestors.includes(e.currentTarget))&&this._handleScrollEvent();break;default:console.warn("event not handled",e)}}_handleLayoutMessage(e){e.type==="stateChanged"?this._updateDOM(e):e.type==="visibilityChanged"?(this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._notifyVisibility()):e.type==="unpinned"&&this._hostElement.dispatchEvent(new Sb)}get _children(){const e=[];let t=this._hostElement.firstElementChild;for(;t;)t.hasAttribute(ea)||e.push(t),t=t.nextElementSibling;return e}_updateView(){var r;const e=this._hostElement,t=(r=this._scrollerController)==null?void 0:r.element,n=this._layout;if(e&&t&&n){let i,s,o,a;const c=e.getBoundingClientRect();i=0,s=0,o=window.innerHeight,a=window.innerWidth;const l=this._clippingAncestors.map(y=>y.getBoundingClientRect());l.unshift(c);for(const y of l)i=Math.max(i,y.top),s=Math.max(s,y.left),o=Math.min(o,y.bottom),a=Math.min(a,y.right);const u=t.getBoundingClientRect(),h={left:c.left-u.left,top:c.top-u.top},d={width:t.scrollWidth,height:t.scrollHeight},m=i-c.top+e.scrollTop,b=s-c.left+e.scrollLeft,g=o-i,v=a-s;n.viewportSize={width:v,height:g},n.viewportScroll={top:m,left:b},n.totalScrollSize=d,n.offsetWithinScroller=h}}_sizeHostElement(e){const n=e&&e.width!==null?Math.min(82e5,e.width):0,r=e&&e.height!==null?Math.min(82e5,e.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${n}px, ${r}px)`;else{const i=this._hostElement.style;i.minWidth=n?`${n}px`:"100%",i.minHeight=r?`${r}px`:"100%"}}_positionChildren(e){e&&e.forEach(({top:t,left:n,width:r,height:i,xOffset:s,yOffset:o},a)=>{const c=this._children[a-this._first];c&&(c.style.position="absolute",c.style.boxSizing="border-box",c.style.transform=`translate(${n}px, ${t}px)`,r!==void 0&&(c.style.width=r+"px"),i!==void 0&&(c.style.height=i+"px"),c.style.left=s===void 0?null:s+"px",c.style.top=o===void 0?null:o+"px")})}async _adjustRange(e){const{_first:t,_last:n,_firstVisible:r,_lastVisible:i}=this;this._first=e.first,this._last=e.last,this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==t||this._last!==n,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==r||this._lastVisible!==i}_correctScrollError(){if(this._scrollError){const{scrollTop:e,scrollLeft:t}=this._scrollerController,{top:n,left:r}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:e-n,left:t-r})}}element(e){var t;return e===1/0&&(e=this._items.length-1),((t=this._items)==null?void 0:t[e])===void 0?void 0:{scrollIntoView:(n={})=>this._scrollElementIntoView({...n,index:e})}}_scrollElementIntoView(e){if(e.index>=this._first&&e.index<=this._last)this._children[e.index-this._first].scrollIntoView(e);else if(e.index=Math.min(e.index,this._items.length-1),e.behavior==="smooth"){const t=this._layout.getScrollIntoViewCoordinates(e),{behavior:n}=e;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(t,{behavior:n}),()=>this._layout.getScrollIntoViewCoordinates(e),()=>this._scrollIntoViewTarget=null),this._scrollIntoViewTarget=e}else this._layout.pin=e}_checkScrollIntoViewTarget(e){const{index:t}=this._scrollIntoViewTarget||{};t&&(e!=null&&e.has(t))&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new xb({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new Eb({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise((e,t)=>{this._layoutCompleteResolver=e,this._layoutCompleteRejecter=t})),this._layoutCompletePromise}_rejectLayoutCompletePromise(e){this._layoutCompleteRejecter!==null&&this._layoutCompleteRejecter(e),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&this._pendingLayoutComplete===null&&(this._pendingLayoutComplete=requestAnimationFrame(()=>requestAnimationFrame(()=>this._resolveLayoutCompletePromise())))}_resolveLayoutCompletePromise(){this._layoutCompleteResolver!==null&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(e){var t;if((t=this._layout)!=null&&t.measureChildren){for(const n of e)this._toBeMeasured.set(n.target,n.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}};function Tk(e){const t=window.getComputedStyle(e);return{marginTop:ta(t.marginTop),marginRight:ta(t.marginRight),marginBottom:ta(t.marginBottom),marginLeft:ta(t.marginLeft)}}function ta(e){const t=e?parseFloat(e):NaN;return Number.isNaN(t)?0:t}function lp(e){if(e.assignedSlot!==null)return e.assignedSlot;if(e.parentElement!==null)return e.parentElement;const t=e.parentNode;return t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host||null}function Bk(e,t=!1){const n=[];let r=t?e:lp(e);for(;r!==null;)n.push(r),r=lp(r);return n}function Ok(e,t=!1){let n=!1;return Bk(e,t).filter(r=>{if(n)return!1;const i=getComputedStyle(r);return n=i.position==="fixed",i.overflow!=="visible"})}var kb=e=>e,Cb=(e,t)=>I`${t}: ${JSON.stringify(e,null,2)}`,Rk=class extends Ki{constructor(e){if(super(e),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(t,n)=>Cb(t,n+this._first),this._keyFunction=(t,n)=>kb(t,n+this._first),this._items=[],e.type!==po.CHILD)throw new Error("The virtualize directive can only be used in child expressions")}render(e){e&&this._setFunctions(e);const t=[];if(this._first>=0&&this._last>=this._first)for(let n=this._first;n<=this._last;n++)t.push(this._items[n]);return kk(t,this._keyFunction,this._renderItem)}update(e,[t]){this._setFunctions(t);const n=this._items!==t.items;return this._items=t.items||[],this._virtualizer?this._updateVirtualizerConfig(e,t):this._initialize(e,t),n?dn:this.render()}async _updateVirtualizerConfig(e,t){if(!await this._virtualizer.updateLayoutConfig(t.layout||{})){const r=e.parentNode;this._makeVirtualizer(r,t)}this._virtualizer.items=this._items}_setFunctions(e){const{renderItem:t,keyFunction:n}=e;t&&(this._renderItem=(r,i)=>t(r,i+this._first)),n&&(this._keyFunction=(r,i)=>n(r,i+this._first))}_makeVirtualizer(e,t){this._virtualizer&&this._virtualizer.disconnected();const{layout:n,scroller:r,items:i}=t;this._virtualizer=new Ik({hostElement:e,layout:n,scroller:r}),this._virtualizer.items=i,this._virtualizer.connected()}_initialize(e,t){const n=e.parentNode;n&&n.nodeType===1&&(n.addEventListener("rangeChanged",r=>{this._first=r.first,this._last=r.last,this.setValue(this.render())}),this._makeVirtualizer(n,t))}disconnected(){var e;(e=this._virtualizer)==null||e.disconnected()}reconnected(){var e;(e=this._virtualizer)==null||e.connected()}},Mk=gn(Rk),ns=class extends le{constructor(){super(...arguments),this.items=[],this.renderItem=Cb,this.keyFunction=kb,this.layout={},this.scroller=!1}createRenderRoot(){return this}render(){const{items:e,renderItem:t,keyFunction:n,layout:r,scroller:i}=this;return I`${Mk({items:e,renderItem:t,keyFunction:n,layout:r,scroller:i})}`}element(e){var t;return(t=this[Iu])==null?void 0:t.element(e)}get layoutComplete(){var e;return(e=this[Iu])==null?void 0:e.layoutComplete}scrollToIndex(e,t="start"){var n;(n=this.element(e))==null||n.scrollIntoView({block:t})}};go([K({attribute:!1})],ns.prototype,"items",void 0);go([K()],ns.prototype,"renderItem",void 0);go([K()],ns.prototype,"keyFunction",void 0);go([K({attribute:!1})],ns.prototype,"layout",void 0);go([K({reflect:!0,type:Boolean})],ns.prototype,"scroller",void 0);customElements.define("lit-virtualizer",ns);var Dk=Symbol("mainViewportContext"),Pb=(e,t)=>G`
    
    ${ye(e)} {
        overflow: auto;
        touch-action: pan-y;
        overscroll-behavior: none;
        scrollbar-color: var(--primary) transparent;
        scrollbar-width: ${ye(t?"none":"thin")};
        scrollbar-gutter: stable;
    }

    /* width */
    ${ye(e)}::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    /* Track */
    ${ye(e)}::-webkit-scrollbar-track {
        background: transparent;
    }

    /* Handle */
    ${ye(e)}::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 4px;
    }

    /* Handle on hover */
    ${ye(e)}::-webkit-scrollbar-thumb:hover {
        background: var(--primary-hover);
    }
    
    ${rt(G`
        ${ye(e)}::-webkit-scrollbar {
            display: none;
        }
    `)}
    
    ${ye(t?G`
          ${ye(e)}::-webkit-scrollbar {
              display: none;
          }
    `:"")}
`;Pb(":host");var Gt=class extends le{constructor(){super(...arguments),this.items=[],this.globalOffsetY=null,this.virtualizerRef=On(),this.headerRef=On(),this.headerStub=document.createElement("div"),this.mobileMedia=bn(this)}get virtualizer(){if(!this.virtualizerRef.value)throw new Error("");return this.virtualizerRef.value}firstUpdated(){var t;if(!this.context||!this.virtualizerRef.value)return;const e=document.createElement("style");e.textContent=mc.cssText,(t=this.virtualizerRef.value.shadowRoot)==null||t.appendChild(e),this.updateView(),this.updateHeaderSize(),ut(this,[Dn(dm(),Mr(this.context),Mr(this.virtualizer),this.mainViewportContext?Mr(this.mainViewportContext):st()).pipe(pe(()=>this.updateView()))],{requestUpdate:!1}),this.headerRef.value&&ut(this,[Mr(this.headerRef.value).pipe(pe(()=>this.updateHeaderSize())),Ee(this.virtualizerRef.value,"scroll",{passive:!0}).pipe(pe(()=>{var n;this.context.setScrollTopFromConsumer(((n=this.virtualizerRef.value)==null?void 0:n.scrollTop)??0),this.updateHeaderBackground()}))],{requestUpdate:!1})}render(){return this.updateView(),this.updateHeaderSize(),I`
      ${ce(this.header,e=>I`
        <div ${zt(this.headerRef)} class="scroll-header">
          ${e()}
        </div>
      `)}
      <lit-virtualizer
        ${zt(this.virtualizerRef)}
        scroller
        .items=${this.getItems()}
        .keyFunction="${this.keyFunction??((e,t)=>t)}"
        .renderItem=${(e,t)=>this.renderItemInternal(e,t)}
      ></lit-virtualizer>
    `}updateView(){this.mobileMedia.matches?this.updateViewMobile():this.updateViewDesktop()}updateViewMobile(){if(!this.context||!this.virtualizerRef.value)return;const e=this.getViewPortBoundingClientRect(),t=this.virtualizer.getBoundingClientRect();this.globalOffsetY=t.top-e.top+8*2,this.virtualizer.style.minHeight=`${(this.context.maxHeight??0)-this.globalOffsetY}px`}updateViewDesktop(){if(!this.context||!this.virtualizerRef.value||!this.headerRef.value)return;const e=this.getViewPortBoundingClientRect();this.virtualizer.style.minHeight=`${e.height}px`}getViewPortBoundingClientRect(){return this.mainViewportContext?this.mainViewportContext.getBoundingClientRect():this.context.getBoundingClientRect()}getItems(){return this.header?[null,...this.items]:this.items}renderItemInternal(e,t){var n;return this.header&&t===0?I`${this.headerStub}`:((n=this.renderItem)==null?void 0:n.call(this,e,t))??I``}updateHeaderSize(){if(this.headerRef.value){const e=this.headerRef.value.getBoundingClientRect();ie(this.headerStub,{height:`${e.height}px`})}}updateHeaderBackground(){var t;const e=((t=this.virtualizerRef.value)==null?void 0:t.scrollTop)??0;e>10&&this.headerRef.value&&!this.headerRef.value.classList.contains("scroll-header-background-color-blur")&&this.headerRef.value.classList.add("scroll-header-background-color-blur"),e<10&&this.headerRef.value&&this.headerRef.value.classList.contains("scroll-header-background-color-blur")&&this.headerRef.value.classList.remove("scroll-header-background-color-blur")}};Gt.tagName="inch-scroll-view-virtualizer-consumer";Gt.styles=[Pb("lit-virtualizer",!0),G`
        :host {
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .scroll-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: fit-content;
            z-index: 9;
            overflow: hidden;
            box-sizing: border-box;
            background-color: var(--color-background-bg-primary);
        }

        ${rt(G`
            .scroll-header {
                background-color: transparent;
                -webkit-backdrop-filter: blur(20px);
                backdrop-filter: blur(20px);
                padding: 8px 8px 0 8px;
                top: -8px;
                left: -8px;
                width: 100vw;
                transition: background-color .2s;
            }

            .scroll-header-background-color-blur {
                background: var(--primary-12);
                background: linear-gradient(to bottom, var(--color-background-bg-primary), var(--primary-12));
            }
        `)}

    `];Qt([K({type:Array})],Gt.prototype,"items",2);Qt([K({type:Object})],Gt.prototype,"keyFunction",2);Qt([K({type:Object})],Gt.prototype,"renderItem",2);Qt([K({type:Object})],Gt.prototype,"header",2);Qt([Dt({context:ud,subscribe:!0})],Gt.prototype,"context",2);Qt([Dt({context:Dk,subscribe:!1})],Gt.prototype,"mainViewportContext",2);Gt=Qt([me(Gt.tagName)],Gt);function Nk(){return new Promise(e=>requestAnimationFrame(e))}var ll=document.createElement("div");function Ib(){return document.body.contains(ll)||document.body.appendChild(ll),ll}var Fk=1;function Tb(){return Fk++}var Bb=class{constructor(e){this.rootNodeName=e,this.borderRadius="8px",this.brightnessHalfView=".7",this.scale=".9",this.topOffsetPercent=-5,this.backgroundColor="var(--color-background-bg-active)",this.backgroundColorDefault="var(--color-background-bg-body)",this.container=Ib(),this.activeOverlayMap=new Map,this.subscriptions=new Map}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(e){return this.activeOverlayMap.has(e)}async open(e){const t=document.querySelector(this.rootNodeName),n=this.createOverlayContainer(e);await Nk();const r=this.calculateIsHalfView(n);this.appendStyleBeforeTransition(t),await this.transition(n,t,!1,r),this.appendStyleAfterTransition(t,!1,r);const i=Tb();return this.activeOverlayMap.set(i,n),this.subscribeOnEvents(i),i}async close(e){if(!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e),n=document.querySelector(this.rootNodeName),r=this.calculateIsHalfView(t);await this.transition(t,n,!0,r),this.appendStyleAfterTransition(n,!0,r),this.unsubscribeOnResize(e),t.remove(),this.activeOverlayMap.delete(e)}createOverlayContainer(e){const t=document.createElement(ar.tagName),n=this.activeOverlayMap.size+1,r=2,i=Ms()&&yl()?window.innerHeight-10:window.innerHeight;return t.maxHeight=(100-n*r)*i/100,t.setAttribute("overlay-index",n.toString()),ie(t,{position:"fixed",display:"flex",width:"100vw",overflow:"hidden",alignItems:"flex-end",bottom:"0",left:"0",boxSizing:"border-box",borderTopLeftRadius:"24px",borderTopRightRadius:"24px"}),Ms()&&yl()&&ie(t,{bottom:"10px"}),Ti(I`${e}`,t),this.container.appendChild(t),t}subscribeOnEvents(e){const t=this.activeOverlayMap.get(e),n=document.querySelector(this.rootNodeName),r=Dn(dm().pipe(pe(()=>this.updatePosition(e))),Mr(t).pipe(Xe(()=>Number(t.getAttribute("overlay-index"))===this.activeOverlayMap.size),te(()=>this.calculateIsHalfView(t)),Je(),sm(1),fe(i=>{const s=document.querySelector(this.rootNodeName);return this.transitionHalfView(s,i)})),Ee(this.container,"click").pipe(Xe(()=>Number(t.getAttribute("overlay-index"))===this.activeOverlayMap.size),Xe(i=>i.target===this.container),pe(()=>this.updatePosition(e))),Ee(t,"touchstart",{passive:!0}).pipe(Xe(()=>(t.scrollTopFromConsumer??0)===0),fe(i=>{const s=this.calculateIsHalfView(t),o=t.clientHeight,a=30,c=i.touches[0].clientY,l=sp(this.backgroundColor),u=sp(this.backgroundColorDefault);let h=0,d=0,m=!1,b=Number(this.scale),g=this.topOffsetPercent,v=this.backgroundColor;return Ee(t,"touchmove",{passive:!0}).pipe(Xe(()=>!m),pe(y=>{const E=y.touches[0].clientY-c,$=E*100/o;$<0||($>a&&(m=!0,this.updatePosition(e)),h=$,d=E,t.setAttribute("offset",$.toString()),ie(t,{transform:`translateY(${E}px)`}),s||(b=$*(1-Number(this.scale))/a+Number(this.scale),g=this.topOffsetPercent-$*this.topOffsetPercent/a,v=gk(l,u,0,100,$),n.setAttribute("scale",b.toString()),n.setAttribute("offset",g.toString()),n.setAttribute("bgColor",v.toString()),ie(n,{transform:`scale(${b}) translate3d(0, ${g}%, 0)`,backgroundColor:v})))}),Fa(Dn(Ee(t,"touchend",{passive:!0}),Ee(t,"touchcancel",{passive:!0})).pipe(fe(async y=>{if(d!==0){if(y.timeStamp-i.timeStamp<300&&h>a/2){this.updatePosition(e);return}m||(await Promise.all([t.animate([{transform:`translateY(${d}px)`},{transform:"translateY(0px)"}],this.getDefaultAnimationOptions()).finished,s?Promise.resolve():n.animate([{transform:`scale(${b}) translate3d(0, ${g}%, 0)`,backgroundColor:v},{transform:`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,backgroundColor:this.backgroundColor}],this.getDefaultAnimationOptions()).finished]),t.removeAttribute("offset"),ie(t,{transform:""}),s||(n.removeAttribute("scale"),n.removeAttribute("offset"),n.removeAttribute("bgColor"),ie(n,{transform:`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,backgroundColor:this.backgroundColor})))}}))))}))).subscribe();this.subscriptions.set(e,r)}unsubscribeOnResize(e){if(!this.subscriptions.has(e))return;const t=this.subscriptions.get(e);t.closed||t.unsubscribe()}updatePosition(e){this.subscriptions.has(e)&&this.close(e).catch()}calculateIsHalfView(e){const t=e.clientHeight,n=e.maxHeight??0;return t*100/n<90}getDefaultAnimationOptions(){return{duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"}}async transition(e,t,n,r){const i=t.getAttribute("scale")??this.scale,s=this.brightnessHalfView,o=Number(t.getAttribute("offset")??this.topOffsetPercent),a=t.getAttribute("bgColor")??this.backgroundColor,c=e.getAttribute("offset")??"0",l=()=>({transform:`translate3d(0, ${n?c:"100"}%, 0)`}),u=()=>({transform:`translate3d(0, ${n?"100":c}%, 0)`}),h=()=>({filter:r?`brightness(${n?s:"1"})`:"",transform:r?"":`scale(${n?i:"1"}) translate3d(0, ${n?o:"0"}%, 0)`,borderRadius:r?"":n?this.borderRadius:"0",backgroundColor:r?"":n?a:this.backgroundColorDefault}),d=()=>({filter:r?`brightness(${n?"1":s})`:"",transform:r?"":`scale(${n?"1":i}) translate3d(0, ${n?"0":o}%, 0)`,borderRadius:r?"":n?"0":this.borderRadius,backgroundColor:r?"":n?this.backgroundColorDefault:a});return this.changeBrowserMetaColor(r,n),await Promise.all([e.animate([l(),u()],this.getDefaultAnimationOptions()).finished,t.animate([h(),d()],this.getDefaultAnimationOptions()).finished])}async transitionHalfView(e,t){const n=this.scale,r=this.brightnessHalfView,i=this.topOffsetPercent,s=()=>({filter:`brightness(${t?"1":r})`,transform:`scale(${t?n:"1"}) translate3d(0, ${t?i:"0"}%, 0)`,borderRadius:t?this.borderRadius:"0",backgroundColor:t?this.backgroundColor:this.backgroundColorDefault}),o=()=>({filter:`brightness(${t?r:"1"})`,transform:`scale(${t?"1":n}) translate3d(0, ${t?"0":i}%, 0)`,borderRadius:t?"0":this.borderRadius,backgroundColor:t?this.backgroundColorDefault:this.backgroundColor});this.changeBrowserMetaColor(t,!1),await e.animate([s(),o()],this.getDefaultAnimationOptions()).finished,ie(e,o())}appendStyleBeforeTransition(e){ie(e,{willChange:"filter, transform",overflow:"hidden",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"}),e.removeAttribute("scale"),e.removeAttribute("offset"),e.removeAttribute("bgColor")}appendStyleAfterTransition(e,t,n){if(t)return this.resetRootNodeStyle(e);ie(e,{filter:n?`brightness(${this.brightnessHalfView})`:"",transform:n?"":`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,borderRadius:n?"":this.borderRadius,backgroundColor:n?"":this.backgroundColor})}changeBrowserMetaColor(e,t){let n=bb();e&&!t&&(n=yk(n,parseFloat(this.brightnessHalfView))),cm(n)}resetRootNodeStyle(e){ie(e,{filter:"",transform:"",position:"",willChange:"",overflow:"",top:"",left:"",right:"",bottom:"",zIndex:"",pointerEvents:"",backgroundColor:"",borderRadius:""})}},Lk=class{constructor(e,t){this.target=e,this.rootNodeName=t,this.activeOverlayMap=new Map,this.subscriptions=new Map,this.container=Ib()}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(e){return this.activeOverlayMap.has(e)}async open(e){const t=await this.getPosition(e),n=this.createOverlayContainer(e);n.maxHeight=t[2],this.target==="center"?ie(n,{top:"0px",left:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}):ie(n,{top:`${t[1]}px`,left:`${t[0]}px`,borderRadius:"24px",boxShadow:"0 -3px 4px 0 var(--primary-12), 0 6px 12px 0 var(--primary-12)"}),await this.animateEnter(n,t[3]);const r=Tb();return this.activeOverlayMap.set(r,n),this.subscribe(r),r}async close(e){if(!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e);await this.animateLeave(t),this.unsubscribe(e),t.remove(),this.activeOverlayMap.delete(e)}async getPosition(e){if(this.target==="center")return[0,0,window.innerHeight-8*2,null];const n=this.target.getBoundingClientRect(),r=await this.getRect(e);let i=n.right-r.width;i<=0&&(i=n.left);const s=n.top+n.height+8,o=window.innerHeight-s-8;return[i,s,o,n]}async getRect(e){const t=this.createOverlayContainer(e);ie(t,{visibility:"hidden"}),document.body.appendChild(t),await new Promise(r=>requestAnimationFrame(r));const n=t.getBoundingClientRect();return t.remove(),n}createOverlayContainer(e){const t=document.createElement(ar.tagName);return ie(t,{position:"absolute",display:"flex",overflow:"hidden",alignItems:"flex-end",width:"fit-content",height:"fit-content",zIndex:"1000"}),Ti(I`${e}`,t),this.container.appendChild(t),t}subscribe(e){const t=new xr,n=this.activeOverlayMap.get(e);if(!n)return;if(this.target==="center"){t.add(Ee(n,"click").subscribe(i=>{i.target===n&&this.close(e).catch()}));return}t.add(Ee(window,"resize").subscribe(()=>this.close(e).catch()));const r=document.querySelector(this.rootNodeName);t.add(Ee(r,"scroll").subscribe(()=>this.updatePosition(e))),t.add(Ee(n,"click").subscribe(i=>{i.stopPropagation(),i.preventDefault()})),t.add(Ee(document,"click").subscribe(()=>{this.close(e).catch()})),this.subscriptions.set(e,t)}unsubscribe(e){if(!this.subscriptions.has(e))return;const t=this.subscriptions.get(e);t.closed||t.unsubscribe()}updatePosition(e){if(this.target==="center"||!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e),n=this.target.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.top+n.height+8,s=n.right-r.width;ie(t,{top:`${i}px`,left:`${s}px`})}async animateEnter(e,t){const n={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const r=document.querySelector(this.rootNodeName);await Promise.all([r.animate([{filter:"blur(0)"},{filter:"blur(3px)"}],n),e.animate([{transform:"scale(.3)",opacity:.3},{transform:"scale(1)",opacity:1}],n).finished]),ie(r,{filter:"blur(3px)"});return}if(!t)throw new Error("");await e.animate([{transform:`translate3d(${Mi()?-5:5}%, -5%, 0)`,opacity:.3},{transform:"translate3d(0, 0, 0)",opacity:1}],n).finished}async animateLeave(e){const t={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const n=document.querySelector(this.rootNodeName);await Promise.all([n.animate([{filter:"blur(3px)"},{filter:"blur(0)"}],t),e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(0)",opacity:0}],{...t,duration:300}).finished]),ie(n,{filter:""});return}await e.animate([{transform:"translate3d(0, 0, 0)",opacity:1},{transform:`translate3d(${Mi()?-5:5}%, -5%, 0)`,opacity:0}],t).finished}},hd=class{constructor(e,t){this.mobileMedia=Vn(),this.mobileOverlay=new Bb(e),this.desktopOverlay=new Lk(t,e)}get isOpen(){return this.mobileMedia.matches?this.mobileOverlay.isOpen:this.desktopOverlay.isOpen}isOpenOverlay(e){return this.mobileMedia.matches?this.mobileOverlay.isOpenOverlay(e):this.desktopOverlay.isOpenOverlay(e)}async open(e){return this.mobileMedia.matches?await this.mobileOverlay.open(e):await this.desktopOverlay.open(e)}async close(e){return this.mobileMedia.matches?await this.mobileOverlay.close(e):await this.desktopOverlay.close(e)}},jk=Object.defineProperty,zk=Object.getOwnPropertyDescriptor,be=(e,t,n,r)=>{for(var i=r>1?void 0:r?zk(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&jk(t,n,i),i},Uk=G``,Vk=G`:host{display:block;transition:height .2s;overflow:hidden}.wallet-view-container{display:flex;align-content:center;justify-content:space-between;padding:20px 16px;border-radius:16px;transition:background-color .2s,height .2s;position:relative;overflow:hidden;color:var(--color-content-content-primary)}.wallet-icon{width:24px;height:24px}.wallet-name{color:var(--color-content-content-primary);font-size:16px;font-style:normal;font-weight:400;line-height:24px}.connect-icon{color:var(--color-content-content-primary);margin-left:auto;transform:scale(0);transition:transform .2s}.connect-icon__connected{transform:scale(1);transition:color .2s;color:var(--color-content-content-primary)}.connect-icon__active{transform:scale(1);transition:color .2s;color:var(--primary)}.data-container{display:flex;align-items:center;gap:8px}.loader-icon{height:24px;width:24px;margin-left:auto}.address-list{display:flex;flex-direction:column}inch-wallet-view-address-balance{transform:translate3d(24px,0,0);transition:transform .2s;will-change:transform}.add-connection{transition:transform .2s;transform:scale(0)}.address-container__active inch-wallet-view-address-balance{transform:translate3d(0,0,0)}.wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data{transform:translate3d(36px,0,0);transition:transform .2s}.sub-wallet-icon:dir(rtl){transform:scale(-1,1)}@media (hover:hover){.wallet-view-container:hover{background-color:var(--color-background-bg-secondary)}.wallet-view-container:hover .connect-icon{transform:scale(1)}.wallet-view-container:hover inch-wallet-view-address-balance{transform:translate3d(0,0,0)}.wallet-view-container:hover .add-connection{transform:scale(1)}.wallet-view-container:hover.wallet-view-container__wc.wallet-view-container__connected .right-data{transform:translate3d(0,0,0)}}@media (hover:none){.wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data{transform:translate3d(0,0,0)}.add-connection{transform:scale(1)}}@keyframes rainbow{0%{background-position:0}100%{background-position:100%}}`,dd=Symbol("controller context"),Hk=G`:host{color:var(--color-content-content-primary);text-align:right;font-size:16px;font-style:normal;font-weight:500;line-height:24px}.loader{will-change:filter;height:20px;width:60px;background-color:var(--color-background-bg-secondary);border-radius:4px;animation:stub-loader-animation 3s ease-in-out infinite}@keyframes stub-loader-animation{0%,100%{filter:opacity(1)}50%{filter:opacity(.5)}}`,up=new id("inch-wallet-view-address-balance",7),qr=class extends le{constructor(){super(...arguments),this.task=new ja(this,async([e,t])=>{if(!e||!t)throw new Error("");const n=await mt.getTokenBalance(e,rd,t),r=Fr(et(BigInt((n==null?void 0:n.amount)??0),18),6);return up.set([this.chainId,this.address].join(":"),r),r},()=>[this.chainId,this.address])}render(){return this.task.render({pending:()=>this.getLoader(),error:()=>this.getLoader(),complete:e=>{if(this.chainId===void 0)throw new Error("");const t=qi(this.chainId);return I`<span>${e} ${t.nativeCurrency.symbol}</span>`}})}getLoader(){const e=()=>I`<div class="loader"></div>`;if(!this.chainId||!this.address)return e();const t=up.get([this.chainId,this.address].join(":")),n=qi(this.chainId);return t?I`<span>${t} ${n.nativeCurrency.symbol}</span>`:e()}};qr.tagName="inch-wallet-view-address-balance";qr.styles=Hk;be([K({type:Number})],qr.prototype,"chainId",2);be([K({type:String})],qr.prototype,"address",2);qr=be([me(qr.tagName)],qr);var gt=class extends le{constructor(){super(...arguments),this.showLoader=!1,this.isWalletConnected=!1,this.addressList=null,this.activeAddress=null,this.showAddresses=!1,this.isActiveWallet=!1}firstUpdated(){if(!this.info)throw new Error("");const e=this.getController().getDataAdapter(this.info),t=this.getController().data;ut(this,[e.isConnected$.pipe(pe(n=>this.isWalletConnected=n)),e.activeAddress$.pipe(pe(n=>this.activeAddress=n)),e.addresses$.pipe(pe(n=>this.addressList=n.length?n:null)),t.chainId$.pipe(pe(n=>this.chainId=n??void 0)),t.isActiveWallet$(this.info).pipe(pe(n=>this.isActiveWallet=n))],{requestUpdate:!1})}render(){var i;if(!this.info)throw new Error("");const e=((i=this.addressList)==null?void 0:i.length)??0,t=(this.showAddresses&&e>1?e*64:0)+64;ie(this,{height:`${t}px`});const n=this.info.uuid==="walletConnect",r={"wallet-view-container":!0,"wallet-view-container__wc":n,"wallet-view-container__connected":this.isWalletConnected,"wallet-view-container__loading":this.showLoader};return I`<div class="${St(r)}" @click="${()=>this.onClick()}"><div class="data-container left-data"><img class="wallet-icon" alt="${this.info.name}" src="${this.info.icon}"> <span class="wallet-name">${this.info.name}</span></div><div class="data-container right-data">${ce(this.activeAddress,s=>I`<span>${$u(s)}</span>`)} ${ce(this.showLoader,()=>I`<inch-icon class="loader-icon" icon="fire48"></inch-icon>`,()=>{const s={"connect-icon":!0,"connect-icon__connected":this.isWalletConnected,"connect-icon__active":this.isActiveWallet};return I`<inch-icon class="${St(s)}" icon="connect16"></inch-icon>${ce(n&&this.activeAddress,()=>I`<inch-button @click="${o=>this.onConnect(o)}" class="add-connection" size="l" type="tertiary"><inch-icon icon="plusCircle16"></inch-icon></inch-button>`)}`})}</div></div>${ce(this.addressList&&this.addressList.length>1,()=>I`<div class="address-list">${eh(this.addressList,s=>I`<div @click="${()=>this.setActiveAddress(s)}" class="wallet-view-container address-container ${gl(this.isActiveAddress(s).then(o=>o?"address-container__active":""))}"><div class="data-container left-data"><inch-icon class="sub-wallet-icon" icon="cornerDownRight16"></inch-icon><span>${$u(s,{width:this.offsetWidth})}</span></div><div class="data-container right-data"><inch-wallet-view-address-balance chainId="${Cn(this.chainId)}" address="${s}"></inch-wallet-view-address-balance><inch-icon class="connect-icon ${gl(this.isActiveAddress(s).then(o=>o?"connect-icon__active":""))}" icon="link16"></inch-icon></div></div>`)}</div>`)}`}async onClick(){if(this.isWalletConnected){if(this.addressList&&this.addressList.length===1){await this.setActiveAddress(this.addressList[0]);return}this.showAddresses=!this.showAddresses;return}await this.onConnect()}async onConnect(e){if(!this.info||this.showLoader)return;e==null||e.preventDefault(),e==null||e.stopPropagation(),this.showLoader=!0;const t=this.info.uuid==="walletConnect";this.isWalletConnected&&t?this.showAddresses=await this.getController().addConnection(this.info):this.showAddresses=await this.getController().connect(this.info),this.showLoader=!1}async setActiveAddress(e){this.info&&await this.getController().setActiveAddress(this.info,e)}getController(){if(!this.controller)throw new Error("");return this.controller}isActiveAddress(e){if(!this.info)throw new Error("");return this.getController().data.isActiveAddress(this.info,e)}};gt.tagName="inch-wallet-view";gt.styles=Vk;be([K({type:Object})],gt.prototype,"info",2);be([Le()],gt.prototype,"showLoader",2);be([Le()],gt.prototype,"isWalletConnected",2);be([Le()],gt.prototype,"addressList",2);be([Le()],gt.prototype,"activeAddress",2);be([Le()],gt.prototype,"showAddresses",2);be([Le()],gt.prototype,"isActiveWallet",2);be([Le()],gt.prototype,"chainId",2);be([Dt({context:dd})],gt.prototype,"controller",2);gt=be([me(gt.tagName)],gt);var ks=class extends le{constructor(){super(...arguments),this.task=new ja(this,async()=>await this.getController().getSupportedWallets(),()=>[])}render(){return this.task.render({pending:()=>I`<inch-icon icon="unicornRun"></inch-icon>`,complete:e=>I`<inch-scroll-view-consumer>${eh(e,t=>I`<inch-wallet-view .info="${t}"></inch-wallet-view>`)}</inch-scroll-view-consumer>`})}getController(){if(!this.controller)throw new Error("");return this.controller}};ks.tagName="inch-wallet-list";be([Dt({context:dd})],ks.prototype,"controller",2);ks=be([me(ks.tagName)],ks);var cr=class extends le{constructor(){super(...arguments),this.mobileMedia=Vn(),this.context=new pc(this,{context:dd})}firstUpdated(){La(this)}render(){if(!this.controller)throw new Error("For the inch-wallet-manage widget to work, you need to pass the controller corresponding to the interface in the controller field");this.context.value||this.context.setValue(this.controller);const e=this.controller.isConnected?"Wallet management":"Connect wallet";return I`<inch-card showShadow="${Cn(this.showShadow)}" forMobileView="${Cn(this.mobileMedia.matches?"":void 0)}"><inch-card-header closeButton headerText="${e}"></inch-card-header><inch-wallet-list></inch-wallet-list></inch-card>`}};cr.tagName="inch-wallet-manage";cr.styles=Uk;be([K({type:Object,attribute:!1})],cr.prototype,"controller",2);be([K({type:Boolean})],cr.prototype,"showShadow",2);cr=be([me(cr.tagName)],cr);var qk=G`.connect-wallet-view-container{padding:8px 5px 8px 8px;display:flex;align-items:center;gap:8px;border-radius:12px;background:var(--color-background-bg-primary);height:40px;box-sizing:border-box}.connect-wallet-view-icon{width:24px;height:24px}`,lr=class extends le{constructor(){super(...arguments),this.mobileMatchMedia=bn(this),this.overlay=new hd("#app-root",this),this.overlayId=null,this.chainId$=de(()=>this.getController().data.chainId$),this.activeAddress$=de(()=>this.getController().data.activeAddress$),this.info$=de(()=>this.getController().data.info$),this.icon$=this.info$.pipe(te(e=>e.icon)),this.name$=this.info$.pipe(te(e=>e.name)),this.activeAddressView$=this.activeAddress$.pipe(te(e=>e&&$u(e))),this.view$=de(()=>this.getController().data.isConnected$).pipe(te(e=>e?this.getConnectedView():this.getConnectWalletButton()))}render(){return I`${Pe(this.view$)}`}getConnectedView(){return I`<div class="connect-wallet-view-container"><img class="connect-wallet-view-icon" alt="${Pe(this.name$)}" src="${Pe(this.icon$)}"> ${ce(!this.mobileMatchMedia.matches,()=>I`<inch-wallet-view-address-balance address="${Pe(this.activeAddress$)}" chainId="${Pe(this.chainId$)}"></inch-wallet-view-address-balance>`)}<inch-button @click="${()=>this.onOpenConnectView()}" type="secondary" size="m">${Pe(this.activeAddressView$)}</inch-button></div>`}getConnectWalletButton(){return I`<inch-button @click="${()=>this.onOpenConnectView()}" type="secondary">Connect wallet</inch-button>`}getController(){if(!this.controller)throw new Error("");return this.controller}async onOpenConnectView(){if(this.overlay.isOpen){await this.overlay.close(this.overlayId??0),this.overlayId=null;return}this.overlayId=await this.overlay.open(I`<inch-wallet-manage @closeCard="${()=>{this.overlayId&&(this.overlay.close(this.overlayId),this.overlayId=null)}}" .controller="${this.controller}"></inch-wallet-manage>`)}};lr.tagName="inch-connect-wallet-view";lr.styles=qk;be([K({type:Object,attribute:!1})],lr.prototype,"controller",2);be([Mt()],lr.prototype,"onOpenConnectView",1);lr=be([me(lr.tagName)],lr);var Wk=G`.unsupported{color:var(--color-core-red-critical)}`,Or={[S.eth]:{name:"Ethereum",iconName:"eth24"},[S.arbitrum]:{name:"Arbitrum",iconName:"arbitrum24"},[S.op]:{name:"Optimism",iconName:"op24"},[S.zkSyncEra]:{name:"zkSync Era",iconName:"zkSyncEra24"},[S.bnb]:{name:"BNB Smart Chain",iconName:"bnb24",priority:1},[S.matic]:{name:"Polygon",iconName:"matic24",priority:1},[S.gnosis]:{name:"Gnosis",iconName:"gnosis24"},[S.avalanche]:{name:"Avalanche",iconName:"avalanche24"},[S.fantom]:{name:"Fantom",iconName:"fantom24"},[S.aurora]:{name:"Aurora",iconName:"aurora24"},[S.klaytn]:{name:"Klaytn",iconName:"klaytn24"}},Gk=Object.keys(Or).filter(e=>h6(+e)).map(e=>({...Or[e],chainId:Number(e)})).sort((e,t)=>e.chainId==S.eth?-1:t.chainId==S.eth?1:Eu(e.chainId)?-1:Eu(t.chainId)?1:(t.priority??0)-(e.priority??0)),Kk=G`.card{height:100%}.scroll-container{position:relative;height:100%;overflow-y:auto}.scroll-overlay{position:absolute;top:0;left:0;height:100%;width:100%}`,Yk=G`:host{width:100%;height:100%}.container{display:flex;align-items:center;gap:8px;height:40px;padding:0 8px;border-radius:12px;background-color:transparent;transition:background-color .2s;color:var(--color-content-content-primary);font-size:14px}.active .list-icon{transform:scale(1);color:var(--primary)}.list-icon{margin-left:auto;transition:transform .2s;transform:scale(0)}@media (hover:hover){.container:hover{background-color:var(--color-background-bg-secondary)}.container:hover .list-icon{transform:scale(1)}}.container:active{background-color:var(--color-background-bg-secondary)}${rt(G`.container{height:50px;font-size:16px}`)}`,ur=class extends le{constructor(){super(...arguments),this.mobileMedia=bn(this)}render(){if(!this.info)return;const e=Eu(this.info.chainId),n={container:!0,active:Number(this.info.chainId)===this.activeChainId},r=this.mobileMedia.matches?26:24;return I`<div class="${St(n)}" @click="${()=>this.setChainId()}">${ce(e,()=>I`<inch-icon icon="${Mi()?"l2ChainRTL24":"l2Chain24"}"></inch-icon>`)}<inch-icon width="${r}px" height="${r}px" icon="${this.info.iconName}"></inch-icon><span>${this.info.name}</span><inch-icon class="list-icon" icon="link16"></inch-icon></div>`}async setChainId(){var e;if(!this.info)throw new Error("");await((e=this.controller)==null?void 0:e.changeChain(this.info.chainId)),Oe(this,"closeCard",null)}};ur.tagName="inch-chain-selector-list-item";ur.styles=Yk;be([K({type:Object})],ur.prototype,"info",2);be([K({type:Number})],ur.prototype,"activeChainId",2);be([K({type:Object,attribute:!1})],ur.prototype,"controller",2);ur=be([me(ur.tagName)],ur);var hr=class extends le{constructor(){super(...arguments),this.mobileMedia=bn(this)}firstUpdated(){if(!this.controller)throw new Error("");ut(this,[this.controller.data.chainId$.pipe(pe(e=>this.activeChainId=e??void 0))],{requestUpdate:!1})}render(){return this.mobileMedia.matches?this.getMobileList():this.getDesktopList()}getList(){return Gk.map(e=>I`<inch-chain-selector-list-item .info="${e}" .controller="${this.controller}" activeChainId="${Cn(this.activeChainId)}"></inch-chain-selector-list-item>`)}getMobileList(){return I`<inch-card class="card" forMobileView><inch-card-header closeButton headerText="Select chain"></inch-card-header><inch-scroll-view-consumer>${this.getList()}</inch-scroll-view-consumer></inch-card>`}getDesktopList(){return I`<inch-card>${this.getList()}</inch-card>`}};hr.tagName="inch-chain-selector-list";hr.styles=[Kk];be([K({type:Object,attribute:!1})],hr.prototype,"controller",2);be([Le()],hr.prototype,"activeChainId",2);hr=be([me(hr.tagName)],hr);var dr=class extends le{constructor(){super(...arguments),this.mobileMedia=bn(this),this.overlay=new hd("#app-root",this),this.overlayId=null,this.chainId$=de(()=>this.getController().data.chainId$),this.unsupportedChainId$=this.chainId$.pipe(te(e=>e&&Or[e]?"":"unsupported")),this.chainIdIconName$=this.chainId$.pipe(Xe(Boolean),te(e=>Or[e]?Or[e].iconName:"alert24")),this.chainIdName$=this.chainId$.pipe(Xe(Boolean),te(e=>Or[e]?Or[e].name:"Unsupported chain"))}render(){return I`<inch-button @click="${()=>this.onClick()}" size="l" type="primary-gray"><inch-icon class="${Pe(this.unsupportedChainId$)}" icon="${Pe(this.chainIdIconName$)}"></inch-icon>${ce(!this.mobileMedia.matches,()=>I`<span>${Pe(this.chainIdName$)}</span><inch-icon icon="chevronDown16"></inch-icon>`)}</inch-button>`}async onClick(){if(this.overlay.isOpenOverlay(this.overlayId??0)){this.closeOverlay();return}this.overlayId=await this.overlay.open(I`<inch-chain-selector-list .controller="${this.controller}" @closeCard="${()=>this.closeOverlay()}"></inch-chain-selector-list>`)}closeOverlay(){this.overlayId&&(this.overlay.close(this.overlayId),this.overlayId=null)}getController(){if(!this.controller)throw new Error("");return this.controller}};dr.tagName="inch-chain-selector";dr.styles=Wk;be([K({type:Object,attribute:!1})],dr.prototype,"controller",2);be([Mt()],dr.prototype,"onClick",1);dr=be([me(dr.tagName)],dr);const Zk=Object.freeze(Object.defineProperty({__proto__:null,get ChainSelectorElement(){return dr},get ChainSelectorListElement(){return hr},get ConnectWalletViewElement(){return lr},get WalletManageElement(){return cr}},Symbol.toStringTag,{value:"Module"}));function Jk(){return Vn().matches?56:72}function Xk(){return Vn().matches?56:72}const Et=ok(),Qk=Object.freeze(Object.defineProperty({__proto__:null,connectWalletController:Et},Symbol.toStringTag,{value:"Module"}));var eC=Object.defineProperty,tC=Object.getOwnPropertyDescriptor,nC=(e,t,n,r)=>{for(var i=r>1?void 0:r?tC(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&eC(t,n,i),i};let Cs=class extends le{constructor(){super(...arguments),this.mobileMedia=Vn()}connectedCallback(){super.connectedCallback(),La(this)}render(){return this.mobileMedia.matches?this.getMobileHeader():this.getDesktopHeader()}getDesktopHeader(){const e={height:`${Jk()}px`};return I`<div class="header-container" style="${Qu(e)}"><div class="left-content"><inch-icon icon="logoFull"></inch-icon></div><div class="right-content"><inch-chain-selector .controller="${Et}"></inch-chain-selector><inch-connect-wallet-view .controller="${Et}"></inch-connect-wallet-view></div></div>`}getMobileHeader(){return I`<div class="header-container mobile-header"><inch-icon icon="logoFull"></inch-icon></div>`}};Cs.tagName="inch-header";Cs.styles=Dw;Cs=nC([me(Cs.tagName)],Cs);const rC=G`.footer-container{width:100%;box-sizing:border-box;display:flex;align-items:center;position:relative;border-top:1px solid var(--color-border-border-tertiary);padding:0 72px;background-color:var(--color-background-bg-body);gap:8px;margin-top:32px}.mobile-footer{height:72px;width:100vw;position:sticky;padding:16px 8px;bottom:0;z-index:9;justify-content:space-between}.power-by{color:var(--color-content-content-secondary);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.version{color:var(--color-content-content-secondary);font-size:13px;font-style:normal;font-weight:400;line-height:16px;transform:translateX(-100%);opacity:0;transition:transform .2s,opacity .2s}.version:dir(rtl){transform:translateX(100%)}@media (hover:hover){.footer-container:hover .version{transform:translateX(0);opacity:1}}`;var iC=Object.defineProperty,sC=Object.getOwnPropertyDescriptor,oC=(e,t,n,r)=>{for(var i=r>1?void 0:r?sC(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&iC(t,n,i),i};let Ps=class extends le{constructor(){super(...arguments),this.mobileMedia=Vn()}connectedCallback(){super.connectedCallback(),La(this)}render(){return this.mobileMedia.matches?this.getMobileFooter():this.getDesktopFooter()}getDesktopFooter(){const e={height:`${Xk()}px`};return I`<div class="footer-container" style="${Qu(e)}"><span class="power-by">© ${new Date().getFullYear()} Powered by 1inch</span> <span class="version">version: ${za("appVersion")}</span></div>`}getMobileFooter(){return I`<div class="footer-container mobile-footer"><inch-chain-selector .controller="${Et}"></inch-chain-selector><inch-connect-wallet-view .controller="${Et}"></inch-connect-wallet-view></div>`}};Ps.tagName="inch-footer";Ps.styles=rC;Ps=oC([me(Ps.tagName)],Ps);var aC=Object.defineProperty,cC=Object.getOwnPropertyDescriptor,se=(e,t,n,r)=>{for(var i=r>1?void 0:r?cC(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&aC(t,n,i),i},lC=Object.defineProperty,uC=Object.getOwnPropertyDescriptor,No=(e,t,n,r)=>{for(var i=r>1?void 0:r?uC(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&lC(t,n,i),i},hC=[()=>H(()=>import("./one-inch.repository-JNRGDZV6-BRyeSkhW.js"),__vite__mapDeps([])).then(e=>e.oneInchRepository),()=>H(()=>import("./uniswap.repository-DEW5DSIV-CRSvt7Lo.js"),__vite__mapDeps([])).then(e=>e.uniSwapRepository),()=>H(()=>import("./trustwallet.repository-WLP7HZHC-C7j06I_n.js"),__vite__mapDeps([])).then(e=>e.trustWalletRepository),()=>H(()=>import("./pancakeswap.repository-ZDZXUJEZ-BaVUtELD.js"),__vite__mapDeps([])).then(e=>e.pancakeSwapRepository)],Rn=class extends le{constructor(){super(...arguments),this.size=24,this.task=new ja(this,{task:([e,t,n],{signal:r})=>dC(r,n,e,t),args:()=>[this.symbol,this.address,this.chainId]})}render(){return this.task.render({error:()=>ul(this.size,this.symbol),pending:()=>ul(this.size,this.symbol,!0),initial:()=>ul(this.size,this.symbol,!0),complete:e=>(e.width=this.size,e.height=this.size,e.ondragstart=()=>!1,I`${e}`)})}updated(){this.style.width=`${this.size}px`,this.style.height=`${this.size}px`}};Rn.tagName="inch-token-icon";Rn.styles=G`

      :host {
          user-select: none;
          outline: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
      }

      .stub {
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: var(--color-background-bg-secondary);
          border-radius: 50%;
          color: var(--color-content-content-secondary);
          position: relative;
      }
      .stub-loader {
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          border: 1px solid;
          border-bottom-color: var(--secondary);
          border-top-color: var(--secondary);
          animation: spin 1s linear infinite;
      }
      
      img {
          user-select: none;
          outline: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
      }

      @keyframes spin {
          0% {
              transform: rotate(0deg);
          }

          100% {
              transform: rotate(360deg);
          }
      }
  
  `;No([K({type:String,attribute:!0})],Rn.prototype,"symbol",2);No([K({type:String,attribute:!0})],Rn.prototype,"address",2);No([K({type:Number,attribute:!0})],Rn.prototype,"chainId",2);No([K({type:Number,attribute:!0})],Rn.prototype,"size",2);Rn=No([me(Rn.tagName)],Rn);function ul(e,t,n){return I`
    <div style="width: ${e}px; height: ${e}px; font-size: ${e<40?13:16}px" class="stub">
      <span>${(t==null?void 0:t.slice(0,e<40?1:2))??""}</span>
      ${n?I`<span class="stub-loader"></span>`:""}
    </div>
  `}async function dC(e,t,n,r){let i=await fC({chainId:t,symbol:n,address:r,signal:e});if(i===null&&(i=await fd({chainId:t,symbol:n,address:r,signal:e})),i===null&&(i=await pC({chainId:t,symbol:n,address:r,signal:e})),i===null)throw new Error("token icon not fount");return i}async function fC(e){if(!e.chainId||!e.address)return null;const t=await mt.getToken(e.chainId,e.address);return!t||!t.logoURL?null:await new Promise(n=>{const r=new Image;r.onerror=()=>n(null),r.onload=()=>n(r),r.src=t.logoURL})}async function fd(e,t=0){const n=hC[t];if(!n)return null;try{return await(await n())(e)}catch{return await fd(e,t+1)}}async function pC(e){if(e.chainId===S.eth||!e.symbol)return null;const t=await mt.getTokenBySymbol(S.eth,e.symbol);if(e.chainId&&e.address&&Un(e.address)){const n=uo(e.chainId);t.push(n)}for(const n of t){const r=await fd({...e,chainId:n.chainId,address:n.address});if(r)return r}return null}const Ob=(e,t,n)=>{for(const r of t)if(r[0]===e)return(0,r[1])();return n==null?void 0:n()};var mC=Object.defineProperty,gC=Object.getOwnPropertyDescriptor,gc=(e,t,n,r)=>{for(var i=r>1?void 0:r?gC(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&mC(t,n,i),i},bC=G`:host{display:block}.container{position:relative;background-color:var(--color-background-bg-secondary);padding:2px;display:flex;align-items:center;cursor:pointer;user-select:none;outline:0;box-sizing:border-box;width:100%}.container-m{border-radius:10px;height:36px}.container-l{border-radius:12px;height:48px}.caret{position:absolute;background-color:var(--color-background-bg-active);height:32px;border-radius:8px;box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12);color:var(--primary);width:30px;z-index:0}.caret-transition{transition:transform .2s}`,yC=G`.item{box-sizing:border-box;display:flex;align-items:center;justify-items:center;padding:6px 16px;z-index:1;width:100%;font-size:16px;justify-content:center;text-wrap:nowrap;transition:color .2s,background-color .2s;color:var(--color-content-content-primary)}.select{color:var(--primary)}.item-input{user-select:none;outline:0;border:none;background-color:transparent}${rt(G`.item{font-size:13px;padding:6px 12px}`)}`,fr=class extends le{constructor(){super(...arguments),this.size="m",this.items=[],this.itemRefList=[],this.caretRef=null}render(){const e={[`container-${this.size}`]:!0};return I`<div class="container ${St(e)}">${eh(this.items||[],t=>this.getItemView(t))}<div class="caret"></div></div>`}async firstUpdated(){var e;this.itemRefList=Array.from(this.renderRoot.querySelectorAll("div.item")),this.caretRef=this.renderRoot.querySelector(".caret"),await this.updateComplete,this.requestUpdate(),await new Promise(t=>setTimeout(t,60)),(e=this.caretRef)==null||e.classList.add("caret-transition"),this.requestUpdate(),ut(this,[mm.pipe(pe(()=>this.updated()))])}updated(){if(!this.caretRef)return;let e=0,t=0;for(const n of this.itemRefList){if(n.classList.contains("select")){t=n.offsetWidth;break}e+=n.offsetWidth}this.caretRef.style.width=`${t}px`,this.caretRef.style.transform=`translateX(${e*(Mi()?-1:1)}px)`}getItemView(e){var r,i;const t={[`item-${this.size}`]:!0,select:e.value===((r=this.select)==null?void 0:r.value)};let n=I`${e.label}`;return e.template&&(n=e.template(e,e.value===((i=this.select)==null?void 0:i.value),this.caretRef)),I`<div @click="${s=>this.onSelect(e,s)}" class="item ${St(t)}">${n}</div>`}onSelect(e,t){this.select=e,this.requestUpdate(),this.dispatchEvent(am("change",e.value,t))}};fr.tagName="inch-segmented-control";fr.styles=[bC,yC];gc([K({type:String})],fr.prototype,"size",2);gc([K({type:Array,attribute:!1})],fr.prototype,"items",2);gc([K({type:Object,attribute:!1})],fr.prototype,"select",2);fr=gc([me(fr.tagName)],fr);var wC=Object.defineProperty,vC=Object.getOwnPropertyDescriptor,xC=(e,t,n,r)=>{for(var i=r>1?void 0:r?vC(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&wC(t,n,i),i},_C={sceneBackgroundColor:"var(--color-background-bg-primary)"},EC=e=>{const t={..._C,...e};return G`:host{display:flex;--scene-background-color:${ye(t.sceneBackgroundColor)}}.scene-container{min-height:50px;min-width:50px;position:relative;overflow:hidden;border-radius:16px;will-change:width,height,transform,filter}`},$C=Symbol("scene context"),SC=class{constructor(){this.animationInProgress=!1,this.animationInStart$=new ft,this.animationInEnd$=new ft,this.animationOutStart$=new ft,this.animationOutEnd$=new ft}get animationInStart(){return $t(this.animationInStart$)}get animationInEnd(){return $t(this.animationInEnd$)}get animationOutStart(){return $t(this.animationOutStart$)}get animationOutEnd(){return $t(this.animationOutEnd$)}animationInStartNext(){this.animationInProgress=!0,this.animationInStart$.next()}animationInEndNext(){this.animationInProgress=!1,this.animationInEnd$.next()}animationOutStartNext(){this.animationInProgress=!0,this.animationOutStart$.next()}animationOutEndNext(){this.animationInProgress=!1,this.animationOutEnd$.next()}},Ai=class extends le{constructor(){super(),this.context=new pc(this,{context:$C}),this.context.setValue(new SC)}animationInStart(){this.context.value.animationInStartNext()}animationInEnd(){this.context.value.animationInEndNext()}animationOutStart(){this.context.value.animationOutStartNext()}animationOutEnd(){this.context.value.animationOutEndNext()}render(){return I`<slot></slot>`}};Ai.tagName="inch-scene-wrapper";Ai.styles=G`:host{background-color:var(--scene-background-color);will-change:transform;transform:translate3d(0,0,0);padding:1px;height:fit-content;box-sizing:border-box;position:relative;display:block}`;Ai=xC([me(Ai.tagName)],Ai);function AC(){const e={position:"absolute",top:"0",left:"0",bottom:"0",right:"0",zIndex:"9",backfaceVisibility:"hidden",height:Ms()?"100%":""},t={position:"",top:"",left:"",bottom:"",right:"",zIndex:"",transform:"",filter:"",backfaceVisibility:"",height:""},n={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};return{preparation:async(r,i,s)=>{ie(r,{...e,zIndex:"9",transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"}),ie(i,{...e,zIndex:"8",transform:s?"translate3d(-100%, 0, 0)":"translate3d(0, 0, 0)"})},transition:async(r,i,s)=>{await Promise.all([r.animate([{transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"},{transform:s?"translate3d(100%, 0, 0)":"translate3d(0, 0, 0)"}],n),i.animate([{transform:s?"translate3d(-100%, 0, 0)":"translate3d(0, 0, 0)"},{transform:s?"translate3d(0, 0, 0)":"translate3d(-100%, 0, 0)"}],n).finished]),ie(r,{...t}),ie(i,{...t})}}}function kC(){const e={position:"absolute",top:"0",left:"0",bottom:"0",right:"0",zIndex:"9",backfaceVisibility:"hidden",height:Ms()?"100%":""},t={position:"",top:"",left:"",bottom:"",right:"",zIndex:"",transform:"",filter:"",backfaceVisibility:"",willChange:"",height:""},n={duration:800,easing:"cubic-bezier(.2, .8, .2, 1)"};return{preparation:async(r,i,s)=>{ie(r,{...e,zIndex:"9",transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"}),ie(i,{...e,zIndex:"8",willChange:"transform, filter",transform:s?"translate3d(-50%, 0, 0) scale(.9)":"translate3d(0, 0, 0) scale(1)",filter:s?"blur(3px)":"blur(0)"})},transition:async(r,i,s)=>{await Promise.all([r.animate([{transform:s?"translate3d(0, 0, 0)":"translate3d(105%, 0, 0)"},{transform:s?"translate3d(105%, 0, 0)":"translate3d(0, 0, 0)"}],n),i.animate([{transform:s?"translate3d(-50%, 0, 0) scale(.9)":"translate3d(0, 0, 0) scale(1)",filter:s?"blur(3px)":"blur(0)"},{transform:s?"translate3d(0, 0, 0) scale(1)":"translate3d(-50%, 0, 0) scale(.9)",filter:s?"blur(0)":"blur(3px)"}],n).finished]),ie(r,{...t}),ie(i,{...t})}}}function CC(){return new Promise(e=>requestAnimationFrame(e))}var ho,bc=(ho=class{constructor(t,n,r=kC()){this.rootSceneName=t,this.config=n,this.animation=r,this.sceneStack=[],this.sceneContainer=PC(),this.transitionInProgress=!1}render(t){if(this.transitionInProgress)return I`${this.sceneContainer}`;const n=!this.currentScenes;this.currentScenes=t;const r=this.getCurrentSceneName();if(!(this.config[r].lazyRender??!1)||n){const o=this.getScene(r);if(!o)throw new Error("Scene not exist");const a=this.buildSceneWrapper(o(),r);this.clearContainer(),this.sceneContainerAppendChild(r,a)}return I`${this.sceneContainer}`}async nextTo(t){this.transitionInProgress||(await this.transition(t),this.sceneStack.push(t))}async back(){if(this.transitionInProgress)return;const t=this.sceneStack[this.sceneStack.length-2]??this.rootSceneName;await this.transition(t,!0),this.sceneStack.pop()}resetScene(){this.sceneStack=[]}getCurrentSceneName(){let t=this.rootSceneName;return this.sceneContainer.firstChild&&(t=this.sceneContainer.firstChild.id),t}getCurrentScene(){if(!this.currentScenes)return null;const t=this.getCurrentSceneName();return this.getScene(t)}async transition(t,n){this.transitionInProgress=!0;try{if(this.getCurrentSceneName()===t)return;const i=this.getScene(t);if(!i)throw new Error(`Scene ${t} not exist`);const s=this.buildSceneWrapper(i(),t),o=this.sceneContainer.firstChild,a=n?o:s,c=n?s:o;n?a.animationOutStart():a.animationInStart(),n?c.animationOutStart():c.animationInStart(),this.sceneContainerAppendChild(t,s),await CC();const l=s.getBoundingClientRect(),u=o.getBoundingClientRect();await this.animation.preparation(a,c,n??!1),await Promise.all([this.animation.transition(a,c,n??!1),this.resizeContainer(l,u)]),ie(this.sceneContainer,{width:"",height:""}),this.sceneContainer.firstChild&&this.sceneContainer.removeChild(this.sceneContainer.firstChild),n?a.animationOutEnd():a.animationInEnd(),n?c.animationOutEnd():c.animationInEnd()}finally{this.transitionInProgress=!1}}getScene(t){return this.currentScenes?this.currentScenes[t]??null:null}clearContainer(){for(;this.sceneContainer.firstChild;)this.sceneContainer.removeChild(this.sceneContainer.firstChild)}buildSceneWrapper(t,n){const r=document.createElement(Ai.tagName);return r.id=n,r.classList.add("scene-wrapper",n),Ti(t,r),r}sceneContainerAppendChild(t,n){this.sceneContainer.appendChild(n);const r=this.config[t];this.applySceneConfig(r)}applySceneConfig(t){const n=r=>r?typeof r=="number"?`${r}px`:r:"";t.maxHeight&&(this.sceneContainer.maxHeight=parseInt(t.maxHeight.toString())),ie(this.sceneContainer,{minWidth:n(t.minWidth),maxWidth:n(t.maxWidth)})}async resizeContainer(t,n){await this.sceneContainer.animate([{height:`${n.height}px`,width:`${n.width}px`},{height:`${t.height}px`,width:`${t.width}px`}],{duration:200,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,ie(this.sceneContainer,{width:`${t.width}px`,height:`${t.height}px`})}},ho.styles=EC,ho);function PC(){const e=document.createElement(ar.tagName);return e.id="scene-container",e.classList.add("scene-container"),e}var IC=class extends Ki{render(e,t){return this.controller||(this.controller=new TC(t,n=>this.setValue(n)),e.addController(this.controller)),t()}},TC=class{constructor(e,t){this.valueFactory=e,this.update=t}hostUpdate(){const e=this.valueFactory();e!==this.lastValue&&(this.lastValue=e,this.update(e))}},hp=gn(IC);Pw({[wl.en]:()=>H(()=>import("./en-E7TNRCFW-DnJbssUv.js"),__vite__mapDeps([])).then(e=>e.default),[wl.ar]:()=>H(()=>import("./ar-ZABSVGM5-C_gxvB5t.js"),__vite__mapDeps([])).then(e=>e.default)});var BC=G`.swap-form-container{display:flex;flex-direction:column;gap:8px;height:fit-content;width:100%;min-width:300px}.input-container{width:100%;display:flex;flex-direction:column}.input-header{height:68px;padding:16px 0 16px 8px;box-sizing:border-box;color:var(--color-content-content-primary);font-size:20px;font-weight:600;line-height:28px;margin-top:-16px;letter-spacing:0;text-align:center;display:flex;align-items:center;justify-content:space-between}`,Ar="swap context",pd={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},OC=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){const e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}const t=this.now.value!==e.value,n=this.now.selection.some((r,i)=>r!==e.selection[i]);!t&&!n||(t&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,t){this.now=e,this.updateElementState(e,{inputType:t,data:null})}};function RC(e,...t){return t.every(({value:n})=>n===e.value)}function MC(e,...t){return t.every(({value:n,selection:r})=>n===e.value&&r[0]===e.selection[0]&&r[1]===e.selection[1])}function DC({value:e,selection:t},n,r){const[i,s]=t,o=typeof r=="function"?r({value:e,selection:t}):r;return{value:e,selection:o==="replace"?[i,i+n.length]:[i,s]}}function yc(e){return typeof e=="string"}function dp(e,t,n,r){let i="";for(let s=t.length;s<e.length;s++){const o=e[s],a=(r==null?void 0:r.value[s])===o;if(!yc(o)||o===n&&!a)return i;i+=o}return i}function Rb(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every((n,r)=>{const i=t[r];return yc(i)?n===i:n.match(i)}):t.test(e)}function NC(e,t,n){let r=null,i=null;const s=Array.from(e.value).reduce((a,c,l)=>{const u=dp(t,a,c,n),h=a+u,d=t[h.length];return yc(d)?h+d:c.match(d)?(r===null&&l>=e.selection[0]&&(r=h.length),i===null&&l>=e.selection[1]&&(i=h.length),h+c):h},""),o=dp(t,s,"",n);return{value:Rb(s+o,t)?s+o:s,selection:[r??s.length,i??s.length]}}function FC({value:e,selection:t},n){const[r,i]=t;let s=r,o=i;return{value:Array.from(e).reduce((c,l,u)=>{const h=c+l;return r===u&&(s=c.length),i===u&&(o=c.length),h.match(n)?h:c},""),selection:[s,o]}}function na(e,t,n=null){if(Rb(e.value,t))return e;const{value:r,selection:i}=Array.isArray(t)?NC(e,t,n):FC(e,t);return{selection:i,value:Array.isArray(t)?r.slice(0,t.length):r}}function fp(e,t){if(!Array.isArray(t))return e;const[n,r]=e.selection,i=[],s=Array.from(e.value).reduce((o,a,c)=>{const l=t[c];return c===n&&i.push(o.length),c===r&&i.push(o.length),yc(l)&&l===a?o:o+a},"");return i.length<2&&i.push(...new Array(2-i.length).fill(s.length)),{value:s,selection:[i[0],i[1]]}}var Tu=class{constructor(e,t){this.initialElementState=e,this.maskOptions=t,this.value="",this.selection=[0,0];const{value:n,selection:r}=na(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=n,this.selection=r}addCharacters([e,t],n){const{value:r}=this,i=this.getMaskExpression({value:r.slice(0,e)+n+r.slice(t),selection:[e+n.length,e+n.length]}),s={value:r,selection:[e,t]},o=fp(s,i),[a,c]=DC(o,n,this.maskOptions.overwriteMode).selection,l=o.value.slice(0,a)+n,u=l.length,h=na({value:l+o.value.slice(c),selection:[u,u]},i,s);if(r.slice(0,a)===na({value:l,selection:[u,u]},i,s).value||MC(this,h))throw new Error("Invalid mask value");this.value=h.value,this.selection=h.selection}deleteCharacters([e,t]){if(e===t||!t)return;const{value:n}=this,r=this.getMaskExpression({value:n.slice(0,e)+n.slice(t),selection:[e,e]}),i={value:n,selection:[e,t]},s=fp(i,r),[o,a]=s.selection,c=s.value.slice(0,o)+s.value.slice(a),l=na({value:c,selection:[o,o]},r,i);this.value=l.value,this.selection=l.selection}getMaskExpression(e){const{mask:t}=this.maskOptions;return typeof t=="function"?t(e):t}},LC=class{constructor(e){this.element=e,this.listeners=[]}listen(e,t,n){const r=t;this.element.addEventListener(e,r,n),this.listeners.push(()=>this.element.removeEventListener(e,r))}destroy(){this.listeners.forEach(e=>e())}},Ut={CTRL:1,ALT:2,SHIFT:4,META:8},Is={Y:89,Z:90};function Ts(e,t,n){return e.ctrlKey===!!(t&Ut.CTRL)&&e.altKey===!!(t&Ut.ALT)&&e.shiftKey===!!(t&Ut.SHIFT)&&e.metaKey===!!(t&Ut.META)&&e.keyCode===n}function jC(e){return Ts(e,Ut.CTRL,Is.Y)||Ts(e,Ut.CTRL|Ut.SHIFT,Is.Z)||Ts(e,Ut.META|Ut.SHIFT,Is.Z)}function zC(e){return Ts(e,Ut.CTRL,Is.Z)||Ts(e,Ut.META,Is.Z)}function md(e,t){var n;const r=e.value;if(typeof t=="string")e.value=t;else{const[i,s]=t.selection;e.value=t.value,e.matches(":focus")&&((n=e.setSelectionRange)===null||n===void 0||n.call(e,i,s))}e.value!==r&&e.dispatchEvent(new Event("input",{bubbles:!0}))}function UC({value:e,selection:t},n){const[r,i]=t;if(r!==i)return[r,i];const s=n?e.slice(r).indexOf(`
`)+1||e.length:e.slice(0,i).lastIndexOf(`
`)+1;return[n?r:s,n?s:i]}function VC({value:e,selection:t},n){const[r,i]=t;return r!==i?[r,i]:(n?[r,i+1]:[r-1,i]).map(o=>Math.min(Math.max(o,0),e.length))}var HC=/\s+$/g,qC=/^\s+/g,pp=/\s/;function WC({value:e,selection:t},n){const[r,i]=t;if(r!==i)return[r,i];if(n){const c=e.slice(r),[l]=c.match(qC)||[""],u=c.trimStart().search(pp);return[r,u!==-1?r+l.length+u:e.length]}const s=e.slice(0,i),[o]=s.match(HC)||[""],a=s.trimEnd().split("").reverse().findIndex(c=>c.match(pp));return[a!==-1?i-o.length-a:0,i]}function Ta(e=[]){return(t,...n)=>e.reduce((r,i)=>Object.assign(Object.assign({},r),i(r,...n)),t)}function gd(e,t){const n=Object.assign(Object.assign({},pd),t),r=Ta(n.preprocessors),i=Ta(n.postprocessors),s=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:o}=r({elementState:s,data:""},"validation"),a=new Tu(o,n),{value:c,selection:l}=i(a,s);return typeof e=="string"?c:{value:c,selection:l}}var bd=class extends OC{constructor(e,t){super(),this.element=e,this.maskitoOptions=t,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new LC(this.element),this.options=Object.assign(Object.assign({},pd),this.maskitoOptions),this.preprocessor=Ta(this.options.preprocessors),this.postprocessor=Ta(this.options.postprocessors),this.teardowns=this.options.plugins.map(n=>n(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",n=>{if(jC(n))return n.preventDefault(),this.redo();if(zC(n))return n.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",n=>{var r;const i=n.inputType.includes("Forward");switch(this.updateHistory(this.elementState),n.inputType){case"historyUndo":return n.preventDefault(),this.undo();case"historyRedo":return n.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:n,isForward:i,selection:VC(this.elementState,i)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:n,isForward:i,selection:WC(this.elementState,i),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:n,isForward:i,selection:UC(this.elementState,i),force:!0});case"insertCompositionText":return;case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(n);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(n,n.data||((r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"))||"")}}),this.eventListener.listen("input",({inputType:n})=>{n!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:e,selectionStart:t,selectionEnd:n}=this.element;return{value:e,selection:[t||0,n||0]}}get maxLength(){const{maxLength:e}=this.element;return e===-1?1/0:e}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e==null?void 0:e())}updateElementState({value:e,selection:t},n={inputType:"insertText",data:null}){const r=this.elementState.value;this.updateValue(e),this.updateSelectionRange(t),r!==e&&this.dispatchInputEvent(n)}updateSelectionRange([e,t]){var n;const{element:r}=this;r.matches(":focus")&&(r.selectionStart!==e||r.selectionEnd!==t)&&((n=r.setSelectionRange)===null||n===void 0||n.call(r,e,t))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(gd(this.elementState,this.options))}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:t,isForward:n,force:r=!1}){const i={value:this.elementState.value,selection:t},[s,o]=i.selection,{elementState:a}=this.preprocessor({elementState:i,data:""},n?"deleteForward":"deleteBackward"),c=new Tu(a,this.options),[l,u]=a.selection;c.deleteCharacters([l,u]);const h=this.postprocessor(c,i);if(!(i.value.slice(0,s)+i.value.slice(o)===h.value&&!r&&!this.element.isContentEditable)){if(e.preventDefault(),RC(i,a,c,h))return this.updateSelectionRange(n?[u,u]:[l,l]);this.updateElementState(h,{inputType:e.inputType,data:null}),this.updateHistory(h)}}handleInsert(e,t){const n=this.elementState,{elementState:r,data:i=t}=this.preprocessor({data:t,elementState:n},"insert"),s=new Tu(r,this.options);try{s.addCharacters(r.selection,i)}catch{return e.preventDefault()}const[o,a]=r.selection,c=n.value.slice(0,o)+t+n.value.slice(a),l=this.postprocessor(s,n);if(l.value.length>this.maxLength)return e.preventDefault();(c!==l.value||this.element.isContentEditable)&&(e.preventDefault(),this.updateElementState(l,{data:t,inputType:e.inputType}),this.updateHistory(l))}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,`
`)}};function Ba(e,t,n){const r=Math.min(Number(n),Math.max(Number(t),Number(e)));return e instanceof Date?new Date(r):r}var GC=[".",",","б","ю"],KC=[":","."],YC=" ",ZC="​",Mb="–",Db="—",Oa="-",Bu="−",Nb="ー",Fb=/[\\^$.*+?()[\]{}|]/g,JC=new RegExp(Fb.source);function lt(e){return e&&JC.test(e)?e.replaceAll(Fb,"\\$&"):e}function en(e,{prefix:t,postfix:n}){var r,i;const s=new RegExp(`^${lt(t)}`),o=new RegExp(`${lt(n)}$`),[a=""]=(r=e.match(s))!==null&&r!==void 0?r:[],[c=""]=(i=e.match(o))!==null&&i!==void 0?i:[],l=e.replace(s,"").replace(o,"");return{extractedPrefix:a,extractedPostfix:c,cleanValue:l}}function XC(e,t){let n="";for(let r=0;r<e.length;r++){if(e[r]!==t[r])return n;n+=e[r]}return n}function Fo(e){return e}function mp(e){return e.replaceAll(/[０-９]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function QC(){return({elementState:e,data:t})=>{const{value:n,selection:r}=e;return{elementState:{selection:r,value:mp(n)},data:mp(t)}}}function eP(e){const t=new RegExp(`${lt(e)}$`);return e?({value:n,selection:r},i)=>{if(!n&&!i.value.endsWith(e))return{value:n,selection:r};if(!n.endsWith(e)&&!i.value.endsWith(e))return{selection:r,value:n+e};const s=i.value.replace(t,""),o=i.selection[1]>=s.length,a=XC(s,n);return{selection:r,value:Array.from(e).reverse().reduce((c,l,u)=>{const h=c.length-1-u,d=a[h]===l&&o;return c[h]!==l||d?c.slice(0,h+1)+l+c.slice(h+1):c},n)}}:Fo}function tP(e){return e?({value:t,selection:n},r)=>{if(t.startsWith(e)||!t&&!r.value.startsWith(e))return{value:t,selection:n};const[i,s]=n,o=Array.from(e).reduce((c,l,u)=>c[u]===l?c:c.slice(0,u)+l+c.slice(u),t),a=o.length-t.length;return{selection:[i+a,s+a],value:o}}:Fo}function yd(e,t,n){return(r,i)=>{const s=()=>t(r,i);return r.addEventListener(e,s,n),()=>r.removeEventListener(e,s,n)}}new RegExp(`[${KC.map(lt).join("")}]$`);function nP({prefix:e,postfix:t}){return({elementState:n,data:r})=>{const{cleanValue:i}=en(r,{prefix:e,postfix:t});return{elementState:n,data:i}}}function Lb({decimalSeparator:e,isNegativeAllowed:t,precision:n,thousandSeparator:r,prefix:i,postfix:s,decimalPseudoSeparators:o=[],pseudoMinuses:a=[],minusSign:c}){const l=gp(i),u="\\d",h=t?`[${c}${a.map(g=>`\\${g}`).join("")}]?`:"",d=r?`[${u}${lt(r).replaceAll(/\s/g,"\\s")}]*`:`[${u}]*`,m=n>0?`([${lt(e)}${o.map(lt).join("")}]${u}{0,${Number.isFinite(n)?n:""}})?`:"",b=gp(s);return new RegExp(`^${l}${h}${d}${m}${b}$`)}function gp(e){return e?`${e.split("").map(t=>`${lt(t)}?`).join("")}`:""}function wd(e,t="."){const n=!!e.match(new RegExp(`^\\D*[${Bu}\\${Oa}${Mb}${Db}${Nb}]`)),r=lt(t),i=e.replaceAll(new RegExp(`${r}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${r}]`,"g"),"").replace(t,".");return i?Number((n?Oa:"")+i):NaN}function rP(e){const t=String(e),[n,r]=t.split("e-");let i=t;if(r){const[,s]=n.split("."),o=Number(r)+((s==null?void 0:s.length)||0);i=e.toFixed(o)}return i}function jb(e,{decimalSeparator:t,thousandSeparator:n}){const[r="",i=""]=e.split(t),[,s="",o=""]=r.match(new RegExp(`([^\\d${lt(n)}]+)?(.*)`))||[];return{minus:s,integerPart:o,decimalPart:i}}function iP({decimalSeparator:e,thousandSeparator:t,decimalPseudoSeparators:n=GC}){return n.filter(r=>r!==t&&r!==e)}function sP({decimalSeparator:e,precision:t,decimalZeroPadding:n,prefix:r,postfix:i}){return t<=0||!n?Fo:({value:s,selection:o})=>{const{cleanValue:a,extractedPrefix:c,extractedPostfix:l}=en(s,{prefix:r,postfix:i});if(Number.isNaN(wd(a,e)))return{value:s,selection:o};const[u,h=""]=a.split(e);return{value:c+u+e+h.padEnd(t,"0")+l,selection:o}}}function oP({prefix:e,postfix:t,decimalSeparator:n,thousandSeparator:r}){return({value:i,selection:s})=>{const[o]=s,{cleanValue:a,extractedPrefix:c,extractedPostfix:l}=en(i,{prefix:e,postfix:t}),{minus:u,integerPart:h,decimalPart:d}=jb(a,{decimalSeparator:n,thousandSeparator:r}),m=!h&&!d&&a.includes(n);return!h&&!Number(d)&&o===(u+c).length||m?{selection:s,value:c+u+l}:{value:i,selection:s}}}function aP({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:r,postfix:i,minusSign:s}){let o=!0;const a=Lb({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0,minusSign:s});return({elementState:c,data:l})=>{if(!o)return{elementState:c,data:l};o=!1;const{value:u,selection:h}=c,[d,m]=h,{extractedPrefix:b,cleanValue:g,extractedPostfix:v}=en(u,{prefix:r,postfix:i}),y=gd({selection:[Math.max(d-b.length,0),Ba(m-b.length,0,g.length)],value:g},{mask:a}),[x,E]=y.selection;return{elementState:{selection:[x+b.length,E+b.length],value:b+y.value+v},data:l}}}function cP({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r}){const i=o=>{const a=lt(t);return o.replace(new RegExp(`^(\\D+)?[0${a}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${a}]+(?=[1-9])`),"$1")},s=(o,a)=>{const c=o.slice(0,a),l=o.slice(a).startsWith("0");return c.length-i(c).length+(l?1:0)};return({value:o,selection:a})=>{const[c,l]=a,{cleanValue:u,extractedPrefix:h,extractedPostfix:d}=en(o,{prefix:n,postfix:r}),m=u.includes(e),[b,g=""]=u.split(e),v=i(b);if(b===v)return{value:o,selection:a};const y=c-s(o,c),x=l-s(o,l);return{value:h+v+(m?e:"")+g+d,selection:[Math.max(y,0),Math.max(x,0)]}}}function lP({min:e,max:t,decimalSeparator:n,minusSign:r}){return({value:i,selection:s})=>{const o=wd(i,n),a=o>0?Math.min(o,t):Math.max(o,e);if(o&&a!==o){const c=`${a}`.replace(".",n).replace(Oa,r);return{value:c,selection:[c.length,c.length]}}return{value:i,selection:s}}}function uP({decimalSeparator:e,thousandSeparator:t,decimalZeroPadding:n}){return({elementState:r,data:i},s)=>{const{value:o,selection:a}=r,[c,l]=a,u=o.slice(c,l),h=n?[e,t]:[t],d=n&&c>o.indexOf(e)&&!!u.match(/^0+$/gi);return s!=="deleteBackward"&&s!=="deleteForward"||!h.includes(u)&&!d?{elementState:r,data:i}:{elementState:{value:o,selection:s==="deleteForward"?[l,l]:[c,c]},data:i}}}function hP({decimalSeparator:e,precision:t,prefix:n,postfix:r}){const i=new RegExp(`^\\D*${lt(e)}`);return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l,extractedPrefix:u}=en(a,{prefix:n,postfix:r}),[h,d]=c,m=Ba(h-u.length,0,l.length),b=Ba(d-u.length,0,l.length);if(t<=0||l.slice(0,m).includes(e)||l.slice(b).includes(e)||!o.match(i))return{elementState:s,data:o};const g=l.slice(0,m).match(/\d+/);return{elementState:s,data:g?o:`0${o}`}}}function bp({validCharacter:e,pseudoCharacters:t,prefix:n,postfix:r}){const i=new RegExp(`[${t.join("")}]`,"gi");return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l,extractedPostfix:u,extractedPrefix:h}=en(a,{prefix:n,postfix:r});return{elementState:{selection:c,value:h+l.replace(i,e)+u},data:o.replace(i,e)}}}function dP({decimalSeparator:e,prefix:t,postfix:n}){return({elementState:r,data:i})=>{const{value:s,selection:o}=r,[a,c]=o,{cleanValue:l}=en(s,{prefix:t,postfix:n});return{elementState:r,data:!l.includes(e)||s.slice(a,c+1).includes(e)?i:i.replaceAll(new RegExp(lt(e),"gi"),"")}}}function fP({thousandSeparator:e,decimalSeparator:t,prefix:n,postfix:r}){if(!e)return Fo;const i=(...s)=>s.every(o=>/\s/.test(o));return({value:s,selection:o})=>{const{cleanValue:a,extractedPostfix:c,extractedPrefix:l}=en(s,{prefix:n,postfix:r}),{minus:u,integerPart:h,decimalPart:d}=jb(a,{decimalSeparator:t,thousandSeparator:e}),[m,b]=o;let[g,v]=o;const y=Array.from(h).reduceRight((x,E,$)=>{const A=!(!$&&E===e)&&x.length&&(x.length+1)%4===0;return A&&(E===e||i(E,e))?e+x:E===e&&!A?($&&$<=m&&g--,$&&$<=b&&v--,x):A?($<=m&&g++,$<=b&&v++,E+e+x):E+x},"");return{value:l+u+y+(a.includes(t)?t:"")+d+c,selection:[g,v]}}}function pP({precision:e,decimalSeparator:t,prefix:n,postfix:r}){if(e>0)return Fo;const i=new RegExp(`${lt(t)}.*$`,"g");return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l,extractedPrefix:u,extractedPostfix:h}=en(a,{prefix:n,postfix:r}),[d,m]=c,b=u+l.replace(i,"")+h;return{elementState:{selection:[Math.min(d,b.length),Math.min(m,b.length)],value:b},data:o.replace(i,"")}}}var yp=[0,0];function mP({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r}){const i=cP({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r});return yd("blur",s=>{const o=i({value:s.value,selection:yp},{value:"",selection:yp}).value;md(s,o)},{capture:!0})}function gP({min:e,max:t,decimalSeparator:n}){return yd("blur",(r,i)=>{const s=wd(r.value,n),o=Ba(s,e,t);!Number.isNaN(s)&&s!==o&&md(r,gd(rP(o),i))},{capture:!0})}function bP({decimalSeparator:e,prefix:t,postfix:n}){return yd("blur",r=>{const{cleanValue:i,extractedPostfix:s,extractedPrefix:o}=en(r.value,{prefix:t,postfix:n}),a=o+i.replace(new RegExp(`^(\\D+)?${lt(e)}`),`$10${e}`)+s;md(r,a)},{capture:!0})}function vd({max:e=Number.MAX_SAFE_INTEGER,min:t=Number.MIN_SAFE_INTEGER,precision:n=0,thousandSeparator:r=YC,decimalSeparator:i=".",decimalPseudoSeparators:s,decimalZeroPadding:o=!1,prefix:a="",postfix:c="",minusSign:l=Bu}={}){const u=[Oa,Mb,Db,Nb,Bu].filter(m=>m!==r&&m!==i&&m!==l),h=iP({decimalSeparator:i,thousandSeparator:r,decimalPseudoSeparators:s}),d=a.endsWith(i)&&n>0?`${a}${ZC}`:a;return Object.assign(Object.assign({},pd),{mask:Lb({decimalSeparator:i,precision:n,thousandSeparator:r,prefix:d,postfix:c,isNegativeAllowed:t<0,minusSign:l}),preprocessors:[QC(),aP({decimalSeparator:i,decimalPseudoSeparators:h,pseudoMinuses:u,prefix:d,postfix:c,minusSign:l}),nP({prefix:d,postfix:c}),bp({validCharacter:l,pseudoCharacters:u,prefix:d,postfix:c}),bp({validCharacter:i,pseudoCharacters:h,prefix:d,postfix:c}),hP({decimalSeparator:i,precision:n,prefix:d,postfix:c}),uP({decimalSeparator:i,decimalZeroPadding:o,thousandSeparator:r}),pP({precision:n,decimalSeparator:i,prefix:d,postfix:c}),dP({decimalSeparator:i,prefix:d,postfix:c})],postprocessors:[lP({decimalSeparator:i,min:t,max:e,minusSign:l}),tP(d),eP(c),fP({decimalSeparator:i,thousandSeparator:r,prefix:d,postfix:c}),sP({decimalSeparator:i,decimalZeroPadding:o,precision:n,prefix:d,postfix:c}),oP({prefix:d,postfix:c,decimalSeparator:i,thousandSeparator:r})],plugins:[mP({decimalSeparator:i,thousandSeparator:r,prefix:d,postfix:c}),bP({decimalSeparator:i,prefix:d,postfix:c}),gP({min:t,max:e,decimalSeparator:i})],overwriteMode:o?({value:m,selection:[b]})=>b<=m.indexOf(i)?"shift":"replace":"shift"})}var yP=G`:host{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:right;width:fit-content;color:var(--color-content-content-secondary)}${rt(G`:host{font-size:13px}`)}`,Wr=class extends le{constructor(){super(...arguments),this.balance$=de(()=>{if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return ct([this.context.connectedWalletAddress$,this.context.getTokenByType(this.tokenType),this.context.chainId$,this.context.chainId$.pipe(fe(e=>e?Ro(e):[]),Ye(null))])}).pipe(Xe(([e])=>!!e),fe(([e,t,n])=>!e||!t||!n?[I`<br>`]:de(()=>mt.liveQuery(()=>mt.getTokenBalance(n,t.address,e))).pipe(Xe(Boolean),te(r=>Fr(et(BigInt(r.amount),t.decimals),6)),te(r=>this.getBalanceView(r)),Yu(()=>[I`<br>`]))))}render(){return I`${Pe(this.balance$,I`<br>`)}`}getBalanceView(e){return I`<span>${$e("widgets.swap-form.input.balance.balance")}: ${e}</span>`}};Wr.tagName="inch-swap-balance";Wr.styles=yP;se([K({type:String,attribute:!0})],Wr.prototype,"tokenType",2);se([Dt({context:Ar})],Wr.prototype,"context",2);Wr=se([me(Wr.tagName)],Wr);var wP=G`:host{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:right;color:var(--color-content-content-secondary);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}${rt(G`:host{font-size:13px}`)}`,Gr=class extends le{constructor(){super(...arguments),this.balance$=de(()=>{if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return ct([this.context.connectedWalletAddress$,this.context.getTokenByType(this.tokenType),this.context.chainId$])}).pipe(Xe(([e])=>!!e),fe(([e,t,n])=>!e||!t||!n?[I`<br>`]:ct([mt.liveQuery(()=>mt.getTokenUSDPrice(n,t.address)),this.context.getTokenRawAmountByType(this.tokenType)]).pipe(te(([r,i])=>{if(!i)return I`<br>`;const s=et(BigInt(i),t.decimals),o=Number(s)*Number(r);return this.getBalanceView(rr(o.toString(),1))}),Yu(()=>[I`<br>`]))))}render(){return I`${Pe(this.balance$,I`<br>`)}`}getBalanceView(e){return I`<span>~$${e}</span>`}};Gr.tagName="inch-fiat-balance";Gr.styles=wP;se([K({type:String,attribute:!0})],Gr.prototype,"tokenType",2);se([Dt({context:Ar})],Gr.prototype,"context",2);Gr=se([me(Gr.tagName)],Gr);var vP=G`.input-container{height:128px;border-radius:16px;background-color:var(--color-background-bg-secondary);transition:box-shadow .2s;padding:16px;box-sizing:border-box;display:grid;grid-template-columns:minmax(40%,auto) minmax(auto,70%);justify-content:space-between}.input-container.disabled{background-color:var(--color-background-bg-primary);border:1px solid var(--color-border-border-tertiary)}.flex-container{display:flex;flex-direction:column;justify-content:space-between;height:fit-content}.input-title{font-size:16px;font-weight:500;line-height:24px;letter-spacing:0;text-align:left;color:var(--color-content-content-secondary);width:fit-content}.symbol-container{border:none;background-color:transparent;display:flex;align-items:center;gap:8px;cursor:pointer;color:var(--color-content-content-primary);border-radius:16px;padding:8px;margin-left:-8px;transition:background-color .2s;outline:0;user-select:none;width:fit-content;-webkit-tap-highlight-color:transparent}.symbol{font-size:24px;font-weight:600;line-height:32px;letter-spacing:0;text-align:left;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.token-name{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:left;color:var(--color-content-content-secondary);font-style:normal;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.token-name:dir(rtl){text-align:right}.amount-input{height:48px;padding:0;color:var(--color-content-content-primary);box-sizing:border-box;font-size:24px;font-weight:600;line-height:32px;letter-spacing:0;text-align:right;border:none;background-color:transparent;outline:0;user-select:none;width:100%}.input-rtl{text-align:left}.amount-input[type=number]::-webkit-inner-spin-button,.amount-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.amount-input[type=number]{-moz-appearance:textfield}.amount-input:disabled{opacity:1;color:var(--color-content-content-primary)}.balance-amount-fiat{align-items:flex-end}.focus:not(.disabled){box-shadow:0 0 0 1px var(--color-background-bg-positive-hover)}.balance-and-max{display:flex;gap:8px;align-items:center}.loading{will-change:opacity;animation:stub-loader-animation 2s ease-in-out infinite}.input-rtl{text-align:end}@keyframes stub-loader-animation{0%,100%{opacity:1}50%{opacity:.5}}@media (hover:hover){.input-container:not(.disabled):hover{box-shadow:0 0 0 1px var(--color-background-bg-positive-hover)}.symbol-container:hover{background-color:var(--color-background-bg-positive-hover)}}${rt(G`.amount-input{height:40px}.amount-input,.symbol{font-size:20px}.input-title,.token-name{font-size:13px}.input-container{height:116px}.symbol-container{padding:4px 8px}`)}.symbol-container:active{transform:scale(.98);background-color:var(--color-background-bg-positive-hover)}.select-token-text{word-wrap:break-word;white-space:nowrap}`,Kt=class extends le{constructor(){super(...arguments),this.disabled=!1,this.isFocus=!1,this.connectedAddress=null,this.setMaxInProgress=!1,this.token=null,this.token$=de(()=>this.getTokenEventEmitter()).pipe(Be({bufferSize:1,refCount:!0})),this.chainId$=de(()=>this.getChainEventEmitter()),this.connectedAddress$=de(()=>this.getConnectedWalletAddress()),this.amount$=de(()=>this.getTokenAmountStream()),this.loading$=de(()=>this.getLoadingStream()),this.loaderView$=de(()=>this.loading$.pipe(te(e=>this.tokenType==="source"?I`${this.input}`:e?I`<span class="loader"></span>`:I`${this.input}`),Ye(I`${this.input}`))),this.input=document.createElement("input"),this.maskedInput=this.buildMask(6),this.tokenView$=this.token$.pipe(te(e=>e?this.tokenView(e):this.selectTokenView()))}connectedCallback(){super.connectedCallback(),this.input.classList.add("amount-input"),this.input.inputMode="decimal",this.input.autocomplete="off",this.input.placeholder=this.tokenType==="source"?"0":"",this.input.onfocus=()=>this.onFocus(),this.input.onblur=()=>this.onBlur(),this.input.oninput=r=>this.onInput(r);const e=this.token$.pipe(pe(r=>{r&&(this.maskedInput.destroy(),this.maskedInput=this.buildMask(r.decimals))})),t=this.loading$.pipe(fe(r=>this.tokenType==="source"?st(void 0):r&&!this.input.classList.contains("loading")?(this.input.classList.add("loading"),st(void 0)):!r&&this.input.classList.contains("loading")?mr(this.input.animate([{},{opacity:1}],{duration:2e3}).finished.then(()=>{this.input.classList.remove("loading")})):st(void 0))),n=ct([this.amount$,this.token$]).pipe(te(([r,i])=>!r||!i?"0":et(r,i.decimals)),Xe((r,i)=>i===0&&r==="0"?!1:r!==this.input.value),pe(r=>this.input.value=Fr(r,6)));ut(this,[e,n,t,this.token$.pipe(pe(r=>this.token=r)),this.connectedAddress$.pipe(pe(r=>this.connectedAddress=r))],{requestUpdate:!1}),ut(this,[mm])}disconnectedCallback(){super.disconnectedCallback(),this.maskedInput.destroy()}render(){const e={disabled:this.disabled,focus:this.isFocus};return this.input.disabled=this.tokenType==="destination",this.updateInputRtl(),I`<div class="input-container ${St(e)}"><div class="flex-container symbol-title-name"><div class="input-title">${Ob(this.tokenType,[["source",()=>I`${$e("widgets.swap-form.input.title.you_pay")}`],["destination",()=>I`${$e("widgets.swap-form.input.title.you_receive")}`]])}</div>${Pe(this.tokenView$)}</div><div class="flex-container balance-amount-fiat"><div class="balance-and-max"><inch-swap-balance tokenType="${Cn(this.tokenType)}"></inch-swap-balance>${ce(this.connectedAddress&&this.token&&this.tokenType==="source",()=>I`<inch-button @click="${async()=>{var t;this.setMaxInProgress=!0,await((t=this.context)==null?void 0:t.setMaxAmount()),this.setMaxInProgress=!1}}" type="secondary" size="xs" loader="${Cn(this.setMaxInProgress?"":void 0)}">MAX</inch-button>`)}</div>${this.input}<inch-fiat-balance tokenType="${Cn(this.tokenType)}"></inch-fiat-balance></div></div>`}selectTokenView(){return I`<inch-button disabledSlotPointerEvent type="secondary" size="l" @click="${e=>Oe(this,"openTokenSelector",this.tokenType,e)}"><span class="select-token-text">Select token</span><inch-icon icon="chevronDown16"></inch-icon></inch-button><br>`}onFocus(){this.isFocus=!0,Oe(this,"focusTokenInput",this.tokenType)}onBlur(){this.isFocus=!1,Oe(this,"blurTokenInput",this.tokenType)}tokenView(e){const{name:t,symbol:n,address:r}=e;return I`<button @click="${i=>Oe(this,"openTokenSelector",this.tokenType,i)}" class="symbol-container"><inch-token-icon symbol="${n}" address="${r}" chainId="${Pe(this.chainId$)}"></inch-token-icon><span class="symbol">${n}</span><inch-icon icon="chevronDown16"></inch-icon></button><div class="token-name">${t}</div>`}updateInputRtl(){Mi()&&!this.input.classList.contains("input-rtl")&&this.input.classList.add("input-rtl"),!Mi()&&this.input.classList.contains("input-rtl")&&this.input.classList.remove("input-rtl")}getTokenEventEmitter(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.getTokenByType(this.tokenType)}getTokenAmountStream(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.getTokenAmountByType(this.tokenType)}getLoadingStream(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.loading$}getChainEventEmitter(){if(!this.context)throw new Error("");return this.context.chainId$}getConnectedWalletAddress(){if(!this.context)throw new Error("");return this.context.connectedWalletAddress$}onInput(e){var s;if(!this.tokenType)return;const t=e.target,n=(t==null?void 0:t.value)??"",r=this.token;if(!r)return;const i=ql(n.replaceAll(" ",""),r.decimals);(s=this.context)==null||s.setTokenAmountByType(this.tokenType,i)}buildMask(e){return new bd(this.input,vd({precision:e,max:9*10**15,min:0}))}};Kt.tagName="inch-swap-form-input";Kt.styles=vP;se([K({type:Boolean,attribute:!0,reflect:!0})],Kt.prototype,"disabled",2);se([K({type:String,attribute:!0,reflect:!0})],Kt.prototype,"tokenType",2);se([Le()],Kt.prototype,"isFocus",2);se([Le()],Kt.prototype,"connectedAddress",2);se([Le()],Kt.prototype,"setMaxInProgress",2);se([Dt({context:Ar,subscribe:!0})],Kt.prototype,"context",2);Kt=se([me(Kt.tagName)],Kt);var xP=G`:host{height:4px;position:relative;outline:0;user-select:none;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent}.switcher{position:absolute;border-radius:50%;border:none;background-color:var(--color-background-bg-primary);color:var(--color-content-content-primary);box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12);width:32px;height:32px;display:flex;justify-content:center;align-items:center;top:-13px;cursor:pointer;will-change:transform}.switcher:disabled{cursor:not-allowed;pointer-events:none;color:var(--color-content-content-disabled);box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12)}@media (hover:hover){.switcher:not(:disabled):hover{color:var(--color-content-content-secondary)}}`,ki=class extends le{constructor(){super(...arguments),this.iconRef=On(),this.buttonRef=On(),this.mobileMedia=Vn(),this.isUp=!1,this.isDisabled$=de(()=>{if(!this.context)throw new Error("");return ct([this.context.getTokenByType("source"),this.context.getTokenByType("destination")])}).pipe(te(([e,t])=>!e||!t))}firstUpdated(){if(this.buttonRef.value&&!this.mobileMedia.matches){const e={duration:200,easing:"cubic-bezier(.1, .3, .6, 1)"};ut(this,[Ee(this.buttonRef.value,"mouseenter").pipe(fe(async()=>{!this.iconRef.value||this.isUp||(this.isUp=!0,await this.iconRef.value.animate([{transform:"rotate(0deg)"},{transform:"rotate(180deg)"}],e).finished,ie(this.iconRef.value,{transform:"rotate(180deg)"}))})),Ee(this.buttonRef.value,"mouseleave").pipe(fe(async()=>{!this.iconRef.value||!this.isUp||(this.isUp=!1,await this.iconRef.value.animate([{transform:"rotate(180deg)"},{transform:"rotate(360deg)"}],e).finished,ie(this.iconRef.value,{transform:""}))}))])}}render(){return I`<button ${zt(this.buttonRef)} @click="${()=>this.onClick()}" ?disabled="${Pe(this.isDisabled$,!1)}" class="switcher"><inch-icon ${zt(this.iconRef)} class="switcher-icon" icon="arrowDown24"></inch-icon></button>`}async onClick(){var t;if(!this.iconRef.value||!this.isUp&&!this.mobileMedia.matches)return;(t=this.context)==null||t.switchPair(),Oe(this,"switchPair",null);const e={duration:200,easing:"cubic-bezier(.1, .3, .6, 1)"};this.mobileMedia.matches||(await this.iconRef.value.animate([{transform:"rotate(180deg)"},{transform:"rotate(360deg)"}],e).finished,ie(this.iconRef.value,{transform:""}),this.isUp=!1)}};ki.tagName="inch-token-pair-switch";ki.styles=xP;se([Dt({context:Ar,subscribe:!0})],ki.prototype,"context",2);ki=se([me(ki.tagName)],ki);var _P=G`:host{height:57px}${rt(G`:host{height:44px}`)}.smart-hover{position:relative;overflow:hidden}.off-hover,.on-hover{position:absolute;transition:transform .2s}.on-hover{transform:translateY(-200%)}.rainbow{--button-text-color-ext:#ffffff;--button-text-color-ext-hover:#ffffff;position:relative}.rainbow:after,.rainbow:before{content:'';position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0;background:${vb()};background-size:1000%;animation:bg-rainbow 300s cubic-bezier(.4,0,1,1) infinite;z-index:-1}@keyframes bg-rainbow{0%{border-radius:24px;background-position:0 0}50%{border-radius:24px;background-size:800%;background-position:400% 0}100%{border-radius:24px;background-position:0 0}}@media (hover:hover){.smart-hover:hover .on-hover{transform:translateY(0)}.smart-hover:hover .off-hover{transform:translateY(200%)}}@media (hover:none){.smart-hover .on-hover{transform:translateY(0)}.smart-hover .off-hover{transform:translateY(200%)}}`,EP=[1,9,13,14],Yt=class extends le{constructor(){super(...arguments),this.isRainbowTheme=!1,this.buttonState=ve.get("fusion_swap_button_state",cn)??0,this.chainId=null,this.srcToken=null,this.mobileMedia=bn(this),this.connectedWalletAddress$=de(()=>this.getConnectedWalletAddress()),this.sourceToken$=de(()=>this.getSourceToken()),this.destinationToken$=de(()=>this.getDestinationToken()),this.chainId$=de(()=>this.getChainId()),this.sourceTokenAmount$=de(()=>this.getSourceTokenAmount()),this.rate$=de(()=>this.getRate()),this.block$=this.chainId$.pipe(fe(e=>e?Ro(e):[])),this.updateView$=new ft,this.exceedingMaximumAmount$=ct([this.connectedWalletAddress$,this.sourceToken$,this.sourceTokenAmount$.pipe(Ye(0n)),Dn(this.chainId$,this.block$)]).pipe(fe(([e,t,n])=>!e||!t||n===0n||!this.context?st(!1):this.context.getMaxAmount().then(r=>r===0n?!0:!n||n>r)),Be({bufferSize:1,refCount:!0})),this.calculateStatus$=ct([this.connectedWalletAddress$,this.sourceToken$,this.destinationToken$,this.exceedingMaximumAmount$,this.sourceTokenAmount$.pipe(Ye(0n)),this.chainId$,this.rate$.pipe(Ye(null)),this.block$.pipe(Ye(null)),this.updateView$.pipe(Ye(null))]).pipe(te(e=>{const[t,n,r,i,s,o,a]=e;return this.chainId=o,this.srcToken=n,Zg(o)?t===null?3:n===null?4:r===null?5:!s||s===0n?6:i?7:a===null?8:Un(n.address)?12:0:2}),Je(),Yi(0),Zu(this.chainId$,this.connectedWalletAddress$,this.sourceToken$),fe(async([e,t,n,r])=>{if(e!==0)return e;if(!t||!n||!r)throw new Error("");this.buttonState=9;const i=gs(t),s=await DA(t,r.address,n,i),o=await $t(this.sourceTokenAmount$);return o&&s<o?sd(t)?await t6(t,r.address,n,i)?e:11:10:e}),pe(e=>{this.buttonState=e,ve.set("fusion_swap_button_state",this.buttonState)}))}connectedCallback(){super.connectedCallback(),ut(this,[yb().pipe(te(({brandColor:e})=>e),Je(),pe(e=>this.isRainbowTheme=e===Do.rainbow)),this.calculateStatus$]),this.updateView$.next()}render(){const e=this.mobileMedia.matches?"xl":"xxl";return I`<inch-button class="smart-hover" @click="${t=>this.onClickSwapButton(t)}" type="${this.getButtonType()}" size="${e}" loader="${Cn(this.getLoaderState())}" fullSize>${ce(this.buttonState===2,()=>I`<span class="off-hover">Chain ${this.chainId} not supported</span> <span class="on-hover">Change chain</span><br>`)} ${ce(this.buttonState===0,()=>I`<span>${$e("widgets.swap-form.swap-button.confirm-swap")}</span>`)} ${ce(this.buttonState===1,()=>I`<span>${$e("widgets.swap-form.swap-button.confirm-swap")}</span>`)} ${ce(this.buttonState===9,()=>I`<span>${$e("widgets.swap-form.swap-button.check-allowance")}</span>`)} ${ce(this.buttonState===12,()=>I`<span>${$e("widgets.swap-form.swap-button.native-token-not-supported")}</span>`)} ${ce(this.buttonState===10,()=>I`<span>${$e("widgets.swap-form.swap-button.approve-and-swap")}</span>`)} ${ce(this.buttonState===11,()=>I`<span>${$e("widgets.swap-form.swap-button.permit-and-swap")}</span>`)} ${ce(this.buttonState===3,()=>I`<span>${$e("widgets.swap-form.swap-button.connect-wallet")}</span>`)} ${ce(this.buttonState===4,()=>I`<span>${$e("widgets.swap-form.swap-button.select-source-token")}</span>`)} ${ce(this.buttonState===5,()=>I`<span>${$e("widgets.swap-form.swap-button.select-destination-token")}</span>`)} ${ce(this.buttonState===6,()=>I`<span>${$e("widgets.swap-form.swap-button.enter-amount-to-swap")}</span>`)} ${ce(this.buttonState===8,()=>I`<span>${$e("widgets.swap-form.swap-button.no-liquidity-for-swap")}</span>`)} ${ce(this.buttonState===7,()=>{var t,n;return I`<span class="off-hover">${$e("widgets.swap-form.swap-button.insufficient-balance",{symbol:(t=this.srcToken)==null?void 0:t.symbol})}</span> <span class="on-hover">${$e("widgets.swap-form.swap-button.set-max",{symbol:(n=this.srcToken)==null?void 0:n.symbol})}</span><br>`})} ${ce(this.buttonState===13,()=>I`<span class="off-hover">${$e("widgets.swap-form.swap-button.wait-wallet-response")}</span> <span class="on-hover">${$e("widgets.swap-form.swap-button.permit-swap-in-wallet")}</span><br>`)} ${ce(this.buttonState===14,()=>I`<span class="off-hover">${$e("widgets.swap-form.swap-button.wait-wallet-response")}</span> <span class="on-hover">${$e("widgets.swap-form.swap-button.allow-swap-in-wallet")}</span><br>`)}</inch-button>`}async onClickSwapButton(e){if(!this.context)throw new Error("");const t=this.buttonState;try{if(this.buttonState===2)return Oe(this,"changeChain",null);if(this.buttonState===3)return Oe(this,"connectWallet",null);if(this.buttonState===4)return Oe(this,"openTokenSelector","source",e);if(this.buttonState===5)return Oe(this,"openTokenSelector","destination",e);if(this.buttonState===7)return await this.context.setMaxAmount();if(this.buttonState===10&&(this.buttonState=14,await this.context.getApprove(),this.buttonState=0),this.buttonState===11&&(this.buttonState=13,await this.context.getPermit(),this.buttonState=0),this.buttonState===0){this.buttonState=1;const n=await this.context.getSnapshot();n&&Oe(this,"confirmSwap",n,e),this.buttonState=0,this.updateView$.next()}}catch{this.buttonState=t}}getButtonType(){return this.buttonState===0||this.buttonState===10||this.buttonState===11?"primary":"secondary"}getLoaderState(){if(EP.includes(this.buttonState))return!0}async onSwap(){}getConnectedWalletAddress(){if(!this.context)throw new Error("");return this.context.connectedWalletAddress$}getChainId(){if(!this.context)throw new Error("");return this.context.chainId$}getSourceToken(){if(!this.context)throw new Error("");return this.context.getTokenByType("source")}getDestinationToken(){if(!this.context)throw new Error("");return this.context.getTokenByType("destination")}getSourceTokenAmount(){if(!this.context)throw new Error("");return this.context.getTokenRawAmountByType("source")}getRate(){if(!this.context)throw new Error("");return this.context.rate$}};Yt.tagName="inch-swap-button";Yt.styles=_P;se([Dt({context:Ar,subscribe:!0})],Yt.prototype,"context",2);se([Le()],Yt.prototype,"isRainbowTheme",2);se([Le()],Yt.prototype,"buttonState",2);se([Le()],Yt.prototype,"chainId",2);se([Le()],Yt.prototype,"srcToken",2);se([Mt()],Yt.prototype,"onClickSwapButton",1);Yt=se([me(Yt.tagName)],Yt);var $P=G`:host{display:flex;flex-direction:column}`,SP=G`.slippage-title{display:flex;padding:8px;gap:8px;color:var(--color-content-content-primary);align-items:center;margin-bottom:8px;cursor:pointer;font-size:16px}.back-icon{transform:rotate(90deg)}${rt(G`.slippage-title{font-size:13px}`)}`,Ci=class extends le{constructor(){super(...arguments),this.mobileMedia=bn(this),this.segmentsCustom={label:"Custom",value:"custom",template:()=>I`${this.customSlippageInput}`},this.segments=[{label:"Auto",value:"auto"},{label:"0.1%",value:.1},{label:"0.5%",value:.5},{label:"1%",value:1},this.segmentsCustom],this.postfix="%",this.customSlippageInput=document.createElement("input")}connectedCallback(){var e;super.connectedCallback(),this.buildMask(),(e=this.settings)==null||e.startChangingValue(),this.customSlippageInput.placeholder="Custom %",this.customSlippageInput.inputMode="decimal",this.customSlippageInput.autocomplete="off",ie(this.customSlippageInput,{backgroundColor:"transparent",border:"none",outline:"none",padding:"0",color:"var(--color-content-content-primary)",width:"80px",fontSize:"16px",textAlign:"center"}),ut(this,[Ee(this.customSlippageInput,"input").pipe(pe(()=>{var n;this.customSlippageInput.value.length===1&&(this.customSlippageInput.value="");const t=parseFloat(this.customSlippageInput.value.replace(this.postfix,""));(n=this.settings)==null||n.setValue([t,"custom"])}))],{requestUpdate:!1})}render(){return ie(this.customSlippageInput,{fontSize:this.mobileMedia.matches?"13px":"16px"}),I`<div @click="${()=>this.onBack()}" class="slippage-title"><inch-icon class="back-icon" icon="chevronDown16"></inch-icon><span>${$e("widgets.swap-form.fusion-info.slippage-tolerance")}</span></div><inch-segmented-control .items="${this.segments}" .select="${this.getStartSection()}" @change="${e=>this.onChange(e)}"></inch-segmented-control>`}buildMask(){return new bd(this.customSlippageInput,vd({max:99,min:1,precision:2,postfix:this.postfix}))}onBack(){var t,n,r;const e=((t=this.settings)==null?void 0:t.value)??null;e&&e[1]==="custom"&&(e[0]===null||isNaN(e[0]))&&((n=this.settings)==null||n.resetValue()),(r=this.settings)==null||r.endChangingValue(),Oe(this,"back",null)}onChange({detail:e}){var n,r,i;const t=e.value;if(t==="auto"){(n=this.settings)==null||n.cleanValue();return}if(t==="custom"){const s=parseFloat(this.customSlippageInput.value.replace(this.postfix,""));(r=this.settings)==null||r.setValue([s,"custom"]);return}(i=this.settings)==null||i.setValue([e.value,"preset"])}getStartSection(){if(!this.settings||this.settings.value===null)return this.segments[0];const[e,t]=this.settings.value;if(t==="custom")return isNaN(parseFloat(e))?this.segments[0]:(this.customSlippageInput.value=`${e}%`,this.segmentsCustom);if(t==="preset"){const n=this.segments.find(r=>r.value===e);return n||this.segments[0]}throw new Error("Invalid slippage type")}};Ci.tagName="inch-fusion-swap-info-slippage";Ci.styles=SP;se([K({type:Object})],Ci.prototype,"settings",2);Ci=se([me(Ci.tagName)],Ci);var AP=G`.slippage-title{display:flex;padding:8px;gap:8px;color:var(--color-content-content-primary);align-items:center;margin-bottom:8px;cursor:pointer;font-size:16px}.back-icon{transform:rotate(90deg)}${rt(G`.slippage-title{font-size:13px}`)}`,Pi=class extends le{constructor(){super(...arguments),this.mobileMedia=bn(this),this.segmentsCustom={label:"Custom",value:"custom",template:()=>I`${this.customAuctionTimeInput}`},this.segments=[{label:"Auto",value:"auto"},{label:"3m",value:60*3},{label:"5m",value:60*5},{label:"10m",value:60*10},{label:"30m",value:60*30},this.mobileMedia.matches?null:{label:"1H",value:60*60},this.mobileMedia.matches?null:{label:"2H",value:60*60*2},this.segmentsCustom].filter(Boolean),this.postfix="s",this.customAuctionTimeInput=document.createElement("input")}connectedCallback(){var e;super.connectedCallback(),this.buildMask(),(e=this.settings)==null||e.startChangingValue(),this.customAuctionTimeInput.placeholder="Custom s",this.customAuctionTimeInput.inputMode="decimal",this.customAuctionTimeInput.autocomplete="off",ie(this.customAuctionTimeInput,{backgroundColor:"transparent",border:"none",outline:"none",padding:"0",color:"var(--color-content-content-primary)",width:"80px",fontSize:"16px",textAlign:"center"}),ut(this,[Ee(this.customAuctionTimeInput,"input").pipe(pe(()=>{var n;this.customAuctionTimeInput.value.length===1&&(this.customAuctionTimeInput.value="");const t=this.getValue();(n=this.settings)==null||n.setValue([t,"custom"])}))],{requestUpdate:!1})}render(){return ie(this.customAuctionTimeInput,{fontSize:this.mobileMedia.matches?"13px":"16px"}),I`<div @click="${()=>this.onBack()}" class="slippage-title"><inch-icon class="back-icon" icon="chevronDown16"></inch-icon><span>Auction time</span></div><inch-segmented-control .items="${this.segments}" .select="${this.getStartSection()}" @change="${e=>this.onChange(e)}"></inch-segmented-control>`}buildMask(){return new bd(this.customAuctionTimeInput,vd({max:60*60*30,min:60*3,postfix:this.postfix}))}onBack(){var t,n,r;const e=((t=this.settings)==null?void 0:t.value)??null;e&&e[1]==="custom"&&(e[0]===null||isNaN(e[0]))&&((n=this.settings)==null||n.resetValue()),(r=this.settings)==null||r.endChangingValue(),Oe(this,"back",null)}onChange({detail:e}){var n,r,i;const t=e.value;if(t==="auto"){(n=this.settings)==null||n.cleanValue();return}if(t==="custom"){const s=this.getValue();(r=this.settings)==null||r.setValue([s,"custom"]);return}(i=this.settings)==null||i.setValue([e.value,"preset"])}getStartSection(){if(!this.settings||this.settings.value===null)return this.segments[0];const[e,t]=this.settings.value;if(t==="custom")return isNaN(parseFloat(e))?this.segments[0]:(this.customAuctionTimeInput.value=`${e}s`,this.segmentsCustom);if(t==="preset"){const n=this.segments.find(r=>r.value===e);return n||this.segments[0]}throw new Error("Invalid auction time type")}getValue(){const e=this.customAuctionTimeInput.value.replaceAll(" ","").replace(this.postfix,"");return parseInt(e,10)}};Pi.tagName="inch-fusion-swap-info-auction-time";Pi.styles=AP;se([K({type:Object})],Pi.prototype,"settings",2);Pi=se([me(Pi.tagName)],Pi);var kP=G`:host{--font-size:16px}.container{height:56px;padding:16px;box-sizing:border-box;transition:height .2s,background-color .2s;display:grid;grid-template-columns:1fr auto;align-items:flex-start;justify-content:space-between;border-radius:16px;color:var(--color-content-content-primary);cursor:pointer}.open{height:236px;grid-template-rows:min-content 1fr;grid-row-gap:16px;cursor:auto}.icon{transition:transform .2s;will-change:transform}.open-icon{transform:rotate(180deg)}.fusion-info{display:flex;align-items:center;gap:4px}.fusion-icon{display:flex;align-items:center;gap:4px;color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;transition:opacity .2s,transform .2s;will-change:opacity}.fusion-icon-open{opacity:0;transform:translate3d(20px,0,0)}.fusion-icon-open:dir(rtl){transform:translate3d(-20px,0,0)}.rate-container{width:100%;display:flex;align-content:flex-start}.rate-view{font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px}.rate-view:dir(rtl){direction:ltr}.rate-loader{background-color:var(--color-background-bg-secondary);height:24px;width:50%;border-radius:8px;will-change:filter;transition:background-color .2s;animation:stub-loader-animation 3s ease-in-out infinite}@keyframes stub-loader-animation{0%,100%{filter:opacity(1)}50%{filter:opacity(.5)}}.dst-token-rate-usd-price{color:var(--color-content-content-secondary);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;margin-left:4px}.content-container{display:flex;grid-row-start:2;grid-row-end:3;height:100%;grid-column-start:1;grid-column-end:3;flex-direction:column;visibility:hidden;transform:translate3d(0,-15px,0);transition:transform .2s,opacity .2s}.open .content-container{visibility:visible;transform:translate3d(0,0,0)}.content-row{height:40px;padding:8px 0;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between}.row-slippage{color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:500;line-height:24px;cursor:pointer;transition:color .2s}.row-title{color:var(--color-content-content-secondary);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px}.row-content{display:flex;align-items:center;gap:4px;color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;transition:opacity .2s,transform .2s;will-change:opacity}.min-receive{color:var(--color-content-content-primary)}@media (hover:hover){.container:not(.open):hover{background-color:var(--color-background-bg-secondary)}.container:not(.open):hover .rate-loader{background-color:var(--color-background-bg-positive-hover)}.row-slippage:hover{color:var(--primary-hover)}}${rt(G`:host{--font-size:13px}.container{padding:16px 8px}.open{grid-row-gap:0;height:180px}.content-row{height:30px}`)}`,Kr=class extends le{constructor(){super(...arguments),this.isOpen=!1,this.rate$=de(()=>this.getContext().rate$),this.minReceive$=de(()=>this.getContext().minReceive$),this.chainId$=de(()=>this.getContext().chainId$),this.destinationToken$=de(()=>this.getContext().getTokenByType("destination")),this.slippage$=de(()=>this.getContext().slippage$).pipe(te(e=>I`${e.value===null?"":I`<span>${e.value}% ·</span>`} <span>${ce(e.type==="auto",()=>"Auto")} ${ce(e.type==="custom",()=>"Custom")} ${ce(e.type==="preset",()=>"Manual")}</span>`)),this.auctionTime$=de(()=>this.getContext().auctionTime$).pipe(te(e=>I`${e.value===null?"":I`<span>${Kg(e.value)} ·</span>`} <span>${ce(e.type==="auto",()=>"Auto")} ${ce(e.type==="custom",()=>"Custom")} ${ce(e.type==="preset",()=>"Manual")}</span>`)),this.rateView$=this.rate$.pipe(Yi(0),Je(CP),fe(async e=>{if(e===null)return this.getLoadRateView();const{chainId:t,rate:n,revertedRate:r,sourceToken:i,destinationToken:s}=e,o=await mt.getPriorityToken(t,[i.address,s.address]),a=hn(o,i)?s:i,l=hn(o,i)?r:n,u=rr(et(l,a.decimals),2),h=await mt.getTokenUSDPrice(t,a.address),d=ql(h,a.decimals),m=rr(et(d,a.decimals),2);return I`<span class="rate-view">1 ${rb(a)} = ${u} ${o.symbol} <span class="dst-token-rate-usd-price">~$${m}</span></span>`}),Ye(this.getLoadRateView()),Be({bufferSize:1,refCount:!0})),this.minReceiveView$=this.minReceive$.pipe(Zu(this.destinationToken$,this.chainId$),fe(async([e,t,n])=>{if(!t||!n)return I``;const r=await mt.getTokenUSDPrice(n,t.address),i=ql(r,t.decimals),s=Wt.mul(e,i,t.decimals,t.decimals),o=Lf(et(s,t.decimals),2);return I`<span>~$${o}</span> <span class="min-receive">${Lf(et(e,t.decimals),6)} ${t.symbol}</span>`}))}connectedCallback(){super.connectedCallback(),Oe(this,"changeFusionInfoOpenState",this.isOpen)}disconnectedCallback(){super.disconnectedCallback(),Oe(this,"changeFusionInfoOpenState",!1)}render(){const e={container:!0,open:this.isOpen},t={icon:!0,"open-icon":this.isOpen},n={"fusion-icon":!0,"fusion-icon-open":this.isOpen};return I`<div class="${St(e)}" @click="${()=>{this.isOpen||(this.isOpen=!0,Oe(this,"changeFusionInfoOpenState",this.isOpen))}}"><div class="rate-container">${Pe(this.rateView$)}</div><div class="fusion-info"><div class="${St(n)}"><inch-icon icon="fusion16"></inch-icon><span>Free</span></div><inch-button @click="${r=>this.onChangeOpen(r)}" size="l" type="tertiary"><inch-icon class="${St(t)}" icon="chevronDown16"></inch-icon></inch-button></div><div class="content-container"><div class="content-row"><span class="row-title">${$e("widgets.swap-form.fusion-info.slippage-tolerance")}</span><div @click="${()=>Oe(this,"openSlippageSettings",null)}" class="row-content row-slippage">${Pe(this.slippage$)}</div></div><div class="content-row"><span class="row-title">${$e("widgets.swap-form.fusion-info.auction-time")}</span><div @click="${()=>Oe(this,"openAuctionTimeSettings",null)}" class="row-content row-slippage">${Pe(this.auctionTime$)}</div></div><div class="content-row"><span class="row-title">${$e("widgets.swap-form.fusion-info.min-receive")}</span><div class="row-content">${Pe(this.minReceiveView$)}</div></div><div class="content-row"><span class="row-title">${$e("widgets.swap-form.fusion-info.net-fee")}</span><div class="row-content"><inch-icon icon="fusion16"></inch-icon><span>Free</span></div></div></div></div>`}getLoadRateView(){return I`<div class="rate-loader"></div>`}onChangeOpen(e){e.preventDefault(),e.stopPropagation(),this.isOpen=!this.isOpen,Oe(this,"changeFusionInfoOpenState",this.isOpen)}getContext(){if(!this.context)throw new Error("");return this.context}};Kr.tagName="inch-fusion-swap-info-main";Kr.styles=kP;se([K({type:Boolean})],Kr.prototype,"isOpen",2);se([Dt({context:Ar,subscribe:!0})],Kr.prototype,"context",2);Kr=se([me(Kr.tagName)],Kr);function CP(e,t){return e===null||t===null?!1:R6(e,t)}var Ii=class extends le{constructor(){super(...arguments),this.isOpenFusionInfo=!1,this.scene=new bc("main",{main:{lazyRender:!0,minHeight:178},slippage:{minHeight:79.5},auctionTime:{minHeight:79.5}},AC())}render(){return this.scene.render({main:()=>I`<inch-fusion-swap-info-main .isOpen="${this.isOpenFusionInfo}" @openSlippageSettings="${()=>this.scene.nextTo("slippage")}" @openAuctionTimeSettings="${()=>this.scene.nextTo("auctionTime")}"></inch-fusion-swap-info-main>`,slippage:()=>{var e;return I`<inch-fusion-swap-info-slippage .settings="${(e=this.context)==null?void 0:e.getSettingsController("slippage")}" @back="${()=>{this.isOpenFusionInfo=!0,this.scene.back()}}"></inch-fusion-swap-info-slippage>`},auctionTime:()=>{var e;return I`<inch-fusion-swap-info-auction-time .settings="${(e=this.context)==null?void 0:e.getSettingsController("auctionTime")}" @back="${()=>{this.isOpenFusionInfo=!0,this.scene.back()}}"></inch-fusion-swap-info-auction-time>`}})}};Ii.tagName="inch-fusion-swap-info";Ii.styles=[$P,bc.styles()];se([Dt({context:Ar})],Ii.prototype,"context",2);Ii=se([me(Ii.tagName)],Ii);var kt=class extends le{constructor(){super(...arguments),this.srcToken=null,this.dstToken=null,this.context=new pc(this,{context:Ar}),this.fusionView$=ct([de(()=>this.getWalletController().data.activeAddress$),de(()=>this.getContext().getTokenByType("source")),de(()=>this.getContext().getTokenByType("destination"))]).pipe(te(([e,t,n])=>!e||!t||!n),Ye(kt.lastFusionRenderIsEmptyState),Je(),pe(e=>{kt.lastFusionRenderIsEmptyState=e}))}connectedCallback(){super.connectedCallback(),ut(this,[this.fusionView$])}disconnectedCallback(){var e;super.disconnectedCallback(),!this.swapContext&&((e=this.context.value)==null||e.destroy())}updated(e){const t=this.getContext();(e.has("srcToken")||e.has("dstToken"))&&(t.setPair({srcToken:this.srcToken,dstToken:this.dstToken}),this.requestUpdate())}render(){return this.context.value||this.getContext(),I`<div class="swap-form-container"><inch-card-header headerText="${$e("widgets.swap-form.header.swap")}" headerTextPosition="left"></inch-card-header><div class="input-container"><inch-swap-form-input tokenType="source"></inch-swap-form-input><inch-token-pair-switch></inch-token-pair-switch><inch-swap-form-input disabled="disabled" tokenType="destination"></inch-swap-form-input></div>${ce(!kt.lastFusionRenderIsEmptyState,()=>I`<inch-fusion-swap-info></inch-fusion-swap-info>`)}<inch-swap-button></inch-swap-button></div>`}getFusionInfoView(e){return e?I``:I`<inch-fusion-swap-info></inch-fusion-swap-info>`}getWalletController(){if(!this.walletController)throw new Error("");return this.walletController}getContext(){if(!this.context.value){if(this.swapContext)return this.context.setValue(this.swapContext),this.swapContext;const e=new ob(this.getWalletController());e.setPair({srcToken:this.srcToken,dstToken:this.dstToken}),this.context.setValue(e)}return this.context.value}};kt.tagName="inch-swap-form";kt.styles=BC;kt.lastFusionRenderIsEmptyState=!0;se([K({type:Object,attribute:!1})],kt.prototype,"srcToken",2);se([K({type:Object,attribute:!1})],kt.prototype,"dstToken",2);se([K({type:Object,attribute:!1})],kt.prototype,"walletController",2);se([K({type:Object,attribute:!1})],kt.prototype,"swapContext",2);kt=se([me(kt.tagName)],kt);var PP=G`:host{--font-size:16px}.confirm-swap-view{display:flex;flex-direction:column;gap:8px}.token-view-container{background-color:var(--color-background-bg-secondary);border-radius:16px;padding:16px}.token-view{display:flex;flex-direction:column;gap:8px}.token-view-row{display:flex;justify-content:space-between;align-items:center}.token-view-top{color:var(--color-content-content-secondary);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px}.primary-text{color:var(--color-content-content-primary);font-size:24px;font-style:normal;font-weight:600;line-height:32px}.symbol-view{display:flex;align-items:center;gap:8px}.separator{position:relative;color:var(--color-content-content-primary)}.separator-arrow-container{border-radius:50%;background-color:var(--color-background-bg-primary);width:32px;height:32px;margin-left:auto;margin-right:auto;position:relative;display:flex;justify-content:center;align-items:center;z-index:2}.separator-arrow-container-loader:before{content:"";position:absolute;width:100%;height:100%;border:1px solid transparent;border-radius:50%;border-bottom-color:var(--primary);border-top-color:var(--primary);animation:spin 2s linear infinite}.detail-info{padding:8px 0}.detail-info-row{padding:8px 16px;display:flex;justify-content:space-between}.detail-info-row-title{color:var(--color-content-content-secondary);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px}.detail-info-raw-value{color:var(--color-content-content-primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:500;line-height:24px;transition:color .2s;display:flex;gap:8px;align-items:center}.detail-info-raw-settings-value{color:var(--primary)}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.separator-view{position:absolute;background-color:var(--color-background-bg-primary);height:2px;width:100%;border-radius:2px;top:50%;z-index:1}${rt(G`:host{--font-size:13px}.primary-text{font-size:20px}.detail-info-row{padding:4px 8px}.token-view{gap:4px}.separator-arrow-container{width:28px;height:28px}.token-view-container{padding:8px 16px}`)}`,Mn=class extends le{constructor(){super(...arguments),this.state=null,this.swapInProgress=!1,this.fiatAmountMap=new Map,this.mobileMedia=bn(this)}get needWrap(){return Un(this.swapSnapshot.sourceToken.address)}render(){const e=this.mobileMedia.matches?"xl":"xxl";return I`<div class="confirm-swap-view"><inch-card-header backButton headerTextPosition="center" headerText="Confirm swap" headerTextPosition="left"></inch-card-header>${this.getTokenViewContainer()} ${this.getDetailInfo()}<inch-button loader="${Cn(this.swapInProgress?"":void 0)}" @click="${()=>this.onSwap()}" fullSize size="${e}" type="${this.swapInProgress?"secondary":"primary"}">${ce(this.swapInProgress,()=>I`<span>Confirm swap in wallet</span>`,()=>I`<span>Swap</span>`)}</inch-button></div>`}async onSwap(){var e;if(!this.swapInProgress){try{this.swapInProgress=!0,await((e=this.swapContext)==null?void 0:e.fusionSwap(this.swapSnapshot)),Oe(this,"backCard",null)}catch{}this.swapInProgress=!1}}getTokenViewContainer(){return I`<div class="token-view-container">${this.getTokenView(this.swapSnapshot.sourceToken,this.swapSnapshot.sourceTokenAmount,"source")} ${this.getSeparatorView(this.needWrap?"wrap":"swap")} ${this.getTokenWrapView()} ${this.getTokenView(this.swapSnapshot.destinationToken,this.swapSnapshot.destinationTokenAmount,"destination")}</div>`}getDetailInfo(){return I`<div class="detail-info">${this.getDetailInfoRow("Price",I`${gl(this.getRateView())}`)} ${this.getDetailInfoRow("Slippage tolerance",this.getSlippageView())} ${this.getDetailInfoRow("Auction time",this.getAuctionTimeView())} ${this.getDetailInfoRow("Minimum receive",this.getMinReceive())} ${this.getDetailInfoRow("Network Fee",I`<div class="detail-info-raw-value detail-info-raw-settings-value"><inch-icon icon="fusion16"></inch-icon><span>Free</span></div>`)}</div>`}async getRateView(){const{chainId:e,rate:t,revertedRate:n,sourceToken:r,destinationToken:i}=this.swapSnapshot.rate,s=await mt.getPriorityToken(e,[r.address,i.address]),o=hn(s,r)?i:r,c=hn(s,r)?n:t,l=rr(et(c,o.decimals),2);return I`<div class="detail-info-raw-value"><span class="rate-view">1 ${rb(o)} = ${l} ${s.symbol}</span></div>`}getSlippageView(){const e=this.swapSnapshot.slippage;return I`<div class="detail-info-raw-value detail-info-raw-settings-value">${e.value===null?"":I`<span>${e.value}% ·</span>`} <span>${ce(e.type==="auto",()=>"Auto")} ${ce(e.type==="custom",()=>"Custom")} ${ce(e.type==="preset",()=>"Manual")}</span></div>`}getAuctionTimeView(){const e=this.swapSnapshot.auctionTime;return I`<div class="detail-info-raw-value detail-info-raw-settings-value">${e.value===null?"":I`<span>${Kg(e.value)} ·</span>`} <span>${ce(e.type==="auto",()=>"Auto")} ${ce(e.type==="custom",()=>"Custom")} ${ce(e.type==="preset",()=>"Manual")}</span></div>`}getMinReceive(){const e=et(this.swapSnapshot.minReceive,this.swapSnapshot.destinationToken.decimals);return I`<div class="detail-info-raw-value">${rr(e,6)} ${this.swapSnapshot.destinationToken.symbol}</div>`}getDetailInfoRow(e,t){return I`<div class="detail-info-row"><span class="detail-info-row-title">${e}</span> <span>${t}</span></div>`}getTokenView(e,t,n){const r=et(t,e.decimals);return I`<div class="token-view"><div class="token-view-row token-view-top"><span>${Ob(n,[["source",()=>I`You pay`],["wrap",()=>I`You wrap`],["destination",()=>I`You receive`]])} </span><span>${Pe(this.getFiatAmountStream(e,t))}</span></div><div class="token-view-row"><div class="symbol-view"><inch-token-icon chainId="${this.swapSnapshot.chainId}" symbol="${e.symbol}" address="${e.address}"></inch-token-icon><span class="primary-text">${e.symbol}</span></div><span class="primary-text">${rr(r,6)}</span></div></div>`}getTokenWrapView(){return this.needWrap?I`${this.getTokenView(uo(this.swapSnapshot.chainId),this.swapSnapshot.sourceTokenAmount,"wrap")} ${this.getSeparatorView("swap")}`:I``}getSeparatorView(e){return I`<div class="separator"><div class="separator-view"></div><div class="separator-arrow-container ${this.state===e&&this.needWrap?"separator-arrow-container-loader":""}"><inch-icon icon="arrowDown24"></inch-icon></div></div>`}getFiatAmountStream(e,t){if(this.fiatAmountMap.has(e.address))return this.fiatAmountMap.get(e.address);const n=Ro(this.swapSnapshot.chainId).pipe(fe(async()=>{const r=await mt.getTokenUSDPrice(this.swapSnapshot.chainId,e.address),i=et(t,e.decimals),s=Number(i)*Number(r);return`~$${rr(s.toString(),2)}`}),Be({bufferSize:1,refCount:!0}));return this.fiatAmountMap.set(e.address,n),n}};Mn.tagName="inch-confirm-swap";Mn.styles=PP;se([K({type:Object})],Mn.prototype,"swapSnapshot",2);se([K({type:Object,attribute:!1})],Mn.prototype,"swapContext",2);se([Le()],Mn.prototype,"state",2);se([Le()],Mn.prototype,"swapInProgress",2);Mn=se([me(Mn.tagName)],Mn);const IP=G`:host{display:flex;padding-top:48px;justify-content:center;position:relative;z-index:1}:host(.padding-top-transition){transition:padding-top .2s}.unicorn-loader{position:absolute;z-index:1;top:50px;transform:scale(0);will-change:transform;height:auto;transition:top .2s}.shadow-container{will-change:box-shadow,transform;transform:translate3d(0,0,0);box-shadow:0 5px 24px var(--primary-50);border-radius:24px;position:relative;z-index:2}.shadow-container-rainbow{box-shadow:none;position:relative}.shadow-container-rainbow:after,.shadow-container-rainbow:before{content:'';position:absolute;width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;border-radius:24px;background:${vb()};background-size:2000%;animation:bg-rainbow 90s cubic-bezier(.4,0,1,1) infinite;z-index:-1;will-change:background,width,height,left,top,background-position}.shadow-container-rainbow:after{filter:blur(30px)}@keyframes bg-rainbow{0%{width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;background-position:0 0}50%{width:100%;height:100%;left:0;top:0;background-size:800%;background-position:400% 0}100%{width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;background-position:0 0}}${rt(G`:host{padding-top:24px}:host(.is-enlarged-form){padding-top:0}:host(.is-enlarged-form) .unicorn-loader{top:20px}`)}`;var TP=Object.defineProperty,BP=Object.getOwnPropertyDescriptor,Lo=(e,t,n,r)=>{for(var i=r>1?void 0:r?BP(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&TP(t,n,i),i};H(()=>Promise.resolve().then(()=>Zk),void 0);H(()=>import("./index.esm-CXTziBSJ.js"),__vite__mapDeps([]));H(()=>Promise.resolve().then(()=>Vw),void 0);let pr=class extends le{constructor(){super(...arguments),this.mobileMedia=bn(this),this.targetSelectToken=null,this.srcToken=null,this.dstToken=null,this.isRainbowTheme=!1,this.swapSnapshot=null,this.swapController=new ob(Et),this.chainId$=Et.data.chainId$,this.activeAddress$=Et.data.activeAddress$,this.swapFormRef=On(),this.swapFormContainerRef=On(),this.unicornLoaderRef=On(),this.desktopScene=new bc("swapForm",{swapForm:{minWidth:556,maxWidth:556,maxHeight:625,lazyRender:!0},selectToken:{minWidth:556,maxWidth:556,maxHeight:680},confirmSwap:{minWidth:556,maxWidth:556,maxHeight:680}}),this.mobileOverlay=new Bb("app-root"),this.overlay=new hd("app-root","center")}async connectedCallback(){await this.initTokens(),super.connectedCallback(),ut(this,[this.chainId$.pipe(Xe(Boolean),Je(),sm(1),pe(e=>this.syncTokens(e))),yb().pipe(te(({brandColor:e})=>e),Je(),pe(e=>this.isRainbowTheme=e===Do.rainbow)),this.mobileUpdate()],{requestUpdate:!1})}disconnectedCallback(){super.disconnectedCallback(),this.swapController.destroy()}firstUpdated(){setTimeout(()=>this.classList.add("padding-top-transition"),100)}render(){return this.mobileMedia.matches?this.getMobileSwapForm():this.getDesktopSwapForm()}async syncTokens(e){const t=await mt.getNativeToken(e);this.setSrcToken(t),this.setDstToken(null),this.requestUpdate()}async initTokens(){if(!await Et.data.getChainId())return;const t=ve.get("src-token-symbol",JSON.parse),n=ve.get("dst-token-symbol",JSON.parse);t&&this.setSrcToken(t),n&&this.setDstToken(n)}getMobileSwapForm(){const e={"shadow-container":!0,"shadow-container-rainbow":this.isRainbowTheme};return I`<inch-icon ${zt(this.unicornLoaderRef)} class="unicorn-loader" icon="unicornRun"></inch-icon><div ${zt(this.swapFormContainerRef)} class="${St(e)}"><inch-card style="max-width:100vw"><inch-swap-form .srcToken="${this.srcToken}" .dstToken="${this.dstToken}" .swapContext="${this.swapController}" .walletController="${Et}" @switchPair="${()=>this.onSwitchPair()}" @confirmSwap="${t=>this.onOpenMobileConfirmSwap(t)}" @changeFusionInfoOpenState="${t=>this.onChangeFusionInfoOpenState(t)}" @openTokenSelector="${t=>this.onOpenMobileSelectToken(t)}" @changeChain="${()=>this.onOpenChangeChainView()}" @connectWallet="${()=>this.onOpenConnectWalletView()}"></inch-swap-form></inch-card></div>`}getDesktopSwapForm(){const e={"shadow-container":!0,"shadow-container-rainbow":this.isRainbowTheme};return I`<inch-icon ${zt(this.unicornLoaderRef)} class="unicorn-loader" icon="unicornRun"></inch-icon><div ${zt(this.swapFormContainerRef)} class="${St(e)}"><inch-card>${this.desktopScene.render({swapForm:()=>I`<inch-swap-form ${zt(this.swapFormRef)} .srcToken="${hp(this,()=>this.srcToken)}" .dstToken="${hp(this,()=>this.dstToken)}" .swapContext="${this.swapController}" .walletController="${Et}" @confirmSwap="${t=>this.onOpenConfirmSwap(t)}" @switchPair="${()=>this.onSwitchPair()}" @changeChain="${()=>this.onOpenChangeChainView()}" @openTokenSelector="${t=>this.onOpenSelectToken(t)}" @connectWallet="${()=>this.onOpenConnectWalletView()}"></inch-swap-form>`,selectToken:()=>I`<inch-select-token chainId="${Pe(this.chainId$)}" connectedWalletAddress="${Pe(this.activeAddress$)}" @backCard="${()=>this.desktopScene.back()}" @selectToken="${async t=>{this.onSelectToken(t),await this.desktopScene.back()}}"></inch-select-token>`,confirmSwap:()=>ce(this.swapSnapshot,t=>I`<inch-confirm-swap .swapSnapshot="${t}" .swapContext="${this.swapController}" @backCard="${async()=>{await this.desktopScene.back(),this.swapSnapshot=null}}"></inch-confirm-swap>`)})}</inch-card></div>`}async onOpenSelectToken(e){await this.desktopScene.nextTo("selectToken"),this.targetSelectToken=e.detail.value}onOpenConfirmSwap(e){this.swapSnapshot=e.detail.value,this.desktopScene.nextTo("confirmSwap")}onSwitchPair(){const e=this.srcToken;this.setSrcToken(this.dstToken),this.setDstToken(e)}onChangeFusionInfoOpenState(e){e.detail.value&&!this.classList.contains("is-enlarged-form")&&this.classList.add("is-enlarged-form"),!e.detail.value&&this.classList.contains("is-enlarged-form")&&this.classList.remove("is-enlarged-form")}onSelectToken(e){const t=e.detail.value;if(this.targetSelectToken==="source"&&(this.dstToken&&hn(t,this.dstToken)&&this.setDstToken(this.srcToken),this.setSrcToken(t)),this.targetSelectToken==="destination"){if(!this.dstToken&&this.srcToken&&hn(t,this.srcToken))return;this.srcToken&&hn(t,this.srcToken)&&this.setSrcToken(this.dstToken),this.setDstToken(t)}}setSrcToken(e){this.srcToken=e,ve.set("src-token-symbol",e)}setDstToken(e){this.dstToken=e,ve.set("dst-token-symbol",e)}async onOpenConnectWalletView(){const e=await this.overlay.open(I`<inch-wallet-manage showShadow @closeCard="${()=>this.overlay.close(e)}" .controller="${Et}"></inch-wallet-manage>`)}async onOpenChangeChainView(){const e=await this.overlay.open(I`<inch-chain-selector-list showShadow @closeCard="${()=>this.overlay.close(e)}" .controller="${Et}"></inch-chain-selector-list>`)}async onOpenMobileSelectToken(e){const t=await this.mobileOverlay.open(I`<inch-card forMobileView style="width:100%;height:100%;display:flex"><inch-select-token chainId="${Pe(this.chainId$)}" connectedWalletAddress="${Pe(this.activeAddress$)}" @backCard="${()=>this.mobileOverlay.close(t)}" @selectToken="${async n=>{this.onSelectToken(n),await this.mobileOverlay.close(t)}}"></inch-select-token></inch-card>`);this.targetSelectToken=e.detail.value}async onOpenMobileConfirmSwap(e){const t=e.detail.value,n=await this.mobileOverlay.open(I`<inch-card forMobileView style="width:100%;height:100%;display:flex"><inch-confirm-swap .swapSnapshot="${t}" .swapContext="${this.swapController}" @backCard="${async()=>{await this.mobileOverlay.close(n),this.swapSnapshot=null}}"></inch-confirm-swap></inch-card>`)}mobileUpdate(){let e=0,t=!1,n=!1;const r=new zb,i=60,s=5e5,o=3,a=4,c=()=>document.querySelector("#app-root"),l=()=>this.swapFormContainerRef.value,u=()=>this.unicornLoaderRef.value,h=m=>{if(m<0)return;let b;m>i?(t||(lm(50),r.play().then()),t=!0,m<=i+o?b=i+(m-i)/s:b=i+o/s+(m-i-o)/a):(t=!1,b=m);const g=(m>i?i:m)/i;ie(u(),{transform:`scale(${g})`}),ie(l(),{transform:`translate3d(0, ${b}px, 0)`}),e=b},d=async()=>{n=!0;let m=e;m>i&&r.isPlaying&&(await l().animate([{transform:`translate3d(0, ${m}px, 0)`},{transform:`translate3d(0, ${i}px, 0)`}],{duration:200,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,m=i,ie(l(),{transform:`translate3d(0, ${m}px, 0)`}),await r.onEnded()),await l().animate([{transform:`translate3d(0, ${m}px, 0)`},{transform:"translate3d(0, 0, 0)"}],{duration:800,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,h(0),ie(l(),{transform:""}),t=!1,n=!1};return de(()=>{const m=l();return Ee(m,"touchstart").pipe(Xe(()=>{var b;return!n&&(((b=c())==null?void 0:b.scrollTop)??0)===0}),fe(b=>{r.load();const g=b.touches[0].clientY;return Ee(m,"touchmove").pipe(te(v=>v.touches[0].clientY-g),pe(v=>h(v)),Fa(Ee(m,"touchend").pipe(pe(()=>d()))))}))}).pipe(Na(Dy))}};pr.tagName="inch-swap-form-container";pr.styles=[IP,bc.styles()];Lo([Le()],pr.prototype,"srcToken",2);Lo([Le()],pr.prototype,"dstToken",2);Lo([Le()],pr.prototype,"isRainbowTheme",2);pr=Lo([me(pr.tagName)],pr);class zb{get isPlaying(){return!this.audio.paused}constructor(){this.audio=new Audio("audio/unicorn-run.mp3"),this.audio.preload="none",this.audio.volume=.4}load(){this.audio.load()}async play(){try{await this.audio.play()}catch(t){console.error("AudionController Error",t)}}onEnded(){return $t(Ee(this.audio,"ended"))}}Lo([Mt()],zb.prototype,"play",1);var OP=Object.defineProperty,RP=Object.getOwnPropertyDescriptor,MP=(e,t,n,r)=>{for(var i=r>1?void 0:r?RP(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&OP(t,n,i),i};let Ou=class extends le{render(){return I`<inch-header></inch-header><div id="outlet" class="content"><inch-swap-form-container></inch-swap-form-container></div><inch-footer></inch-footer>`}};Ou.styles=[Mw,mc];Ou=MP([me("app-root")],Ou);Promise.all([Tw(),Ak(fb.systemSync,Do.community),H(()=>Promise.resolve().then(()=>Qk),void 0).then(e=>e.connectWalletController.init())]).then(()=>{const e=document.createElement("app-root");e.id="app-root",document.body.appendChild(e)});H(()=>import("./virtual_pwa-register-DGH2kc9S.js"),__vite__mapDeps([])).then(({registerSW:e})=>{e({onRegisteredSW:(t,n)=>n.update(),onNeedRefresh:()=>console.log("update ready"),onOfflineReady:()=>console.log("offline ready")})});export{XP as $,et as A,Ri as B,Dn as C,Rs as D,Fr as E,Xe as F,de as G,Be as H,Zg as I,qi as J,S as K,Pe as L,Cn as M,te as N,Oe as O,mn as P,KP as Q,zp as R,ft as S,mt as T,FP as U,JP as V,j as W,z as X,U as Y,V as Z,H as _,Le as a,Zi as a0,ZP as a1,QP as a2,ov as a3,t2 as a4,ve as a5,Ee as a6,Bn as a7,nr as a8,M as a9,Va as aa,We as ab,gx as ac,nc as ad,Fn as ae,si as af,xs as ag,fn as ah,za as ai,rt as b,Dt as c,pc as d,St as e,ut as f,c2 as g,pe as h,G as i,i2 as j,Ku as k,ct as l,l2 as m,K as n,Yi as o,Ye as p,Je as q,a2 as r,le as s,me as t,fe as u,ce as v,st as w,I as x,$C as y,ja as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-CbPEiJbB.js.map
