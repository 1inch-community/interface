const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/circle_16.svg-ZXVELFJT-BpYBdqah.js","assets/index-sLWOp1cP.js","assets/cross_8.svg-UQSEH4S4-WETUd5At.js","assets/start-default_16.svg-CD2J7L7X-Do2e7OYK.js","assets/connect_16.svg-NSXNVWXM-BWD7ucmz.js","assets/corner-down-right_16.svg-YYSNWS3X-DT_ZJVq1.js","assets/chevron-down_16.svg-BND54YF5-SqDzClM0.js","assets/arrow-down_16.svg-IK237GS3-CHje2l9z.js","assets/fusion_16.svg-DS2KKM4D-BwJqYvUw.js","assets/link_16.svg-ILSOSF3Q-DpRgfeY1.js","assets/plus-circle_16.svg-LAFJERR4-B-HBN-dV.js","assets/circle_24.svg-NZRHXSXM-DXbHip6-.js","assets/arrow-down_24.svg-QVWWMIAG-DhxZchjY.js","assets/arrow-left_24.svg-SRUSUV6K-CTgRthni.js","assets/cross_24.svg-Y6TXDXMZ-F8eJEdiK.js","assets/search_24.svg-7BVVC7QD-BGL8e4g7.js","assets/edit_24.svg-LIXQVG7G-O1kwH1Jo.js","assets/connect_24.svg-B72L67KC-ZxfgmLu8.js","assets/link_24.svg-ME7P2JZJ-BLGWlrYr.js","assets/bell_24.svg-TDYDRRA3-CQYMIRa_.js","assets/alert_24.svg-ASSJ27DL-D0cH_20i.js","assets/l2-chain_24.svg-BVBNWDAX-BYNSzTyg.js","assets/l2-chain-rtl_24.svg-7UVTOITU-BL7IQB8w.js","assets/settings_24.svg-LB2NPHFL-JRrEkST4.js","assets/fusion_24.svg-DJY4GZBN-HB4lm1VP.js","assets/globe_24.svg-3EBQMDCF-CcAF9xMm.js","assets/image_24.svg-LMEQRSRL-CpRapJLr.js","assets/sun_24.svg-J2JEBXWO-C6tp-NVI.js","assets/moon_24.svg-UFSZTNKT-BlFcBbRD.js","assets/command_24.svg-6ZPVIHIB-f1IxtPaE.js","assets/wallet_24.svg-NRI5NRWL-5W6zqn28.js","assets/auth-refresh_36.svg-TLQZRG73-S7rnNO7M.js","assets/logo-full.svg-GX4A5T7B-7gyg_SHz.js","assets/unicorn_run.svg-FIWXVX57-D9Pml_2-.js","assets/fire_48.png-H24EZB6E-BnZdDoNO.js","assets/empty_search.svg-HTH3MFNW-DmekKYZR.js","assets/eth_24.svg-QSL6GA7V-YhzaDown.js","assets/bnb_24.svg-GK3J7TR7-Dlzhkcs3.js","assets/op_24.svg-C7QI3DAY-DfocRZpI.js","assets/matic_24.svg-MR2PZC5O-BgqrmqHE.js","assets/arbitrum_24.svg-EOHJT7SH-DIdvnszG.js","assets/gnosis_24.svg-OA645ZO3-Bxu-PCOA.js","assets/avalanche_24.svg-RACIZF5H-DlqJQbLD.js","assets/fantom_24.svg-HII4JJB6-C-94LRlo.js","assets/aurora_24.svg-W4HBGYPD-DHEWAzML.js","assets/klaytn_24.svg-3HGJORYN-BdjdrxJb.js","assets/zksyncera_24.svg-6GCDLJI2-CGa_etIH.js","assets/base_24.svg-TRYUGEDS-8n0g6_yk.js"])))=>i.map(i=>d[i]);
import{b as de,u as pe,f as Ht,w as ht,i as w,t as A,s as z,x as d,_ as c,T as _t,a as fe,j as ut,A as Ct}from"./index-sLWOp1cP.js";import{scrollbarStyle as Bt,getScrollbarStyle as Et,setBrowserMetaColorFilter as Vt,getCssValue as $t,interpolateColorRange as me,applyColorBrightness as ge}from"./index.esm-B4YiEjKM.js";import{n as it,p as St,q as dt,v as be,u as jt,w as ve,x as B,y as et,z as gt,A as _e,m as Ft,b as h,a as N,r as j,e as ye,B as Ot,j as Tt,C as At,g as qt,i as zt,d as It,D as Ut,o as we}from"./index.esm-CGEC4wRC.js";import{_ as ot,f as m,m as k,h as xe,C as O,d as yt,S as Yt,s as rt,O as Ce}from"./index.esm-DfotAdpM.js";import{m as G,o as Ee,s as x,d as pt,a as Rt,t as Se,b as Oe}from"./index.esm-OfUlTTgs.js";import{t as E}from"./tap-CWNNm5Pt.js";import{f as P,t as ft}from"./takeUntil-CSuw8jL4.js";import{g as Re}from"./index.esm-5Aerb1sL.js";function Di(t){return t}class Pt{constructor(e,i,o,r){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(n,s)=>{this.unsubscribe&&(this.unsubscribe!==s&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=n,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(n,s)),this.unsubscribe=s},this.host=e,i.context!==void 0){const n=i;this.context=n.context,this.callback=n.callback,this.subscribe=n.subscribe??!1}else this.context=i,this.callback=o,this.subscribe=r??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new de(this.context,this.t,this.subscribe))}}function Z({context:t,subscribe:e}){return(i,o)=>{typeof o=="object"?o.addInitializer(function(){new Pt(this,{context:t,callback:r=>{i.set.call(this,r)},subscribe:e})}):i.constructor.addInitializer(r=>{new Pt(r,{context:t,callback:n=>{r[o]=n},subscribe:e})})}}const ke={attribute:!0,type:String,converter:pe,reflect:!1,hasChanged:Ht},Ve=(t=ke,e,i)=>{const{kind:o,metadata:r}=i;let n=globalThis.litPropertyMetadata.get(r);if(n===void 0&&globalThis.litPropertyMetadata.set(r,n=new Map),n.set(i.name,t),o==="accessor"){const{name:s}=i;return{set(l){const a=e.get.call(this);e.set.call(this,l),this.requestUpdate(s,a,t)},init(l){return l!==void 0&&this.P(s,void 0,t),l}}}if(o==="setter"){const{name:s}=i;return function(l){const a=this[s];e.call(this,l),this.requestUpdate(s,a,t)}}throw Error("Unsupported decorator location: "+o)};function g(t){return(e,i)=>typeof i=="object"?Ve(t,e,i):((o,r,n)=>{const s=r.hasOwnProperty(n);return r.constructor.createProperty(n,s?{...o,wrapped:!0}:o),s?Object.getOwnPropertyDescriptor(r,n):void 0})(t,e,i)}function Wt(t){return g({...t,state:!0,attribute:!1})}function Xt(t){return P(function(e,i){return t<=i})}var $e=Object.defineProperty,Te=Object.getOwnPropertyDescriptor,nt=(t,e,i,o)=>{for(var r=o>1?void 0:o?Te(e,i):e,n=t.length-1,s;n>=0;n--)(s=t[n])&&(r=(o?s(e,i,r):s(r))||r);return o&&r&&$e(e,i,r),r};const Jt="important",Ae=" !"+Jt,ze=it(class extends St{constructor(t){var e;if(super(t),t.type!==dt.ATTRIBUTE||t.name!=="style"||((e=t.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,i)=>{const o=t[i];return o==null?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${o};`},"")}update(t,[e]){const{style:i}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const o of this.ft)e[o]==null&&(this.ft.delete(o),o.includes("-")?i.removeProperty(o):i[o]=null);for(const o in e){const r=e[o];if(r!=null){this.ft.add(o);const n=typeof r=="string"&&r.endsWith(Ae);o.includes("-")||n?i.setProperty(o,n?r.slice(0,-11):r,n?Jt:""):i[o]=r}}return ht}});const Ie=Symbol();let Pe=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((e,i)=>{this.o=e,this.h=i}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(e,i,o){var n;this.p=0,this.i=0,(this._=e).addController(this);const r=typeof i=="object"?i:{task:i,args:o};this.v=r.task,this.j=r.args,this.m=r.argsEqual??Le,this.k=r.onComplete,this.A=r.onError,this.autoRun=r.autoRun??!0,"initialValue"in r&&(this.u=r.initialValue,this.i=2,this.O=(n=this.T)==null?void 0:n.call(this))}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;const e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}async S(){const e=this.T(),i=this.O;this.O=e,e===i||e===void 0||i!==void 0&&this.m(i,e)||await this.run(e)}async run(e){var s,l,a,b,_;let i,o;e??(e=this.T()),this.O=e,this.i===1?(s=this.q)==null||s.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();const r=++this.p;this.q=new AbortController;let n=!1;try{i=await this.v(e,{signal:this.q.signal})}catch(u){n=!0,o=u}if(this.p===r){if(i===Ie)this.i=0;else{if(n===!1){try{(l=this.k)==null||l.call(this,i)}catch{}this.i=2,(a=this.o)==null||a.call(this,i)}else{try{(b=this.A)==null||b.call(this,o)}catch{}this.i=3,(_=this.h)==null||_.call(this,o)}this.u=i,this.l=o}this._.requestUpdate()}}abort(e){var i;this.i===1&&((i=this.q)==null||i.abort(e))}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(e){var i,o,r,n;switch(this.i){case 0:return(i=e.initial)==null?void 0:i.call(e);case 1:return(o=e.pending)==null?void 0:o.call(e);case 2:return(r=e.complete)==null?void 0:r.call(e,this.value);case 3:return(n=e.error)==null?void 0:n.call(e,this.error);default:throw Error("Unexpected status: "+this.i)}}};const Le=(t,e)=>t===e||t.length===e.length&&t.every((i,o)=>!Ht(i,e[o]));var Me={circle16:{width:"16px",height:"16px",loader:()=>c(()=>import("./circle_16.svg-ZXVELFJT-BpYBdqah.js"),__vite__mapDeps([0,1])).then(t=>t.circle16Svg)},cross8:{width:"8px",height:"8px",loader:()=>c(()=>import("./cross_8.svg-UQSEH4S4-WETUd5At.js"),__vite__mapDeps([2,1])).then(t=>t.cross8Svg)},startDefault16:{width:"16px",height:"16px",loader:()=>c(()=>import("./start-default_16.svg-CD2J7L7X-Do2e7OYK.js"),__vite__mapDeps([3,1])).then(t=>t.startDefault16Svg)},connect16:{width:"16px",height:"16px",loader:()=>c(()=>import("./connect_16.svg-NSXNVWXM-BWD7ucmz.js"),__vite__mapDeps([4,1])).then(t=>t.connect16Svg)},cornerDownRight16:{width:"16px",height:"16px",loader:()=>c(()=>import("./corner-down-right_16.svg-YYSNWS3X-DT_ZJVq1.js"),__vite__mapDeps([5,1])).then(t=>t.cornerDownRight16Svg)},chevronDown16:{width:"16px",height:"16px",loader:()=>c(()=>import("./chevron-down_16.svg-BND54YF5-SqDzClM0.js"),__vite__mapDeps([6,1])).then(t=>t.chevronDown16Svg)},arrowDown16:{width:"16px",height:"16px",loader:()=>c(()=>import("./arrow-down_16.svg-IK237GS3-CHje2l9z.js"),__vite__mapDeps([7,1])).then(t=>t.arrowDown16Svg)},fusion16:{width:"16px",height:"16px",loader:()=>c(()=>import("./fusion_16.svg-DS2KKM4D-BwJqYvUw.js"),__vite__mapDeps([8,1])).then(t=>t.fusion16Svg)},link16:{width:"16px",height:"16px",loader:()=>c(()=>import("./link_16.svg-ILSOSF3Q-DpRgfeY1.js"),__vite__mapDeps([9,1])).then(t=>t.link16Svg)},plusCircle16:{width:"16px",height:"16px",loader:()=>c(()=>import("./plus-circle_16.svg-LAFJERR4-B-HBN-dV.js"),__vite__mapDeps([10,1])).then(t=>t.plusCircle16Svg)},circle24:{width:"24px",height:"24px",loader:()=>c(()=>import("./circle_24.svg-NZRHXSXM-DXbHip6-.js"),__vite__mapDeps([11,1])).then(t=>t.circle24Svg)},arrowDown24:{width:"24px",height:"24px",loader:()=>c(()=>import("./arrow-down_24.svg-QVWWMIAG-DhxZchjY.js"),__vite__mapDeps([12,1])).then(t=>t.arrowDown24Svg)},arrowLeft24:{width:"24px",height:"24px",loader:()=>c(()=>import("./arrow-left_24.svg-SRUSUV6K-CTgRthni.js"),__vite__mapDeps([13,1])).then(t=>t.arrowLeft24Svg)},cross24:{width:"24px",height:"24px",loader:()=>c(()=>import("./cross_24.svg-Y6TXDXMZ-F8eJEdiK.js"),__vite__mapDeps([14,1])).then(t=>t.cross24Svg)},search24:{width:"24px",height:"24px",loader:()=>c(()=>import("./search_24.svg-7BVVC7QD-BGL8e4g7.js"),__vite__mapDeps([15,1])).then(t=>t.search24Svg)},edit24:{width:"24px",height:"24px",loader:()=>c(()=>import("./edit_24.svg-LIXQVG7G-O1kwH1Jo.js"),__vite__mapDeps([16,1])).then(t=>t.edit24Svg)},connect24:{width:"24px",height:"24px",loader:()=>c(()=>import("./connect_24.svg-B72L67KC-ZxfgmLu8.js"),__vite__mapDeps([17,1])).then(t=>t.connect24Svg)},link24:{width:"24px",height:"24px",loader:()=>c(()=>import("./link_24.svg-ME7P2JZJ-BLGWlrYr.js"),__vite__mapDeps([18,1])).then(t=>t.link24Svg)},bell24:{width:"24px",height:"24px",loader:()=>c(()=>import("./bell_24.svg-TDYDRRA3-CQYMIRa_.js"),__vite__mapDeps([19,1])).then(t=>t.bell24Svg)},alert24:{width:"24px",height:"24px",loader:()=>c(()=>import("./alert_24.svg-ASSJ27DL-D0cH_20i.js"),__vite__mapDeps([20,1])).then(t=>t.alert24Svg)},l2Chain24:{width:"24px",height:"24px",loader:()=>c(()=>import("./l2-chain_24.svg-BVBNWDAX-BYNSzTyg.js"),__vite__mapDeps([21,1])).then(t=>t.l2Chain24Svg)},l2ChainRTL24:{width:"24px",height:"24px",loader:()=>c(()=>import("./l2-chain-rtl_24.svg-7UVTOITU-BL7IQB8w.js"),__vite__mapDeps([22,1])).then(t=>t.l2Chain24Svg)},settings24:{width:"24px",height:"24px",loader:()=>c(()=>import("./settings_24.svg-LB2NPHFL-JRrEkST4.js"),__vite__mapDeps([23,1])).then(t=>t.settings24Svg)},fusion24:{width:"24px",height:"24px",loader:()=>c(()=>import("./fusion_24.svg-DJY4GZBN-HB4lm1VP.js"),__vite__mapDeps([24,1])).then(t=>t.fusion24Svg)},globe24:{width:"24px",height:"24px",loader:()=>c(()=>import("./globe_24.svg-3EBQMDCF-CcAF9xMm.js"),__vite__mapDeps([25,1])).then(t=>t.globe24Svg)},image24:{width:"24px",height:"24px",loader:()=>c(()=>import("./image_24.svg-LMEQRSRL-CpRapJLr.js"),__vite__mapDeps([26,1])).then(t=>t.image24Svg)},sun24:{width:"24px",height:"24px",loader:()=>c(()=>import("./sun_24.svg-J2JEBXWO-C6tp-NVI.js"),__vite__mapDeps([27,1])).then(t=>t.sun24Svg)},moon24:{width:"24px",height:"24px",loader:()=>c(()=>import("./moon_24.svg-UFSZTNKT-BlFcBbRD.js"),__vite__mapDeps([28,1])).then(t=>t.moon24Svg)},command24:{width:"24px",height:"24px",loader:()=>c(()=>import("./command_24.svg-6ZPVIHIB-f1IxtPaE.js"),__vite__mapDeps([29,1])).then(t=>t.command24Svg)},wallet24:{width:"24px",height:"24px",loader:()=>c(()=>import("./wallet_24.svg-NRI5NRWL-5W6zqn28.js"),__vite__mapDeps([30,1])).then(t=>t.wallet24Svg)},authRefresh36:{width:"36px",height:"36px",loader:()=>c(()=>import("./auth-refresh_36.svg-TLQZRG73-S7rnNO7M.js"),__vite__mapDeps([31,1])).then(t=>t.authRefresh36Svg)},logoFull:{width:"102px",height:"40px",loader:()=>c(()=>import("./logo-full.svg-GX4A5T7B-7gyg_SHz.js"),__vite__mapDeps([32,1])).then(t=>t.logoFullSvg)},unicornRun:{width:"38px",height:"24px",loader:()=>c(()=>import("./unicorn_run.svg-FIWXVX57-D9Pml_2-.js"),__vite__mapDeps([33,1])).then(t=>t.unicornRunSvg)},fire48:{width:"48px",height:"48px",loader:()=>c(()=>import("./fire_48.png-H24EZB6E-BnZdDoNO.js"),__vite__mapDeps([34,1])).then(t=>t.fire48Png)},emptySearch:{width:"160px",height:"160px",loader:()=>c(()=>import("./empty_search.svg-HTH3MFNW-DmekKYZR.js"),__vite__mapDeps([35,1])).then(t=>t.emptySearch)},eth24:{width:"24px",height:"24px",loader:()=>c(()=>import("./eth_24.svg-QSL6GA7V-YhzaDown.js"),__vite__mapDeps([36,1])).then(t=>t.eth24Svg)},bnb24:{width:"24px",height:"24px",loader:()=>c(()=>import("./bnb_24.svg-GK3J7TR7-Dlzhkcs3.js"),__vite__mapDeps([37,1])).then(t=>t.bnb24Svg)},op24:{width:"24px",height:"24px",loader:()=>c(()=>import("./op_24.svg-C7QI3DAY-DfocRZpI.js"),__vite__mapDeps([38,1])).then(t=>t.op24Svg)},matic24:{width:"24px",height:"24px",loader:()=>c(()=>import("./matic_24.svg-MR2PZC5O-BgqrmqHE.js"),__vite__mapDeps([39,1])).then(t=>t.matic24Svg)},arbitrum24:{width:"24px",height:"24px",loader:()=>c(()=>import("./arbitrum_24.svg-EOHJT7SH-DIdvnszG.js"),__vite__mapDeps([40,1])).then(t=>t.arbitrum24Svg)},gnosis24:{width:"24px",height:"24px",loader:()=>c(()=>import("./gnosis_24.svg-OA645ZO3-Bxu-PCOA.js"),__vite__mapDeps([41,1])).then(t=>t.gnosis24Svg)},avalanche24:{width:"24px",height:"24px",loader:()=>c(()=>import("./avalanche_24.svg-RACIZF5H-DlqJQbLD.js"),__vite__mapDeps([42,1])).then(t=>t.avalanche24Svg)},fantom24:{width:"24px",height:"24px",loader:()=>c(()=>import("./fantom_24.svg-HII4JJB6-C-94LRlo.js"),__vite__mapDeps([43,1])).then(t=>t.fantom24Svg)},aurora24:{width:"24px",height:"24px",loader:()=>c(()=>import("./aurora_24.svg-W4HBGYPD-DHEWAzML.js"),__vite__mapDeps([44,1])).then(t=>t.aurora24Svg)},klaytn24:{width:"24px",height:"24px",loader:()=>c(()=>import("./klaytn_24.svg-3HGJORYN-BdjdrxJb.js"),__vite__mapDeps([45,1])).then(t=>t.klaytn24Svg)},zkSyncEra24:{width:"24px",height:"24px",loader:()=>c(()=>import("./zksyncera_24.svg-6GCDLJI2-CGa_etIH.js"),__vite__mapDeps([46,1])).then(t=>t.zkSyncEra24Svg)},base24:{width:"24px",height:"24px",loader:()=>c(()=>import("./base_24.svg-TRYUGEDS-8n0g6_yk.js"),__vite__mapDeps([47,1])).then(t=>t.base24Svg)}},T=class extends z{constructor(){super(...arguments),this.iconLoadTask=new Pe(this,([t])=>this.loadImage(t),()=>[this.icon])}render(){var e,i;const t={width:this.width??((e=this.iconRecord)==null?void 0:e.width),height:this.height??((i=this.iconRecord)==null?void 0:i.height)};return this.iconLoadTask.render({pending:()=>d`<div style="${ze(t)}"></div>`,complete:o=>typeof o=="function"?o({...t,props:this.props}):o})}async loadImage(t){if(!t)throw new Error("icon is required field for inch-icon element");if(this.iconRecord=Me[t],!this.iconRecord)throw new Error(`icon name ${t} not exist`);return await this.iconRecord.loader()}};T.tagName="inch-icon";T.styles=w`:host{display:flex;width:fit-content;height:fit-content}`;nt([g({type:String,attribute:"icon"})],T.prototype,"icon",2);nt([g({type:String,attribute:!0})],T.prototype,"width",2);nt([g({type:String,attribute:!0})],T.prototype,"height",2);nt([g({type:Object})],T.prototype,"props",2);T=nt([A(T.tagName)],T);const Bi=Object.freeze(Object.defineProperty({__proto__:null,get IconElement(){return T}},Symbol.toStringTag,{value:"Module"}));const Kt=it(class extends St{constructor(t){var e;if(super(t),t.type!==dt.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var o,r;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in e)e[n]&&!((o=this.nt)!=null&&o.has(n))&&this.st.add(n);return this.render(e)}const i=t.element.classList;for(const n of this.st)n in e||(i.remove(n),this.st.delete(n));for(const n in e){const s=!!e[n];s===this.st.has(n)||(r=this.nt)!=null&&r.has(n)||(s?(i.add(n),this.st.add(n)):(i.remove(n),this.st.delete(n)))}return ht}});var Ne=Object.defineProperty,De=Object.getOwnPropertyDescriptor,D=(t,e,i,o)=>{for(var r=o>1?void 0:o?De(e,i):e,n=t.length-1,s;n>=0;n--)(s=t[n])&&(r=(o?s(e,i,r):s(r))||r);return o&&r&&Ne(e,i,r),r},He=w`:host{display:block}button{cursor:pointer;font-family:Inter,sans-serif;font-style:normal;font-weight:600;display:flex;align-items:center;justify-content:center;gap:8px;border:1px solid var(--button-border-color,none);background-color:var(--button-background-color);color:var(--button-text-color-ext,var(--button-text-color,var(--color-core-white)));box-sizing:border-box;transition:background-color .2s,box-shadow .2s,color .2s,transform .1s;outline:0;user-select:none;-webkit-tap-highlight-color:transparent;will-change:background-color,color,box-shadow,transform}button.full-size{width:100%}@media (hover:hover){button:enabled:hover{background-color:var(--button-background-color-hover);color:var(--button-text-color-ext-hover,var(--button-text-color-hover,var(--button-text-color)))}}button:enabled:active,button:enabled:focus-visible{transform:scale(.98);box-shadow:0 0 0 2px var(--button-box-shadow-color-active)}.active-box-shadow-inset:enabled:active,.active-box-shadow-inset:enabled:focus-visible{box-shadow:inset 0 0 0 2px var(--button-box-shadow-color-active)}button:disabled{cursor:not-allowed}`,Be=w`button{border-radius:var(--border-radius)}.xs{padding:0 2px;--border-radius:4px;font-size:12px}.m{padding:6px 12px;--border-radius:8px;font-size:14px}.l{padding:8px 16px;--border-radius:12px;font-size:14px}.xl{padding:12px 24px;--border-radius:16px;font-size:16px}.xxl{padding:16px 24px;--border-radius:16px;font-size:20px}.m.only-icon{padding:0}.l.only-icon{padding:6px}.xl.only-icon{padding:12px}.xxl.only-icon{padding:18px}`,je=w`.primary{--button-background-color:var(--primary);--button-background-color-hover:var(--primary-hover);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-core-white);--loader-color:var(--primary-hover)}.primary-critical{--button-background-color:var(--color-core-red-critical);--button-background-color-hover:var(--color-core-red-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical);--button-text-color:var(--color-core-white)}.primary-warning{--button-background-color:var(--color-core-orange-warning);--button-background-color-hover:var(--color-core-orange-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning);--button-text-color:var(--color-core-white)}.primary-gray{--button-background-color:var(--color-background-bg-primary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary)}.secondary{--button-background-color:var(--secondary);--button-background-color-hover:var(--secondary-hover);--button-box-shadow-color-active:var(--secondary-hover);--button-text-color:var(--primary);--button-text-color-hover:var(--primary-hover)}.secondary-critical{--button-background-color:var(--color-background-bg-critical);--button-background-color-hover:var(--color-background-bg-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical-hover);--button-text-color:var(--color-core-red-critical-hover)}.secondary-warning{--button-background-color:var(--color-background-bg-warning);--button-background-color-hover:var(--color-background-bg-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning-hover);--button-text-color:var(--color-core-orange-warning)}.secondary-gray{--button-background-color:transparent;--button-border-color:var(--color-border-border-tertiary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary);--button-background-color-disabled:transparent;--button-border-color-disabled:var(--color-background-bg-disabled)}.tertiary{--button-background-color:transparent;--button-background-color-hover:var(--secondary);--button-text-color:var(--primary)}.tertiary-gray{--button-background-color:transparent;--button-background-color-hover:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary)}button:disabled{background-color:var(--button-background-color-disabled,var(--color-background-bg-disabled));color:var(--color-content-content-disabled);border:1px solid var(--button-border-color-disabled,none)}`,Fe=w`button.loader{position:relative;--loader-border-size:2px}button.loader:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;border-radius:var(--border-radius);border:var(--loader-border-size) solid var(--loader-color,var(--button-box-shadow-color-active));animation:loader 3s linear infinite}@keyframes loader{0%{clip-path:polygon(0 0,100% 0,100% 5%,0 5%)}10%{clip-path:polygon(50% 0,100% 0,100% 50%,50% 5%)}20%{clip-path:polygon(95% 0,100% 0,100% 100%,95% 100%)}40%{clip-path:polygon(50% 50%,100% 50%,100% 100%,50% 100%)}50%{clip-path:polygon(0 95%,100% 95%,100% 100%,0 100%)}70%{clip-path:polygon(0 50%,50% 50%,50% 100%,0 100%)}80%{clip-path:polygon(0 0,5% 0,5% 100%,0 100%)}90%{clip-path:polygon(0 0,50% 0,50% 50%,0 50%)}100%{clip-path:polygon(0 0,100% 0,100% 5%,0 5%)}}`,S=class extends z{constructor(){super(...arguments),this.size="xl",this.type="primary",this.fullSize=!1,this.disabled=!1,this.loader=!1,this.disabledSlotPointerEvent=!1,this.isIconButton=!1}render(){const t={[this.size]:!0,[this.type]:!0,"only-icon":this.isIconButton,"full-size":this.fullSize,loader:this.loader,"active-box-shadow-inset":this.type.includes("secondary")&&!this.type.includes("gray")};return d`<button class="${Kt(t)}" @click="${()=>be()}" ?disabled="${this.disabled}"><slot style="${this.disabledSlotPointerEvent?"pointer-events: none;":""}" @slotchange="${this.handleSlotChange}"></slot></button>`}handleSlotChange(t){const e=t.target;if(!e)return;const i=e.assignedNodes({flatten:!0}).filter(o=>o.nodeName!=="#text");this.isIconButton=i.length===1&&i[0].nodeName.toLowerCase()==="inch-icon",this.requestUpdate()}};S.tagName="inch-button";S.styles=[He,Be,je,Fe];D([g({type:String,attribute:!0})],S.prototype,"size",2);D([g({type:String,attribute:!0})],S.prototype,"type",2);D([g({type:Boolean,attribute:!0})],S.prototype,"fullSize",2);D([g({type:Boolean,attribute:!0})],S.prototype,"disabled",2);D([g({type:Boolean,attribute:!0})],S.prototype,"loader",2);D([g({type:Boolean,attribute:!0})],S.prototype,"disabledSlotPointerEvent",2);D([Wt()],S.prototype,"isIconButton",2);S=D([A(S.tagName)],S);const q=()=>new qe;class qe{}const bt=new WeakMap,U=it(class extends jt{render(t){return _t}update(t,[e]){var o;const i=e!==this.Y;return i&&this.Y!==void 0&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.Y=e,this.ht=(o=t.options)==null?void 0:o.host,this.rt(this.ct=t.element)),_t}rt(t){if(typeof this.Y=="function"){const e=this.ht??globalThis;let i=bt.get(e);i===void 0&&(i=new WeakMap,bt.set(e,i)),i.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),i.set(this.Y,t),t!==void 0&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){var t,e;return typeof this.Y=="function"?(t=bt.get(this.ht??globalThis))==null?void 0:t.get(this.Y):(e=this.Y)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function Qt(){return new Promise(t=>requestAnimationFrame(t))}var Ue=Object.defineProperty,Ye=Object.getOwnPropertyDescriptor,V=(t,e,i,o)=>{for(var r=o>1?void 0:o?Ye(e,i):e,n=t.length-1,s;n>=0;n--)(s=t[n])&&(r=(o?s(e,i,r):s(r))||r);return o&&r&&Ue(e,i,r),r};function Gt(t,e,i){return t?e(t):i==null?void 0:i(t)}const Lt=(t,e,i)=>{const o=new Map;for(let r=e;r<=i;r++)o.set(t[r],r);return o},We=it(class extends St{constructor(t){if(super(t),t.type!==dt.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,i){let o;i===void 0?i=e:e!==void 0&&(o=e);const r=[],n=[];let s=0;for(const l of t)r[s]=o?o(l,s):s,n[s]=i(l,s),s++;return{values:n,keys:r}}render(t,e,i){return this.dt(t,e,i).values}update(t,[e,i,o]){const r=ve(t),{values:n,keys:s}=this.dt(e,i,o);if(!Array.isArray(r))return this.ut=s,n;const l=this.ut??(this.ut=[]),a=[];let b,_,u=0,f=r.length-1,p=0,v=n.length-1;for(;u<=f&&p<=v;)if(r[u]===null)u++;else if(r[f]===null)f--;else if(l[u]===s[p])a[p]=B(r[u],n[p]),u++,p++;else if(l[f]===s[v])a[v]=B(r[f],n[v]),f--,v--;else if(l[u]===s[v])a[v]=B(r[u],n[v]),et(t,a[v+1],r[u]),u++,v--;else if(l[f]===s[p])a[p]=B(r[f],n[p]),et(t,r[u],r[f]),f--,p++;else if(b===void 0&&(b=Lt(s,p,v),_=Lt(l,u,f)),b.has(l[u]))if(b.has(l[f])){const y=_.get(s[p]),$=y!==void 0?r[y]:null;if($===null){const C=et(t,r[u]);B(C,n[p]),a[p]=C}else a[p]=B($,n[p]),et(t,r[u],$),r[y]=null;p++}else gt(r[f]),f--;else gt(r[u]),u++;for(;p<=v;){const y=et(t,a[v+1]);B(y,n[p]),a[p++]=y}for(;u<=f;){const y=r[u++];y!==null&&gt(y)}return this.ut=s,_e(t,a),ht}});var kt=Symbol("scrollContext"),L=class extends z{constructor(){super(...arguments),this.context=new fe(this,{context:kt})}setScrollTopFromConsumer(t){this.scrollTopFromConsumer=t}firstUpdated(){this.context.setValue(this)}updated(){h(this,{maxHeight:this.maxHeight?`${this.maxHeight}px`:""})}render(){return d`<slot></slot>`}};L.tagName="inch-scroll-view-provider";L.styles=w`:host{display:flex;flex-direction:column}`;V([g({type:Number,attribute:!1})],L.prototype,"maxHeight",2);L=V([A(L.tagName)],L);var X=class extends z{constructor(){super(...arguments),this.contentRef=q(),this.scrollContainerRef=q(),this.globalOffsetY=0}get contentHeight(){var t;return((t=this.contentRef.value)==null?void 0:t.clientHeight)??0}get scrollContainer(){if(!this.scrollContainerRef.value)throw new Error("");return this.scrollContainerRef.value}firstUpdated(){if(!this.context)throw new Error("inch-scroll-view-consumer must be used inside inch-scroll-view-provider");this.globalOffsetY=this.context.clientHeight-this.clientHeight,N(this,[G(j(this.context),j(this.contentRef.value)).pipe(E(()=>this.updateView())),m(this.scrollContainer,"scroll",{passive:!0}).pipe(E(()=>{var t;this.context.setScrollTopFromConsumer(((t=this.scrollContainer)==null?void 0:t.scrollTop)??0)}))],{requestUpdate:!1})}render(){return d`<div class="scroll-container" ${U(this.scrollContainerRef)}><div ${U(this.contentRef)}><slot></slot></div></div>`}updateView(){this.contentHeight>(this.context.maxHeight??0)?(this.scrollContainer.style.height=`${(this.context.maxHeight??0)-this.globalOffsetY}px`,!this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.add("overflow")):(this.scrollContainer.style.height=`${this.contentHeight}px`,this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.remove("overflow"))}};X.tagName="inch-scroll-view-consumer";X.styles=[Bt,w`.scroll-container{display:block;flex-direction:column;transition:height .1s}.overflow{overflow:auto;overscroll-behavior:none;touch-action:pan-y;display:block;position:relative;contain:size layout}`];V([Z({context:kt,subscribe:!0})],X.prototype,"context",2);X=V([A(X.tagName)],X);var Zt=class te extends Event{constructor(e){super(te.eventName,{bubbles:!1}),this.first=e.first,this.last=e.last}};Zt.eventName="rangeChanged";var ee=class ie extends Event{constructor(e){super(ie.eventName,{bubbles:!1}),this.first=e.first,this.last=e.last}};ee.eventName="visibilityChanged";var oe=class re extends Event{constructor(){super(re.eventName,{bubbles:!1})}};oe.eventName="unpinned";var Xe=class{constructor(t){this._element=null;const e=t??window;this._node=e,t&&(this._element=t)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}},Je=class extends Xe{constructor(t,e){super(e),this._clients=new Set,this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1,this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this);const i=this._node;this._originalScrollTo=i.scrollTo,this._originalScrollBy=i.scrollBy,this._originalScroll=i.scroll,this._attach(t)}get _destination(){return this.__destination}get scrolling(){return this._destination!==null}scrollTo(t,e){const i=typeof t=="number"&&typeof e=="number"?{left:t,top:e}:t;this._scrollTo(i)}scrollBy(t,e){const i=typeof t=="number"&&typeof e=="number"?{left:t,top:e}:t;i.top!==void 0&&(i.top+=this.scrollTop),i.left!==void 0&&(i.left+=this.scrollLeft),this._scrollTo(i)}_nativeScrollTo(t){this._originalScrollTo.bind(this._element||window)(t)}_scrollTo(t,e=null,i=null){this._end!==null&&this._end(),t.behavior==="smooth"?(this._setDestination(t),this._retarget=e,this._end=i):this._resetScrollState(),this._nativeScrollTo(t)}_setDestination(t){let{top:e,left:i}=t;return e=e===void 0?void 0:Math.max(0,Math.min(e,this.maxScrollTop)),i=i===void 0?void 0:Math.max(0,Math.min(i,this.maxScrollLeft)),this._destination!==null&&i===this._destination.left&&e===this._destination.top?!1:(this.__destination={top:e,left:i,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(t){this._destination&&this._setDestination(t)&&this._nativeScrollTo(this._destination)}managedScrollTo(t,e,i){return this._scrollTo(t,e,i),this._updateManagedScrollTo}correctScrollError(t){this.correctingScrollError=!0,requestAnimationFrame(()=>requestAnimationFrame(()=>this.correctingScrollError=!1)),this._nativeScrollTo(t),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(this._destination!==null){const{scrollTop:t,scrollLeft:e}=this;let{top:i,left:o}=this._destination;i=Math.min(i||0,this.maxScrollTop),o=Math.min(o||0,this.maxScrollLeft);const r=Math.abs(i-t),n=Math.abs(o-e);r<1&&n<1&&(this._end&&this._end(),this._resetScrollState())}}detach(t){return this._clients.delete(t),this._clients.size===0&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(t){this._clients.add(t),this._clients.size===1&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}},Mt=typeof window<"u"?window.ResizeObserver:void 0,wt=Symbol("virtualizerRef"),st="virtualizer-sizer",Nt,Ke=class{constructor(t){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,this._layoutInitialized=null,!t)throw new Error("Virtualizer constructor requires a configuration object");if(t.hostElement)this._init(t);else throw new Error('Virtualizer configuration requires the "hostElement" property')}set items(t){Array.isArray(t)&&t!==this._items&&(this._itemsChanged=!0,this._items=t,this._schedule(this._updateLayout))}_init(t){this._isScroller=!!t.scroller,this._initHostElement(t);const e=t.layout||{};this._layoutInitialized=this._initLayout(e)}_initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this)),this._hostElementRO=new Mt(()=>this._hostElementSizeChanged()),this._childrenRO=new Mt(this._childrenSizeChanged.bind(this))}_initHostElement(t){const e=this._hostElement=t.hostElement;this._applyVirtualizerStyles(),e[wt]=this}connected(){this._initObservers();const t=this._isScroller;this._clippingAncestors=Ze(this._hostElement,t),this._scrollerController=new Je(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen()}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach(t=>{t.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(t),this._hostElementRO.observe(t)}),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach(t=>this._childrenRO.observe(t)),this._scrollEventListeners.forEach(t=>t.addEventListener("scroll",this,this._scrollEventListenerOptions))}disconnected(){var t,e,i,o;this._scrollEventListeners.forEach(r=>r.removeEventListener("scroll",this,this._scrollEventListenerOptions)),this._scrollEventListeners=[],this._clippingAncestors=[],(t=this._scrollerController)==null||t.detach(this),this._scrollerController=null,(e=this._mutationObserver)==null||e.disconnect(),this._mutationObserver=null,(i=this._hostElementRO)==null||i.disconnect(),this._hostElementRO=null,(o=this._childrenRO)==null||o.disconnect(),this._childrenRO=null,this._rejectLayoutCompletePromise("disconnected")}_applyVirtualizerStyles(){const e=this._hostElement.style;e.display=e.display||"block",e.position=e.position||"relative",e.contain=e.contain||"size layout",this._isScroller&&(e.overflow=e.overflow||"auto",e.minHeight=e.minHeight||"150px")}_getSizer(){const t=this._hostElement;if(!this._sizer){let e=t.querySelector(`[${st}]`);e||(e=document.createElement("div"),e.setAttribute(st,""),t.appendChild(e)),Object.assign(e.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),e.textContent="&nbsp;",e.setAttribute(st,""),this._sizer=e}return this._sizer}async updateLayoutConfig(t){await this._layoutInitialized;const e=t.type||Nt;if(typeof e=="function"&&this._layout instanceof e){const i={...t};return delete i.type,this._layout.config=i,!0}return!1}async _initLayout(t){let e,i;if(typeof t.type=="function"){i=t.type;const o={...t};delete o.type,e=o}else e=t;i===void 0&&(Nt=i=(await c(async()=>{const{FlowLayout:o}=await import("./flow-MWNAY6JH-L9ck0Z9u.js");return{FlowLayout:o}},[])).FlowLayout),this._layout=new i(o=>this._handleLayoutMessage(o),e),this._layout.measureChildren&&typeof this._layout.updateItemSizes=="function"&&(typeof this._layout.measureChildren=="function"&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){this._benchmarkStart===null&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(this._benchmarkStart!==null){const t=window.performance.now(),e=t-this._benchmarkStart,o=performance.getEntriesByName("uv-virtualizing","measure").filter(r=>r.startTime>=this._benchmarkStart&&r.startTime<t).reduce((r,n)=>r+n.duration,0);return this._benchmarkStart=null,{timeElapsed:e,virtualizationTime:o}}return null}_measureChildren(){const t={},e=this._children,i=this._measureChildOverride||this._measureChild;for(let o=0;o<e.length;o++){const r=e[o],n=this._first+o;(this._itemsChanged||this._toBeMeasured.has(r))&&(t[n]=i.call(this,r,this._items[n]))}this._childMeasurements=t,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(t){const{width:e,height:i}=t.getBoundingClientRect();return Object.assign({width:e,height:i},Qe(t))}async _schedule(t){this._scheduled.has(t)||(this._scheduled.add(t),await Promise.resolve(),this._scheduled.delete(t),t.call(this))}async _updateDOM(t){this._scrollSize=t.scrollSize,this._adjustRange(t.range),this._childrenPos=t.childPositions,this._scrollError=t.scrollError||null;const{_rangeChanged:e,_itemsChanged:i}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),(e||i)&&(this._notifyRange(),this._rangeChanged=!1),this._finishDOMUpdate()}_finishDOMUpdate(){this._children.forEach(t=>this._childrenRO.observe(t)),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end")}_updateLayout(){this._layout&&this._scrollerController&&(this._layout.items=this._items,this._updateView(),this._childMeasurements!==null&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){var t;if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(e){console.warn("Error measuring performance data: ",e)}window.performance.mark("uv-start")}this._scrollerController.correctingScrollError===!1&&((t=this._layout)==null||t.unpin()),this._schedule(this._updateLayout)}handleEvent(t){switch(t.type){case"scroll":(t.currentTarget===window||this._clippingAncestors.includes(t.currentTarget))&&this._handleScrollEvent();break;default:console.warn("event not handled",t)}}_handleLayoutMessage(t){t.type==="stateChanged"?this._updateDOM(t):t.type==="visibilityChanged"?(this._firstVisible=t.firstVisible,this._lastVisible=t.lastVisible,this._notifyVisibility()):t.type==="unpinned"&&this._hostElement.dispatchEvent(new oe)}get _children(){const t=[];let e=this._hostElement.firstElementChild;for(;e;)e.hasAttribute(st)||t.push(e),e=e.nextElementSibling;return t}_updateView(){var o;const t=this._hostElement,e=(o=this._scrollerController)==null?void 0:o.element,i=this._layout;if(t&&e&&i){let r,n,s,l;const a=t.getBoundingClientRect();r=0,n=0,s=window.innerHeight,l=window.innerWidth;const b=this._clippingAncestors.map(C=>C.getBoundingClientRect());b.unshift(a);for(const C of b)r=Math.max(r,C.top),n=Math.max(n,C.left),s=Math.min(s,C.bottom),l=Math.min(l,C.right);const _=e.getBoundingClientRect(),u={left:a.left-_.left,top:a.top-_.top},f={width:e.scrollWidth,height:e.scrollHeight},p=r-a.top+t.scrollTop,v=n-a.left+t.scrollLeft,y=s-r,$=l-n;i.viewportSize={width:$,height:y},i.viewportScroll={top:p,left:v},i.totalScrollSize=f,i.offsetWithinScroller=u}}_sizeHostElement(t){const i=t&&t.width!==null?Math.min(82e5,t.width):0,o=t&&t.height!==null?Math.min(82e5,t.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${i}px, ${o}px)`;else{const r=this._hostElement.style;r.minWidth=i?`${i}px`:"100%",r.minHeight=o?`${o}px`:"100%"}}_positionChildren(t){t&&t.forEach(({top:e,left:i,width:o,height:r,xOffset:n,yOffset:s},l)=>{const a=this._children[l-this._first];a&&(a.style.position="absolute",a.style.boxSizing="border-box",a.style.transform=`translate(${i}px, ${e}px)`,o!==void 0&&(a.style.width=o+"px"),r!==void 0&&(a.style.height=r+"px"),a.style.left=n===void 0?null:n+"px",a.style.top=s===void 0?null:s+"px")})}async _adjustRange(t){const{_first:e,_last:i,_firstVisible:o,_lastVisible:r}=this;this._first=t.first,this._last=t.last,this._firstVisible=t.firstVisible,this._lastVisible=t.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==e||this._last!==i,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==o||this._lastVisible!==r}_correctScrollError(){if(this._scrollError){const{scrollTop:t,scrollLeft:e}=this._scrollerController,{top:i,left:o}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:t-i,left:e-o})}}element(t){var e;return t===1/0&&(t=this._items.length-1),((e=this._items)==null?void 0:e[t])===void 0?void 0:{scrollIntoView:(i={})=>this._scrollElementIntoView({...i,index:t})}}_scrollElementIntoView(t){if(t.index>=this._first&&t.index<=this._last)this._children[t.index-this._first].scrollIntoView(t);else if(t.index=Math.min(t.index,this._items.length-1),t.behavior==="smooth"){const e=this._layout.getScrollIntoViewCoordinates(t),{behavior:i}=t;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(e,{behavior:i}),()=>this._layout.getScrollIntoViewCoordinates(t),()=>this._scrollIntoViewTarget=null),this._scrollIntoViewTarget=t}else this._layout.pin=t}_checkScrollIntoViewTarget(t){const{index:e}=this._scrollIntoViewTarget||{};e&&(t!=null&&t.has(e))&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new Zt({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new ee({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise((t,e)=>{this._layoutCompleteResolver=t,this._layoutCompleteRejecter=e})),this._layoutCompletePromise}_rejectLayoutCompletePromise(t){this._layoutCompleteRejecter!==null&&this._layoutCompleteRejecter(t),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&this._pendingLayoutComplete===null&&(this._pendingLayoutComplete=requestAnimationFrame(()=>requestAnimationFrame(()=>this._resolveLayoutCompletePromise())))}_resolveLayoutCompletePromise(){this._layoutCompleteResolver!==null&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(t){var e;if((e=this._layout)!=null&&e.measureChildren){for(const i of t)this._toBeMeasured.set(i.target,i.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}};function Qe(t){const e=window.getComputedStyle(t);return{marginTop:at(e.marginTop),marginRight:at(e.marginRight),marginBottom:at(e.marginBottom),marginLeft:at(e.marginLeft)}}function at(t){const e=t?parseFloat(t):NaN;return Number.isNaN(e)?0:e}function Dt(t){if(t.assignedSlot!==null)return t.assignedSlot;if(t.parentElement!==null)return t.parentElement;const e=t.parentNode;return e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host||null}function Ge(t,e=!1){const i=[];let o=e?t:Dt(t);for(;o!==null;)i.push(o),o=Dt(o);return i}function Ze(t,e=!1){let i=!1;return Ge(t,e).filter(o=>{if(i)return!1;const r=getComputedStyle(o);return i=r.position==="fixed",r.overflow!=="visible"})}var ne=t=>t,se=(t,e)=>d`${e}: ${JSON.stringify(t,null,2)}`,ti=class extends jt{constructor(t){if(super(t),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(e,i)=>se(e,i+this._first),this._keyFunction=(e,i)=>ne(e,i+this._first),this._items=[],t.type!==dt.CHILD)throw new Error("The virtualize directive can only be used in child expressions")}render(t){t&&this._setFunctions(t);const e=[];if(this._first>=0&&this._last>=this._first)for(let i=this._first;i<=this._last;i++)e.push(this._items[i]);return We(e,this._keyFunction,this._renderItem)}update(t,[e]){this._setFunctions(e);const i=this._items!==e.items;return this._items=e.items||[],this._virtualizer?this._updateVirtualizerConfig(t,e):this._initialize(t,e),i?ht:this.render()}async _updateVirtualizerConfig(t,e){if(!await this._virtualizer.updateLayoutConfig(e.layout||{})){const o=t.parentNode;this._makeVirtualizer(o,e)}this._virtualizer.items=this._items}_setFunctions(t){const{renderItem:e,keyFunction:i}=t;e&&(this._renderItem=(o,r)=>e(o,r+this._first)),i&&(this._keyFunction=(o,r)=>i(o,r+this._first))}_makeVirtualizer(t,e){this._virtualizer&&this._virtualizer.disconnected();const{layout:i,scroller:o,items:r}=e;this._virtualizer=new Ke({hostElement:t,layout:i,scroller:o}),this._virtualizer.items=r,this._virtualizer.connected()}_initialize(t,e){const i=t.parentNode;i&&i.nodeType===1&&(i.addEventListener("rangeChanged",o=>{this._first=o.first,this._last=o.last,this.setValue(this.render())}),this._makeVirtualizer(i,e))}disconnected(){var t;(t=this._virtualizer)==null||t.disconnected()}reconnected(){var t;(t=this._virtualizer)==null||t.connected()}},ei=it(ti),tt=class extends z{constructor(){super(...arguments),this.items=[],this.renderItem=se,this.keyFunction=ne,this.layout={},this.scroller=!1}createRenderRoot(){return this}render(){const{items:t,renderItem:e,keyFunction:i,layout:o,scroller:r}=this;return d`${ei({items:t,renderItem:e,keyFunction:i,layout:o,scroller:r})}`}element(t){var e;return(e=this[wt])==null?void 0:e.element(t)}get layoutComplete(){var t;return(t=this[wt])==null?void 0:t.layoutComplete}scrollToIndex(t,e="start"){var i;(i=this.element(t))==null||i.scrollIntoView({block:e})}};ot([g({attribute:!1})],tt.prototype,"items",void 0);ot([g()],tt.prototype,"renderItem",void 0);ot([g()],tt.prototype,"keyFunction",void 0);ot([g({attribute:!1})],tt.prototype,"layout",void 0);ot([g({reflect:!0,type:Boolean})],tt.prototype,"scroller",void 0);customElements.define("lit-virtualizer",tt);var ii=Symbol("mainViewportContext"),R=class extends z{constructor(){super(...arguments),this.items=[],this.globalOffsetY=null,this.virtualizerRef=q(),this.headerRef=q(),this.headerStub=document.createElement("div"),this.mobileMedia=ye(this)}get virtualizer(){if(!this.virtualizerRef.value)throw new Error("");return this.virtualizerRef.value}firstUpdated(){var e;if(!this.context||!this.virtualizerRef.value)return;const t=document.createElement("style");t.textContent=Bt.cssText,(e=this.virtualizerRef.value.shadowRoot)==null||e.appendChild(t),this.updateView(),this.updateHeaderSize(),N(this,[G(Ot(),j(this.context),j(this.virtualizer),this.mainViewportContext?j(this.mainViewportContext):Ee()).pipe(E(()=>this.updateView()))],{requestUpdate:!1}),this.headerRef.value&&N(this,[j(this.headerRef.value).pipe(E(()=>this.updateHeaderSize())),m(this.virtualizerRef.value,"scroll",{passive:!0}).pipe(E(()=>{var i;this.context.setScrollTopFromConsumer(((i=this.virtualizerRef.value)==null?void 0:i.scrollTop)??0),this.updateHeaderBackground()}))],{requestUpdate:!1})}render(){return this.updateView(),this.updateHeaderSize(),d`${Gt(this.header,t=>d`<div ${U(this.headerRef)} class="scroll-header">${t()}</div>`)}<lit-virtualizer ${U(this.virtualizerRef)} scroller .items="${this.getItems()}" .keyFunction="${this.keyFunction??((t,e)=>e)}" .renderItem="${(t,e)=>this.renderItemInternal(t,e)}"></lit-virtualizer>`}updateView(){this.mobileMedia.matches?this.updateViewMobile():this.updateViewDesktop()}updateViewMobile(){if(!this.context||!this.virtualizerRef.value)return;const t=this.getViewPortBoundingClientRect(),e=this.virtualizer.getBoundingClientRect();this.globalOffsetY=e.top-t.top+8*2,this.virtualizer.style.minHeight=`${(this.context.maxHeight??0)-this.globalOffsetY}px`}updateViewDesktop(){if(!this.context||!this.virtualizerRef.value||!this.headerRef.value)return;const t=this.getViewPortBoundingClientRect();this.virtualizer.style.minHeight=`${t.height}px`}getViewPortBoundingClientRect(){return this.mainViewportContext?this.mainViewportContext.getBoundingClientRect():this.context.getBoundingClientRect()}getItems(){return this.header?[null,...this.items]:this.items}renderItemInternal(t,e){var i;return this.header&&e===0?d`${this.headerStub}`:((i=this.renderItem)==null?void 0:i.call(this,t,e))??d``}updateHeaderSize(){if(this.headerRef.value){const t=this.headerRef.value.getBoundingClientRect();h(this.headerStub,{height:`${t.height}px`})}}updateHeaderBackground(){var e;const t=((e=this.virtualizerRef.value)==null?void 0:e.scrollTop)??0;t>10&&this.headerRef.value&&!this.headerRef.value.classList.contains("scroll-header-background-color-blur")&&this.headerRef.value.classList.add("scroll-header-background-color-blur"),t<10&&this.headerRef.value&&this.headerRef.value.classList.contains("scroll-header-background-color-blur")&&this.headerRef.value.classList.remove("scroll-header-background-color-blur")}};R.tagName="inch-scroll-view-virtualizer-consumer";R.styles=[Et("lit-virtualizer",!0),w`:host{position:relative;display:flex;flex-direction:column}.scroll-header{position:absolute;top:0;left:0;width:100%;height:fit-content;z-index:9;overflow:hidden;box-sizing:border-box;background-color:var(--color-background-bg-primary)}${Ft(w`.scroll-header{background-color:transparent;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);padding:8px 8px 0 8px;top:-8px;left:-8px;width:100vw;transition:background-color .2s}.scroll-header-background-color-blur{background:var(--primary-12);background:linear-gradient(to bottom,var(--color-background-bg-primary),var(--primary-12))}`)}`];V([g({type:Array})],R.prototype,"items",2);V([g({type:Object})],R.prototype,"keyFunction",2);V([g({type:Object})],R.prototype,"renderItem",2);V([g({type:Object})],R.prototype,"header",2);V([Z({context:kt,subscribe:!0})],R.prototype,"context",2);V([Z({context:ii,subscribe:!1})],R.prototype,"mainViewportContext",2);R=V([A(R.tagName)],R);var xt;function F(){return oi(),xt}function oi(){if(xt)return;let t=document.querySelector("#overlay-container");t||(t=document.createElement("div"),t.id="overlay-container"),xt=t}var ri=1;function ae(){return ri++}var ni=class{constructor(t){this.rootNodeName=t,this.borderRadius="8px",this.brightnessHalfView=".7",this.scale=".9",this.topOffsetPercent=-5,this.backgroundColor="var(--color-background-bg-active)",this.backgroundColorDefault="var(--color-background-bg-body)",this.container=F(),this.activeOverlayMap=new Map,this.subscriptions=new Map}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(t){return this.activeOverlayMap.has(t)}async open(t){const e=document.querySelector(this.rootNodeName),i=this.createOverlayContainer(t);await Qt();const o=this.calculateIsHalfView(i);this.appendStyleBeforeTransition(e),await this.transition(i,e,!1,o),this.appendStyleAfterTransition(e,!1,o);const r=ae();return this.activeOverlayMap.set(r,i),this.subscribeOnEvents(r),r}async close(t){if(!this.activeOverlayMap.has(t))return;const e=this.activeOverlayMap.get(t),i=document.querySelector(this.rootNodeName),o=this.calculateIsHalfView(e);await this.transition(e,i,!0,o),this.appendStyleAfterTransition(i,!0,o),this.unsubscribeOnResize(t),e.remove(),this.activeOverlayMap.delete(t),Vt(null)}createOverlayContainer(t){const e=document.createElement(L.tagName),i=this.activeOverlayMap.size+1,o=2,r=Tt()&&At()?window.innerHeight-10:window.innerHeight;return e.maxHeight=(100-i*o)*r/100,e.setAttribute("overlay-index",i.toString()),h(e,{position:"fixed",display:"flex",width:"100vw",overflow:"hidden",alignItems:"flex-end",bottom:"0",left:"0",zIndex:"2000",boxSizing:"border-box",borderTopLeftRadius:"24px",borderTopRightRadius:"24px"}),Tt()&&At()&&h(e,{bottom:"10px"}),ut(d`${t}`,e),this.container.appendChild(e),e}subscribeOnEvents(t){const e=this.activeOverlayMap.get(t),i=document.querySelector(this.rootNodeName),o=G(Ot().pipe(E(()=>this.updatePosition(t))),j(e).pipe(P(()=>Number(e.getAttribute("overlay-index"))===this.activeOverlayMap.size),k(()=>this.calculateIsHalfView(e)),pt(),Xt(1),x(r=>{const n=document.querySelector(this.rootNodeName);return this.transitionHalfView(n,r)})),m(this.container,"click").pipe(P(()=>Number(e.getAttribute("overlay-index"))===this.activeOverlayMap.size),P(r=>r.target===this.container),E(()=>this.updatePosition(t))),m(e,"touchstart",{passive:!0}).pipe(P(()=>(e.scrollTopFromConsumer??0)===0),x(r=>{const n=this.calculateIsHalfView(e),s=e.clientHeight,l=30,a=r.touches[0].clientY,b=$t(this.backgroundColor),_=$t(this.backgroundColorDefault);let u=0,f=0,p=!1,v=Number(this.scale),y=this.topOffsetPercent,$=this.backgroundColor;return m(e,"touchmove",{passive:!0}).pipe(P(()=>!p),E(C=>{const mt=C.touches[0].clientY-a,H=mt*100/s;H<0||(H>l&&(p=!0,this.updatePosition(t)),u=H,f=mt,e.setAttribute("offset",H.toString()),h(e,{transform:`translateY(${mt}px)`}),n||(v=H*(1-Number(this.scale))/l+Number(this.scale),y=this.topOffsetPercent-H*this.topOffsetPercent/l,$=me(b,_,0,100,H),i.setAttribute("scale",v.toString()),i.setAttribute("offset",y.toString()),i.setAttribute("bgColor",$.toString()),h(i,{transform:`scale(${v}) translate3d(0, ${y}%, 0)`,backgroundColor:$})))}),ft(G(m(e,"touchend",{passive:!0}),m(e,"touchcancel",{passive:!0})).pipe(x(async C=>{if(f!==0){if(C.timeStamp-r.timeStamp<300&&u>l/2){this.updatePosition(t);return}p||(await Promise.all([e.animate([{transform:`translateY(${f}px)`},{transform:"translateY(0px)"}],this.getDefaultAnimationOptions()).finished,n?Promise.resolve():i.animate([{transform:`scale(${v}) translate3d(0, ${y}%, 0)`,backgroundColor:$},{transform:`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,backgroundColor:this.backgroundColor}],this.getDefaultAnimationOptions()).finished]),e.removeAttribute("offset"),h(e,{transform:""}),n||(i.removeAttribute("scale"),i.removeAttribute("offset"),i.removeAttribute("bgColor"),h(i,{transform:`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,backgroundColor:this.backgroundColor})))}}))))}))).subscribe();this.subscriptions.set(t,o)}unsubscribeOnResize(t){if(!this.subscriptions.has(t))return;const e=this.subscriptions.get(t);e.closed||e.unsubscribe()}updatePosition(t){this.subscriptions.has(t)&&this.close(t).catch()}calculateIsHalfView(t){const e=t.clientHeight,i=t.maxHeight??0;return e*100/i<90}getDefaultAnimationOptions(){return{duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"}}async transition(t,e,i,o){const r=e.getAttribute("scale")??this.scale,n=this.brightnessHalfView,s=Number(e.getAttribute("offset")??this.topOffsetPercent),l=e.getAttribute("bgColor")??this.backgroundColor,a=t.getAttribute("offset")??"0",b=()=>({transform:`translate3d(0, ${i?a:"100"}%, 0)`}),_=()=>({transform:`translate3d(0, ${i?"100":a}%, 0)`}),u=()=>({filter:o?`brightness(${i?n:"1"})`:"",transform:o?"":`scale(${i?r:"1"}) translate3d(0, ${i?s:"0"}%, 0)`,borderRadius:o?"":i?this.borderRadius:"0",backgroundColor:o?"":i?l:this.backgroundColorDefault}),f=()=>({filter:o?`brightness(${i?"1":n})`:"",transform:o?"":`scale(${i?"1":r}) translate3d(0, ${i?"0":s}%, 0)`,borderRadius:o?"":i?"0":this.borderRadius,backgroundColor:o?"":i?this.backgroundColorDefault:l});return this.changeBrowserMetaColor(o,i),await Promise.all([t.animate([b(),_()],this.getDefaultAnimationOptions()).finished,e.animate([u(),f()],this.getDefaultAnimationOptions()).finished])}async transitionHalfView(t,e){const i=this.scale,o=this.brightnessHalfView,r=this.topOffsetPercent,n=()=>({filter:`brightness(${e?"1":o})`,transform:`scale(${e?i:"1"}) translate3d(0, ${e?r:"0"}%, 0)`,borderRadius:e?this.borderRadius:"0",backgroundColor:e?this.backgroundColor:this.backgroundColorDefault}),s=()=>({filter:`brightness(${e?o:"1"})`,transform:`scale(${e?"1":i}) translate3d(0, ${e?"0":r}%, 0)`,borderRadius:e?"0":this.borderRadius,backgroundColor:e?this.backgroundColorDefault:this.backgroundColor});this.changeBrowserMetaColor(e,!1),await t.animate([n(),s()],this.getDefaultAnimationOptions()).finished,h(t,s())}appendStyleBeforeTransition(t){h(t,{willChange:"filter, transform",overflow:"hidden",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"}),t.removeAttribute("scale"),t.removeAttribute("offset"),t.removeAttribute("bgColor")}appendStyleAfterTransition(t,e,i){if(e)return this.resetRootNodeStyle(t);h(t,{filter:i?`brightness(${this.brightnessHalfView})`:"",transform:i?"":`scale(${this.scale}) translate3d(0, ${this.topOffsetPercent}%, 0)`,borderRadius:i?"":this.borderRadius,backgroundColor:i?"":this.backgroundColor})}changeBrowserMetaColor(t,e){Vt((i,o)=>t&&!e?ge(i,parseFloat(this.brightnessHalfView)):i)}resetRootNodeStyle(t){h(t,{filter:"",transform:"",position:"",willChange:"",overflow:"",top:"",left:"",right:"",bottom:"",zIndex:"",pointerEvents:"",backgroundColor:"",borderRadius:""})}},si=class{constructor(t,e){this.target=t,this.rootNodeName=e,this.activeOverlayMap=new Map,this.subscriptions=new Map,this.container=F()}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(t){return this.activeOverlayMap.has(t)}async open(t){const e=await this.getPosition(t),i=this.createOverlayContainer(t);i.maxHeight=e[2],this.target==="center"?h(i,{top:"0px",left:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}):h(i,{top:`${e[1]}px`,left:`${e[0]}px`,borderRadius:"24px",boxShadow:"0 -3px 4px 0 var(--primary-12), 0 6px 12px 0 var(--primary-12)"}),await this.animateEnter(i,e[3]);const o=ae();return this.activeOverlayMap.set(o,i),this.subscribe(o),o}async close(t){if(!this.activeOverlayMap.has(t))return;const e=this.activeOverlayMap.get(t);await this.animateLeave(e),this.unsubscribe(t),e.remove(),this.activeOverlayMap.delete(t)}async getPosition(t){if(this.target==="center")return[0,0,window.innerHeight-8*2,null];const i=this.target.getBoundingClientRect(),o=await this.getRect(t);let r=i.right-o.width;r<=0&&(r=i.left);const n=i.top+i.height+8,s=window.innerHeight-n-8;return[r,n,s,i]}async getRect(t){const e=this.createOverlayContainer(t);h(e,{visibility:"hidden"}),document.body.appendChild(e),await new Promise(o=>requestAnimationFrame(o));const i=e.getBoundingClientRect();return e.remove(),i}createOverlayContainer(t){const e=document.createElement(L.tagName);return h(e,{position:"absolute",display:"flex",overflow:"hidden",alignItems:"flex-end",width:"fit-content",height:"fit-content",zIndex:"2000"}),ut(d`${t}`,e),this.container.appendChild(e),e}subscribe(t){const e=new xe,i=this.activeOverlayMap.get(t);if(!i)return;if(this.target==="center"){e.add(m(i,"click").subscribe(r=>{r.target===i&&this.close(t).catch()}));return}e.add(m(window,"resize").subscribe(()=>this.close(t).catch()));const o=document.querySelector(this.rootNodeName);e.add(m(o,"scroll").subscribe(()=>this.updatePosition(t))),e.add(m(i,"click").subscribe(r=>{r.stopPropagation(),r.preventDefault()})),e.add(m(document,"click").subscribe(()=>{this.close(t).catch()})),this.subscriptions.set(t,e)}unsubscribe(t){if(!this.subscriptions.has(t))return;const e=this.subscriptions.get(t);e.closed||e.unsubscribe()}updatePosition(t){if(this.target==="center"||!this.activeOverlayMap.has(t))return;const e=this.activeOverlayMap.get(t),i=this.target.getBoundingClientRect(),o=e.getBoundingClientRect(),r=i.top+i.height+8,n=i.right-o.width;h(e,{top:`${r}px`,left:`${n}px`})}async animateEnter(t,e){const i={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const o=document.querySelector(this.rootNodeName);await Promise.all([o.animate([{filter:"blur(0)"},{filter:"blur(3px)"}],i),t.animate([{transform:"scale(.3)",opacity:.3},{transform:"scale(1)",opacity:1}],i).finished]),h(o,{filter:"blur(3px)"});return}if(!e)throw new Error("");await t.animate([{transform:`translate3d(${zt()?-5:5}%, -5%, 0)`,opacity:.3},{transform:"translate3d(0, 0, 0)",opacity:1}],i).finished}async animateLeave(t){const e={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const i=document.querySelector(this.rootNodeName);await Promise.all([i.animate([{filter:"blur(3px)"},{filter:"blur(0)"}],e),t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(0)",opacity:0}],{...e,duration:300}).finished]),h(i,{filter:""});return}await t.animate([{transform:"translate3d(0, 0, 0)",opacity:1},{transform:`translate3d(${zt()?-5:5}%, -5%, 0)`,opacity:0}],e).finished}},ji=class{constructor(t,e){this.mobileMedia=qt(),this.mobileOverlay=new ni(t),this.desktopOverlay=new si(e,t)}get isOpen(){return this.mobileMedia.matches?this.mobileOverlay.isOpen:this.desktopOverlay.isOpen}isOpenOverlay(t){return this.mobileMedia.matches?this.mobileOverlay.isOpenOverlay(t):this.desktopOverlay.isOpenOverlay(t)}async open(t){return this.mobileMedia.matches?await this.mobileOverlay.open(t):await this.desktopOverlay.open(t)}async close(t){return this.mobileMedia.matches?await this.mobileOverlay.close(t):await this.desktopOverlay.close(t)}};function ai(t,e={}){const{width:i,head:o=6,tail:r=4}=e;return i!==void 0&&(i>1410||940>i&&i>800)?t:`${t.slice(0,o)}...${t.slice(t.length-r)}`}function lt(t,e){const o=li(t,e).split("."),r=o[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return o.length>1?`${r}.${o[1]}`:r}function li(t,e){const i=t.indexOf(".");if(i===-1||t.length-i-1<=e)return t;if(e>0){const r=i+e+1;return t.substring(0,r)}return t.substring(0,i)}function ci(t,e,i=e){if(t.length===1)return t;const o=t.indexOf(".");if(o===-1||t.slice(0,o).length>1)return lt(t,i);let r=0;for(let n=o+1;n<t.length;n++)if(t[n]==="0")r++;else return lt(t,r+e);return lt(t,i)}function Fi(t,e,i=e){if(t.length===1)return t;const o=ci(t,e,i),r=o.replace(/\s+/g,""),[n]=r.split("."),s=n.length;if(s<=6)return o;if(s>6&&s<=9){const b=r.slice(0,s-6),_=r.slice(s-6,s-5);return`${b}.${_}M`}const l=r.slice(0,s-9),a=r.slice(s-9,s-8);return`${l}.${a}B`}function qi(t){const e=Math.floor(t/86400);t%=24*3600;const i=Math.floor(t/3600);t%=3600;const o=Math.floor(t/60);t%=60;const r=[];return e>0&&r.push(`${e}D`),i>0&&r.push(`${i}H`),o>0&&r.push(`${o}m`),(t>0||r.length===0)&&r.push(`${t}s`),r.join(" ")}const hi=t=>t??_t;var ui=Object.defineProperty,di=Object.getOwnPropertyDescriptor,I=(t,e,i,o)=>{for(var r=o>1?void 0:o?di(e,i):e,n=t.length-1,s;n>=0;n--)(s=t[n])&&(r=(o?s(e,i,r):s(r))||r);return o&&r&&ui(e,i,r),r},pi=w`:host{--offset:72px;position:fixed;z-index:1000;margin-bottom:var(--offset);padding-top:var(--offset);padding-bottom:8px;padding-right:8px;box-sizing:border-box;top:0;right:0;height:100vh;width:300px;display:flex;flex-direction:column;gap:8px;overflow-x:hidden;pointer-events:none}`,le=class extends z{constructor(){super(),this.notifications=[],this.animationInProgress=!1,this.animationStateQueue=[],this.fullView=!1,this.countShortView=0}connectedCallback(){super.connectedCallback(),N(this,[Ot().pipe(Xt(1),x(()=>this.controller.closeNotifications()))],{requestUpdate:!1})}setController(t){this.controller=t}setAllNotifications(t){if(this.animationInProgress){this.animationStateQueue.push(t);return}this.notifications=t,!this.fullView&&this.countShortView<this.maxShorthandView&&this.countShortView++,this.requestUpdate()}animationStartHandler(){this.animationInProgress=!0}animationCompleteHandler(){this.animationInProgress=!1;const t=this.animationStateQueue.shift();t&&(this.notifications=t,this.requestUpdate())}openAll(){this.onShowAll()}onShowAll(){this.fullView=!0,this.requestUpdate()}async closeNotification(t){await this.controller.closeNotification(t)}makeNotificationTemplate(t){const e=d`${t.element}`;return t.config.customTemplate?d`${e}`:d`<div class="notification-title"><span>${t.config.title}</span><div class="notification-time">${this.formatNotificationTime(t.timestamp)}</div></div><div class="notification-template">${e}</div>`}formatNotificationTime(t){const e=new Date(t),i=r=>r<10?"0"+r:r,o=[i(e.getHours()),i(e.getMinutes()),i(e.getSeconds())].join(":");return Date.now()-t>6*60*60*1e3?[[i(e.getDate()),i(e.getMonth()+1)].join("."),o].join(" "):o}getSortedNotifications(){const t=this.notifications;return this.fullView?t:[...t.slice(0,this.countShortView)]}},ce=w`.close-button-container{pointer-events:all;margin-left:auto}.notification-close-container{position:relative}.close-notification-button{pointer-events:all;position:absolute;top:-8px;right:-8px;transform:scale(0);transition:transform .2s}.notification-title{font-size:16px;padding-bottom:4px;display:flex}.notification-template{font-size:14px}.notification-time{font-size:11px;color:var(--color-content-content-secondary);margin-left:auto}.notification-time:dir(rtl){margin-left:0;margin-right:auto}.show-all-button{pointer-events:all}@media (hover:hover){.notification-container:hover{border:1px solid var(--primary-50)}.notification-close-container:hover .close-notification-button{transform:scale(1)}}`,fi=w`:host{position:relative;display:block}.notification-container{--border-color:var(--primary-12);pointer-events:all;color:var(--color-content-content-primary);background-color:var(--color-background-bg-primary);border-radius:8px;padding:8px;box-sizing:border-box;width:100%;min-height:50px;border:1px solid var(--border-color);transition:border .2s}.error{--border-color:var(--color-background-bg-critical)}.warning{--border-color:var(--color-background-bg-warning)}.close-notification-button{pointer-events:all;position:absolute;top:-8px;right:-8px;transform:scale(0);transition:transform .2s}@media (hover:hover){.notification-container:hover{--border-color:var(--primary-50)}.notification-container.error:hover{--border-color:var(--color-background-bg-critical-hover)}.notification-container.warning:hover{--border-color:var(--color-background-bg-warning-hover)}.notification-close-container:hover .close-notification-button{transform:scale(1)}}${Ft(w`:host{width:calc(100vw - 16px)}`)}`,J=class extends z{constructor(){super(...arguments),this.isClose=!1}connectedCallback(){super.connectedCallback(),N(this,[this.onTouch()],{requestUpdate:!1})}render(){var e,i;const t={"notification-container":!0,warning:((e=this.config)==null?void 0:e.warningStyle)??!1,error:((i=this.config)==null?void 0:i.errorStyle)??!1};return d`<div class="${Kt(t)}"><div><inch-button class="close-notification-button" @click="${()=>It(this,"closeNotification",null)}" size="l" type="secondary"><inch-icon icon="cross8"></inch-icon></inch-button></div><slot></slot></div>`}onTouch(){let t=0;return m(this,"touchstart").pipe(x(e=>{const i=e.touches[0].clientX;return m(document,"touchmove").pipe(E(o=>{if(this.isClose)return;t=o.touches[0].clientX-i,h(this,{transform:`translate3d(${t}px, 0, 0)`}),Math.abs(t)>window.innerWidth*.3&&this.onClose(t).catch()}),ft(m(document,"touchend").pipe(x(()=>this.onResetPosition(t)))))}))}async onResetPosition(t){this.isClose||(await this.animate([{transform:`translate3d(${t}px, 0, 0)`},{transform:"translate3d(0, 0, 0)"}],{duration:200}).finished,h(this,{transform:""}))}async onClose(t){this.isClose=!0,It(this,"closeNotification",null),await this.animate([{transform:`translate3d(${t}px, 0, 0)`},{transform:`translate3d(${t*10}px, 0, 0)`}],{duration:200}).finished,h(this,{transform:`translate3d(${t*10}px, 0, 0)`})}};J.tagName="inch-notification-view";J.styles=fi;I([g({type:Object})],J.prototype,"config",2);J=I([A(J.tagName)],J);var mi={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"},he=class{constructor(t){this.element=t,this.direction="vertical",this.vertical="notification-item",this.renderElements=null,this.removeElementsClientHeight=null,this.moveElements=null,this.animationOptions=mi}onKeyExtractor([t,e]){if(t==="fullView")return"item-"+t;const i=new Date(e.timestamp);return"item-"+t+`_${[i.getMinutes(),i.getSeconds()].join("-")}`}onTemplateBuilder([t,e]){return t==="fullView"?d`<inch-button @click="${()=>this.element.openAll()}" class="show-all-button" fullSize size="l" type="secondary"><inch-icon icon="arrowDown24"></inch-icon></inch-button>`:d`<inch-notification-view .config="${e.config}" @closeNotification="${()=>this.element.closeNotification(t)}">${this.element.makeNotificationTemplate(e)}</inch-notification-view>`}onAnimationStart(){this.element.animationStartHandler()}onAnimationComplete(){this.element.animationCompleteHandler()}async onBeforeAnimation(t,e,i,o){this.renderElements=e,this.removeElementsClientHeight=new Map,i.forEach((r,n)=>{this.removeElementsClientHeight.set(n,r.clientHeight)}),this.moveElements=o}async onAfterAnimation(){this.renderElements=null,this.removeElementsClientHeight=null,this.moveElements=null}async onAfterRenderAnimateItem(t,e){const i=()=>{this.onAfterRenderAnimateItemSkipTransition(t,e)};if(this.element.scrollTop>=this.topOffset){i();return}const o=t.getBoundingClientRect();if(o.top+o.height-this.topOffset>window.innerHeight){i();return}await this.onAfterRenderAnimateItemTransition(t,e),i()}async onBeforeMoveAnimationItem(t,e,i){return i}getOffsetByIndex(t){var i,o;let e=null;if((i=this.moveElements)==null||i.forEach((r,[n,s])=>{t-1===s&&(e=r.clientHeight*(n>s?-1:1))}),e===null&&this.removeElementsClientHeight){const r=(o=this.renderElements)==null?void 0:o.get(0);e=(r==null?void 0:r.clientHeight)??null}return e===null&&this.removeElementsClientHeight&&this.removeElementsClientHeight.forEach((r,n)=>{n===t&&(e=r*-1)}),e??0}},gi=class extends he{constructor(t){super(t),this.topOffset=100}async onBeforeRemoveAnimateItem(t){if(t.id===this.onKeyExtractor(["fullView",null])){t.animate([{opacity:1},{opacity:0}],{...this.animationOptions,duration:150});return}await t.animate([{transform:"translateX(0)"},{transform:"translateX(110%)"}],this.animationOptions).finished}async onBeforeRenderAnimateItem(t){h(t,{transform:"translateX(110%)"})}async onAfterMoveAnimationItem(t,e){if(t.getBoundingClientRect().top>window.innerHeight+this.topOffset)return;const o=this.getOffsetByIndex(e);await t.animate([{transform:`translateY(${o*-1}px)`},{transform:"translateY(0)"}],this.animationOptions).finished}async onAfterRenderAnimateItemTransition(t,e){const i=100+e*50;await t.animate([{transform:`translateX(${i}%)`},{transform:"translateX(0)"}],{...this.animationOptions,duration:this.animationOptions.duration+e*50}).finished}onAfterRenderAnimateItemSkipTransition(t){h(t,{transform:""})}},ct={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"},K=class extends le{constructor(){super(...arguments),this.isClose=!1,this.maxShorthandView=4,this.animationController=new gi(this)}connectedCallback(){super.connectedCallback();let t=0;N(this,[G(bi(this),vi(this)).pipe(P(()=>!this.isClose),E(e=>{if(Math.abs(e-t)>10&&e===0){this.animate([{transform:`translate3d(${t}px, 0, 0)`},{transform:"translate3d(0, 0, 0)"}],{...ct,delay:200}).finished.then(()=>{h(this,{transform:""})}),t=e;return}if(e*100/this.clientWidth>50){this.isClose=!0,this.animate([{transform:`translate3d(${e}px, 0, 0)`},{transform:"translate3d(100%, 0, 0)"}],ct).finished.then(()=>(h(this,{transform:"translate3d(100%, 0, 0)"}),this.controller.closeNotifications()));return}h(this,{transform:`translate3d(${e}px, 0, 0)`}),t=e}))],{requestUpdate:!1})}preRender(){h(this,{transform:"translateX(100%)"})}async postRender(){await this.animate([{transform:"translateX(100%)"},{transform:"translateX(0)"}],ct).finished,h(this,{transform:""})}async preClose(){this.isClose||(await this.animate([{transform:"translateX(0)"},{transform:"translateX(100%)"}],ct).finished,h(this,{transform:"translateX(100%)"}))}render(){return d`<div class="close-button-container"><inch-button @click="${()=>this.controller.closeNotifications()}" size="l" type="tertiary-gray"><inch-icon icon="cross8"></inch-icon></inch-button></div>${Ut(this.getSortedNotifications(),this.animationController)}`}getSortedNotifications(){const t=super.getSortedNotifications();return this.fullView?t:[...t,["fullView"]]}};K.tagName="inch-notifications-desktop-container";K.styles=[Et(":host",!0),ce,pi];K=I([A(K.tagName)],K);function bi(t){let e=0,i=0,o=!1;const r=5e4,n=1,s=()=>{e=0,i=0,o=!1},l=a=>{if(a<0){const b=(t.clientWidth-a)*.02;return b>12&&(o=!0),n/r+(a-n)/b}return a};return m(document,"wheel").pipe(P(a=>a.deltaMode===a.DOM_DELTA_PIXEL),k(a=>(o&&a.stopPropagation(),e=e+a.deltaX,i=i+a.deltaY,Math.abs(e)-Math.abs(i)<0?0:e*-1)),x(a=>a===0?(s(),[0]):Se(100).pipe(k(()=>(s(),0)),rt(l(a)))),pt())}function vi(t){const e=m(document,"touchend"),i=5e4,o=1,r=n=>{if(n<0){const s=(t.clientWidth-n)*.02;return o/i+(n-o)/s}return n};return m(t,"touchstart").pipe(x(n=>{const s=n.touches[0].clientX;return m(document,"touchmove").pipe(k(l=>l.touches[0].clientX-s),x(l=>e.pipe(k(()=>0),rt(r(l)))),ft(e.pipe(Rt(100))))}))}var _i=w`:host{position:fixed;top:0;left:0;z-index:3000;display:grid;flex-direction:column;overflow-x:hidden}.touch-container{position:relative;padding:8px;box-sizing:border-box;max-width:100vw}.background-view{position:fixed;top:0;left:0;width:100%;height:100%;max-height:100vh;transition:background-color .2s;z-index:-1000}.info-view{display:flex;width:100%;height:48px}`,yi=class extends he{constructor(t){super(t),this.topOffset=200}onTemplateBuilder([t,e]){return d`<inch-notification-view .config="${e.config}" @closeNotification="${()=>this.element.closeNotification(t)}">${this.element.makeNotificationTemplate(e)}</inch-notification-view>`}async onBeforeRemoveAnimateItem(t){await t.animate([{transform:"translateY(0)"},{transform:"translateY(50px) scale(0.7)",opacity:0}],this.animationOptions).finished}async onBeforeRenderAnimateItem(t){h(t,{transform:"translateX(-110%)"})}async onAfterMoveAnimationItem(t,e){if(this.element.scrollTop>=this.topOffset||t.getBoundingClientRect().top>window.innerHeight+this.topOffset)return;const o=this.getOffsetByIndex(e);await t.animate([{transform:`translateY(${o*-1}px)`},{transform:"translateY(0)"}],this.animationOptions).finished}async onAfterRenderAnimateItemTransition(t,e){const i=100+e*10;await t.animate([{transform:`translateY(${i*-1}%)`,zIndex:`-${e}`},{transform:"translateY(0)",zIndex:`-${e}`}],{...this.animationOptions,duration:this.animationOptions.duration,delay:e*200}).finished}onAfterRenderAnimateItemSkipTransition(t){h(t,{transform:""})}},wi=w`:host{width:100%}.grid-container{display:grid;width:100%;height:100%;grid-template-columns:auto 1fr;grid-template-rows:1fr;grid-gap:16px}.address{padding-top:8px;font-size:16px;font-weight:600;line-height:32px;letter-spacing:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:100%;height:fit-content;text-align:center;color:var(--color-content-content-primary);display:flex;gap:8px;justify-content:flex-end;align-items:center}`,xi={[O.eth]:"eth24",[O.bnb]:"bnb24",[O.matic]:"matic24",[O.op]:"op24",[O.arbitrum]:"arbitrum24",[O.gnosis]:"gnosis24",[O.avalanche]:"avalanche24",[O.fantom]:"fantom24",[O.aurora]:"aurora24",[O.klaytn]:"klaytn24",[O.zkSyncEra]:"zkSyncEra24"},Q=class extends z{constructor(){super(...arguments),this.addressView$=yt(()=>this.applicationContext.connectWalletController.data.activeAddress$).pipe(k(t=>{if(!t)return"";const e=Math.max(Math.round(window.innerWidth/25),12),i=Math.round(e/2),o=e-i;return ai(t,{width:e,head:i,tail:o})})),this.chainIdIconName$=yt(()=>this.applicationContext.connectWalletController.data.chainId$).pipe(k(t=>t?xi[t]:""))}render(){return d`<div class="grid-container"><inch-icon icon="logoFull"></inch-icon><div class="address"><span>${we(this.addressView$)}</span></div></div>`}};Q.tagName="inch-notifications-mobile-info";Q.styles=wi;I([Z({context:Ct})],Q.prototype,"applicationContext",2);Q=I([A(Q.tagName)],Q);var W={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"},Y=class extends le{constructor(){super(...arguments),this.maxShorthandView=1,this.animationController=new yi(this),this.touchContainerRef=q(),this.contentContainerRef=q(),this.backgroundViewRef=q(),this.upButtonElement=null,this.hostHeight=this.clientHeight,this.infoViewHeight=48,this.open$=new Yt,this.lastOffset=0,this.closeInProgress=!1,this.openInterpolation$=this.open$.pipe(x(()=>ue(10,this.infoViewHeight,200)))}firstUpdated(){N(this,[this.onShowHideUpButton(),this.swipeDownOnShortViewHandler()],{requestUpdate:!1})}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this.upButtonElement)==null||t.remove()}render(){return d`<div ${U(this.backgroundViewRef)} class="background-view"></div><div ${U(this.touchContainerRef)} class="touch-container"><div class="info-view"><inch-notifications-mobile-info></inch-notifications-mobile-info></div><div ${U(this.contentContainerRef)} class="content-view">${Ut(this.getSortedNotifications(),this.animationController)}</div></div>`}async closeNotification(t){if(this.fullView){await this.controller.closeNotification(t);return}await this.controller.closeNotifications()}openAll(){this.hostHeight=this.clientHeight,this.open$.next()}preRender(){h(this,{transform:"translateY(-100%)"})}async postRender(){await this.animate([{transform:"translate3d(0, -100%, 0)"},{transform:`translate3d(0, ${-this.infoViewHeight}px, 0)`}],W).finished,h(this,{transform:`translate3d(0, ${-this.infoViewHeight}px, 0)`})}async preClose(){this.closeInProgress=!0,this.fullView?await Promise.all([this.contentContainerRef.value.animate([{transform:`translate3d(0, ${this.lastOffset}px, 0)`},{transform:"translate3d(0, 100%, 0)"}],{duration:1e3}).finished,this.touchContainerRef.value.animate([{opacity:1},{opacity:0}],{...W,duration:1e3}).finished,this.backgroundViewRef.value.animate([vt("blur(3px)"),vt("blur(0px)")],{...W,duration:1e3})]):await this.touchContainerRef.value.animate([{transform:`translate3d(0, ${this.lastOffset*-1}px, 0)`},{transform:"translate3d(0, -100%, 0)"}],{...W,duration:700}).finished}swipeDownOnShortViewHandler(){let t=this.fullView;return G(this.openInterpolation$,Ci(this,{startHandler:()=>{t=this.fullView,this.hostHeight=this.clientHeight,this.animationStartHandler()},endHandler:()=>{this.animationCompleteHandler()}})).pipe(k(e=>this.fullView&&e<this.infoViewHeight?this.infoViewHeight:e),E(e=>{!this.touchContainerRef.value||this.scrollTop>0||this.closeInProgress||(e<0?this.handleCloseOnShortView(e):(this.applyBackgroundBlur(e),this.applyOffsetOnContentContainer(e),this.applyOffsetOnShowAll(e),this.applyHostHeight(e),this.handleCloseOnFullView(e,t)),this.applyOffsetOnHost(e),this.lastOffset=e)}))}getUpButtonTemplate(){return d`<inch-button @click="${()=>this.scrollToUp()}" size="l"><inch-icon style="transform:rotate(180deg)" icon="arrowDown24"></inch-icon></inch-button>`}onShowHideUpButton(){return m(this,"scroll").pipe(rt(null),k(()=>this.scrollTop>80),pt(),Rt(300),x(async t=>{var e,i,o,r;if(t){if((e=this.upButtonElement)==null||e.remove(),this.upButtonElement=document.createElement("div"),ut(this.getUpButtonTemplate(),this.upButtonElement),h(this.upButtonElement,{position:"fixed",bottom:"16px",right:"16px",zIndex:"3010",transform:"translateY(200%)"}),F().appendChild(this.upButtonElement),await((i=this.upButtonElement)==null?void 0:i.animate([{transform:"translateY(200%)"},{transform:"translateY(0)"}],W).finished),this.upButtonElement===null)return;h(this.upButtonElement,{transform:""})}else await((o=this.upButtonElement)==null?void 0:o.animate([{transform:"translateY(0)"},{transform:"translateY(200%)"}],W).finished),(r=this.upButtonElement)==null||r.remove(),this.upButtonElement=null;return[]}))}applyBackgroundBlur(t){if(!this.backgroundViewRef.value||this.fullView)return;const e=3;let i=t*e/this.infoViewHeight;i=i>e?e:i,h(this.backgroundViewRef.value,{...vt(`blur(${i}px)`)})}applyOffsetOnContentContainer(t){if(!this.contentContainerRef.value)return;const e=t-this.infoViewHeight;e>=0&&h(this.contentContainerRef.value,{transform:`translate3d(0, ${e}px, 0)`})}applyOffsetOnShowAll(t){t>=this.infoViewHeight&&!this.fullView&&this.onShowAll()}applyOffsetOnHost(t){let e=this.infoViewHeight-t;e=Math.max(e,0),h(this,{transform:e===0?"":`translate3d(0, -${e}px, 0)`})}applyHostHeight(t){const e=window.innerHeight,i=this.hostHeight;let o=t*e/this.infoViewHeight;o=o>e?e:o,o=o<i?i:o,h(this,{height:`${o}px`})}handleCloseOnShortView(t){t<-(this.hostHeight*.25)&&this.controller.closeNotifications().catch(console.error)}handleCloseOnFullView(t,e){t>30*window.innerHeight/100&&e&&this.controller.closeNotifications().catch(console.error)}scrollToUp(){this.scrollTo({top:-1,left:0,behavior:"smooth"})}};Y.tagName="inch-notifications-mobile-container";Y.styles=[Et(":host",!0),ce,_i];I([Z({context:Ct})],Y.prototype,"applicationContext",2);Y=I([A(Y.tagName)],Y);function Ci(t,e){const i=m(document,"touchend");return m(t,"touchstart").pipe(x(o=>{var n;(n=e==null?void 0:e.startHandler)==null||n.call(e);const r=o.touches[0].clientY;return m(document,"touchmove").pipe(k(s=>s.touches[0].clientY-r),x(s=>i.pipe(x(()=>{var l;return(l=e==null?void 0:e.endHandler)==null||l.call(e),ue(s,0,500)}),rt(s))),ft(i.pipe(Rt(600))))}))}function Ei(t,e){return i=>{const o=1-i,r=i*i,n=o*o,s=n*o,l=r*i;return s*0+3*n*i*t+3*o*r*e+l*1}}function Si(t,e){const i=Ei(t,e);return(o,r,n)=>{const s=i(n);return o+(r-o)*s}}var Oi=Si(0,.8);function ue(t,e,i){return new Ce(o=>{const r=Date.now(),n=r+i;let s;const l=()=>{const a=Date.now(),b=a-r,_=Math.min(b/i,1),u=Oi(t,e,_);o.next(u),a<n?s=requestAnimationFrame(l):o.complete()};return s=requestAnimationFrame(l),()=>{s&&cancelAnimationFrame(s)}})}function vt(t){return{backdropFilter:t,"-webkit-backdrop-filter":t}}function Ri(){return Re(10)}var ki=class{constructor(){this.cache=new Oe("notifications",3),this.notifications=new Map,this.mobileMatchMedia=qt(),this.activeContainer=null,this.update$=new Yt,this.notificationsCount$=this.update$.pipe(rt(null),k(()=>this.notifications.size),pt())}async init(){const t=await this.cache.getAll();for(const e of t){const i=JSON.parse(e),o=document.createElement("template");o.innerHTML=i.template.trim();const r=o.content.firstChild;this.notifications.set(i.id,{...i,element:r})}this.update$.next()}async openAllNotifications(){const t=this.getNotificationsContainer();F().contains(t)||await this.renderContainer(),t.openAll()}async closeNotifications(){const t=this.getNotificationsContainer();await t.preClose(),t.remove(),this.activeContainer=null,this.update$.next()}async closeNotification(t){if(!this.notifications.has(t))return;if(this.notifications.delete(t),await this.cache.delete(t),this.notifications.size===0){await this.closeNotifications();return}const e=this.getNotificationsContainer();F().contains(e)?e.setAllNotifications(this.getSortedNotifications()):await this.renderContainer(),this.update$.next()}async error(t){return await this.show("Error",t,{errorStyle:!0})}async warning(t){return await this.show("Warning",t,{warningStyle:!0})}async show(t,e,i){return await this.render(e,{...i,title:t})}async render(t,e){const i=Ri(),o=typeof t=="string"?d`${t}`:t,r=document.createElement("div");ut(o,r),await Qt();const n={id:i,element:r,config:e??{},timestamp:Date.now()};this.notifications.set(i,n),((e==null?void 0:e.notCache)??!1)||await this.cacheNotification(i,n);const s=this.getNotificationsContainer();return F().contains(s)?s.setAllNotifications(this.getSortedNotifications()):await this.renderContainer(),this.update$.next(),i}async renderContainer(){const t=this.getNotificationsContainer();t.setAllNotifications(this.getSortedNotifications()),await t.preRender(),F().appendChild(t),await t.postRender(),this.update$.next()}getNotificationsContainer(){if(this.activeContainer!==null)return this.activeContainer;let t;return this.mobileMatchMedia.matches?t=document.createElement(Y.tagName):t=document.createElement(K.tagName),t.setController(this),this.activeContainer=t,t}async cacheNotification(t,e){try{const o=new XMLSerializer().serializeToString(e.element),r=JSON.stringify({...e,template:o,element:void 0});await this.cache.set(t,r)}catch(i){console.warn(i)}}getSortedNotifications(){return[...this.notifications.entries()].sort((t,e)=>{const i=t[1];return e[1].timestamp-i.timestamp})}},Vi=w`:host{position:relative}.notification-counter{position:absolute;top:0;right:0;font-size:8px;background-color:var(--color-background-bg-info);border-radius:8px;min-width:10px;height:12px;display:flex;padding-left:2px;padding-right:2px;justify-content:center;align-items:center;color:var(--color-content-content-primary);pointer-events:none}`,M=class extends z{constructor(){super(...arguments),this.count=0,this.count$=yt(()=>this.applicationContext.notificationsController.notificationsCount$)}firstUpdated(){this.count=this.applicationContext.storageController.get("inch-notifications-open-button__count",Number)??0,N(this,[this.count$.pipe(E(t=>{this.applicationContext.storageController.set("inch-notifications-open-button__count",t),this.count=t}))])}render(){return d`<inch-button disabled="${hi(this.count===0?"":void 0)}" @click="${()=>this.applicationContext.notificationsController.openAllNotifications()}" size="l" type="primary-gray"><inch-icon icon="bell24"></inch-icon></inch-button>${Gt(this.count,()=>d`<span class="notification-counter">${this.count}</span>`)}`}};M.tagName="inch-notifications-open-button";M.styles=[Vi];I([Z({context:Ct})],M.prototype,"applicationContext",2);I([Wt()],M.prototype,"count",2);M=I([A(M.tagName)],M);const Ui=Object.freeze(Object.defineProperty({__proto__:null,NotificationsController:ki,get NotificationsOpenButtonElement(){return M}},Symbol.toStringTag,{value:"Module"}));export{ji as O,L as S,Gt as a,Di as b,Z as c,ai as d,Kt as e,lt as f,ze as g,Pe as h,ni as i,q as j,U as k,qi as l,Fi as m,g as n,hi as o,Qt as p,Bi as q,Wt as r,ci as s,Ui as t};
//# sourceMappingURL=index.esm-BXWn27hg.js.map
