{"version":3,"file":"index.esm-BpDEnq4Y.js","sources":["../../../libs/widgets/select-token/index.esm.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\n\n// libs/widgets/src/lib/select-token/select-token.element.ts\nimport { html as html6, LitElement as LitElement6 } from \"lit\";\nimport { customElement as customElement6, property as property4 } from \"lit/decorators.js\";\nimport { ContextProvider } from \"@lit/context\";\nimport \"@one-inch-community/ui-components/card\";\n\n// libs/widgets/src/lib/select-token/select-token.style.ts\nimport { css } from \"lit\";\nvar selectTokenStyle = css`\n  \n  :host {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n  }\n  \n`;\n\n// libs/widgets/src/lib/select-token/context.ts\nimport { createContext } from \"@lit/context\";\nvar selectTokenContext = createContext(Symbol(\"select token context\"));\n\n// libs/widgets/src/lib/select-token/select-token.context.ts\nimport { TokenController } from \"@one-inch-community/sdk\";\nimport { ReplaySubject, Subject, BehaviorSubject, combineLatest, switchMap, mergeMap } from \"rxjs\";\nvar SelectTokenContext = class {\n  constructor() {\n    this.chainId$ = new ReplaySubject(1);\n    this.connectedWalletAddress$ = new BehaviorSubject(null);\n    this.changeFavoriteTokenState$ = new Subject();\n    this.favoriteTokens$ = this.chainId$.pipe(\n      mergeMap((chainId) => TokenController.liveQuery(() => TokenController.getAllFavoriteTokenAddresses(chainId)))\n    );\n    this.tokenAddressList$ = combineLatest([\n      this.chainId$,\n      this.connectedWalletAddress$\n    ]).pipe(\n      switchMap(([chainId, address]) => TokenController.getSortedForViewTokenAddresses(chainId, address ?? void 0))\n    );\n  }\n  setChainId(chainId) {\n    this.chainId$.next(chainId);\n  }\n  setConnectedWalletAddress(address) {\n    this.connectedWalletAddress$.next(address ?? null);\n  }\n  async setFavoriteTokenState(chainId, address, state3) {\n    await TokenController.setFavoriteState(chainId, address, state3);\n    this.changeFavoriteTokenState$.next([chainId, address]);\n  }\n};\n\n// libs/widgets/src/lib/select-token/elements/search-token-input/search-token-input.element.ts\nimport { html, LitElement } from \"lit\";\nimport { customElement, state } from \"lit/decorators.js\";\nimport { classMap } from \"lit/directives/class-map.js\";\n\n// libs/widgets/src/lib/select-token/elements/search-token-input/search-token-input.style.ts\nimport { css as css2 } from \"lit\";\nvar searchTokenInputStyle = css2`\n\n    .search-token-input-container {\n        display: flex;\n        background-color: var(--color-background-bg-secondary);\n        height: 48px;\n        border-radius: 12px;\n        color: var(--color-content-content-tertiary);\n        align-items: center;\n        padding-left: 12px;\n        padding-right: 12px;\n        box-sizing: border-box;\n        gap: 8px;\n        margin-top: 5px;\n        transition: box-shadow .2s;\n    }\n    \n    .search-token-input {\n        border: none;\n        background-color: transparent;\n        height: 100%;\n        width: 100%;\n        outline: none;\n        color: var(--color-content-content-primary);\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px;\n    }\n    \n    .search-token-input::placeholder {\n        color: var(--color-content-content-secondary);\n    }\n    \n    @media (hover: hover) {\n        .search-token-input-container:hover {\n            box-shadow: 0 0 0 1px var(--primary);\n        }\n    }\n    \n    .search-token-input-container__focused {\n        box-shadow: 0 0 0 1px var(--primary);\n    }\n\n`;\n\n// libs/widgets/src/lib/select-token/elements/search-token-input/search-token-input.element.ts\nimport \"@one-inch-community/ui-components/icon\";\nimport { sceneContext } from \"@one-inch-community/ui-components/scene\";\nimport { consume } from \"@lit/context\";\nvar SearchTokenInputElement = class extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.isFocused = false;\n  }\n  render() {\n    const classes = {\n      \"search-token-input-container\": true,\n      \"search-token-input-container__focused\": this.isFocused\n    };\n    return html`\n      <div class=\"${classMap(classes)}\">\n        <inch-icon icon=\"search24\"></inch-icon>\n        <input\n          id=\"search\"\n          autofocus\n          autocomplete=\"off\"\n          @focus=\"${() => this.isFocused = true}\"\n          @blur=\"${() => this.isFocused = false}\"\n          placeholder=\"Search token by name or address\"\n          class=\"search-token-input\"\n        >\n      </div>\n    `;\n  }\n  async firstUpdated() {\n    const input = this.renderRoot.querySelector(\"#search\");\n    if (!input)\n      return;\n    if (this.sceneContext && this.sceneContext.animationInProgress) {\n      await this.sceneContext.animationInEnd;\n    }\n  }\n};\nSearchTokenInputElement.tagName = \"inch-search-token-input\";\nSearchTokenInputElement.styles = searchTokenInputStyle;\n__decorateClass([\n  state()\n], SearchTokenInputElement.prototype, \"isFocused\", 2);\n__decorateClass([\n  consume({ context: sceneContext })\n], SearchTokenInputElement.prototype, \"sceneContext\", 2);\nSearchTokenInputElement = __decorateClass([\n  customElement(SearchTokenInputElement.tagName)\n], SearchTokenInputElement);\n\n// libs/widgets/src/lib/select-token/elements/token-list/token-list.element.ts\nimport { html as html4, LitElement as LitElement4 } from \"lit\";\nimport { customElement as customElement4, state as state2, property as property3 } from \"lit/decorators.js\";\n\n// libs/widgets/src/lib/select-token/elements/token-list-item/token-list-item.element.ts\nimport { html as html3, LitElement as LitElement3 } from \"lit\";\nimport { customElement as customElement3, property as property2 } from \"lit/decorators.js\";\nimport { classMap as classMap3 } from \"lit/directives/class-map.js\";\n\n// libs/widgets/src/lib/select-token/elements/token-list-item/token-list-item.style.ts\nimport { mobileMediaCSS } from \"@one-inch-community/lit\";\nimport { css as css3 } from \"lit\";\nvar tokenListItemStyle = css3`\n    \n    :host {\n        height: 72px;\n        width: 100%;\n        outline: none;\n        user-select: none;\n        -webkit-tap-highlight-color: transparent;\n    }\n    \n    .item-container {\n        padding: 12px 16px;\n        display: flex;\n        gap: 8px;\n        align-items: center;\n        cursor: pointer;\n        border-radius: 16px;\n        transition: background-color .2s;\n    }\n\n    .name-and-balance {\n        display: flex;\n        flex-direction: column;\n        gap: 4px;\n        max-width: 50%;\n    }\n\n    .name-and-balance .name {\n        color: var(--color-content-content-primary);\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 500;\n        line-height: 24px;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n\n    .name-and-balance .balance {\n        color: var(--color-content-content-secondary);\n        font-size: 14px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 20px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n    \n    .usd-balance {\n        color: var(--color-content-content-primary);\n        text-align: right;\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 500;\n        line-height: 24px;\n        white-space: nowrap\n    }\n    \n    .usd-balance-and-favorite-start {\n        display: flex;\n        gap: 8px;\n        align-items: center;\n        margin-left: auto;\n    }\n    \n    @media (hover: hover) {\n        .item-container:hover {\n            background-color: var(--color-background-bg-secondary);\n        }\n\n        .item-container:not(.is-favorite-token) .usd-balance {\n            transform: translateX(24px);\n            transition: transform .2s;\n        }\n\n        .item-container:not(.is-favorite-token) .is-favorite-start {\n            transform: scale(0);\n            transition: transform .2s;\n        }\n\n        .item-container:hover .is-favorite-start {\n            transform: scale(1);\n        }\n\n        .item-container:hover .usd-balance {\n            transform: translateX(0);\n        }\n    }\n    \n    ${mobileMediaCSS(css3`\n        .item-container {\n            padding: 8px 8px;\n        }\n    `)}\n\n    .item-container:active {\n        background-color: var(--color-background-bg-secondary);\n    }\n\n`;\n\n// libs/widgets/src/lib/select-token/elements/token-list-item/token-list-item.element.ts\nimport { formatUnits, isAddressEqual } from \"viem\";\nimport { Task } from \"@lit/task\";\nimport { formatNumber, TokenController as TokenController2 } from \"@one-inch-community/sdk\";\nimport \"@one-inch-community/widgets/token-icon\";\nimport \"@one-inch-community/ui-components/icon\";\n\n// libs/widgets/src/lib/select-token/elements/token-list-stub-item/token-list-stub-tem.element.ts\nimport { html as html2, LitElement as LitElement2 } from \"lit\";\nimport { customElement as customElement2, property } from \"lit/decorators.js\";\nimport { classMap as classMap2 } from \"lit/directives/class-map.js\";\n\n// libs/widgets/src/lib/select-token/elements/token-list-stub-item/token-list-stub-item.style.ts\nimport { mobileMediaCSS as mobileMediaCSS2 } from \"@one-inch-community/lit\";\nimport { css as css4 } from \"lit\";\nvar tokenListStubItemStyle = css4`\n    \n    :host {\n        height: 72px;\n        width: 100%;\n    }\n    \n    .item-container {\n        padding: 12px 16px;\n        display: flex;\n        gap: 8px;\n        align-items: center;\n        cursor: pointer;\n        border-radius: 16px;\n        transition: background-color .2s;\n    }\n\n    .name-and-balance {\n        display: flex;\n        flex-direction: column;\n        gap: 4px;\n        width: 100%;\n    }\n\n    .stub-loader {\n        will-change: filter;\n        animation: stub-loader-animation 3s ease-in-out infinite;\n    }\n\n    .stub-token-icon {\n        min-width: 40px;\n        min-height: 40px;\n        border-radius: 50%;\n        background-color: var(--color-background-bg-secondary);\n    }\n\n    .name-stub {\n        background-color: var(--color-background-bg-secondary);\n        height: 24px;\n        width: 40%;\n        border-radius: 8px;\n    }\n\n    .balance-stub {\n        background-color: var(--color-background-bg-secondary);\n        height: 20px;\n        width: 30%;\n        border-radius: 8px;\n    }\n\n    @keyframes stub-loader-animation {\n        0%, 100% {\n            filter: opacity(1);\n        }\n        50% {\n            filter: opacity(0.5);\n        }\n    }\n\n    ${mobileMediaCSS2(css4`\n        .item-container {\n            padding: 8px 8px;\n        }\n    `)}\n\n`;\n\n// libs/widgets/src/lib/select-token/elements/token-list-stub-item/token-list-stub-tem.element.ts\nvar TokenListStubTemElement = class extends LitElement2 {\n  constructor() {\n    super(...arguments);\n    this.notShowLoader = false;\n  }\n  render() {\n    const classes = {\n      \"item-container\": true,\n      \"stub-loader\": !this.notShowLoader\n    };\n    return html2`\n      <div class=\"${classMap2(classes)}\">\n        <div class=\"stub-token-icon\"></div>\n        <div class=\"name-and-balance\">\n          <span class=\"name-stub\"></span>\n          <span class=\"balance-stub\"></span>\n        </div>\n      </div>\n    `;\n  }\n};\nTokenListStubTemElement.tagName = \"inch-token-list-stub-item\";\nTokenListStubTemElement.styles = tokenListStubItemStyle;\n__decorateClass([\n  property({ type: Boolean, attribute: true })\n], TokenListStubTemElement.prototype, \"notShowLoader\", 2);\nTokenListStubTemElement = __decorateClass([\n  customElement2(TokenListStubTemElement.tagName)\n], TokenListStubTemElement);\n\n// libs/widgets/src/lib/select-token/elements/token-list-item/token-list-item.element.ts\nimport { subscribe } from \"@one-inch-community/lit\";\nimport { filter, merge, switchMap as switchMap2, timer } from \"rxjs\";\nimport { consume as consume2 } from \"@lit/context\";\n\n// libs/widgets/src/lib/select-token/events.ts\nimport { dispatchEvent } from \"@one-inch-community/lit\";\nfunction emitSelectTokenEvent(ctx, value, event) {\n  dispatchEvent(ctx, \"selectToken\", value, event);\n}\n\n// libs/widgets/src/lib/select-token/elements/token-list-item/token-list-item.element.ts\nvar TokenListItemElement = class extends LitElement3 {\n  constructor() {\n    super(...arguments);\n    this.isDestroy = false;\n    this.preRenderTemplate = null;\n    this.isFavorite = false;\n    this.task = new Task(\n      this,\n      async ([chainId, tokenAddress, walletAddress, fastUpdate]) => {\n        if (fastUpdate) {\n          const result = this.task.value;\n          if (result)\n            return result;\n        }\n        if (!chainId || !tokenAddress)\n          return [];\n        if (this.isDestroy)\n          throw new Error(\"\");\n        const token = await TokenController2.getToken(chainId, tokenAddress);\n        let balance = null;\n        let balanceUsd = null;\n        if (walletAddress && token) {\n          balance = await TokenController2.getTokenBalance(chainId, tokenAddress, walletAddress);\n          const tokenPrice = await TokenController2.getTokenUSDPrice(chainId, tokenAddress);\n          const balanceFormatted = formatUnits(BigInt(balance?.amount ?? 0), token.decimals);\n          balanceUsd = Number(balanceFormatted) * Number(tokenPrice);\n        }\n        return [token, balance, balanceUsd];\n      },\n      () => [this.chainId, this.tokenAddress, this.walletAddress, false]\n    );\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.isDestroy = true;\n  }\n  firstUpdated() {\n    subscribe(this, merge(\n      timer(12e3),\n      this.getTokenUpdateEmitter()\n    ).pipe(\n      switchMap2(() => this.task.run([this.chainId, this.tokenAddress, this.walletAddress, false]))\n    ), { requestUpdate: false });\n  }\n  render() {\n    return html3`\n      ${this.task.render({\n      complete: ([token, balance, balanceUsd]) => this.getTokenView(token, balance, balanceUsd),\n      pending: () => {\n        if (this.preRenderTemplate)\n          return this.preRenderTemplate;\n        return this.getStub();\n      },\n      error: () => {\n        if (this.preRenderTemplate)\n          return this.preRenderTemplate;\n        return this.getStub();\n      }\n    })}\n    `;\n  }\n  getTokenView(token, balance, balanceUsd) {\n    if (!token) {\n      return this.getStub();\n    }\n    this.isFavorite = token.isFavorite ?? false;\n    let balanceFormat = \"0\";\n    if (balance) {\n      balanceFormat = formatNumber(formatUnits(BigInt(balance.amount), token.decimals), 6);\n    }\n    let balanceUsdFormat = \"$0\";\n    if (balanceUsd) {\n      balanceUsdFormat = \"$\" + formatNumber(balanceUsd.toString(), 2);\n    }\n    let startColor = { border: \"var(--color-border-border-secondary)\", body: \"none\" };\n    if (this.isFavorite) {\n      startColor = { border: \"var(--color-core-orange-warning)\", body: \"var(--color-core-orange-warning)\" };\n    }\n    const classes = {\n      \"item-container\": true,\n      \"is-favorite-token\": token.isFavorite\n    };\n    this.preRenderTemplate = html3`\n      <div class=\"${classMap3(classes)}\" @click=\"${(event) => emitSelectTokenEvent(this, token, event)}\">\n        <inch-token-icon symbol=\"${token.symbol}\" address=\"${token.address}\" chainId=\"${token.chainId}\"\n                         size=\"40\"></inch-token-icon>\n        <div class=\"name-and-balance\">\n          <span class=\"name\">${token.name}</span>\n          <span class=\"balance\">${balanceFormat} ${token.symbol}</span>\n        </div>\n\n        <div class=\"usd-balance-and-favorite-start\">\n          <span class=\"usd-balance\">${balanceUsdFormat}</span>\n          <inch-icon class=\"is-favorite-start\" @click=\"${(event) => this.onMarkFavoriteToken(event, token)}\"\n                     icon=\"startDefault16\" .props=\"${startColor}\"></inch-icon>\n        </div>\n      </div>\n    `;\n    return this.preRenderTemplate;\n  }\n  async onMarkFavoriteToken(event, token) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.isFavorite = !token.isFavorite;\n    await this.task.run([this.chainId, this.tokenAddress, this.walletAddress, true]);\n    await this.context?.setFavoriteTokenState(token.chainId, token.address, !token.isFavorite);\n  }\n  getTokenUpdateEmitter() {\n    if (!this.context)\n      throw new Error(\"\");\n    return this.context.changeFavoriteTokenState$.pipe(\n      filter(([chainId, address]) => {\n        const token = this.task?.value?.[0] ?? null;\n        return token && token.chainId === chainId && isAddressEqual(token.address, address);\n      })\n    );\n  }\n  getStub() {\n    return html3`\n      <inch-token-list-stub-item></inch-token-list-stub-item>\n    `;\n  }\n};\nTokenListItemElement.tagName = \"inch-token-list-item\";\nTokenListItemElement.styles = tokenListItemStyle;\n__decorateClass([\n  property2({ type: String, attribute: true })\n], TokenListItemElement.prototype, \"tokenAddress\", 2);\n__decorateClass([\n  property2({ type: String, attribute: true })\n], TokenListItemElement.prototype, \"walletAddress\", 2);\n__decorateClass([\n  property2({ type: Number, attribute: true })\n], TokenListItemElement.prototype, \"chainId\", 2);\n__decorateClass([\n  consume2({ context: selectTokenContext })\n], TokenListItemElement.prototype, \"context\", 2);\nTokenListItemElement = __decorateClass([\n  customElement3(TokenListItemElement.tagName)\n], TokenListItemElement);\n\n// libs/widgets/src/lib/select-token/elements/token-list/token-list.element.ts\nimport \"@one-inch-community/ui-components/icon\";\n\n// libs/widgets/src/lib/select-token/elements/token-list/token-list.style.ts\nimport { mobileMediaCSS as mobileMediaCSS3 } from \"@one-inch-community/lit\";\nimport { css as css5 } from \"lit\";\nvar tokenListStyle = css5`\n\n    :host {\n        height: 50vh;\n        width: 100%;\n    }\n    \n    ${mobileMediaCSS3(css5`\n        :host {\n            height: 100%;\n            width: 100%;\n        }\n    `)}\n`;\n\n// libs/widgets/src/lib/select-token/elements/token-list/token-list.element.ts\nimport { consume as consume3 } from \"@lit/context\";\nimport { defer, shareReplay, tap } from \"rxjs\";\nimport { observe, subscribe as subscribe2 } from \"@one-inch-community/lit\";\nimport { scrollbarStyle } from \"@one-inch-community/ui-components/theme\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { sceneContext as sceneContext2 } from \"@one-inch-community/ui-components/scene\";\nimport \"@one-inch-community/ui-components/scroll\";\nvar TokenListElement = class extends LitElement4 {\n  constructor() {\n    super(...arguments);\n    this.chainId = null;\n    this.walletAddress = null;\n    this.addressList$ = defer(() => this.getTokenAddressList()).pipe(\n      shareReplay({ refCount: true, bufferSize: 1 })\n    );\n  }\n  render() {\n    return html4`\n      <inch-scroll-view-virtualizer-consumer\n        .header=\"${this.header}\"\n        .items=${observe(this.addressList$, this.getStubAddresses())}\n        .keyFunction=\"${(address) => [this.chainId, this.walletAddress, address].join(\":\")}\"\n        .renderItem=${(address) => html4`\n            <inch-token-list-item\n              tokenAddress=\"${address}\"\n              walletAddress=\"${ifDefined(this.walletAddress ?? void 0)}\"\n              chainId=\"${ifDefined(this.chainId ?? void 0)}\"\n            ></inch-token-list-item>`}\n      ></inch-scroll-view-virtualizer-consumer>\n    `;\n  }\n  async firstUpdated() {\n    subscribe2(this, [\n      this.getConnectedWalletAddress().pipe(tap((address) => this.walletAddress = address)),\n      this.getChainId().pipe(tap((chainId) => this.chainId = chainId)),\n      this.addressList$\n    ], { requestUpdate: false });\n    subscribe2(this, [\n      this.getFavoriteTokens()\n    ]);\n  }\n  getTokenAddressList() {\n    if (!this.context)\n      throw new Error(\"\");\n    return this.context.tokenAddressList$;\n  }\n  getChainId() {\n    if (!this.context)\n      throw new Error(\"\");\n    return this.context.chainId$;\n  }\n  getFavoriteTokens() {\n    if (!this.context)\n      throw new Error(\"\");\n    return this.context.favoriteTokens$;\n  }\n  getConnectedWalletAddress() {\n    if (!this.context)\n      throw new Error(\"\");\n    return this.context.connectedWalletAddress$;\n  }\n  getStubAddresses() {\n    return Array.from(Array(30)).map((_, index) => `0x${index.toString(16)}`);\n  }\n};\nTokenListElement.tagName = \"inch-token-list\";\nTokenListElement.styles = [\n  tokenListStyle,\n  scrollbarStyle\n];\n__decorateClass([\n  property3({ type: Object })\n], TokenListElement.prototype, \"header\", 2);\n__decorateClass([\n  consume3({ context: selectTokenContext })\n], TokenListElement.prototype, \"context\", 2);\n__decorateClass([\n  consume3({ context: sceneContext2 })\n], TokenListElement.prototype, \"sceneContext\", 2);\n__decorateClass([\n  state2()\n], TokenListElement.prototype, \"chainId\", 2);\n__decorateClass([\n  state2()\n], TokenListElement.prototype, \"walletAddress\", 2);\nTokenListElement = __decorateClass([\n  customElement4(TokenListElement.tagName)\n], TokenListElement);\n\n// libs/widgets/src/lib/select-token/elements/favorite-tokens/favorite-tokens.element.ts\nimport { html as html5, LitElement as LitElement5 } from \"lit\";\nimport { customElement as customElement5 } from \"lit/decorators.js\";\nimport { when } from \"lit/directives/when.js\";\nimport { consume as consume4 } from \"@lit/context\";\nimport \"@one-inch-community/ui-components/button\";\nimport \"@one-inch-community/widgets/token-icon\";\nimport \"@one-inch-community/ui-components/icon\";\n\n// libs/widgets/src/lib/select-token/elements/favorite-tokens/favorite-tokens.styles.ts\nimport { css as css6 } from \"lit\";\nvar favoriteTokensStyles = css6`\n    :host {\n        display: flex;\n        width: 100%;\n        height: 60px;\n    }\n    \n    :host(.empty) {\n        height: 16px;\n        padding-bottom: 0;\n        margin-bottom: 0;\n    }\n    \n    :host(.transition-host) {\n        transition: height .2s, padding-bottom .2s, margin-bottom .2s;\n    }\n    \n    :host(.remove-favorite-token-show) .remove-favorite-token {\n        transform: scale(1) translate(0, 0);\n    }\n    \n    .favorite-container-scroll {\n        overflow-y: hidden;\n        overflow-x: auto;\n        position: relative;\n        width: 100%;\n        padding-top: 16px;\n        padding-bottom: 8px;\n        margin-bottom: 8px;\n        height: 36px;\n    }\n    \n    .favorite-container {\n        display: flex;\n        gap: 12px;\n        height: 36px;\n        position: absolute;\n    }\n\n    ::-webkit-scrollbar {\n        height: 2px;\n    }\n\n    .favorite-container-scroll::-webkit-scrollbar-thumb {\n        transition: background-color .2s;\n        background: var(--color-background-bg-primary);\n    }\n    \n    .favorite-token-item-container {\n        position: relative;\n    }\n    \n    .remove-favorite-token {\n        position: absolute;\n        top: -8px;\n        right: -8px;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: var(--color-background-bg-secondary);\n        z-index: 9;\n        transition: transform .2s;\n        transform: scale(0) translate(-16px, 16px);\n        cursor: pointer;\n        color: var(--color-content-content-primary);\n    }\n    \n    @media (hover: hover) {\n        .favorite-container-scroll:hover::-webkit-scrollbar-thumb {\n            background: var(--primary);\n        }\n        .favorite-token-item-container:hover .remove-favorite-token {\n            transform: scale(1) translate(0, 0);\n        }\n        .remove-favorite-token:hover {\n            background-color: var(--secondary-hover);\n        }\n        .edit-favorite-token-list {\n            display: none;\n        }\n    }\n    \n    \n\n`;\n\n// libs/widgets/src/lib/select-token/elements/favorite-tokens/favorite-tokens.element.ts\nimport { BehaviorSubject as BehaviorSubject2, combineLatest as combineLatest2, debounceTime, defer as defer2, map, shareReplay as shareReplay2, startWith, switchMap as switchMap3, tap as tap2 } from \"rxjs\";\nimport { observe as observe2, animationMap, subscribe as subscribe3 } from \"@one-inch-community/lit\";\nimport { TokenController as TokenController3 } from \"@one-inch-community/sdk\";\nimport { scrollbarStyle as scrollbarStyle2 } from \"@one-inch-community/ui-components/theme\";\nvar FavoriteTokensElement = class extends LitElement5 {\n  constructor() {\n    super(...arguments);\n    this.editAllMode$ = new BehaviorSubject2(false);\n    this.favoriteTokensView$ = combineLatest2([\n      defer2(() => this.getFavoriteTokens()),\n      defer2(() => this.getChainId())\n    ]).pipe(\n      debounceTime(0),\n      switchMap3(([tokens, chainId]) => TokenController3.getTokenList(chainId, tokens)),\n      map((tokens) => tokens.sort((token1, token2) => token2.priority - token1.priority)),\n      startWith([]),\n      tap2((tokens) => {\n        if (tokens.length && this.classList.contains(\"empty\")) {\n          this.classList.remove(\"empty\");\n        }\n        if (!tokens.length && !this.classList.contains(\"empty\")) {\n          this.classList.add(\"empty\");\n        }\n      }),\n      tap2(() => {\n        if (!this.classList.contains(\"transition-host\")) {\n          setTimeout(() => {\n            this.classList.add(\"transition-host\");\n          }, 300);\n        }\n      }),\n      map((tokens) => {\n        if (tokens.length) {\n          tokens.push(null);\n        }\n        return html5`\n        <div class=\"favorite-container-scroll\">\n          <div class=\"favorite-container\">\n            ${html5`${animationMap(\n          tokens,\n          (token) => token !== null ? \"t\" + token.address : \"edit\",\n          itemAnimation,\n          (token) => when(\n            token,\n            (token2) => html5`\n                <div class=\"favorite-token-item-container\">\n                  <div class=\"remove-favorite-token\" @click=\"${(event) => this.onRemoveFavoriteToken(token2, event)}\">\n                    <inch-icon icon=\"cross8\"></inch-icon>\n                  </div>\n                  <inch-button size=\"m\" type=\"secondary\" class=\"favorite-token-item\" @click=\"${(event) => emitSelectTokenEvent(this, token2, event)}\">\n                    <inch-token-icon symbol=\"${token2.symbol}\" address=\"${token2.address}\"\n                                     chainId=\"${token2.chainId}\"></inch-token-icon>\n                    <span>${token2.symbol}</span>\n                  </inch-button>\n                </div>\n              `,\n            () => html5`\n                <inch-button size=\"l\" type=\"secondary\" class=\"favorite-token-item edit-favorite-token-list\"\n                             @click=\"${() => this.editAllMode$.next(!this.editAllMode$.value)}\">\n                  <inch-icon icon=\"edit24\"></inch-icon>\n                </inch-button>\n              `\n          )\n        )}`}\n          </div>\n        </div>\n      `;\n      }),\n      shareReplay2({ bufferSize: 1, refCount: true })\n    );\n  }\n  firstUpdated() {\n    subscribe3(this, this.editAllMode$.pipe(\n      tap2((state3) => {\n        state3 ? this.classList.add(\"remove-favorite-token-show\") : this.classList.remove(\"remove-favorite-token-show\");\n      })\n    ), { requestUpdate: false });\n  }\n  render() {\n    return html5`${observe2(this.favoriteTokensView$)}`;\n  }\n  getFavoriteTokens() {\n    if (!this.context)\n      throw new Error(\"\");\n    return this.context.favoriteTokens$;\n  }\n  getChainId() {\n    if (!this.context)\n      throw new Error(\"\");\n    return this.context.chainId$;\n  }\n  async onRemoveFavoriteToken(token, event) {\n    event.stopPropagation();\n    event.preventDefault();\n    await this.context?.setFavoriteTokenState(token.chainId, token.address, false);\n  }\n};\nFavoriteTokensElement.tagName = \"inch-favorite-tokens\";\nFavoriteTokensElement.styles = [\n  favoriteTokensStyles,\n  scrollbarStyle2\n];\n__decorateClass([\n  consume4({ context: selectTokenContext })\n], FavoriteTokensElement.prototype, \"context\", 2);\nFavoriteTokensElement = __decorateClass([\n  customElement5(FavoriteTokensElement.tagName)\n], FavoriteTokensElement);\nvar itemAnimation = {\n  deleteElement: async (element) => {\n    element.style.overflow = \"hidden\";\n    await element.animate([\n      { flexBasis: `${element.offsetWidth}px`, transform: \"scale(1) translateX(0)\" },\n      { flexBasis: \"0\", transform: \"scale(0) translateX(-20%)\" }\n    ], {\n      duration: element.id === \"edit\" ? 50 : 150\n    }).finished;\n    element.style.overflow = \"\";\n  },\n  addedElement: async (element) => {\n    element.style.overflow = \"hidden\";\n    element.style.transform = \"scale(0) translateX(-20%)\";\n    element.style.position = \"absolute\";\n    element.style.top = \"-9999\";\n    element.style.left = \"-9999\";\n    document.body.appendChild(element);\n    await new Promise((resolve) => requestAnimationFrame(resolve));\n    const width = element.offsetWidth;\n    element.remove();\n    element.style.position = \"\";\n    element.style.top = \"\";\n    element.style.left = \"\";\n    return async (element2) => {\n      await element2.animate([\n        { flexBasis: \"0\", transform: \"scale(0) translateX(-20%)\" },\n        { flexBasis: `${width}px`, transform: \"scale(1) translateX(0)\" }\n      ], {\n        duration: 150\n      }).finished;\n      element2.style.transform = \"\";\n      element2.style.overflow = \"\";\n    };\n  }\n};\n\n// libs/widgets/src/lib/select-token/select-token.element.ts\nimport { createMainViewportContext } from \"@one-inch-community/ui-components/scroll\";\nvar SelectTokenElement = class extends LitElement6 {\n  constructor() {\n    super(...arguments);\n    this.context = new ContextProvider(this, { context: selectTokenContext });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    createMainViewportContext(this);\n  }\n  render() {\n    this.initContext();\n    return html6`\n      <inch-token-list\n        .header=\"${() => html6`\n          <inch-card-header backButton headerText=\"Select token\"></inch-card-header>\n          <inch-search-token-input></inch-search-token-input>\n          <inch-favorite-tokens></inch-favorite-tokens>\n        `}\"\n      ></inch-token-list>\n    `;\n  }\n  updated(changedProperties) {\n    let isDirty = false;\n    const context = this.context.value;\n    if (changedProperties.has(\"chainId\") && this.chainId) {\n      context.setChainId(this.chainId);\n      isDirty = true;\n    }\n    if (changedProperties.has(\"connectedWalletAddress\")) {\n      context.setConnectedWalletAddress(this.connectedWalletAddress);\n      isDirty = true;\n    }\n    if (isDirty) {\n      this.requestUpdate();\n    }\n  }\n  initContext() {\n    if (this.context.value)\n      return;\n    const { chainId, connectedWalletAddress } = this;\n    if (!chainId)\n      throw new Error(\"\");\n    const context = new SelectTokenContext();\n    context.setChainId(chainId);\n    context.setConnectedWalletAddress(connectedWalletAddress);\n    this.context.setValue(context);\n  }\n};\nSelectTokenElement.tagName = \"inch-select-token\";\nSelectTokenElement.styles = selectTokenStyle;\n__decorateClass([\n  property4({ type: Number })\n], SelectTokenElement.prototype, \"chainId\", 2);\n__decorateClass([\n  property4({ type: String })\n], SelectTokenElement.prototype, \"connectedWalletAddress\", 2);\nSelectTokenElement = __decorateClass([\n  customElement6(SelectTokenElement.tagName)\n], SelectTokenElement);\nexport {\n  SelectTokenElement\n};\n//# sourceMappingURL=index.esm.js.map\n"],"names":["__defProp","__getOwnPropDesc","__decorateClass","decorators","target","key","kind","result","i","decorator","selectTokenStyle","css","selectTokenContext","createContext","SelectTokenContext","ReplaySubject","BehaviorSubject","Subject","mergeMap","chainId","TokenController","combineLatest","switchMap","address","state3","searchTokenInputStyle","css2","SearchTokenInputElement","LitElement","classes","html","classMap","state","consume","sceneContext","customElement","tokenListItemStyle","css3","mobileMediaCSS","tokenListStubItemStyle","css4","mobileMediaCSS2","TokenListStubTemElement","LitElement2","html2","classMap2","property","customElement2","emitSelectTokenEvent","ctx","value","event","dispatchEvent","TokenListItemElement","LitElement3","Task","tokenAddress","walletAddress","fastUpdate","token","TokenController2","balance","balanceUsd","tokenPrice","balanceFormatted","formatUnits","subscribe","merge","timer","switchMap2","html3","balanceFormat","formatNumber","balanceUsdFormat","startColor","classMap3","_a","filter","_b","isAddressEqual","property2","consume2","customElement3","tokenListStyle","css5","mobileMediaCSS3","TokenListElement","LitElement4","defer","shareReplay","html4","observe","ifDefined","subscribe2","tap","_","index","scrollbarStyle","property3","consume3","sceneContext2","state2","customElement4","favoriteTokensStyles","css6","FavoriteTokensElement","LitElement5","BehaviorSubject2","combineLatest2","defer2","debounceTime","switchMap3","tokens","TokenController3","map","token1","token2","startWith","tap2","html5","animationMap","itemAnimation","when","shareReplay2","subscribe3","observe2","scrollbarStyle2","consume4","customElement5","element","resolve","width","element2","SelectTokenElement","LitElement6","ContextProvider","createMainViewportContext","html6","changedProperties","isDirty","context","connectedWalletAddress","property4","customElement6"],"mappings":"6TAAA,IAAIA,GAAY,OAAO,eACnBC,GAAmB,OAAO,yBAC1BC,EAAkB,CAACC,EAAYC,EAAQC,EAAKC,IAAS,CAEvD,QADIC,EAASD,EAAO,EAAI,OAASA,EAAOL,GAAiBG,EAAQC,CAAG,EAAID,EAC/DI,EAAIL,EAAW,OAAS,EAAGM,EAAWD,GAAK,EAAGA,KACjDC,EAAYN,EAAWK,CAAC,KAC1BD,GAAUD,EAAOG,EAAUL,EAAQC,EAAKE,CAAM,EAAIE,EAAUF,CAAM,IAAMA,GAC5E,OAAID,GAAQC,GACVP,GAAUI,EAAQC,EAAKE,CAAM,EACxBA,CACT,EAUIG,GAAmBC,oEAanBC,EAAqBC,EAAc,OAAO,sBAAsB,CAAC,EAKjEC,GAAqB,KAAM,CAC7B,aAAc,CACZ,KAAK,SAAW,IAAIC,EAAc,CAAC,EACnC,KAAK,wBAA0B,IAAIC,EAAgB,IAAI,EACvD,KAAK,0BAA4B,IAAIC,EACrC,KAAK,gBAAkB,KAAK,SAAS,KACnCC,EAAUC,GAAYC,EAAgB,UAAU,IAAMA,EAAgB,6BAA6BD,CAAO,CAAC,CAAC,CAClH,EACI,KAAK,kBAAoBE,EAAc,CACrC,KAAK,SACL,KAAK,uBACN,CAAA,EAAE,KACDC,EAAU,CAAC,CAACH,EAASI,CAAO,IAAMH,EAAgB,+BAA+BD,EAASI,GAAW,MAAM,CAAC,CAClH,CACG,CACD,WAAWJ,EAAS,CAClB,KAAK,SAAS,KAAKA,CAAO,CAC3B,CACD,0BAA0BI,EAAS,CACjC,KAAK,wBAAwB,KAAKA,GAAW,IAAI,CAClD,CACD,MAAM,sBAAsBJ,EAASI,EAASC,EAAQ,CACpD,MAAMJ,EAAgB,iBAAiBD,EAASI,EAASC,CAAM,EAC/D,KAAK,0BAA0B,KAAK,CAACL,EAASI,CAAO,CAAC,CACvD,CACH,EASIE,GAAwBC,ivBAkDxBC,EAA0B,cAAcC,CAAW,CACrD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,EAClB,CACD,QAAS,CACP,MAAMC,EAAU,CACd,+BAAgC,GAChC,wCAAyC,KAAK,SACpD,EACI,OAAOC,gBACSC,EAASF,CAAO,CAAC,oGAMjB,IAAM,KAAK,UAAY,EAAI,YAC5B,IAAM,KAAK,UAAY,EAAK,mFAM5C,CACD,MAAM,cAAe,CACL,KAAK,WAAW,cAAc,SAAS,GAGjD,KAAK,cAAgB,KAAK,aAAa,qBACzC,MAAM,KAAK,aAAa,cAE3B,CACH,EACAF,EAAwB,QAAU,0BAClCA,EAAwB,OAASF,GACjCvB,EAAgB,CACd8B,EAAO,CACT,EAAGL,EAAwB,UAAW,YAAa,CAAC,EACpDzB,EAAgB,CACd+B,EAAQ,CAAE,QAASC,EAAc,CACnC,EAAGP,EAAwB,UAAW,eAAgB,CAAC,EACvDA,EAA0BzB,EAAgB,CACxCiC,EAAcR,EAAwB,OAAO,CAC/C,EAAGA,CAAuB,EAc1B,IAAIS,GAAqBC,81CA0FnBC,EAAeD,mCAIhB,CAAC,gFAuBFE,GAAyBC,6uBA2DvBC,EAAgBD,mCAIjB,CAAC,GAKFE,EAA0B,cAAcC,CAAY,CACtD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,cAAgB,EACtB,CACD,QAAS,CACP,MAAMd,EAAU,CACd,iBAAkB,GAClB,cAAe,CAAC,KAAK,aAC3B,EACI,OAAOe,gBACSC,EAAUhB,CAAO,CAAC,mJAQnC,CACH,EACAa,EAAwB,QAAU,4BAClCA,EAAwB,OAASH,GACjCrC,EAAgB,CACd4C,EAAS,CAAE,KAAM,QAAS,UAAW,EAAI,CAAE,CAC7C,EAAGJ,EAAwB,UAAW,gBAAiB,CAAC,EACxDA,EAA0BxC,EAAgB,CACxC6C,EAAeL,EAAwB,OAAO,CAChD,EAAGA,CAAuB,EAS1B,SAASM,EAAqBC,EAAKC,EAAOC,EAAO,CAC/CC,GAAcH,EAAK,cAAeC,EAAOC,CAAK,CAChD,CAGA,IAAIE,EAAuB,cAAcC,CAAY,CACnD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,UAAY,GACjB,KAAK,kBAAoB,KACzB,KAAK,WAAa,GAClB,KAAK,KAAO,IAAIC,EACd,KACA,MAAO,CAACpC,EAASqC,EAAcC,EAAeC,CAAU,IAAM,CAC5D,GAAIA,EAAY,CACd,MAAMnD,EAAS,KAAK,KAAK,MACzB,GAAIA,EACF,OAAOA,CACV,CACD,GAAI,CAACY,GAAW,CAACqC,EACf,MAAO,GACT,GAAI,KAAK,UACP,MAAM,IAAI,MAAM,EAAE,EACpB,MAAMG,EAAQ,MAAMC,EAAiB,SAASzC,EAASqC,CAAY,EACnE,IAAIK,EAAU,KACVC,EAAa,KACjB,GAAIL,GAAiBE,EAAO,CAC1BE,EAAU,MAAMD,EAAiB,gBAAgBzC,EAASqC,EAAcC,CAAa,EACrF,MAAMM,EAAa,MAAMH,EAAiB,iBAAiBzC,EAASqC,CAAY,EAC1EQ,EAAmBC,EAAY,QAAOJ,GAAA,YAAAA,EAAS,SAAU,CAAC,EAAGF,EAAM,QAAQ,EACjFG,EAAa,OAAOE,CAAgB,EAAI,OAAOD,CAAU,CAC1D,CACD,MAAO,CAACJ,EAAOE,EAASC,CAAU,CACnC,EACD,IAAM,CAAC,KAAK,QAAS,KAAK,aAAc,KAAK,cAAe,EAAK,CACvE,CACG,CACD,sBAAuB,CACrB,MAAM,qBAAoB,EAC1B,KAAK,UAAY,EAClB,CACD,cAAe,CACbI,EAAU,KAAMC,EACdC,EAAM,IAAI,EACV,KAAK,sBAAuB,CAClC,EAAM,KACAC,EAAW,IAAM,KAAK,KAAK,IAAI,CAAC,KAAK,QAAS,KAAK,aAAc,KAAK,cAAe,EAAK,CAAC,CAAC,CAClG,EAAO,CAAE,cAAe,EAAK,CAAE,CAC5B,CACD,QAAS,CACP,OAAOC,IACH,KAAK,KAAK,OAAO,CACnB,SAAU,CAAC,CAACX,EAAOE,EAASC,CAAU,IAAM,KAAK,aAAaH,EAAOE,EAASC,CAAU,EACxF,QAAS,IACH,KAAK,kBACA,KAAK,kBACP,KAAK,UAEd,MAAO,IACD,KAAK,kBACA,KAAK,kBACP,KAAK,SAEf,CAAA,CAAC,EAEH,CACD,aAAaH,EAAOE,EAASC,EAAY,CACvC,GAAI,CAACH,EACH,OAAO,KAAK,UAEd,KAAK,WAAaA,EAAM,YAAc,GACtC,IAAIY,EAAgB,IAChBV,IACFU,EAAgBC,EAAaP,EAAY,OAAOJ,EAAQ,MAAM,EAAGF,EAAM,QAAQ,EAAG,CAAC,GAErF,IAAIc,EAAmB,KACnBX,IACFW,EAAmB,IAAMD,EAAaV,EAAW,SAAQ,EAAI,CAAC,GAEhE,IAAIY,EAAa,CAAE,OAAQ,uCAAwC,KAAM,MAAM,EAC3E,KAAK,aACPA,EAAa,CAAE,OAAQ,mCAAoC,KAAM,kCAAkC,GAErG,MAAM7C,EAAU,CACd,iBAAkB,GAClB,oBAAqB8B,EAAM,UACjC,EACI,YAAK,kBAAoBW,gBACTK,EAAU9C,CAAO,CAAC,aAAcsB,GAAUH,EAAqB,KAAMW,EAAOR,CAAK,CAAC,8BACnEQ,EAAM,MAAM,cAAcA,EAAM,OAAO,cAAcA,EAAM,OAAO,kFAGtEA,EAAM,IAAI,iCACPY,CAAa,IAAIZ,EAAM,MAAM,sFAIzBc,CAAgB,uDACItB,GAAU,KAAK,oBAAoBA,EAAOQ,CAAK,CAAC,mCACrDe,CAAU,6BAIpD,KAAK,iBACb,CACD,MAAM,oBAAoBvB,EAAOQ,EAAO,OACtCR,EAAM,eAAc,EACpBA,EAAM,gBAAe,EACrB,KAAK,WAAa,CAACQ,EAAM,WACzB,MAAM,KAAK,KAAK,IAAI,CAAC,KAAK,QAAS,KAAK,aAAc,KAAK,cAAe,EAAI,CAAC,EAC/E,OAAMiB,EAAA,KAAK,UAAL,YAAAA,EAAc,sBAAsBjB,EAAM,QAASA,EAAM,QAAS,CAACA,EAAM,YAChF,CACD,uBAAwB,CACtB,GAAI,CAAC,KAAK,QACR,MAAM,IAAI,MAAM,EAAE,EACpB,OAAO,KAAK,QAAQ,0BAA0B,KAC5CkB,EAAO,CAAC,CAAC1D,EAASI,CAAO,IAAM,SAC7B,MAAMoC,IAAQmB,GAAAF,EAAA,KAAK,OAAL,YAAAA,EAAW,QAAX,YAAAE,EAAmB,KAAM,KACvC,OAAOnB,GAASA,EAAM,UAAYxC,GAAW4D,GAAepB,EAAM,QAASpC,CAAO,CAC1F,CAAO,CACP,CACG,CACD,SAAU,CACR,OAAO+C,0DAGR,CACH,EACAjB,EAAqB,QAAU,uBAC/BA,EAAqB,OAASjB,GAC9BlC,EAAgB,CACd8E,EAAU,CAAE,KAAM,OAAQ,UAAW,EAAI,CAAE,CAC7C,EAAG3B,EAAqB,UAAW,eAAgB,CAAC,EACpDnD,EAAgB,CACd8E,EAAU,CAAE,KAAM,OAAQ,UAAW,EAAI,CAAE,CAC7C,EAAG3B,EAAqB,UAAW,gBAAiB,CAAC,EACrDnD,EAAgB,CACd8E,EAAU,CAAE,KAAM,OAAQ,UAAW,EAAI,CAAE,CAC7C,EAAG3B,EAAqB,UAAW,UAAW,CAAC,EAC/CnD,EAAgB,CACd+E,EAAS,CAAE,QAASrE,EAAoB,CAC1C,EAAGyC,EAAqB,UAAW,UAAW,CAAC,EAC/CA,EAAuBnD,EAAgB,CACrCgF,EAAe7B,EAAqB,OAAO,CAC7C,EAAGA,CAAoB,EAQvB,IAAI8B,GAAiBC,iCAOfC,EAAgBD,gCAKjB,CAAC,GAWFE,EAAmB,cAAcC,CAAY,CAC/C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,KACf,KAAK,cAAgB,KACrB,KAAK,aAAeC,EAAM,IAAM,KAAK,oBAAqB,CAAA,EAAE,KAC1DC,EAAY,CAAE,SAAU,GAAM,WAAY,CAAC,CAAE,CACnD,CACG,CACD,QAAS,CACP,OAAOC,oDAEQ,KAAK,MAAM,aACbC,EAAQ,KAAK,aAAc,KAAK,iBAAkB,CAAA,CAAC,mBAC3CpE,GAAY,CAAC,KAAK,QAAS,KAAK,cAAeA,CAAO,EAAE,KAAK,GAAG,CAAC,kBACnEA,GAAYmE,wCAELnE,CAAO,oBACNqE,EAAU,KAAK,eAAiB,MAAM,CAAC,cAC7CA,EAAU,KAAK,SAAW,MAAM,CAAC,2BACrB,4CAGlC,CACD,MAAM,cAAe,CACnBC,EAAW,KAAM,CACf,KAAK,4BAA4B,KAAKC,EAAKvE,GAAY,KAAK,cAAgBA,CAAO,CAAC,EACpF,KAAK,aAAa,KAAKuE,EAAK3E,GAAY,KAAK,QAAUA,CAAO,CAAC,EAC/D,KAAK,YACX,EAAO,CAAE,cAAe,EAAK,CAAE,EAC3B0E,EAAW,KAAM,CACf,KAAK,kBAAmB,CAC9B,CAAK,CACF,CACD,qBAAsB,CACpB,GAAI,CAAC,KAAK,QACR,MAAM,IAAI,MAAM,EAAE,EACpB,OAAO,KAAK,QAAQ,iBACrB,CACD,YAAa,CACX,GAAI,CAAC,KAAK,QACR,MAAM,IAAI,MAAM,EAAE,EACpB,OAAO,KAAK,QAAQ,QACrB,CACD,mBAAoB,CAClB,GAAI,CAAC,KAAK,QACR,MAAM,IAAI,MAAM,EAAE,EACpB,OAAO,KAAK,QAAQ,eACrB,CACD,2BAA4B,CAC1B,GAAI,CAAC,KAAK,QACR,MAAM,IAAI,MAAM,EAAE,EACpB,OAAO,KAAK,QAAQ,uBACrB,CACD,kBAAmB,CACjB,OAAO,MAAM,KAAK,MAAM,EAAE,CAAC,EAAE,IAAI,CAACE,EAAGC,IAAU,KAAKA,EAAM,SAAS,EAAE,CAAC,EAAE,CACzE,CACH,EACAV,EAAiB,QAAU,kBAC3BA,EAAiB,OAAS,CACxBH,GACAc,CACF,EACA/F,EAAgB,CACdgG,EAAU,CAAE,KAAM,OAAQ,CAC5B,EAAGZ,EAAiB,UAAW,SAAU,CAAC,EAC1CpF,EAAgB,CACdiG,EAAS,CAAE,QAASvF,EAAoB,CAC1C,EAAG0E,EAAiB,UAAW,UAAW,CAAC,EAC3CpF,EAAgB,CACdiG,EAAS,CAAE,QAASC,EAAe,CACrC,EAAGd,EAAiB,UAAW,eAAgB,CAAC,EAChDpF,EAAgB,CACdmG,EAAQ,CACV,EAAGf,EAAiB,UAAW,UAAW,CAAC,EAC3CpF,EAAgB,CACdmG,EAAQ,CACV,EAAGf,EAAiB,UAAW,gBAAiB,CAAC,EACjDA,EAAmBpF,EAAgB,CACjCoG,EAAehB,EAAiB,OAAO,CACzC,EAAGA,CAAgB,EAanB,IAAIiB,GAAuBC,21CA8FvBC,EAAwB,cAAcC,CAAY,CACpD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,aAAe,IAAIC,EAAiB,EAAK,EAC9C,KAAK,oBAAsBC,EAAe,CACxCC,EAAO,IAAM,KAAK,mBAAmB,EACrCA,EAAO,IAAM,KAAK,YAAY,CAC/B,CAAA,EAAE,KACDC,EAAa,CAAC,EACdC,EAAW,CAAC,CAACC,EAAQ7F,CAAO,IAAM8F,EAAiB,aAAa9F,EAAS6F,CAAM,CAAC,EAChFE,EAAKF,GAAWA,EAAO,KAAK,CAACG,EAAQC,IAAWA,EAAO,SAAWD,EAAO,QAAQ,CAAC,EAClFE,EAAU,CAAA,CAAE,EACZC,EAAMN,GAAW,CACXA,EAAO,QAAU,KAAK,UAAU,SAAS,OAAO,GAClD,KAAK,UAAU,OAAO,OAAO,EAE3B,CAACA,EAAO,QAAU,CAAC,KAAK,UAAU,SAAS,OAAO,GACpD,KAAK,UAAU,IAAI,OAAO,CAEpC,CAAO,EACDM,EAAK,IAAM,CACJ,KAAK,UAAU,SAAS,iBAAiB,GAC5C,WAAW,IAAM,CACf,KAAK,UAAU,IAAI,iBAAiB,CACrC,EAAE,GAAG,CAEhB,CAAO,EACDJ,EAAKF,IACCA,EAAO,QACTA,EAAO,KAAK,IAAI,EAEXO,2EAGDA,IAAQC,GACZR,EACCrD,GAAUA,IAAU,KAAO,IAAMA,EAAM,QAAU,OAClD8D,GACC9D,GAAU+D,GACT/D,EACCyD,GAAWG,0FAEwCpE,GAAU,KAAK,sBAAsBiE,EAAQjE,CAAK,CAAC,2HAGnBA,GAAUH,EAAqB,KAAMoE,EAAQjE,CAAK,CAAC,8BACpGiE,EAAO,MAAM,cAAcA,EAAO,OAAO,cACxCA,EAAO,OAAO,6BAClCA,EAAO,MAAM,8BAI7B,IAAMG,wGAEqB,IAAM,KAAK,aAAa,KAAK,CAAC,KAAK,aAAa,KAAK,CAAC,uDAIlF,CACX,CAAS,EAAE,eAIJ,EACDI,EAAa,CAAE,WAAY,EAAG,SAAU,EAAI,CAAE,CACpD,CACG,CACD,cAAe,CACbC,EAAW,KAAM,KAAK,aAAa,KACjCN,EAAM9F,GAAW,CACfA,EAAS,KAAK,UAAU,IAAI,4BAA4B,EAAI,KAAK,UAAU,OAAO,4BAA4B,CACtH,CAAO,CACP,EAAO,CAAE,cAAe,EAAK,CAAE,CAC5B,CACD,QAAS,CACP,OAAO+F,IAAQM,EAAS,KAAK,mBAAmB,CAAC,EAClD,CACD,mBAAoB,CAClB,GAAI,CAAC,KAAK,QACR,MAAM,IAAI,MAAM,EAAE,EACpB,OAAO,KAAK,QAAQ,eACrB,CACD,YAAa,CACX,GAAI,CAAC,KAAK,QACR,MAAM,IAAI,MAAM,EAAE,EACpB,OAAO,KAAK,QAAQ,QACrB,CACD,MAAM,sBAAsBlE,EAAOR,EAAO,OACxCA,EAAM,gBAAe,EACrBA,EAAM,eAAc,EACpB,OAAMyB,EAAA,KAAK,UAAL,YAAAA,EAAc,sBAAsBjB,EAAM,QAASA,EAAM,QAAS,IACzE,CACH,EACA8C,EAAsB,QAAU,uBAChCA,EAAsB,OAAS,CAC7BF,GACAuB,CACF,EACA5H,EAAgB,CACd6H,EAAS,CAAE,QAASnH,EAAoB,CAC1C,EAAG6F,EAAsB,UAAW,UAAW,CAAC,EAChDA,EAAwBvG,EAAgB,CACtC8H,EAAevB,EAAsB,OAAO,CAC9C,EAAGA,CAAqB,EACxB,IAAIgB,GAAgB,CAClB,cAAe,MAAOQ,GAAY,CAChCA,EAAQ,MAAM,SAAW,SACzB,MAAMA,EAAQ,QAAQ,CACpB,CAAE,UAAW,GAAGA,EAAQ,WAAW,KAAM,UAAW,wBAA0B,EAC9E,CAAE,UAAW,IAAK,UAAW,2BAA6B,CAChE,EAAO,CACD,SAAUA,EAAQ,KAAO,OAAS,GAAK,GACxC,CAAA,EAAE,SACHA,EAAQ,MAAM,SAAW,EAC1B,EACD,aAAc,MAAOA,GAAY,CAC/BA,EAAQ,MAAM,SAAW,SACzBA,EAAQ,MAAM,UAAY,4BAC1BA,EAAQ,MAAM,SAAW,WACzBA,EAAQ,MAAM,IAAM,QACpBA,EAAQ,MAAM,KAAO,QACrB,SAAS,KAAK,YAAYA,CAAO,EACjC,MAAM,IAAI,QAASC,GAAY,sBAAsBA,CAAO,CAAC,EAC7D,MAAMC,EAAQF,EAAQ,YACtB,OAAAA,EAAQ,OAAM,EACdA,EAAQ,MAAM,SAAW,GACzBA,EAAQ,MAAM,IAAM,GACpBA,EAAQ,MAAM,KAAO,GACd,MAAOG,GAAa,CACzB,MAAMA,EAAS,QAAQ,CACrB,CAAE,UAAW,IAAK,UAAW,2BAA6B,EAC1D,CAAE,UAAW,GAAGD,CAAK,KAAM,UAAW,wBAA0B,CACxE,EAAS,CACD,SAAU,GACX,CAAA,EAAE,SACHC,EAAS,MAAM,UAAY,GAC3BA,EAAS,MAAM,SAAW,EAChC,CACG,CACH,EAIIC,EAAqB,cAAcC,CAAY,CACjD,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,IAAIC,EAAgB,KAAM,CAAE,QAAS3H,CAAkB,CAAE,CACzE,CACD,mBAAoB,CAClB,MAAM,kBAAiB,EACvB4H,EAA0B,IAAI,CAC/B,CACD,QAAS,CACP,YAAK,YAAW,EACTC,8BAEQ,IAAMA,6KAIhB,sBAGN,CACD,QAAQC,EAAmB,CACzB,IAAIC,EAAU,GACd,MAAMC,EAAU,KAAK,QAAQ,MACzBF,EAAkB,IAAI,SAAS,GAAK,KAAK,UAC3CE,EAAQ,WAAW,KAAK,OAAO,EAC/BD,EAAU,IAERD,EAAkB,IAAI,wBAAwB,IAChDE,EAAQ,0BAA0B,KAAK,sBAAsB,EAC7DD,EAAU,IAERA,GACF,KAAK,cAAa,CAErB,CACD,aAAc,CACZ,GAAI,KAAK,QAAQ,MACf,OACF,KAAM,CAAE,QAAAxH,EAAS,uBAAA0H,CAAwB,EAAG,KAC5C,GAAI,CAAC1H,EACH,MAAM,IAAI,MAAM,EAAE,EACpB,MAAMyH,EAAU,IAAI9H,GACpB8H,EAAQ,WAAWzH,CAAO,EAC1ByH,EAAQ,0BAA0BC,CAAsB,EACxD,KAAK,QAAQ,SAASD,CAAO,CAC9B,CACH,EACAP,EAAmB,QAAU,oBAC7BA,EAAmB,OAAS3H,GAC5BR,EAAgB,CACd4I,EAAU,CAAE,KAAM,OAAQ,CAC5B,EAAGT,EAAmB,UAAW,UAAW,CAAC,EAC7CnI,EAAgB,CACd4I,EAAU,CAAE,KAAM,OAAQ,CAC5B,EAAGT,EAAmB,UAAW,yBAA0B,CAAC,EAC5DA,EAAqBnI,EAAgB,CACnC6I,EAAeV,EAAmB,OAAO,CAC3C,EAAGA,CAAkB"}