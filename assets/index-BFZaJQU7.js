(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const og="modulepreload",ag=function(e){return"/interface/"+e},od={},R=function(t,n,r){let i=Promise.resolve();return n&&n.length>0&&(document.getElementsByTagName("link"),i=Promise.all(n.map(s=>{if(s=ag(s),s in od)return;od[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":og,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((l,u)=>{c.addEventListener("load",l),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})}))),i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};const io=globalThis,El=io.ShadowRoot&&(io.ShadyCSS===void 0||io.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,$l=Symbol(),ad=new WeakMap;let Zh=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==$l)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(El&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=ad.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&ad.set(n,t))}return t}toString(){return this.cssText}};const ft=e=>new Zh(typeof e=="string"?e:e+"",void 0,$l),L=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1],e[0]);return new Zh(n,e,$l)},cg=(e,t)=>{if(El)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),i=io.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},cd=El?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return ft(n)})(e):e;const{is:lg,defineProperty:ug,getOwnPropertyDescriptor:dg,getOwnPropertyNames:hg,getOwnPropertySymbols:fg,getPrototypeOf:pg}=Object,mn=globalThis,ld=mn.trustedTypes,mg=ld?ld.emptyScript:"",va=mn.reactiveElementPolyfillSupport,Ei=(e,t)=>e,bo={toAttribute(e,t){switch(t){case Boolean:e=e?mg:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},No=(e,t)=>!lg(e,t),ud={attribute:!0,type:String,converter:bo,reflect:!1,hasChanged:No};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),mn.litPropertyMetadata??(mn.litPropertyMetadata=new WeakMap);let Br=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=ud){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&ug(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:s}=dg(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get(){return i==null?void 0:i.call(this)},set(o){const a=i==null?void 0:i.call(this);s.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??ud}static _$Ei(){if(this.hasOwnProperty(Ei("elementProperties")))return;const t=pg(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Ei("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ei("properties"))){const n=this.properties,r=[...hg(n),...fg(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(cd(i))}else t!==void 0&&n.push(cd(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return cg(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var s;const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:bo).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(t,n){var s;const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const o=r.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)==null?void 0:s.fromAttribute)!==void 0?o.converter:bo;this._$Em=i,this[i]=a.fromAttribute(n,o.type),this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){if(r??(r=this.constructor.getPropertyOptions(t)),!(r.hasChanged??No)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}};Br.elementStyles=[],Br.shadowRootOptions={mode:"open"},Br[Ei("elementProperties")]=new Map,Br[Ei("finalized")]=new Map,va==null||va({ReactiveElement:Br}),(mn.reactiveElementVersions??(mn.reactiveElementVersions=[])).push("2.0.4");const $i=globalThis,go=$i.trustedTypes,dd=go?go.createPolicy("lit-html",{createHTML:e=>e}):void 0,Al="$lit$",Vt=`lit$${Math.random().toFixed(9).slice(2)}$`,kl="?"+Vt,bg=`<${kl}>`,cr=document,zi=()=>cr.createComment(""),Li=e=>e===null||typeof e!="object"&&typeof e!="function",Yh=Array.isArray,Jh=e=>Yh(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",wa=`[ 	
\f\r]`,fi=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,hd=/-->/g,fd=/>/g,jn=RegExp(`>|${wa}(?:([^\\s"'>=/]+)(${wa}*=${wa}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),pd=/'/g,md=/"/g,Xh=/^(?:script|style|textarea|title)$/i,Qh=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),P=Qh(1),FS=Qh(2),It=Symbol.for("lit-noChange"),de=Symbol.for("lit-nothing"),bd=new WeakMap,Hn=cr.createTreeWalker(cr,129);function ef(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return dd!==void 0?dd.createHTML(t):t}const tf=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":"",o=fi;for(let a=0;a<n;a++){const c=e[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===fi?u[1]==="!--"?o=hd:u[1]!==void 0?o=fd:u[2]!==void 0?(Xh.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=jn):u[3]!==void 0&&(o=jn):o===jn?u[0]===">"?(o=i??fi,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?jn:u[3]==='"'?md:pd):o===md||o===pd?o=jn:o===hd||o===fd?o=fi:(o=jn,i=void 0);const p=o===jn&&e[a+1].startsWith("/>")?" ":"";s+=o===fi?c+bg:d>=0?(r.push(l),c.slice(0,d)+Al+c.slice(d)+Vt+p):c+Vt+(d===-2?a:p)}return[ef(e,s+(e[n]||"<?>")+(t===2?"</svg>":"")),r]};let cc=class nf{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[l,u]=tf(t,n);if(this.el=nf.createElement(l,r),Hn.currentNode=this.el.content,n===2){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=Hn.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(Al)){const h=u[o++],p=i.getAttribute(d).split(Vt),m=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:m[2],strings:p,ctor:m[1]==="."?of:m[1]==="?"?af:m[1]==="@"?cf:bs}),i.removeAttribute(d)}else d.startsWith(Vt)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(Xh.test(i.tagName)){const d=i.textContent.split(Vt),h=d.length-1;if(h>0){i.textContent=go?go.emptyScript:"";for(let p=0;p<h;p++)i.append(d[p],zi()),Hn.nextNode(),c.push({type:2,index:++s});i.append(d[h],zi())}}}else if(i.nodeType===8)if(i.data===kl)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(Vt,d+1))!==-1;)c.push({type:7,index:s}),d+=Vt.length-1}s++}}static createElement(t,n){const r=cr.createElement("template");return r.innerHTML=t,r}};function lr(e,t,n=e,r){var o,a;if(t===It)return t;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=Li(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(t=lr(e,i._$AS(e,t.values),i,r)),t}let rf=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=((t==null?void 0:t.creationScope)??cr).importNode(n,!0);Hn.currentNode=i;let s=Hn.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Fo(s,s.nextSibling,this,t):c.type===1?l=new c.ctor(s,c.name,c.strings,this,t):c.type===6&&(l=new lf(s,this,t)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=Hn.nextNode(),o++)}return Hn.currentNode=cr,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}},Fo=class sf{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=de,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=lr(this,t,n),Li(t)?t===de||t==null||t===""?(this._$AH!==de&&this._$AR(),this._$AH=de):t!==this._$AH&&t!==It&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Jh(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==de&&Li(this._$AH)?this._$AA.nextSibling.data=t:this.T(cr.createTextNode(t)),this._$AH=t}$(t){var s;const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=cc.createElement(ef(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new rf(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(t){let n=bd.get(t.strings);return n===void 0&&bd.set(t.strings,n=new cc(t)),n}k(t){Yh(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new sf(this.S(zi()),this.S(zi()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}},bs=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=de,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=de}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=lr(this,t,n,0),o=!Li(t)||t!==this._$AH&&t!==It,o&&(this._$AH=t);else{const a=t;let c,l;for(t=s[0],c=0;c<s.length-1;c++)l=lr(this,a[r+c],n,c),l===It&&(l=this._$AH[c]),o||(o=!Li(l)||l!==this._$AH[c]),l===de?t=de:t!==de&&(t+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(t)}j(t){t===de?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},of=class extends bs{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===de?void 0:t}},af=class extends bs{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==de)}},cf=class extends bs{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=lr(this,t,n,0)??de)===It)return;const r=this._$AH,i=t===de&&r!==de||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==de&&(r===de||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}},lf=class{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){lr(this,t)}};const gg={P:Al,A:Vt,C:kl,M:1,L:tf,R:rf,D:Jh,V:lr,I:Fo,H:bs,N:af,U:cf,B:of,F:lf},xa=$i.litHtmlPolyfillSupport;xa==null||xa(cc,Fo),($i.litHtmlVersions??($i.litHtmlVersions=[])).push("3.1.3");const Gr=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new Fo(t.insertBefore(zi(),s),s,void 0,n??{})}return i._$AI(e),i};let K=class extends Br{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Gr(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return It}};var Kh;K._$litElement$=!0,K.finalized=!0,(Kh=globalThis.litElementHydrateSupport)==null||Kh.call(globalThis,{LitElement:K});const _a=globalThis.litElementPolyfillSupport;_a==null||_a({LitElement:K});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.5");const J=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};const yg={attribute:!0,type:String,converter:bo,reflect:!1,hasChanged:No},vg=(e=yg,t,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(n.name,e),r==="accessor"){const{name:o}=n;return{set(a){const c=t.get.call(this);t.set.call(this,a),this.requestUpdate(o,c,e)},init(a){return a!==void 0&&this.P(o,void 0,e),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];t.call(this,a),this.requestUpdate(o,c,e)}}throw Error("Unsupported decorator location: "+r)};function V(e){return(t,n)=>typeof n=="object"?vg(e,t,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,o?{...r,wrapped:!0}:r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(e,t,n)}function et(e){return V({...e,state:!0,attribute:!1})}const{I:wg}=gg,xg=e=>e.strings===void 0,gd=()=>document.createComment(""),pi=(e,t,n)=>{var s;const r=e._$AA.parentNode,i=t===void 0?e._$AB:t._$AA;if(n===void 0){const o=r.insertBefore(gd(),i),a=r.insertBefore(gd(),i);n=new wg(o,a,e,e.options)}else{const o=n._$AB.nextSibling,a=n._$AM,c=a!==e;if(c){let l;(s=n._$AQ)==null||s.call(n,e),n._$AM=e,n._$AP!==void 0&&(l=e._$AU)!==a._$AU&&n._$AP(l)}if(o!==i||c){let l=n._$AA;for(;l!==o;){const u=l.nextSibling;r.insertBefore(l,i),l=u}}}return n},Dn=(e,t,n=e)=>(e._$AI(t,n),e),_g={},Eg=(e,t=_g)=>e._$AH=t,$g=e=>e._$AH,Ea=e=>{var r;(r=e._$AP)==null||r.call(e,!1,!0);let t=e._$AA;const n=e._$AB.nextSibling;for(;t!==n;){const i=t.nextSibling;t.remove(),t=i}};const gs={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},rn=e=>(...t)=>({_$litDirective$:e,values:t});let ys=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};const Ai=(e,t)=>{var r;const n=e._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,t,!1),Ai(i,t);return!0},yo=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while((n==null?void 0:n.size)===0)},uf=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),Sg(t)}};function Ag(e){this._$AN!==void 0?(yo(this),this._$AM=e,uf(this)):this._$AM=e}function kg(e,t=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let s=n;s<r.length;s++)Ai(r[s],!1),yo(r[s]);else r!=null&&(Ai(r,!1),yo(r));else Ai(this,e)}const Sg=e=>{e.type==gs.CHILD&&(e._$AP??(e._$AP=kg),e._$AQ??(e._$AQ=Ag))};let vs=class extends ys{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,r){super._$AT(t,n,r),uf(this),this.isConnected=t._$AU}_$AO(t,n=!0){var r,i;t!==this.isConnected&&(this.isConnected=t,t?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(Ai(this,t),yo(this))}setValue(t){if(xg(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};var lc=function(e,t){return lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},lc(e,t)};function Ve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ws(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Pg(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function df(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Kr(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function yt(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Nr(e){return this instanceof Nr?(this.v=e,this):new Nr(e)}function Cg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(m,f){s.push([h,p,m,f])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof Nr?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Tg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Kr=="function"?Kr(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function ee(e){return typeof e=="function"}function Sl(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $a=Sl(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function vo(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var On=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Kr(o),c=a.next();!c.done;c=a.next()){var l=c.value;l.remove(this)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(ee(u))try{u()}catch(f){s=f instanceof $a?f.errors:[f]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=Kr(d),p=h.next();!p.done;p=h.next()){var m=p.value;try{yd(m)}catch(f){s=s??[],f instanceof $a?s=yt(yt([],Qe(s)),Qe(f.errors)):s.push(f)}}}catch(f){r={error:f}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new $a(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)yd(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&vo(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&vo(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),hf=On.EMPTY;function ff(e){return e instanceof On||e&&"closed"in e&&ee(e.remove)&&ee(e.add)&&ee(e.unsubscribe)}function yd(e){ee(e)?e():e.unsubscribe()}var pf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},mf={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,yt([e,t],Qe(n)))},clearTimeout:function(e){var t=mf.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function bf(e){mf.setTimeout(function(){throw e})}function wo(){}function so(e){e()}var Pl=function(e){Ve(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,ff(n)&&n.add(r)):r.destination=Rg,r}return t.create=function(n,r,i){return new Zr(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(On),Ig=Function.prototype.bind;function Aa(e,t){return Ig.call(e,t)}var Og=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Vs(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Vs(r)}else Vs(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Vs(n)}},e}(),Zr=function(e){Ve(t,e);function t(n,r,i){var s=e.call(this)||this,o;if(ee(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&pf.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Aa(n.next,a),error:n.error&&Aa(n.error,a),complete:n.complete&&Aa(n.complete,a)}):o=n}return s.destination=new Og(o),s}return t}(Pl);function Vs(e){bf(e)}function Bg(e){throw e}var Rg={closed:!0,next:wo,error:Bg,complete:wo},Cl=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function vr(e){return e}function Mg(e){return e.length===0?vr:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var we=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=Fg(t)?t:new Zr(t,n,r);return so(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=vd(n),new n(function(i,s){var o=new Zr({next:function(a){try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Cl]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Mg(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=vd(t),new t(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function vd(e){var t;return(t=e??pf.Promise)!==null&&t!==void 0?t:Promise}function Ng(e){return e&&ee(e.next)&&ee(e.error)&&ee(e.complete)}function Fg(e){return e&&e instanceof Pl||Ng(e)&&ff(e)}function jg(e){return ee(e==null?void 0:e.lift)}function $e(e){return function(t){if(jg(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(e,t,n,r,i){return new Dg(e,t,n,r,i)}var Dg=function(e){Ve(t,e);function t(n,r,i,s,o,a){var c=e.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(l){try{r(l)}catch(u){n.error(u)}}:e.prototype._next,c._error=s?function(l){try{s(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Pl),xo={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=xo.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=t(function(s){n=void 0,e(s)});return new On(function(){return n==null?void 0:n(i)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return requestAnimationFrame.apply(void 0,yt([],Qe(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xo.delegate;return((n==null?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,yt([],Qe(e)))},delegate:void 0},zg=Sl(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ht=function(e){Ve(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new wd(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new zg},t.prototype.next=function(n){var r=this;so(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Kr(r.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(n)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;so(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;so(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?hf:(this.currentObservers=null,a.push(n),new On(function(){r.currentObservers=null,vo(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},t.prototype.asObservable=function(){var n=new we;return n.source=this,n},t.create=function(n,r){return new wd(n,r)},t}(we),wd=function(e){Ve(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:hf},t}(ht),uc=function(e){Ve(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(ht),Tl={now:function(){return(Tl.delegate||Date).now()},delegate:void 0},gf=function(e){Ve(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Tl);var s=e.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return t.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),c=0;c<a.length&&!n.closed;c+=s?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var c=i.now(),l=0,u=1;u<s.length&&s[u]<=c;u+=2)l=u;l&&s.splice(0,l+1)}},t}(ht),Lg=function(e){Ve(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(On),dc={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,yt([e,t],Qe(n)))},clearInterval:function(e){var t=dc.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Il=function(e){Ve(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),dc.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&dc.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,vo(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Lg),Vg=1,ka,hc={};function xd(e){return e in hc?(delete hc[e],!0):!1}var yf={setImmediate:function(e){var t=Vg++;return hc[t]=!0,ka||(ka=Promise.resolve()),ka.then(function(){return xd(t)&&e()}),t},clearImmediate:function(e){xd(e)}},Ug=yf.setImmediate,Hg=yf.clearImmediate,fc={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ug.apply(void 0,yt([],Qe(e)))},clearImmediate:function(e){var t=fc.delegate;return((t==null?void 0:t.clearImmediate)||Hg)(e)},delegate:void 0},qg=function(e){Ve(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=fc.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==r&&(fc.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(Il),_d=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Tl.now,e}(),Ol=function(e){Ve(t,e);function t(n,r){r===void 0&&(r=_d.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(_d),Wg=function(e){Ve(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,s;n=n||i.shift();do if(s=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,s){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw s}},t}(Ol),vf=new Wg(qg),wf=new Ol(Il),Gg=wf,Kg=function(e){Ve(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=xo.requestAnimationFrame(function(){return n.flush(void 0)})))},t.prototype.recycleAsyncId=function(n,r,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==r&&(xo.cancelAnimationFrame(r),n._scheduled=void 0)},t}(Il),Zg=function(e){Ve(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,s;n=n||i.shift();do if(s=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,s){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw s}},t}(Ol),Yg=new Zg(Kg),xf=new we(function(e){return e.complete()});function Jg(e){return e&&ee(e.schedule)}function Bl(e){return e[e.length-1]}function _f(e){return ee(Bl(e))?e.pop():void 0}function xs(e){return Jg(Bl(e))?e.pop():void 0}function Xg(e,t){return typeof Bl(e)=="number"?e.pop():t}var Rl=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Ef(e){return ee(e==null?void 0:e.then)}function $f(e){return ee(e[Cl])}function Af(e){return Symbol.asyncIterator&&ee(e==null?void 0:e[Symbol.asyncIterator])}function kf(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Qg(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sf=Qg();function Pf(e){return ee(e==null?void 0:e[Sf])}function Cf(e){return Cg(this,arguments,function(){var n,r,i,s;return df(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Nr(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,Nr(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Nr(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Tf(e){return ee(e==null?void 0:e.getReader)}function Re(e){if(e instanceof we)return e;if(e!=null){if($f(e))return ey(e);if(Rl(e))return ty(e);if(Ef(e))return ny(e);if(Af(e))return If(e);if(Pf(e))return ry(e);if(Tf(e))return iy(e)}throw kf(e)}function ey(e){return new we(function(t){var n=e[Cl]();if(ee(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ty(e){return new we(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function ny(e){return new we(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,bf)})}function ry(e){return new we(function(t){var n,r;try{for(var i=Kr(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function If(e){return new we(function(t){sy(e,t).catch(function(n){return t.error(n)})})}function iy(e){return If(Cf(e))}function sy(e,t){var n,r,i,s;return Pg(this,void 0,void 0,function(){var o,a;return df(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Tg(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function bn(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Ml(e,t){return t===void 0&&(t=0),$e(function(n,r){n.subscribe(ge(r,function(i){return bn(r,e,function(){return r.next(i)},t)},function(){return bn(r,e,function(){return r.complete()},t)},function(i){return bn(r,e,function(){return r.error(i)},t)}))})}function jo(e,t){return t===void 0&&(t=0),$e(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function oy(e,t){return Re(e).pipe(jo(t),Ml(t))}function ay(e,t){return Re(e).pipe(jo(t),Ml(t))}function cy(e,t){return new we(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ly(e,t){return new we(function(n){var r;return bn(n,t,function(){r=e[Sf](),bn(n,t,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return ee(r==null?void 0:r.return)&&r.return()}})}function Of(e,t){if(!e)throw new Error("Iterable cannot be null");return new we(function(n){bn(n,t,function(){var r=e[Symbol.asyncIterator]();bn(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function uy(e,t){return Of(Cf(e),t)}function dy(e,t){if(e!=null){if($f(e))return oy(e,t);if(Rl(e))return cy(e,t);if(Ef(e))return ay(e,t);if(Af(e))return Of(e,t);if(Pf(e))return ly(e,t);if(Tf(e))return uy(e,t)}throw kf(e)}function ur(e,t){return t?dy(e,t):Re(e)}function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xs(e);return ur(e,n)}var hy=Sl(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function St(e,t){return new Promise(function(n,r){var i=new Zr({next:function(s){n(s),i.unsubscribe()},error:r,complete:function(){r(new hy)}});e.subscribe(i)})}function fy(e){return e instanceof Date&&!isNaN(e)}function q(e,t){return $e(function(n,r){var i=0;n.subscribe(ge(r,function(s){r.next(e.call(t,s,i++))}))})}var py=Array.isArray;function my(e,t){return py(t)?e.apply(void 0,yt([],Qe(t))):e(t)}function Bf(e){return q(function(t){return my(e,t)})}var by=Array.isArray,gy=Object.getPrototypeOf,yy=Object.prototype,vy=Object.keys;function wy(e){if(e.length===1){var t=e[0];if(by(t))return{args:t,keys:null};if(xy(t)){var n=vy(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function xy(e){return e&&typeof e=="object"&&gy(e)===yy}function _y(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xs(e),r=_f(e),i=wy(e),s=i.args,o=i.keys;if(s.length===0)return ur([],n);var a=new we(Ey(s,n,o?function(c){return _y(o,c)}:vr));return r?a.pipe(Bf(r)):a}function Ey(e,t,n){return n===void 0&&(n=vr),function(r){Ed(t,function(){for(var i=e.length,s=new Array(i),o=i,a=i,c=function(u){Ed(t,function(){var d=ur(e[u],t),h=!1;d.subscribe(ge(r,function(p){s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},function(){--o||r.complete()}))},r)},l=0;l<i;l++)c(l)},r)}}function Ed(e,t,n){e?bn(n,e,t):t()}function $y(e,t,n,r,i,s,o,a){var c=[],l=0,u=0,d=!1,h=function(){d&&!c.length&&!l&&t.complete()},p=function(f){return l<r?m(f):c.push(f)},m=function(f){l++;var y=!1;Re(n(f,u++)).subscribe(ge(t,function(b){t.next(b)},function(){y=!0},void 0,function(){if(y)try{l--;for(var b=function(){var g=c.shift();o||m(g)};c.length&&l<r;)b();h()}catch(g){t.error(g)}}))};return e.subscribe(ge(t,p,function(){d=!0,h()})),function(){}}function Nl(e,t,n){return n===void 0&&(n=1/0),ee(t)?Nl(function(r,i){return q(function(s,o){return t(r,s,i,o)})(Re(e(r,i)))},n):(typeof t=="number"&&(n=t),$e(function(r,i){return $y(r,i,e,n)}))}function Rf(e){return e===void 0&&(e=1/0),Nl(vr,e)}function Ay(){return Rf(1)}function $d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ay()(ur(e,xs(e)))}function X(e){return new we(function(t){Re(e()).subscribe(t)})}var ky=["addListener","removeListener"],Sy=["addEventListener","removeEventListener"],Py=["on","off"];function ce(e,t,n,r){if(ee(n)&&(r=n,n=void 0),r)return ce(e,t,n).pipe(Bf(r));var i=Qe(Iy(e)?Sy.map(function(a){return function(c){return e[a](t,c,n)}}):Cy(e)?ky.map(Ad(e,t)):Ty(e)?Py.map(Ad(e,t)):[],2),s=i[0],o=i[1];if(!s&&Rl(e))return Nl(function(a){return ce(a,t,n)})(Re(e));if(!s)throw new TypeError("Invalid event target");return new we(function(a){var c=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return a.next(1<l.length?l:l[0])};return s(c),function(){return o(c)}})}function Ad(e,t){return function(n){return function(r){return e[n](t,r)}}}function Cy(e){return ee(e.addListener)&&ee(e.removeListener)}function Ty(e){return ee(e.on)&&ee(e.off)}function Iy(e){return ee(e.addEventListener)&&ee(e.removeEventListener)}function Mf(e,t,n){return e===void 0&&(e=0),n===void 0&&(n=Gg),new we(function(r){var i=fy(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){r.closed||(r.next(s++),r.complete())},i)})}function wr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xs(e),r=Xg(e,1/0),i=e;return i.length?i.length===1?Re(i[0]):Rf(r)(ur(i,n)):xf}function Fe(e,t){return $e(function(n,r){var i=0;n.subscribe(ge(r,function(s){return e.call(t,s,i++)&&r.next(s)}))})}function Fl(e){return $e(function(t,n){var r=null,i=!1,s;r=t.subscribe(ge(n,void 0,void 0,function(o){s=Re(e(o,Fl(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Oy(e,t,n,r,i){return function(s,o){var a=n,c=t,l=0;s.subscribe(ge(o,function(u){var d=l++;c=a?e(c,u,d):(a=!0,u),o.next(c)},i))}}function dr(e,t){return t===void 0&&(t=wf),$e(function(n,r){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var l=s;s=null,r.next(l)}};function c(){var l=o+e,u=t.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(ge(r,function(l){s=l,o=t.now(),i||(i=t.schedule(c,e),r.add(i))},function(){a(),r.complete()},void 0,function(){s=i=null}))})}function Nf(e){return $e(function(t,n){var r=!1;t.subscribe(ge(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function By(e){return e<=0?function(){return xf}:$e(function(t,n){var r=0;t.subscribe(ge(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Pe(e,t){return t===void 0&&(t=vr),e=e??Ry,$e(function(n,r){var i,s=!0;n.subscribe(ge(r,function(o){var a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}function Ry(e,t){return e===t}function My(e,t){return $e(function(n,r){var i=0,s=null,o=!1;n.subscribe(ge(r,function(a){s||(s=ge(r,void 0,function(){s=null,o&&r.complete()}),Re(e(a,i++)).subscribe(s))},function(){o=!0,!s&&r.complete()}))})}function Ny(e,t){return $e(Oy(e,t,arguments.length>=2,!0))}function Fy(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new ht}:t,r=e.resetOnError,i=r===void 0?!0:r,s=e.resetOnComplete,o=s===void 0?!0:s,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(l){var u,d,h,p=0,m=!1,f=!1,y=function(){d==null||d.unsubscribe(),d=void 0},b=function(){y(),u=h=void 0,m=f=!1},g=function(){var v=u;b(),v==null||v.unsubscribe()};return $e(function(v,w){p++,!f&&!m&&y();var E=h=h??n();w.add(function(){p--,p===0&&!f&&!m&&(d=Sa(g,c))}),E.subscribe(w),!u&&p>0&&(u=new Zr({next:function(_){return E.next(_)},error:function(_){f=!0,y(),d=Sa(b,i,_),E.error(_)},complete:function(){m=!0,y(),d=Sa(b,o),E.complete()}}),Re(v).subscribe(u))})(l)}}function Sa(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new Zr({next:function(){i.unsubscribe(),e()}});return Re(t.apply(void 0,yt([],Qe(n)))).subscribe(i)}}function ke(e,t,n){var r,i,s,o,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,o=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,s=e.refCount,a=s===void 0?!1:s,n=e.scheduler):o=e??1/0,Fy({connector:function(){return new gf(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Ff(e){return Fe(function(t,n){return e<=n})}function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xs(e);return $e(function(r,i){(n?$d(e,r,n):$d(e,r)).subscribe(i)})}function ne(e,t){return $e(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(ge(r,function(c){i==null||i.unsubscribe();var l=0,u=s++;Re(e(c,u)).subscribe(i=ge(r,function(d){return r.next(t?t(c,d,u,l++):d)},function(){i=null,a()}))},function(){o=!0,a()}))})}function jl(e){return $e(function(t,n){Re(e).subscribe(ge(n,function(){return n.complete()},wo)),!n.closed&&t.subscribe(n)})}function Q(e,t,n){var r=ee(e)||t||n?{next:e,error:t,complete:n}:e;return r?$e(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(ge(s,function(c){var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},function(c){var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},function(){var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vr}function jy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_f(e);return $e(function(r,i){for(var s=e.length,o=new Array(s),a=e.map(function(){return!1}),c=!1,l=function(d){Re(e[d]).subscribe(ge(i,function(h){o[d]=h,!c&&!a[d]&&(a[d]=!0,(c=a.every(vr))&&(a=null))},wo))},u=0;u<s;u++)l(u);r.subscribe(ge(i,function(d){if(c){var h=yt([d],Qe(o));i.next(n?n.apply(void 0,yt([],Qe(h))):h)}}))})}var Dy=class extends vs{render(e,t){return this.subscription=e.pipe(Ml(vf)).subscribe(n=>this.setValue(n)),t??""}disconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}},he=rn(Dy),zy=class extends vs{constructor(){super(...arguments),this.isDisconnected=!1,this.handler=e=>{this.isDisconnected||this.setValue(e)}}render(e,t){return e.then(this.handler),t??""}disconnected(){this.isDisconnected=!0}},kd=rn(zy),Ly=class extends ys{constructor(e){super(e),this.elementKeySet=new Set,this.view=document.createElement("div"),this.lock=!1,this.view.style.display="flex",this.view.style.gap="8px"}render(e,t,n,r){if(this.lock)return P`${this.view}`;if(!this.view.children.length)return this.addedElementsWithoutAnimation(e,t,r),P`${this.view}`;const i=new Set,s=new Map,o=new Map;let a=0;for(const u of e){const d=t(u,a);i.add(d),s.set(d,u),o.set(d,a),a++}const c=new Set,l=new Set;return this.elementKeySet.forEach(u=>{i.has(u)||c.add(u)}),i.forEach(u=>{this.elementKeySet.has(u)||l.add(u)}),this.lock=!0,Promise.all([this.deleteElements(c,n.deleteElement),this.addedElements(l,s,o,n.addedElement,r)]).then(()=>{this.elementKeySet=i,this.lock=!1}),P`${this.view}`}async deleteElements(e,t){const n=[],r=async i=>{const s=this.view.querySelector(`#${i}`);s&&(await t(s),s.remove())};for(const i of e)n.push(r(i));await Promise.all(n)}async addedElements(e,t,n,r,i){const s=[],o=async a=>{const c=t.get(a),l=document.createElement("div");l.id=a.toString();const u=i(c);Gr(u,l);const d=await r(l),h=this.view.children[n.get(a)??0];h?this.view.insertBefore(l,h):this.view.appendChild(l),await d(l)};for(const a of e)s.push(o(a));await Promise.all(s)}addedElementsWithoutAnimation(e,t,n){let r=0;for(const i of e){const s=t(i,r),o=document.createElement("div");o.id=s.toString();const a=n(i);Gr(a,o),this.view.appendChild(o),this.elementKeySet.add(s),r++}}},GS=rn(Ly);function G(e,t){for(const n in t)e.style[n]=t[n]??""}function jf(e,t){const n=document.createElement(e);if(t&&typeof t=="function")try{t(n)}catch(r){console.error("call side effect error",r)}return document.head.appendChild(n),n}function Pa(e){jf("style",t=>pc(t,e))}function pc(e,t){e.textContent=t.cssText}function Df(e,t,n){return new CustomEvent(e,{bubbles:!0,composed:!0,detail:{value:t,event:n}})}function Se(e,t,n,r){e.dispatchEvent(Df(t,n,r))}function Vy(e){const t=document.head.querySelector("#theme-color");if(!t){jf("meta",n=>{n.id="theme-color",n.name="theme-color",n.content=e});return}t.content=e}function zf(e=40){try{navigator.vibrate(e)}catch{}}var Uy={requestUpdate:!0},Hy=class{constructor(e,t,n){this.host=e,this.observers=t,e.addController(this),this.config={...Uy,...n},this.subscribe()}hostDisconnected(){var e;(e=this.subscription)==null||e.unsubscribe()}subscribe(){const e=ye(Array.isArray(this.observers)?this.observers:[this.observers]),t=[];this.config.debounceTimeMs&&t.push(dr(this.config.debounceTimeMs)),this.subscription=e.pipe(...t).subscribe(()=>{this.config.requestUpdate&&this.host.requestUpdate()})}};function wt(e,t,n){return new Hy(e,t,n)}var Lf="screen and (max-width: 610px)",Ca;function Bn(){return Ca||(Ca=matchMedia(Lf)),Ca}function tt(e){return L`
      @media ${ft(Lf)} {
          ${ft(e)}
      }
  `}var Vf=X(()=>ce(Bn(),"change")).pipe(ke({bufferSize:0,refCount:!0}));function Do(e){wt(e,[Vf])}function qy(){return Vf}function si(e){return Do(e),Bn()}function Uf(){const e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")&&!e.includes("crios")}var Ta=new WeakMap;function Fr(e){if(Ta.has(e))return Ta.get(e);const t=new we(n=>{const r=new ResizeObserver(i=>n.next(i[0]));return r.observe(e),()=>{r.unobserve(e)}});return Ta.set(e,t),t}function Wy(){return!window.MSStream&&/iPad|iPhone|iPod/.test(navigator.userAgent)}function Gy(e){Wy()&&wt(e,[wr(ce(e,"touchmove"),ce(e,"touchstart")).pipe(Q(()=>{e.scrollTop<0?(e.style.touchAction="none",e.style.overflow="hidden"):(e.style.touchAction="",e.style.overflow="")}))])}const Ky=L`:host{overflow-y:auto;overflow-x:hidden;height:100svh;display:flex;flex-direction:column;justify-content:space-between}${tt(L`:host::-webkit-scrollbar{display:none}`)}.content{display:flex;width:100%;justify-content:center;margin-bottom:auto}`,Zy=L`.header-container{width:100%;box-sizing:border-box;padding:16px 24px;display:flex;align-items:center;justify-content:space-between;max-width:1400px;margin:0 auto;background-color:var(--color-background-bg-body)}.mobile-header{height:56px;padding:8px;max-width:100vw}.right-content{display:flex;align-items:center;gap:8px}`;var Yy=Object.defineProperty,Jy=Object.getOwnPropertyDescriptor,_s=(e,t,n,r)=>{for(var i=r>1?void 0:r?Jy(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Yy(t,n,i),i};const Hf="important",Xy=" !"+Hf,Dl=rn(class extends ys{constructor(e){var t;if(super(e),e.type!==gs.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in t){const i=t[r];if(i!=null){this.ft.add(r);const s=typeof i=="string"&&i.endsWith(Xy);r.includes("-")||s?n.setProperty(r,s?i.slice(0,-11):i,s?Hf:""):n[r]=i}}return It}});const Qy=Symbol();let zo=class{get taskComplete(){return this.t||(this.status===1?this.t=new Promise((t,n)=>{this.i=t,this.o=n}):this.status===3?this.t=Promise.reject(this.h):this.t=Promise.resolve(this.l)),this.t}constructor(t,n,r){var s;this.u=0,this.status=0,(this.p=t).addController(this);const i=typeof n=="object"?n:{task:n,args:r};this._=i.task,this.v=i.args,this.j=i.argsEqual??e0,this.m=i.onComplete,this.g=i.onError,this.autoRun=i.autoRun??!0,"initialValue"in i&&(this.l=i.initialValue,this.status=2,this.k=(s=this.A)==null?void 0:s.call(this))}hostUpdate(){this.autoRun===!0&&this.O()}hostUpdated(){this.autoRun==="afterUpdate"&&this.O()}A(){if(this.v===void 0)return;const t=this.v();if(!Array.isArray(t))throw Error("The args function must return an array");return t}async O(){const t=this.A(),n=this.k;this.k=t,t===n||t===void 0||n!==void 0&&this.j(n,t)||await this.run(t)}async run(t){var o,a,c,l,u;let n,r;t??(t=this.A()),this.k=t,this.status===1?(o=this.T)==null||o.abort():(this.t=void 0,this.i=void 0,this.o=void 0),this.status=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this.p.requestUpdate()):this.p.requestUpdate();const i=++this.u;this.T=new AbortController;let s=!1;try{n=await this._(t,{signal:this.T.signal})}catch(d){s=!0,r=d}if(this.u===i){if(n===Qy)this.status=0;else{if(s===!1){try{(a=this.m)==null||a.call(this,n)}catch{}this.status=2,(c=this.i)==null||c.call(this,n)}else{try{(l=this.g)==null||l.call(this,r)}catch{}this.status=3,(u=this.o)==null||u.call(this,r)}this.l=n,this.h=r}this.p.requestUpdate()}}abort(t){var n;this.status===1&&((n=this.T)==null||n.abort(t))}get value(){return this.l}get error(){return this.h}render(t){var n,r,i,s;switch(this.status){case 0:return(n=t.initial)==null?void 0:n.call(t);case 1:return(r=t.pending)==null?void 0:r.call(t);case 2:return(i=t.complete)==null?void 0:i.call(t,this.value);case 3:return(s=t.error)==null?void 0:s.call(t,this.error);default:throw Error("Unexpected status: "+this.status)}}};const e0=(e,t)=>e===t||e.length===t.length&&e.every((n,r)=>!No(n,t[r]));var t0={circle16:{width:"16px",height:"16px",loader:()=>R(()=>import("./circle_16.svg-5A6VQOYQ-Cgr8Ee8Y.js"),__vite__mapDeps([])).then(e=>e.circle16Svg)},cross8:{width:"8px",height:"8px",loader:()=>R(()=>import("./cross_8.svg-XGFBM66Z-CuzgbE7A.js"),__vite__mapDeps([])).then(e=>e.cross8Svg)},startDefault16:{width:"16px",height:"16px",loader:()=>R(()=>import("./start-default_16.svg-64JR52LF-BCW2qNsM.js"),__vite__mapDeps([])).then(e=>e.startDefault16Svg)},connect16:{width:"16px",height:"16px",loader:()=>R(()=>import("./connect_16.svg-PO2GPMS3-CudVRbrN.js"),__vite__mapDeps([])).then(e=>e.connect16Svg)},cornerDownRight16:{width:"16px",height:"16px",loader:()=>R(()=>import("./corner-down-right_16.svg-PPZGTLPB-CFI0b8oY.js"),__vite__mapDeps([])).then(e=>e.cornerDownRight16Svg)},chevronDown16:{width:"16px",height:"16px",loader:()=>R(()=>import("./chevron-down_16.svg-WQJ4APA6-BVxyskGi.js"),__vite__mapDeps([])).then(e=>e.chevronDown16Svg)},arrowDown16:{width:"16px",height:"16px",loader:()=>R(()=>import("./arrow-down_16.svg-4QVYEBI5-Czyx2yxG.js"),__vite__mapDeps([])).then(e=>e.arrowDown16Svg)},fusion16:{width:"16px",height:"16px",loader:()=>R(()=>import("./fusion_16-WIORCX7S-DfvDlFRH.js"),__vite__mapDeps([])).then(e=>e.fusion16Svg)},link16:{width:"16px",height:"16px",loader:()=>R(()=>import("./link_16.svg-4266GCXS-Cnvj-r5V.js"),__vite__mapDeps([])).then(e=>e.link16Svg)},plusCircle16:{width:"16px",height:"16px",loader:()=>R(()=>import("./plus-circle_16.svg-T2GBAQQM-DMQipms0.js"),__vite__mapDeps([])).then(e=>e.plusCircle16Svg)},circle24:{width:"24px",height:"24px",loader:()=>R(()=>import("./circle_24.svg-AB4GUE2T-CJNCz8Sc.js"),__vite__mapDeps([])).then(e=>e.circle24Svg)},arrowDown24:{width:"24px",height:"24px",loader:()=>R(()=>import("./arrow-down_24.svg-BMJLASFV-b01Y2GwZ.js"),__vite__mapDeps([])).then(e=>e.arrowDown24Svg)},arrowLeft24:{width:"24px",height:"24px",loader:()=>R(()=>import("./arrow-left_24.svg-IRRYQNFN-D_TS8S-Z.js"),__vite__mapDeps([])).then(e=>e.arrowLeft24Svg)},cross24:{width:"24px",height:"24px",loader:()=>R(()=>import("./cross_24.svg-HSKPD6WC-CJrVqVz-.js"),__vite__mapDeps([])).then(e=>e.cross24Svg)},search24:{width:"24px",height:"24px",loader:()=>R(()=>import("./search_24.svg-3U45YGNI-CbHvkN6q.js"),__vite__mapDeps([])).then(e=>e.search24Svg)},edit24:{width:"24px",height:"24px",loader:()=>R(()=>import("./edit_24.svg-BFMIFOEW-DyXsTbur.js"),__vite__mapDeps([])).then(e=>e.edit24Svg)},connect24:{width:"24px",height:"24px",loader:()=>R(()=>import("./connect_24.svg-ME56QVN3-CaH9dJN3.js"),__vite__mapDeps([])).then(e=>e.connect24Svg)},link24:{width:"24px",height:"24px",loader:()=>R(()=>import("./link_24.svg-HICFLTRN-HCCcp2y-.js"),__vite__mapDeps([])).then(e=>e.link24Svg)},alert24:{width:"24px",height:"24px",loader:()=>R(()=>import("./alert_24.svg-O4BS725F-BRYKrc4u.js"),__vite__mapDeps([])).then(e=>e.alert24Svg)},l2Chain24:{width:"24px",height:"24px",loader:()=>R(()=>import("./l2-chain_24.svg-MREYJWW5-Ra5jesFG.js"),__vite__mapDeps([])).then(e=>e.l2Chain24Svg)},authRefresh36:{width:"36px",height:"36px",loader:()=>R(()=>import("./auth-refresh_36.svg-XXESHZLA-BkxKLL7w.js"),__vite__mapDeps([])).then(e=>e.authRefresh36Svg)},logoFull:{width:"102px",height:"40px",loader:()=>R(()=>import("./logo-full.svg-GO34FL6I-BQ5gZF8l.js"),__vite__mapDeps([])).then(e=>e.logoFullSvg)},unicornRun:{width:"38px",height:"24px",loader:()=>R(()=>import("./unicorn_run.svg-TQ2VX525-Banlus6v.js"),__vite__mapDeps([])).then(e=>e.unicornRunSvg)},fire48:{width:"48px",height:"48px",loader:()=>R(()=>import("./fire_48.png-LYIESPA7-n--3-zsn.js"),__vite__mapDeps([])).then(e=>e.fire48Png)},eth24:{width:"24px",height:"24px",loader:()=>R(()=>import("./eth_24.svg-6WUUVWDG-DUVecvh8.js"),__vite__mapDeps([])).then(e=>e.eth24Svg)},bnb24:{width:"24px",height:"24px",loader:()=>R(()=>import("./bnb_24.svg-7QB677SV-ll1-cLSK.js"),__vite__mapDeps([])).then(e=>e.bnb24Svg)},op24:{width:"24px",height:"24px",loader:()=>R(()=>import("./op_24.svg-P2V2XERS-CVNJS6se.js"),__vite__mapDeps([])).then(e=>e.op24Svg)},matic24:{width:"24px",height:"24px",loader:()=>R(()=>import("./matic_24.svg-XFEFR3CB-BpDOYStz.js"),__vite__mapDeps([])).then(e=>e.matic24Svg)},arbitrum24:{width:"24px",height:"24px",loader:()=>R(()=>import("./arbitrum_24.svg-C4CBQP6H-zcN9t8hw.js"),__vite__mapDeps([])).then(e=>e.arbitrum24Svg)},gnosis24:{width:"24px",height:"24px",loader:()=>R(()=>import("./gnosis_24.svg-G4IW5RE5-sa0hMP1J.js"),__vite__mapDeps([])).then(e=>e.gnosis24Svg)},avalanche24:{width:"24px",height:"24px",loader:()=>R(()=>import("./avalanche_24.svg-UDMC72BD-BsGDOOOh.js"),__vite__mapDeps([])).then(e=>e.avalanche24Svg)},fantom24:{width:"24px",height:"24px",loader:()=>R(()=>import("./fantom_24.svg-M7OSWL5Q-F3bqGB2r.js"),__vite__mapDeps([])).then(e=>e.fantom24Svg)},aurora24:{width:"24px",height:"24px",loader:()=>R(()=>import("./aurora_24.svg-ZG7S7PJE-Dh7EP-gg.js"),__vite__mapDeps([])).then(e=>e.aurora24Svg)},klaytn24:{width:"24px",height:"24px",loader:()=>R(()=>import("./klaytn_24.svg-Z4324MSC-suYZM4CW.js"),__vite__mapDeps([])).then(e=>e.klaytn24Svg)},zkSyncEra24:{width:"24px",height:"24px",loader:()=>R(()=>import("./zksyncera_24.svg-EH2KLSCU-DDOPqwhN.js"),__vite__mapDeps([])).then(e=>e.zkSyncEra24Svg)},base24:{width:"24px",height:"24px",loader:()=>R(()=>import("./base_24.svg-IUSPU3VL-CWE93Xut.js"),__vite__mapDeps([])).then(e=>e.base24Svg)}},Pt=class extends K{constructor(){super(...arguments),this.iconLoadTask=new zo(this,([e])=>this.loadImage(e),()=>[this.icon])}render(){var t,n;const e={width:this.width??((t=this.iconRecord)==null?void 0:t.width),height:this.height??((n=this.iconRecord)==null?void 0:n.height)};return this.iconLoadTask.render({pending:()=>P`<div style="${Dl(e)}"></div>`,complete:r=>typeof r=="function"?r({...e,props:this.props}):r})}async loadImage(e){if(!e)throw new Error("icon is required field for inch-icon element");if(this.iconRecord=t0[e],!this.iconRecord)throw new Error(`icon name ${e} not exist`);return await this.iconRecord.loader()}};Pt.tagName="inch-icon";Pt.styles=L`:host{display:flex;width:fit-content;height:fit-content}`;_s([V({type:String,attribute:"icon"})],Pt.prototype,"icon",2);_s([V({type:String,attribute:!0})],Pt.prototype,"width",2);_s([V({type:String,attribute:!0})],Pt.prototype,"height",2);_s([V({type:Object})],Pt.prototype,"props",2);Pt=_s([J(Pt.tagName)],Pt);const n0=Object.freeze(Object.defineProperty({__proto__:null,get IconElement(){return Pt}},Symbol.toStringTag,{value:"Module"}));var r0=Object.defineProperty,i0=Object.getOwnPropertyDescriptor,le=(e,t,n,r)=>{for(var i=r>1?void 0:r?i0(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&r0(t,n,i),i};const Ge=rn(class extends ys{constructor(e){var t;if(super(e),e.type!==gs.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,i;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in t)t[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(t)}const n=e.element.classList;for(const s of this.st)s in t||(n.remove(s),this.st.delete(s));for(const s in t){const o=!!t[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return It}});var s0=Object.defineProperty,o0=Object.getOwnPropertyDescriptor,xr=(e,t,n,r)=>{for(var i=r>1?void 0:r?o0(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&s0(t,n,i),i},a0=L`:host{display:block}button{cursor:pointer;font-family:Inter,sans-serif;font-style:normal;font-weight:600;display:flex;align-items:center;justify-content:center;gap:8px;border:1px solid var(--button-border-color,none);background-color:var(--button-background-color);color:var(--button-text-color-ext,var(--button-text-color,var(--color-core-white)));box-sizing:border-box;transition:background-color .2s,box-shadow .2s,color .2s,transform .1s;outline:0;user-select:none;-webkit-tap-highlight-color:transparent;will-change:background-color,color,box-shadow,transform}button.full-size{width:100%}@media (hover:hover){button:enabled:hover{background-color:var(--button-background-color-hover);color:var(--button-text-color-ext-hover,var(--button-text-color-hover,var(--button-text-color)))}}button:enabled:active,button:enabled:focus-visible{transform:scale(.98);box-shadow:0 0 0 2px var(--button-box-shadow-color-active)}.active-box-shadow-inset:enabled:active,.active-box-shadow-inset:enabled:focus-visible{box-shadow:inset 0 0 0 2px var(--button-box-shadow-color-active)}button:disabled{cursor:not-allowed}`,c0=L`.m{padding:6px 12px;border-radius:8px;font-size:14px}.l{padding:8px 16px;border-radius:12px;font-size:14px}.xl{padding:12px 24px;border-radius:16px;font-size:16px}.xxl{padding:16px 24px;border-radius:16px;font-size:20px}.m.only-icon{padding:0}.l.only-icon{padding:6px}.xl.only-icon{padding:12px}.xxl.only-icon{padding:18px}`,l0=L`.primary{--button-background-color:var(--primary);--button-background-color-hover:var(--primary-hover);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-core-white)}.primary-critical{--button-background-color:var(--color-core-red-critical);--button-background-color-hover:var(--color-core-red-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical);--button-text-color:var(--color-core-white)}.primary-warning{--button-background-color:var(--color-core-orange-warning);--button-background-color-hover:var(--color-core-orange-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning);--button-text-color:var(--color-core-white)}.primary-gray{--button-background-color:var(--color-background-bg-primary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary)}.secondary{--button-background-color:var(--secondary);--button-background-color-hover:var(--secondary-hover);--button-box-shadow-color-active:var(--secondary-hover);--button-text-color:var(--primary);--button-text-color-hover:var(--primary-hover)}.secondary-critical{--button-background-color:var(--color-background-bg-critical);--button-background-color-hover:var(--color-background-bg-critical-hover);--button-box-shadow-color-active:var(--color-background-bg-critical-hover);--button-text-color:var(--color-core-red-critical-hover)}.secondary-warning{--button-background-color:var(--color-background-bg-warning);--button-background-color-hover:var(--color-background-bg-warning-hover);--button-box-shadow-color-active:var(--color-background-bg-warning-hover);--button-text-color:var(--color-core-orange-warning)}.secondary-gray{--button-background-color:transparent;--button-border-color:var(--color-border-border-tertiary);--button-background-color-hover:var(--color-background-bg-secondary);--button-box-shadow-color-active:var(--secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary);--button-background-color-disabled:transparent;--button-border-color-disabled:var(--color-background-bg-disabled)}.tertiary{--button-background-color:transparent;--button-background-color-hover:var(--secondary);--button-text-color:var(--primary)}.tertiary-gray{--button-background-color:transparent;--button-background-color-hover:var(--color-background-bg-secondary);--button-text-color:var(--color-content-content-primary);--button-text-color-hover:var(--color-content-content-secondary)}button:disabled{background-color:var(--button-background-color-disabled,var(--color-background-bg-disabled));color:var(--color-content-content-disabled);border:1px solid var(--button-border-color-disabled,none)}`,pt=class extends K{constructor(){super(...arguments),this.size="xl",this.type="primary",this.fullSize=!1,this.disabled=!1,this.disabledSlotPointerEvent=!1,this.isIconButton=!1}render(){const e={[this.size]:!0,[this.type]:!0,"only-icon":this.isIconButton,"full-size":this.fullSize,"active-box-shadow-inset":this.type.includes("secondary")&&!this.type.includes("gray")};return P`<button class="${Ge(e)}" @click="${()=>zf()}" ?disabled="${this.disabled}"><slot style="${this.disabledSlotPointerEvent?"pointer-events: none;":""}" @slotchange="${this.handleSlotChange}"></slot></button>`}handleSlotChange(e){const t=e.target;if(!t)return;const n=t.assignedNodes({flatten:!0}).filter(r=>r.nodeName!=="#text");this.isIconButton=n.length===1&&n[0].nodeName.toLowerCase()==="inch-icon",this.requestUpdate()}};pt.tagName="inch-button";pt.styles=[a0,c0,l0];xr([V({type:String,attribute:!0})],pt.prototype,"size",2);xr([V({type:String,attribute:!0})],pt.prototype,"type",2);xr([V({type:Boolean,attribute:!0})],pt.prototype,"fullSize",2);xr([V({type:Boolean,attribute:!0})],pt.prototype,"disabled",2);xr([V({type:Boolean,attribute:!0})],pt.prototype,"disabledSlotPointerEvent",2);xr([et()],pt.prototype,"isIconButton",2);pt=xr([J(pt.tagName)],pt);var u0=Object.defineProperty,d0=Object.getOwnPropertyDescriptor,Rn=(e,t,n,r)=>{for(var i=r>1?void 0:r?d0(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&u0(t,n,i),i},h0=L`:host{background-color:var(--color-background-bg-primary);border-radius:24px;width:fit-content;height:fit-content;display:block}:host(.shadow){box-shadow:0 -3px 4px 0 var(--primary-12),0 6px 12px 0 var(--primary-12)}:host(.mobile){border-bottom-left-radius:0;border-bottom-right-radius:0;width:100vw;height:fit-content;box-shadow:none}.card-content{padding:8px;display:flex;width:100%;height:100%;box-sizing:border-box;flex-direction:column;gap:8px}`,Yn=class extends K{constructor(){super(...arguments),this.forMobileView=!1,this.showShadow=!1}render(){return P`<slot name="header"></slot><div class="card-content"><slot></slot></div>`}firstUpdated(){this.forMobileView&&!this.classList.contains("mobile")&&this.classList.add("mobile"),this.showShadow&&!this.classList.contains("shadow")&&this.classList.add("shadow")}};Yn.tagName="inch-card";Yn.styles=h0;Rn([V({type:Boolean})],Yn.prototype,"forMobileView",2);Rn([V({type:Boolean})],Yn.prototype,"showShadow",2);Yn=Rn([J(Yn.tagName)],Yn);var f0=L`:host{display:flex;height:68px;width:100%;padding:16px 16px 0;box-sizing:border-box;border-top-left-radius:32px;border-top-right-radius:32px}:host(.not-native-mode){margin-top:-16px;margin-left:-16px;width:calc(100% + 32px);height:60px}.card-header-container{display:grid;grid-template-columns:1fr 1fr 1fr;width:100%;height:100%}.position-container{height:100%;width:100%;display:flex;align-items:center;color:var(--color-content-content-primary);gap:8px;word-wrap:break-word;white-space:nowrap}.center-container{justify-content:center}.left-container{justify-content:flex-start}.right-container{justify-content:flex-end}.card-header-title{font-size:20px;font-weight:600;line-height:28px;letter-spacing:0;text-align:center}.card-header-title__left:not(.card-header-title__and-back){margin-left:8px}${tt(L`.card-header-title{font-size:16px}:host{height:52px;padding:8px 8px 0}:host(.not-native-mode){margin-top:-8px;margin-left:-8px;width:calc(100% + 16px);height:52px}`)}`,Wt=class extends K{constructor(){super(),this.headerTextPosition="center",this.backButton=!1,this.closeButton=!1,this.slotDirty={},this.slot="header"}render(){return P`<div class="card-header-container"><div class="position-container left-container"><slot @slotchange="${()=>this.onSlotChange("left")}" name="left-container"></slot>${this.getBackButton("left")} ${this.getHeader("left")}</div><div class="position-container center-container"><slot @slotchange="${()=>this.onSlotChange("center")}" name="center-container"></slot>${this.getHeader("center")}</div><div class="position-container right-container"><slot @slotchange="${()=>this.onSlotChange("right")}" name="right-container"></slot>${this.getCloseButton("right")}</div></div>`}firstUpdated(){var e;((e=this.parentElement)==null?void 0:e.localName)!=="inch-card"&&this.classList.add("not-native-mode")}getHeader(e){const t=this.slotDirty[e]??!1,n={"card-header-title":!0,[`card-header-title__${e}`]:!0,"card-header-title__and-back":this.backButton};return this.headerTextPosition===e&&!t?P`<span class="${Ge(n)}">${this.headerText}</span>`:""}getBackButton(e){const t=this.slotDirty[e]??!1;return this.backButton&&!t?P`<inch-button @click="${n=>Se(this,"backCard",null,n)}" size="l" type="tertiary-gray"><inch-icon icon="arrowLeft24"></inch-icon></inch-button>`:""}getCloseButton(e){const t=this.slotDirty[e]??!1;return this.closeButton&&!t?P`<inch-button @click="${n=>Se(this,"closeCard",null,n)}" size="l" type="tertiary-gray"><inch-icon icon="cross24"></inch-icon></inch-button>`:""}onSlotChange(e){this.slotDirty={...this.slotDirty,[e]:!0},this.requestUpdate()}};Wt.tahName="inch-card-header";Wt.styles=f0;Rn([V({type:String,attribute:!0})],Wt.prototype,"headerText",2);Rn([V({type:String,attribute:!0})],Wt.prototype,"headerTextPosition",2);Rn([V({type:Boolean,attribute:!0})],Wt.prototype,"backButton",2);Rn([V({type:Boolean,attribute:!0})],Wt.prototype,"closeButton",2);Wt=Rn([J(Wt.tahName)],Wt);function*zl(e,t){if(e!==void 0){let n=0;for(const r of e)yield t(r,n++)}}const Vi=e=>e??de;var p0=Object.defineProperty,m0=Object.getOwnPropertyDescriptor,Es=(e,t,n,r)=>{for(var i=m0(t,n),s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=o(t,n,i)||i);return i&&p0(t,n,i),i},b0={oneInchDevPortalHost:"https://jellyfish-app-8xwqz.ondigitalocean.app/",walletConnectProjectId:"2dd59e55b1b7bbfb98ddf9266f813b3b",appVersion:"1.0.0-dev.9"};function qf(e){return b0[e]}var g0=class{constructor(e){this.config=e,this.storage=y0()}get prefix(){return this.config.storagePrefix??""}get separator(){return this.config.storageSeparator??":"}set(e,t){if(this.storage)try{const n=this.key(e),r=JSON.stringify(t);this.storage.setItem(n,r)}catch(n){console.warn(n)}}get(e,t){if(!this.storage)return null;try{const n=this.key(e),r=this.storage.getItem(n);return r===null?null:t(r)}catch(n){return console.warn(n),null}}remove(e){if(this.storage)try{const t=this.key(e);this.storage.removeItem(t)}catch(t){console.warn(t)}}update(e,t){const n=this.get(e,qn),r=t(n);return this.set(e,r),r}updateEntity(e,t,n){const i={...this.get(e,qn)??{},[t]:n};this.set(e,i)}key(e){return[this.prefix,e].join(this.separator)}};function y0(){return Sd(window.localStorage)?window.localStorage:Sd(window.sessionStorage)?window.sessionStorage:null}function Sd(e){if(window!=null&&window.localStorage)try{e.setItem("@__test__@","1");const t=window.localStorage.getItem("@__test__@");e.removeItem("@__test__@");const n=e.getItem("@__test__@");return t==="1"&&n===null}catch{return!1}return!1}function qn(e){return JSON.parse(e)}var ae=new g0({storagePrefix:"one-inch",storageSeparator:":"}),ZS=e=>[...Array(e)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),x=(e=>(e[e.eth=1]="eth",e[e.bnb=56]="bnb",e[e.matic=137]="matic",e[e.op=10]="op",e[e.arbitrum=42161]="arbitrum",e[e.gnosis=100]="gnosis",e[e.avalanche=43114]="avalanche",e[e.fantom=250]="fantom",e[e.aurora=1313161554]="aurora",e[e.klaytn=8217]="klaytn",e[e.zkSyncEra=324]="zkSyncEra",e))(x||{});const v0="1.0.0";let nt=class mc extends Error{constructor(t,n={}){var o;const r=n.cause instanceof mc?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof mc&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${v0}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Mn(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Wf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Gf=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Kf=/^\(.+?\).*?$/,Pd=/^tuple(?<array>(\[(\d*)\])*)$/;function bc(e){let t=e.type;if(Pd.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=bc(s),i<n-1&&(t+=", ")}const r=Mn(Pd,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,bc({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function mi(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=bc(i),r!==n-1&&(t+=", ")}return t}function w0(e){return e.type==="function"?`function ${e.name}(${mi(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${mi(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${mi(e.inputs)})`:e.type==="error"?`error ${e.name}(${mi(e.inputs)})`:e.type==="constructor"?`constructor(${mi(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Zf=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function x0(e){return Zf.test(e)}function _0(e){return Mn(Zf,e)}const Yf=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function E0(e){return Yf.test(e)}function $0(e){return Mn(Yf,e)}const Jf=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function A0(e){return Jf.test(e)}function k0(e){return Mn(Jf,e)}const Xf=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Qf(e){return Xf.test(e)}function S0(e){return Mn(Xf,e)}const ep=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function P0(e){return ep.test(e)}function C0(e){return Mn(ep,e)}const T0=/^fallback\(\)$/;function I0(e){return T0.test(e)}const O0=/^receive\(\) external payable$/;function B0(e){return O0.test(e)}const R0=new Set(["indexed"]),gc=new Set(["calldata","memory","storage"]);class M0 extends nt{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class N0 extends nt{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class F0 extends nt{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class j0 extends nt{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class D0 extends nt{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class z0 extends nt{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class L0 extends nt{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class vi extends nt{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class V0 extends nt{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class U0 extends nt{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class H0 extends nt{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class q0 extends nt{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function W0(e,t){return t?`${t}:${e}`:e}const Ia=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function G0(e,t={}){if(A0(e)){const n=k0(e);if(!n)throw new vi({signature:e,type:"function"});const r=ut(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Ln(r[a],{modifiers:gc,structs:t,type:"function"}));const o=[];if(n.returns){const a=ut(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Ln(a[l],{modifiers:gc,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}if(E0(e)){const n=$0(e);if(!n)throw new vi({signature:e,type:"event"});const r=ut(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ln(r[o],{modifiers:R0,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}if(x0(e)){const n=_0(e);if(!n)throw new vi({signature:e,type:"error"});const r=ut(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ln(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}if(P0(e)){const n=C0(e);if(!n)throw new vi({signature:e,type:"constructor"});const r=ut(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ln(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}if(I0(e))return{type:"fallback"};if(B0(e))return{type:"receive",stateMutability:"payable"};throw new V0({signature:e})}const K0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Z0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Y0=/^u?int$/;function Ln(e,t){var d,h;const n=W0(e,t==null?void 0:t.type);if(Ia.has(n))return Ia.get(n);const r=Kf.test(e),i=Mn(r?Z0:K0,e);if(!i)throw new F0({param:e});if(i.name&&X0(i.name))throw new j0({param:e,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,l={};if(r){c="tuple";const p=ut(i.type),m=[],f=p.length;for(let y=0;y<f;y++)m.push(Ln(p[y],{structs:a}));l={components:m}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(Y0.test(i.type))c=`${i.type}256`;else if(c=i.type,(t==null?void 0:t.type)!=="struct"&&!tp(c))throw new N0({type:c});if(i.modifier){if(!((h=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&h.call(d,i.modifier)))throw new D0({param:e,type:t==null?void 0:t.type,modifier:i.modifier});if(gc.has(i.modifier)&&!Q0(c,!!i.array))throw new z0({param:e,type:t==null?void 0:t.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return Ia.set(n,u),u}function ut(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const o=e[s],a=e.slice(s+1);switch(o){case",":return r===0?ut(a,[...t,n.trim()]):ut(a,t,`${n}${o}`,r);case"(":return ut(a,t,`${n}${o}`,r+1);case")":return ut(a,t,`${n}${o}`,r-1);default:return ut(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new q0({current:n,depth:r});return t.push(n.trim()),t}function tp(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Wf.test(e)||Gf.test(e)}const J0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function X0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Wf.test(e)||Gf.test(e)||J0.test(e)}function Q0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ev(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Qf(a))continue;const c=S0(a);if(!c)throw new vi({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const m=l[h].trim();if(!m)continue;const f=Ln(m,{type:"struct"});u.push(f)}if(!u.length)throw new U0({signature:a});t[c.name]=u}const r={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=np(c,t)}return r}const tv=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function np(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(Kf.test(o.type))r.push(o);else{const c=Mn(tv,o.type);if(!(c!=null&&c.type))throw new L0({abiParameter:o});const{array:l,type:u}=c;if(u in t){if(n.has(u))throw new H0({type:u});r.push({...o,type:`tuple${l??""}`,components:np(t[u]??[],t,new Set([...n,u]))})}else if(tp(u))r.push(o);else throw new M0({type:u})}}return r}function xt(e){const t=ev(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];Qf(s)||n.push(G0(s,t))}return n}function z(e,t,n){return r=>{var i,s;return((i=e[t.name])==null?void 0:i.call(e,r))??((s=e[n])==null?void 0:s.call(e,r))??t(e,r)}}function Xt(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new mv(e.type);return`${e.name}(${Lo(e.inputs,{includeName:t})})`}function Lo(e,{includeName:t=!1}={}){return e?e.map(n=>nv(n,{includeName:t})).join(t?", ":","):""}function nv(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Lo(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function vt(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function pe(e){return vt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const rv="2.12.0",iv=e=>e,Vo=e=>e,sv=()=>`viem@${rv}`;class S extends Error{constructor(t,n={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:sv()});const r=n.cause instanceof S?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof S&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return rp(this,t)}}function rp(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?rp(e.cause,t):t?null:e}class ov extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Cd extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class ip extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Lo(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Uo extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class av extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class cv extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${pe(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class sp extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class op extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class lv extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class ap extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Td extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class _o extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class uv extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class dv extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Xt(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Xt(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class cp extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Ui extends S{constructor({abiItem:t,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Lo(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=i}}class Ho extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Xt(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class hv extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class fv extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class pv extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class mv extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class bv extends S{constructor(t){super(`Type "${t}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class gv extends S{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class lp extends S{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class up extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class Id extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function Ct(e,{dir:t,size:n=32}={}){return typeof e=="string"?gn(e,{dir:t,size:n}):yv(e,{dir:t,size:n})}function gn(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new up({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function yv(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new up({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}class vv extends S{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class wv extends S{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class xv extends S{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Yr(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Rt(e,{size:t}){if(pe(e)>t)throw new xv({givenSize:pe(e),maxSize:t})}function oe(e,t={}){const{signed:n}=t;t.size&&Rt(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Ot(e,t={}){return Number(oe(e,t))}const _v=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function M(e,t={}){return typeof e=="number"||typeof e=="bigint"?H(e,t):typeof e=="string"?qo(e,t):typeof e=="boolean"?Ll(e,t):xe(e,t)}function Ll(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Rt(n,{size:t.size}),Ct(n,{size:t.size})):n}function xe(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=_v[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(Rt(r,{size:t.size}),Ct(r,{dir:"right",size:t.size})):r}function H(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new vv({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Ct(a,{size:r}):a}const Ev=new TextEncoder;function qo(e,t={}){const n=Ev.encode(e);return xe(n,t)}const $v=new TextEncoder;function mt(e,t={}){return typeof e=="number"||typeof e=="bigint"?kv(e,t):typeof e=="boolean"?Av(e,t):vt(e)?bt(e,t):Gt(e,t)}function Av(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Rt(n,{size:t.size}),Ct(n,{size:t.size})):n}const Dt={zero:48,nine:57,A:65,F:70,a:97,f:102};function Od(e){if(e>=Dt.zero&&e<=Dt.nine)return e-Dt.zero;if(e>=Dt.A&&e<=Dt.F)return e-(Dt.A-10);if(e>=Dt.a&&e<=Dt.f)return e-(Dt.a-10)}function bt(e,t={}){let n=e;t.size&&(Rt(n,{size:t.size}),n=Ct(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=Od(r.charCodeAt(a++)),l=Od(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new S(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function kv(e,t){const n=H(e,t);return bt(n)}function Gt(e,t={}){const n=$v.encode(e);return typeof t.size=="number"?(Rt(n,{size:t.size}),Ct(n,{dir:"right",size:t.size})):n}function Eo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Vl(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Sv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Eo(e.outputLen),Eo(e.blockLen)}function Jr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dp(e,t){Vl(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Us=BigInt(2**32-1),Bd=BigInt(32);function Pv(e,t=!1){return t?{h:Number(e&Us),l:Number(e>>Bd&Us)}:{h:Number(e>>Bd&Us)|0,l:Number(e&Us)|0}}function Cv(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Pv(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const Tv=(e,t,n)=>e<<n|t>>>32-n,Iv=(e,t,n)=>t<<n|e>>>32-n,Ov=(e,t,n)=>t<<n-32|e>>>64-n,Bv=(e,t,n)=>e<<n-32|t>>>64-n,Oa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const hp=e=>e instanceof Uint8Array,Rv=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Ba=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),$t=(e,t)=>e<<32-t|e>>>t,Mv=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Mv)throw new Error("Non little-endian hardware is not supported");function Nv(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Wo(e){if(typeof e=="string"&&(e=Nv(e)),!hp(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Fv(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!hp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class Ul{clone(){return this._cloneInto()}}function fp(e){const t=r=>e().update(Wo(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function jv(e=32){if(Oa&&typeof Oa.getRandomValues=="function")return Oa.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[pp,mp,bp]=[[],[],[]],Dv=BigInt(0),bi=BigInt(1),zv=BigInt(2),Lv=BigInt(7),Vv=BigInt(256),Uv=BigInt(113);for(let e=0,t=bi,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],pp.push(2*(5*r+n)),mp.push((e+1)*(e+2)/2%64);let i=Dv;for(let s=0;s<7;s++)t=(t<<bi^(t>>Lv)*Uv)%Vv,t&zv&&(i^=bi<<(bi<<BigInt(s))-bi);bp.push(i)}const[Hv,qv]=Cv(bp,!0),Rd=(e,t,n)=>n>32?Ov(e,t,n):Tv(e,t,n),Md=(e,t,n)=>n>32?Bv(e,t,n):Iv(e,t,n);function Wv(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=Rd(l,u,1)^n[a],h=Md(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)e[o+p]^=d,e[o+p+1]^=h}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=mp[o],c=Rd(i,s,a),l=Md(i,s,a),u=pp[o];i=e[u],s=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Hv[r],e[1]^=qv[r]}n.fill(0)}class Hl extends Ul{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Eo(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Rv(this.state)}keccak(){Wv(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Jr(this);const{blockLen:n,state:r}=this;t=Wo(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Jr(this,!1),Vl(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Eo(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(dp(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Hl(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Gv=(e,t,n)=>fp(()=>new Hl(t,e,n)),Kv=Gv(1,136,256/8);function Ne(e,t){const n=t||"hex",r=Kv(vt(e,{strict:!1})?mt(e):e);return n==="bytes"?r:M(r)}const Zv=e=>Ne(mt(e));function Yv(e){return Zv(e)}function Jv(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new S("Unable to normalize signature.");return i}const Xv=e=>{const t=typeof e=="string"?e:w0(e);return Jv(t)};function gp(e){return Yv(Xv(e))}const ql=gp;class Ee extends S{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class yp extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const Ra=new yp(8192);function Go(e,t){if(Ra.has(`${e}.${t}`))return Ra.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Ne(Gt(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Ra.set(`${e}.${t}`,s),s}function pn(e,t){if(!me(e,{strict:!1}))throw new Ee({address:e});return Go(e,t)}const Qv=/^0x[a-fA-F0-9]{40}$/,Ma=new yp(8192);function me(e,t){const{strict:n=!0}=t??{};if(Ma.has(e))return Ma.get(e);const r=Qv.test(e)?e.toLowerCase()===e?!0:n?Go(e)===e:!0:!1;return Ma.set(e,r),r}function Qt(e){return typeof e[0]=="string"?Mt(e):ew(e)}function ew(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Mt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Hi(e,t,n,{strict:r}={}){return vt(e,{strict:!1})?tw(e,t,n,{strict:r}):xp(e,t,n,{strict:r})}function vp(e,t){if(typeof t=="number"&&t>0&&t>pe(e)-1)throw new lp({offset:t,position:"start",size:pe(e)})}function wp(e,t,n){if(typeof t=="number"&&typeof n=="number"&&pe(e)!==n-t)throw new lp({offset:n,position:"end",size:pe(e)})}function xp(e,t,n,{strict:r}={}){vp(e,t);const i=e.slice(t,n);return r&&wp(i,t,n),i}function tw(e,t,n,{strict:r}={}){vp(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&wp(i,t,n),i}function $s(e,t){if(e.length!==t.length)throw new sp({expectedLength:e.length,givenLength:t.length});const n=nw({params:e,values:t}),r=Gl(n);return r.length===0?"0x":r}function nw({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Wl({param:e[r],value:t[r]}));return n}function Wl({param:e,value:t}){const n=Kl(e.type);if(n){const[r,i]=n;return iw(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return lw(t,{param:e});if(e.type==="address")return rw(t);if(e.type==="bool")return ow(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return aw(t,{signed:r})}if(e.type.startsWith("bytes"))return sw(t,{param:e});if(e.type==="string")return cw(t);throw new hv(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Gl(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=pe(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(H(t+i,{size:32})),r.push(a),i+=pe(a)):n.push(a)}return Qt([...n,...r])}function rw(e){if(!me(e))throw new Ee({address:e});return{dynamic:!1,encoded:gn(e.toLowerCase())}}function iw(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new pv(e);if(!r&&e.length!==t)throw new av({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const a=Wl({param:n,value:e[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=Gl(s);if(r){const a=H(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Qt([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Qt(s.map(({encoded:o})=>o))}}function sw(e,{param:t}){const[,n]=t.type.split("bytes"),r=pe(e);if(!n){let i=e;return r%32!==0&&(i=gn(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Qt([gn(H(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new cv({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:gn(e,{dir:"right"})}}function ow(e){if(typeof e!="boolean")throw new S(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:gn(Ll(e))}}function aw(e,{signed:t}){return{dynamic:!1,encoded:H(e,{size:32,signed:t})}}function cw(e){const t=qo(e),n=Math.ceil(pe(t)/32),r=[];for(let i=0;i<n;i++)r.push(gn(Hi(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Qt([gn(H(pe(t),{size:32})),...r])}}function lw(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=Array.isArray(e)?i:s.name,a=Wl({param:s,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Gl(r):Qt(r.map(({encoded:i})=>i))}}function Kl(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const _r=e=>Hi(gp(e),0,4);function As(e){const{abi:t,args:n=[],name:r}=e,i=vt(r,{strict:!1}),s=t.filter(a=>i?a.type==="function"?_r(a)===r:a.type==="event"?ql(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?yc(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=_p(a.inputs,o.inputs,n);if(l)throw new dv({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function yc(e,t){const n=typeof e,r=t.type;switch(r){case"address":return me(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>yc(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>yc(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function _p(e,t,n){for(const r in e){const i=e[r],s=t[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return _p(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?me(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?me(n[r],{strict:!1}):!1)return o}}const Nd="/docs/contract/encodeEventTopics";function ks(e){var c;const{abi:t,eventName:n,args:r}=e;let i=t[0];if(n){const l=As({abi:t,name:n});if(!l)throw new Td(n,{docsPath:Nd});i=l}if(i.type!=="event")throw new Td(void 0,{docsPath:Nd});const s=Xt(i),o=ql(s);let a=[];if(r&&"inputs"in i){const l=(c=i.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(d=>r[d.name]))??[]:[];u.length>0&&(a=(l==null?void 0:l.map((d,h)=>Array.isArray(u[h])?u[h].map((p,m)=>Fd({param:d,value:u[h][m]})):u[h]?Fd({param:d,value:u[h]}):null))??[])}return[o,...a]}function Fd({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Ne(mt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new gv(e.type);return $s([e],[t])}function Ko(e,{method:t}){var r,i;const n={};return e.transport.type==="fallback"&&((i=(r=e.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&t===s&&(n[o]=c.request)})),s=>n[s]||e.request}async function Ep(e,t){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=t,l=Ko(e,{method:"eth_newFilter"}),u=s?ks({abi:r,args:i,eventName:s}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?H(o):o,toBlock:typeof c=="bigint"?H(c):c,topics:u}]});return{abi:r,args:i,eventName:s,id:d,request:l(d),strict:!!a,type:"event"}}function rt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const jd="/docs/contract/encodeFunctionData";function uw(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const s=As({abi:t,args:n,name:r});if(!s)throw new _o(r,{docsPath:jd});i=s}if(i.type!=="function")throw new _o(void 0,{docsPath:jd});return{abi:[i],functionName:_r(Xt(i))}}function Nn(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:uw(e)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?$s(i.inputs,t??[]):void 0;return Mt([s,o??"0x"])}const $p={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},dw={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},hw={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class Dd extends S{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Ap extends S{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class fw extends S{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const pw={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new fw({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ap({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Dd({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Dd({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Zl(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(pw);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function mw(e,t={}){typeof t.size<"u"&&Rt(e,{size:t.size});const n=xe(e,t);return oe(n,t)}function bw(e,t={}){let n=e;if(typeof t.size<"u"&&(Rt(n,{size:t.size}),n=Yr(n)),n.length>1||n[0]>1)throw new wv(n);return!!n[0]}function Kt(e,t={}){typeof t.size<"u"&&Rt(e,{size:t.size});const n=xe(e,t);return Ot(n,t)}function gw(e,t={}){let n=e;return typeof t.size<"u"&&(Rt(n,{size:t.size}),n=Yr(n,{dir:"right"})),new TextDecoder().decode(n)}function Zo(e,t){const n=typeof t=="string"?bt(t):t,r=Zl(n);if(pe(n)===0&&e.length>0)throw new Uo;if(pe(t)&&pe(t)<32)throw new ip({data:typeof t=="string"?t:xe(t),params:e,size:pe(t)});let i=0;const s=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(i);const[c,l]=jr(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function jr(e,t,{staticPosition:n}){const r=Kl(t.type);if(r){const[i,s]=r;return vw(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return Ew(e,t,{staticPosition:n});if(t.type==="address")return yw(e);if(t.type==="bool")return ww(e);if(t.type.startsWith("bytes"))return xw(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return _w(e,t);if(t.type==="string")return $w(e,{staticPosition:n});throw new fv(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const zd=32,vc=32;function yw(e){const t=e.readBytes(32);return[Go(xe(xp(t,-20))),32]}function vw(e,t,{length:n,staticPosition:r}){if(!n){const o=Kt(e.readBytes(vc)),a=r+o,c=a+zd;e.setPosition(a);const l=Kt(e.readBytes(zd)),u=qi(t);let d=0;const h=[];for(let p=0;p<l;++p){e.setPosition(c+(u?p*32:d));const[m,f]=jr(e,t,{staticPosition:c});d+=f,h.push(m)}return e.setPosition(r+32),[h,32]}if(qi(t)){const o=Kt(e.readBytes(vc)),a=r+o,c=[];for(let l=0;l<n;++l){e.setPosition(a+l*32);const[u]=jr(e,t,{staticPosition:a});c.push(u)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=jr(e,t,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function ww(e){return[bw(e.readBytes(32),{size:32}),32]}function xw(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=Kt(e.readBytes(32));e.setPosition(n+o);const a=Kt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[xe(c),32]}return[xe(e.readBytes(Number.parseInt(i),32)),32]}function _w(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[r>48?mw(i,{signed:n}):Kt(i,{signed:n}),32]}function Ew(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(qi(t)){const o=Kt(e.readBytes(vc)),a=n+o;for(let c=0;c<t.components.length;++c){const l=t.components[c];e.setPosition(a+s);const[u,d]=jr(e,l,{staticPosition:a});s+=d,i[r?c:l==null?void 0:l.name]=u}return e.setPosition(n+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,l]=jr(e,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function $w(e,{staticPosition:t}){const n=Kt(e.readBytes(32)),r=t+n;e.setPosition(r);const i=Kt(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=gw(Yr(s));return e.setPosition(t+32),[o,32]}function qi(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(qi);const n=Kl(e.type);return!!(n&&qi({...e,type:n[1]}))}function Aw(e){const{abi:t,data:n}=e,r=Hi(n,0,4);if(r==="0x")throw new Uo;const s=[...t||[],dw,hw].find(o=>o.type==="error"&&r===_r(Xt(o)));if(!s)throw new op(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Zo(s.inputs,Hi(n,4)):void 0,errorName:s.name}}const Ce=(e,t,n)=>JSON.stringify(e,(r,i)=>{const s=typeof i=="bigint"?i.toString():i;return typeof t=="function"?t(r,s):s},n);function kp({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof t[s]=="object"?Ce(t[s]):t[s]}`).join(", ")})`}const kw={gwei:9,wei:18},Sw={ether:-9,wei:9};function Bt(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function Yl(e,t="wei"){return Bt(e,kw[t])}function je(e,t="wei"){return Bt(e,Sw[t])}class Pw extends S{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class Cw extends S{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function Ld(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Tw(e){return e.reduce((t,{address:n,...r})=>{let i=`${t}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=Ld(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=Ld(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Ss(e){const t=Object.entries(e).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=t.reduce((r,[i])=>Math.max(r,i.length),0);return t.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class Iw extends S{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Ow extends S{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class Bw extends S{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ss(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Rw extends S{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class Mw extends S{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var m;const p=Ss({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Yl(h)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${je(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${je(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${je(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Sp extends S{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),t&&s!==void 0&&(o=`Transaction at block hash "${t}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Pp extends S{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Vd extends S{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Cp extends S{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:p}){var y;const m=n?rt(n):void 0;let f=Ss({from:m==null?void 0:m.address,to:d,value:typeof h<"u"&&`${Yl(h)} ${((y=i==null?void 0:i.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${je(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${je(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${je(l)} gwei`,nonce:u});p&&(f+=`
${Tw(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Nw extends S{constructor(t,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=As({abi:n,args:r,name:o}),l=c?kp({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Xt(c,{includeName:!0}):void 0,d=Ss({address:i&&iv(i),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=i,this.functionName=o,this.sender=a}}class wc extends S{constructor({abi:t,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=Aw({abi:t,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[p]=h;c=$p[p]}else{const p=u?Xt(u,{includeName:!0}):void 0,m=u&&h?kp({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof op&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=l}}class Fw extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Jl extends S{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class ki extends S{constructor({body:t,details:n,headers:r,status:i,url:s}){super("HTTP request failed.",{details:n,metaMessages:[i&&`Status: ${i}`,`URL: ${Vo(s)}`,t&&`Request body: ${Ce(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=i,this.url=s}}class jw extends S{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${Vo(r)}`,`Request body: ${Ce(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Xl extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Vo(r)}`,`Request body: ${Ce(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class xc extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Vo(n)}`,`Request body: ${Ce(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Dw=-1;class Ue extends S{constructor(t,{code:n,docsPath:r,metaMessages:i,shortMessage:s}){super(s,{cause:t,docsPath:r,metaMessages:i||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Xl?t.code:n??Dw}}class oi extends Ue{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Wi extends Ue{constructor(t){super(t,{code:Wi.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Wi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Gi extends Ue{constructor(t){super(t,{code:Gi.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Gi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ki extends Ue{constructor(t){super(t,{code:Ki.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Ki,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Zi extends Ue{constructor(t){super(t,{code:Zi.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Zi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class hr extends Ue{constructor(t){super(t,{code:hr.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class fr extends Ue{constructor(t){super(t,{code:fr.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Yi extends Ue{constructor(t){super(t,{code:Yi.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ji extends Ue{constructor(t){super(t,{code:Ji.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Ji,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Xr extends Ue{constructor(t){super(t,{code:Xr.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Xi extends Ue{constructor(t){super(t,{code:Xi.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Xi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Qr extends Ue{constructor(t){super(t,{code:Qr.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Qi extends Ue{constructor(t){super(t,{code:Qi.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Qi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Jn extends oi{constructor(t){super(t,{code:Jn.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class es extends oi{constructor(t){super(t,{code:es.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(es,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ts extends oi{constructor(t){super(t,{code:ts.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(ts,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ns extends oi{constructor(t){super(t,{code:ns.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ns,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class rs extends oi{constructor(t){super(t,{code:rs.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(rs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class is extends oi{constructor(t){super(t,{code:is.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(is,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class zw extends Ue{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Lw=3;function ss(e,{abi:t,address:n,args:r,docsPath:i,functionName:s,sender:o}){const{code:a,data:c,message:l,shortMessage:u}=e instanceof Jl?e:e instanceof S?e.walk(h=>"data"in h)||e.walk():{},d=e instanceof Uo?new Fw({functionName:s}):[Lw,hr.code].includes(a)&&(c||l||u)?new wc({abi:t,data:typeof c=="object"?c.data:c,functionName:s,message:u??l}):e;return new Nw(d,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}class Vw extends S{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var m;const p=Ss({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Yl(h)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${je(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${je(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${je(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class Mr extends S{constructor({cause:t,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class pr extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${je(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(pr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class _c extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${je(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(_c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ec extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Ec,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class $c extends S{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty($c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ac extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Ac,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class kc extends S{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(kc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Sc extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Sc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Pc extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Pc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Cc extends S{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Cc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class os extends S{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${je(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${je(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(os,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Yo extends S{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function Ql(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof S?e.walk(i=>i.code===Mr.code):e;return r instanceof S?new Mr({cause:e,message:r.details}):Mr.nodeMessage.test(n)?new Mr({cause:e,message:e.details}):pr.nodeMessage.test(n)?new pr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):_c.nodeMessage.test(n)?new _c({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ec.nodeMessage.test(n)?new Ec({cause:e,nonce:t==null?void 0:t.nonce}):$c.nodeMessage.test(n)?new $c({cause:e,nonce:t==null?void 0:t.nonce}):Ac.nodeMessage.test(n)?new Ac({cause:e,nonce:t==null?void 0:t.nonce}):kc.nodeMessage.test(n)?new kc({cause:e}):Sc.nodeMessage.test(n)?new Sc({cause:e,gas:t==null?void 0:t.gas}):Pc.nodeMessage.test(n)?new Pc({cause:e,gas:t==null?void 0:t.gas}):Cc.nodeMessage.test(n)?new Cc({cause:e}):os.nodeMessage.test(n)?new os({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Yo({cause:e})}function Uw(e,{docsPath:t,...n}){const r=(()=>{const i=Ql(e,n);return i instanceof Yo?e:i})();return new Vw(r,{docsPath:t,...n})}function eu(e,{format:t}){if(!t)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in e&&(n[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=t(e||{});return r(i),n}function Jo(e,t){return({exclude:n,format:r})=>({exclude:n,format:i=>{const s=t(i);if(n)for(const o of n)delete s[o];return{...s,...r(i)}},type:e})}const Hw={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Ps(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>xe(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=H(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=H(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=H(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=H(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=H(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=H(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Hw[e.type]),typeof e.value<"u"&&(t.value=H(e.value)),t}const qw=Jo("transactionRequest",Ps);function Ud(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Id({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Id({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Ww(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:s}=e,o={};if(s!==void 0&&(o.code=s),t!==void 0&&(o.balance=H(t)),n!==void 0&&(o.nonce=H(n)),r!==void 0&&(o.state=Ud(r)),i!==void 0){if(o.state)throw new Cw;o.stateDiff=Ud(i)}return o}function Tp(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!me(n,{strict:!1}))throw new Ee({address:n});if(t[n])throw new Pw({address:n});t[n]=Ww(r)}return t}function Cs(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=e,o=t?rt(t):void 0;if(o&&!me(o.address))throw new Ee({address:o.address});if(s&&!me(s))throw new Ee({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new Iw;if(r&&r>2n**256n-1n)throw new pr({maxFeePerGas:r});if(i&&r&&i>r)throw new os({maxFeePerGas:r,maxPriorityFeePerGas:i})}class Gw extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class tu extends S{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Kw extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${je(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Ip extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Op={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Xo(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Ot(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Ot(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Op[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const Bp=Jo("transaction",Xo);function nu(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Xo(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Rp=Jo("block",nu);async function An(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:i}={}){var u,d,h;const s=r??"latest",o=i??!1,a=n!==void 0?H(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[a||s,o]}),!c)throw new Ip({blockHash:t,blockNumber:n});return(((h=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||nu)(c)}async function ru(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Zw(e,t){return Mp(e,t)}async function Mp(e,t){var s,o,a;const{block:n,chain:r=e.chain,request:i}=t||{};if(typeof((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee)=="function"){const c=n||await z(e,An,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:i})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return oe(c)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):z(e,An,"getBlock")({}),z(e,ru,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new tu;const u=l-c.baseFeePerGas;return u<0n?0n:u}}async function Yw(e,t){return Tc(e,t)}async function Tc(e,t){var h,p;const{block:n,chain:r=e.chain,request:i,type:s="eip1559"}=t||{},o=await(async()=>{var m,f;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:i}):((f=r==null?void 0:r.fees)==null?void 0:f.baseFeeMultiplier)??1.2})();if(o<1)throw new Gw;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=m=>m*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await z(e,An,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:i,type:s});if(m!==null)return m}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new tu;const m=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await Mp(e,{block:u,chain:r,request:i}),f=l(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??f+m,maxPriorityFeePerGas:m}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await z(e,ru,"getGasPrice")({}))}}async function Np(e,{address:t,blockTag:n="latest",blockNumber:r}){const i=await e.request({method:"eth_getTransactionCount",params:[t,r?H(r):n]});return Ot(i)}function iu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>bt(s)):e.blobs,i=[];for(const s of r)i.push(Uint8Array.from(t.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>xe(s))}function su(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>bt(o)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(o=>bt(o)):e.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>xe(o))}function Jw(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}class Xw extends Ul{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ba(this.buffer)}update(t){Jr(this);const{view:n,buffer:r,blockLen:i}=this;t=Wo(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Ba(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Jr(this),dp(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;Jw(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Ba(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const Qw=(e,t,n)=>e&t^~e&n,ex=(e,t,n)=>e&t^e&n^t&n,tx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ln=new Uint32Array(64);class nx extends Xw{constructor(){super(64,32,8,!1),this.A=cn[0]|0,this.B=cn[1]|0,this.C=cn[2]|0,this.D=cn[3]|0,this.E=cn[4]|0,this.F=cn[5]|0,this.G=cn[6]|0,this.H=cn[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)ln[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=ln[d-15],p=ln[d-2],m=$t(h,7)^$t(h,18)^h>>>3,f=$t(p,17)^$t(p,19)^p>>>10;ln[d]=f+ln[d-7]+m+ln[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=$t(a,6)^$t(a,11)^$t(a,25),p=u+h+Qw(a,c,l)+tx[d]+ln[d]|0,f=($t(r,2)^$t(r,13)^$t(r,22))+ex(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+f|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){ln.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Fp=fp(()=>new nx);function jp(e,t){const n=t||"hex",r=Fp(vt(e,{strict:!1})?mt(e):e);return n==="bytes"?r:M(r)}function rx(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),i=jp(t,"bytes");return i.set([n],0),r==="bytes"?i:xe(i)}function Dp(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const s of t)i.push(rx({commitment:s,to:r,version:n}));return i}const Hd=6,zp=32,ou=4096,Lp=zp*ou,qd=Lp*Hd-1-1*ou*Hd,Vp=1;class ix extends S{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class Up extends S{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class sx extends S{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class ox extends S{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Vp}`,`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function ax(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?bt(e.data):e.data,r=pe(n);if(!r)throw new Up;if(r>qd)throw new ix({maxSize:qd,size:r});const i=[];let s=!0,o=0;for(;s;){const a=Zl(new Uint8Array(Lp));let c=0;for(;c<ou;){const l=n.slice(o,o+(zp-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>xe(a.bytes))}function Hp(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??ax({data:t,to:r}),s=e.commitments??iu({blobs:i,kzg:n,to:r}),o=e.proofs??su({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function qp(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Bw({transaction:e})}async function Ts(e){const t=await e.request({method:"eth_chainId"});return Ot(t)}const Wp=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Qo(e,t){const{account:n=e.account,blobs:r,chain:i,chainId:s,gas:o,kzg:a,nonce:c,parameters:l=Wp,type:u}=t,d=n?rt(n):void 0,h={...t,...d?{from:d==null?void 0:d.address}:{}};let p;async function m(){return p||(p=await z(e,An,"getBlock")({blockTag:"latest"}),p)}if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&a){const f=iu({blobs:r,kzg:a});if(l.includes("blobVersionedHashes")){const y=Dp({commitments:f,to:"hex"});h.blobVersionedHashes=y}if(l.includes("sidecars")){const y=su({blobs:r,commitments:f,kzg:a}),b=Hp({blobs:r,commitments:f,proofs:y,to:"hex"});h.sidecars=b}}if(l.includes("chainId")&&(i?h.chainId=i.id:typeof s<"u"?h.chainId=s:h.chainId=await z(e,Ts,"getChainId")({})),l.includes("nonce")&&typeof c>"u"&&d&&(h.nonce=await z(e,Np,"getTransactionCount")({address:d.address,blockTag:"pending"})),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{h.type=qp(h)}catch{const f=await m();h.type=typeof(f==null?void 0:f.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(l.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const f=await m(),{maxFeePerGas:y,maxPriorityFeePerGas:b}=await Tc(e,{block:f,chain:i,request:h});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<b)throw new Kw({maxPriorityFeePerGas:b});h.maxPriorityFeePerGas=b,h.maxFeePerGas=y}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new tu;const f=await m(),{gasPrice:y}=await Tc(e,{block:f,chain:i,request:h,type:"legacy"});h.gasPrice=y}return l.includes("gas")&&typeof o>"u"&&(h.gas=await z(e,au,"estimateGas")({...h,account:d?{address:d.address,type:"json-rpc"}:void 0})),Cs(h),delete h.parameters,h}async function au(e,t){var i,s,o;const n=t.account??e.account,r=n?rt(n):void 0;try{const{accessList:a,blobs:c,blobVersionedHashes:l,blockNumber:u,blockTag:d,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:f,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:g,to:v,value:w,stateOverride:E,..._}=await Qo(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),k=(u?H(u):void 0)||d,A=Tp(E);Cs(t);const I=(o=(s=(i=e.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,U=(I||Ps)({...eu(_,{format:I}),from:r==null?void 0:r.address,accessList:a,blobs:c,blobVersionedHashes:l,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:f,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:g,to:v,value:w}),j=await e.request({method:"eth_estimateGas",params:A?[U,k??"latest",A]:k?[U,k]:[U]});return BigInt(j)}catch(a){throw Uw(a,{...t,account:r,chain:e.chain})}}async function cx(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=Nn({abi:n,args:i,functionName:s});try{return await z(e,au,"estimateGas")({data:a,to:r,...o})}catch(c){const l=o.account?rt(o.account):void 0;throw ss(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l==null?void 0:l.address})}}const Wd="/docs/contract/decodeEventLog";function cu(e){const{abi:t,data:n,strict:r,topics:i}=e,s=r??!0,[o,...a]=i;if(!o)throw new lv({docsPath:Wd});const c=t.find(f=>f.type==="event"&&o===ql(Xt(f)));if(!(c&&"name"in c)||c.type!=="event")throw new ap(o,{docsPath:Wd});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(f=>!("name"in f&&f.name));let h=d?[]:{};const p=u.filter(f=>"indexed"in f&&f.indexed);for(let f=0;f<p.length;f++){const y=p[f],b=a[f];if(!b)throw new Ho({abiItem:c,param:y});h[d?f:y.name||f]=lx({param:y,value:b})}const m=u.filter(f=>!("indexed"in f&&f.indexed));if(m.length>0){if(n&&n!=="0x")try{const f=Zo(m,n);if(f)if(d)h=[...h,...f];else for(let y=0;y<m.length;y++)h[m[y].name]=f[y]}catch(f){if(s)throw f instanceof ip||f instanceof Ap?new Ui({abiItem:c,data:n,params:m,size:pe(n)}):f}else if(s)throw new Ui({abiItem:c,data:"0x",params:m,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function lx({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Zo([e],t)||[])[0]}function lu({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(i=>{var s;try{const o=cu({...i,abi:e,strict:r});return t&&!t.includes(o.eventName)?null:{...o,...i}}catch(o){let a,c;if(o instanceof ap)return null;if(o instanceof Ui||o instanceof Ho){if(r)return null;a=o.abiItem.name,c=(s=o.abiItem.inputs)==null?void 0:s.some(l=>!("name"in l&&l.name))}return{...i,args:c?[]:{},eventName:a}}}).filter(Boolean)}function en(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function uu(e,{address:t,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(s?[s]:void 0);let d=[];u&&(d=[u.flatMap(m=>ks({abi:[m],eventName:m.name,args:a}))],s&&(d=d[0]));let h;n?h=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):h=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?H(r):r,toBlock:typeof i=="bigint"?H(i):i}]});const p=h.map(m=>en(m));return u?lu({abi:u,logs:p,strict:l}):p}async function Gp(e,t){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=t,u=o?As({abi:n,name:o}):void 0,d=u?void 0:n.filter(h=>h.type==="event");return z(e,uu,"getLogs")({address:r,args:i,blockHash:s,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}const Na="/docs/contract/decodeFunctionResult";function ai(e){const{abi:t,args:n,functionName:r,data:i}=e;let s=t[0];if(r){const a=As({abi:t,args:n,name:r});if(!a)throw new _o(r,{docsPath:Na});s=a}if(s.type!=="function")throw new _o(void 0,{docsPath:Na});if(!s.outputs)throw new uv(s.name,{docsPath:Na});const o=Zo(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Ic=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Kp=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Zp=[...Kp,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],ux=[...Kp,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Gd=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Kd=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],dx=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],hx="0x82ad56cb";class Oc extends S{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class fx extends S{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class px extends S{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class Yp extends S{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class ea extends S{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function ci({blockNumber:e,chain:t,contract:n}){var i;const r=(i=t==null?void 0:t.contracts)==null?void 0:i[n];if(!r)throw new Oc({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Oc({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function mx(e,{docsPath:t,...n}){const r=(()=>{const i=Ql(e,n);return i instanceof Yo?e:i})();return new Cp(r,{docsPath:t,...n})}const Fa=new Map;function du({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&e(d).then(h=>{var p;i&&Array.isArray(h)&&h.sort(i);for(let m=0;m<u.length;m++){const{pendingPromise:f}=u[m];(p=f.resolve)==null||p.call(f,[h[m],h])}}).catch(h=>{var p;for(let m=0;m<u.length;m++){const{pendingPromise:f}=u[m];(p=f.reject)==null||p.call(f,h)}})},o=()=>Fa.delete(t),a=()=>c().map(({args:u})=>u),c=()=>Fa.get(t)||[],l=u=>Fa.set(t,[...c(),u]);return{flush:o,async schedule(u){const d={},h=new Promise((f,y)=>{d.resolve=f,d.reject=y});return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,pendingPromise:d}),h):(l({args:u,pendingPromise:d}),setTimeout(s,r),h)}}}async function ta(e,t){var w,E,_,$;const{account:n=e.account,batch:r=!!((w=e.batch)!=null&&w.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:f,value:y,stateOverride:b,...g}=t,v=n?rt(n):void 0;try{Cs(t);const A=(i?H(i):void 0)||s,I=Tp(b),T=($=(_=(E=e.chain)==null?void 0:E.formatters)==null?void 0:_.transactionRequest)==null?void 0:$.format,j=(T||Ps)({...eu(g,{format:T}),from:v==null?void 0:v.address,accessList:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:f,value:y});if(r&&bx({request:j})&&!I)try{return await gx(e,{...j,blockNumber:i,blockTag:s})}catch(C){if(!(C instanceof Yp)&&!(C instanceof Oc))throw C}const W=await e.request({method:"eth_call",params:I?[j,A,I]:[j,A]});return W==="0x"?{data:void 0}:{data:W}}catch(k){const A=yx(k),{offchainLookup:I,offchainLookupSignature:T}=await R(()=>import("./ccip-DF1I3456.js"),__vite__mapDeps([]));if(e.ccipRead!==!1&&(A==null?void 0:A.slice(0,10))===T&&f)return{data:await I(e,{data:A,to:f})};throw mx(k,{...t,account:v,chain:e.chain})}}function bx({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(hx)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function gx(e,t){var f;const{batchSize:n=1024,wait:r=0}=typeof((f=e.batch)==null?void 0:f.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:c}=t;let l=a;if(!l){if(!e.chain)throw new Yp;l=ci({blockNumber:i,chain:e.chain,contract:"multicall3"})}const d=(i?H(i):void 0)||s,{schedule:h}=du({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((g,{data:v})=>g+(v.length-2),0)>n*2},fn:async y=>{const b=y.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),g=Nn({abi:Ic,args:[b],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:g,to:l},d]});return ai({abi:Ic,args:[b],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:m}]=await h({data:o,to:c});if(!m)throw new Jl({data:p});return p==="0x"?{data:void 0}:{data:p}}function yx(e){var n;if(!(e instanceof S))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function kn(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=Nn({abi:n,args:i,functionName:s});try{const{data:c}=await z(e,ta,"call")({...o,data:a,to:r});return ai({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw ss(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function vx(e,t){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=t,c=a.account?rt(a.account):e.account,l=Nn({abi:n,args:i,functionName:o});try{const{data:u}=await z(e,ta,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:r,...a,account:c}),d=ai({abi:n,args:i,functionName:o,data:u||"0x"}),h=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:d,request:{abi:h,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(u){throw ss(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const ja=new Map,Zd=new Map;let wx=0;function Sn(e,t,n){const r=++wx,i=()=>ja.get(e)||[],s=()=>{const u=i();ja.set(e,u.filter(d=>d.id!==r))},o=()=>{const u=Zd.get(e);i().length===1&&u&&u(),s()},a=i();if(ja.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const u in t)c[u]=(...d)=>{var p,m;const h=i();if(h.length!==0)for(const f of h)(m=(p=f.fns)[u])==null||m.call(p,...d)};const l=n(c);return typeof l=="function"&&Zd.set(e,l),o}async function $o(e){return new Promise(t=>setTimeout(t,e))}function Is(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;t&&(a=await e({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await $o(c);const l=async()=>{i&&(await e({unpoll:s}),await $o(r),l())};l()})(),s}const xx=new Map,_x=new Map;function Ex(e){const t=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=t(e,xx),r=t(e,_x);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function $x(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Ex(t),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Ax=e=>`blockNumber.${e}`;async function Os(e,{cacheTime:t=e.cacheTime}={}){const n=await $x(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ax(e.uid),cacheTime:t});return BigInt(n)}async function na(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>en(s));return!("abi"in t)||!t.abi?i:lu({abi:t.abi,logs:i,strict:n})}async function ra(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function kx(e,t){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:h}=t;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const y=h??!1,b=Ce(["watchContractEvent",r,i,s,e.uid,o,d,y,a]);return Sn(b,{onLogs:l,onError:c},g=>{let v;a!==void 0&&(v=a-1n);let w,E=!1;const _=Is(async()=>{var $;if(!E){try{w=await z(e,Ep,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:y,fromBlock:a})}catch{}E=!0;return}try{let k;if(w)k=await z(e,na,"getFilterChanges")({filter:w});else{const A=await z(e,Os,"getBlockNumber")({});v&&v!==A?k=await z(e,Gp,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:v+1n,toBlock:A,strict:y}):k=[],v=A}if(k.length===0)return;if(s)g.onLogs(k);else for(const A of k)g.onLogs([A])}catch(k){w&&k instanceof fr&&(E=!1),($=g.onError)==null||$.call(g,k)}},{emitOnBegin:!0,interval:d});return async()=>{w&&await z(e,ra,"uninstallFilter")({filter:w}),_()}})})():(()=>{const y=h??!1,b=Ce(["watchContractEvent",r,i,s,e.uid,o,d,y]);let g=!0,v=()=>g=!1;return Sn(b,{onLogs:l,onError:c},w=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const k=e.transport.transports.find(A=>A.config.type==="webSocket");return k?k.value:e.transport}return e.transport})(),_=o?ks({abi:n,eventName:o,args:i}):[],{unsubscribe:$}=await E.subscribe({params:["logs",{address:r,topics:_}],onData(k){var I;if(!g)return;const A=k.result;try{const{eventName:T,args:U}=cu({abi:n,data:A.data,topics:A.topics,strict:h}),j=en(A,{args:U,eventName:T});w.onLogs([j])}catch(T){let U,j;if(T instanceof Ui||T instanceof Ho){if(h)return;U=T.abiItem.name,j=(I=T.abiItem.inputs)==null?void 0:I.some(C=>!("name"in C&&C.name))}const W=en(A,{args:j?[]:{},eventName:U});w.onLogs([W])}},onError(k){var A;(A=w.onError)==null||A.call(w,k)}});v=$,g||v()}catch(E){c==null||c(E)}})(),()=>v()))})()}class ia extends S{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}function Jp({chain:e,currentChainId:t}){if(!e)throw new px;if(t!==e.id)throw new fx({chain:e,currentChainId:t})}function Sx(e,{docsPath:t,...n}){const r=(()=>{const i=Ql(e,n);return i instanceof Yo?e:i})();return new Mw(r,{docsPath:t,...n})}async function hu(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function fu(e,t){var b,g,v,w;const{account:n=e.account,chain:r=e.chain,accessList:i,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:m,...f}=t;if(!n)throw new ia({docsPath:"/docs/actions/wallet/sendTransaction"});const y=rt(n);try{Cs(t);let E;if(r!==null&&(E=await z(e,Ts,"getChainId")({}),Jp({currentChainId:E,chain:r})),y.type==="local"){const A=await z(e,Qo,"prepareTransactionRequest")({account:y,accessList:i,blobs:s,chain:r,chainId:E,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,parameters:[...Wp,"sidecars"],to:p,value:m,...f}),I=(b=r==null?void 0:r.serializers)==null?void 0:b.transaction,T=await y.signTransaction(A,{serializer:I});return await z(e,hu,"sendRawTransaction")({serializedTransaction:T})}const _=(w=(v=(g=e.chain)==null?void 0:g.formatters)==null?void 0:v.transactionRequest)==null?void 0:w.format,k=(_||Ps)({...eu(f,{format:_}),accessList:i,blobs:s,data:o,from:y.address,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:m});return await e.request({method:"eth_sendTransaction",params:[k]},{retryCount:0})}catch(E){throw Sx(E,{...t,account:y,chain:t.chain||void 0})}}async function Px(e,t){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=t,c=Nn({abi:n,args:i,functionName:o});return z(e,fu,"sendTransaction")({data:`${c}${s?s.replace("0x",""):""}`,to:r,...a})}async function Cx(e,{chain:t}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:H(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{retryCount:0})}const Bc=256;let Hs=Bc,qs;function Tx(e=11){if(!qs||Hs+e>Bc*2){qs="",Hs=0;for(let t=0;t<Bc;t++)qs+=(256+Math.random()*256|0).toString(16).substring(1)}return qs.substring(Hs,Hs+++e)}function Xp(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=e,c=e.chain,l=e.account?rt(e.account):void 0,{config:u,request:d,value:h}=e.transport({chain:c,pollingInterval:o}),p={...u,...h},m={account:l,batch:t,cacheTime:n,ccipRead:r,chain:c,key:i,name:s,pollingInterval:o,request:d,transport:p,type:a,uid:Tx()};function f(y){return b=>{const g=b(y);for(const w in m)delete g[w];const v={...y,...g};return Object.assign(v,{extend:f(v)})}}return Object.assign(m,{extend:f(m)})}function Rc(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof t=="function"?t({count:a,error:l}):t;u&&await $o(u),o({count:a+1})};try{const l=await e();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}function Ix(e,t={}){return async(n,r={})=>{const{retryDelay:i=150,retryCount:s=3}={...t,...r};return Rc(async()=>{try{return await e(n)}catch(o){const a=o;switch(a.code){case Wi.code:throw new Wi(a);case Gi.code:throw new Gi(a);case Ki.code:throw new Ki(a);case Zi.code:throw new Zi(a);case hr.code:throw new hr(a);case fr.code:throw new fr(a);case Yi.code:throw new Yi(a);case Ji.code:throw new Ji(a);case Xr.code:throw new Xr(a);case Xi.code:throw new Xi(a);case Qr.code:throw new Qr(a);case Qi.code:throw new Qi(a);case Jn.code:throw new Jn(a);case es.code:throw new es(a);case ts.code:throw new ts(a);case ns.code:throw new ns(a);case rs.code:throw new rs(a);case is.code:throw new is(a);case 5e3:throw new Jn(a);default:throw o instanceof S?o:new zw(a)}}},{delay:({count:o,error:a})=>{var c;if(a&&a instanceof ki){const l=(c=a==null?void 0:a.headers)==null?void 0:c.get("Retry-After");if(l!=null&&l.match(/\d/))return Number.parseInt(l)*1e3}return~~(1<<o)*i},retryCount:s,shouldRetry:({error:o})=>Ox(o)})}}function Ox(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Qr.code||e.code===hr.code:e instanceof ki&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function sa({key:e,name:t,request:n,retryCount:r=3,retryDelay:i=150,timeout:s,type:o},a){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:i,timeout:s,type:o},request:Ix(n,{retryCount:r,retryDelay:i}),value:a}}function Bx(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:i}=t;return({retryCount:s})=>sa({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:i,type:"custom"})}function Qp(e,t={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,retryCount:s,retryDelay:o}=t;return({chain:a,pollingInterval:c=4e3,timeout:l,...u})=>{let d=e,h=()=>{};const p=sa({key:n,name:r,async request({method:m,params:f}){const y=async(b=0)=>{const g=d[b]({...u,chain:a,retryCount:0,timeout:l});try{const v=await g.request({method:m,params:f});return h({method:m,params:f,response:v,transport:g,status:"success"}),v}catch(v){if(h({error:v,method:m,params:f,transport:g,status:"error"}),Rx(v)||b===d.length-1)throw v;return y(b+1)}};return y()},retryCount:s,retryDelay:o,type:"fallback"},{onResponse:m=>h=m,transports:d.map(m=>m({chain:a,retryCount:0}))});if(i){const m=typeof i=="object"?i:{};Mx({chain:a,interval:m.interval??c,onTransports:f=>d=f,sampleCount:m.sampleCount,timeout:m.timeout,transports:d,weights:m.weights})}return p}}function Rx(e){return"code"in e&&typeof e.code=="number"&&(e.code===Xr.code||e.code===Jn.code||e.code===5e3)}function Mx({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:i=1e3,transports:s,weights:o={}}){const{stability:a=.7,latency:c=.3}=o,l=[],u=async()=>{const d=await Promise.all(s.map(async m=>{const f=m({chain:e,retryCount:0,timeout:i}),y=Date.now();let b,g;try{await f.request({method:"net_listening"}),g=1}catch{g=0}finally{b=Date.now()}return{latency:b-y,success:g}}));l.push(d),l.length>r&&l.shift();const h=Math.max(...l.map(m=>Math.max(...m.map(({latency:f})=>f)))),p=s.map((m,f)=>{const y=l.map(E=>E[f].latency),g=1-y.reduce((E,_)=>E+_,0)/y.length/h,v=l.map(E=>E[f].success),w=v.reduce((E,_)=>E+_,0)/v.length;return w===0?[0,f]:[c*g+a*w,f]}).sort((m,f)=>f[0]-m[0]);n(p.map(([,m])=>s[m])),await $o(t),u()};u()}class em extends S{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function tm(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(t)},n)),i(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){a.name==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}function Nx(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Mc=Nx();function Fx(e,t={}){return{async request(n){var d;const{body:r,onRequest:i=t.onRequest,onResponse:s=t.onResponse,timeout:o=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await tm(async({signal:m})=>{const f={...a,body:Array.isArray(r)?Ce(r.map(g=>({jsonrpc:"2.0",id:g.id??Mc.take(),...g}))):Ce({jsonrpc:"2.0",id:r.id??Mc.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:l||"POST",signal:u||(o>0?m:null)},y=new Request(e,f);return i&&await i(y),await fetch(e,f)},{errorInstance:new xc({body:r,url:e}),timeout:o,signal:!0});s&&await s(h);let p;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json")?p=await h.json():(p=await h.text(),p=JSON.parse(p||"{}")),!h.ok)throw new ki({body:r,details:Ce(p.error)||h.statusText,headers:h.headers,status:h.status,url:e});return p}catch(h){throw h instanceof ki||h instanceof xc?h:new ki({body:r,details:h.message,url:e})}}}}function jx(e,t={}){const{batch:n,fetchOptions:r,key:i="http",name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:a,retryDelay:c}=t;return({chain:l,retryCount:u,timeout:d})=>{const{batchSize:h=1e3,wait:p=0}=typeof n=="object"?n:{},m=t.retryCount??u,f=d??t.timeout??1e4,y=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!y)throw new em;const b=Fx(y,{fetchOptions:r,onRequest:o,onResponse:a,timeout:f});return sa({key:i,name:s,async request({method:g,params:v}){const w={method:g,params:v},{schedule:E}=du({id:y,wait:p,shouldSplitBatch(A){return A.length>h},fn:A=>b.request({body:A}),sort:(A,I)=>A.id-I.id}),_=async A=>n?E(A):[await b.request({body:A})],[{error:$,result:k}]=await _(w);if($)throw new Xl({body:w,error:$,url:y});return k},retryCount:m,retryDelay:c,timeout:f,type:"http"},{fetchOptions:r,url:y})}}function pu(e,t){var r,i,s,o,a,c;if(!(e instanceof S))return!1;const n=e.walk(l=>l instanceof wc);return n instanceof wc?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===$p[50]):!1}function nm(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return vt(t)?t:null}function oo(e){let t=new Uint8Array(32).fill(0);if(!e)return xe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const i=nm(n[r]),s=i?mt(i):Ne(Gt(n[r]),"bytes");t=Ne(Qt([t,s]),"bytes")}return xe(t)}function Dx(e){return`[${e.slice(2)}]`}function zx(e){const t=new Uint8Array(32).fill(0);return e?nm(e)||Ne(Gt(e)):xe(t)}function oa(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Gt(t).byteLength+2);let r=0;const i=t.split(".");for(let s=0;s<i.length;s++){let o=Gt(i[s]);o.byteLength>255&&(o=Gt(Dx(zx(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Lx(e,{blockNumber:t,blockTag:n,coinType:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ci({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const l=Nn({abi:Kd,functionName:"addr",...r!=null?{args:[oo(i),BigInt(r)]}:{args:[oo(i)]}}),u={address:c,abi:Zp,functionName:"resolve",args:[M(oa(i)),l],blockNumber:t,blockTag:n},d=z(e,kn,"readContract"),h=s?await d({...u,args:[...u.args,s]}):await d(u);if(h[0]==="0x")return null;const p=ai({abi:Kd,args:r!=null?[oo(i),BigInt(r)]:void 0,functionName:"addr",data:h[0]});return p==="0x"||Yr(p)==="0x00"?null:p}catch(l){if(o)throw l;if(pu(l,"resolve"))return null;throw l}}class Vx extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class gi extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class mu extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Ux extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Hx=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,qx=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Wx=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Gx=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Kx(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Yd(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function rm({uri:e,gatewayUrls:t}){const n=Wx.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Yd(t==null?void 0:t.ipfs,"https://ipfs.io"),i=Yd(t==null?void 0:t.arweave,"https://arweave.net"),s=e.match(Hx),{protocol:o,subpath:a,target:c,subtarget:l=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||qx.test(e);if(e.startsWith("http")&&!u&&!d){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(Gx,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new mu({uri:e})}function im(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Vx({data:e});return e.image||e.image_url||e.image_data}async function Zx({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(i=>i.json());return await bu({gatewayUrls:e,uri:im(n)})}catch{throw new mu({uri:t})}}async function bu({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=rm({uri:t,gatewayUrls:e});if(r||await Kx(n))return n;throw new mu({uri:t})}function Yx(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=t.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new gi({reason:"Only EIP-155 supported"});if(!o)throw new gi({reason:"Chain ID not found"});if(!c)throw new gi({reason:"Contract address not found"});if(!i)throw new gi({reason:"Token ID not found"});if(!a)throw new gi({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function Jx(e,{nft:t}){if(t.namespace==="erc721")return kn(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return kn(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Ux({namespace:t.namespace})}async function Xx(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Qx(e,{gatewayUrls:t,record:n}):bu({uri:n,gatewayUrls:t})}async function Qx(e,{gatewayUrls:t,record:n}){const r=Yx(n),i=await Jx(e,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=rm({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return bu({uri:im(u),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Zx({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function sm(e,{blockNumber:t,blockTag:n,name:r,key:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ci({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const l={address:c,abi:Zp,functionName:"resolve",args:[M(oa(r)),Nn({abi:Gd,functionName:"text",args:[oo(r),i]})],blockNumber:t,blockTag:n},u=z(e,kn,"readContract"),d=s?await u({...l,args:[...l.args,s]}):await u(l);if(d[0]==="0x")return null;const h=ai({abi:Gd,functionName:"text",data:d[0]});return h===""?null:h}catch(l){if(o)throw l;if(pu(l,"resolve"))return null;throw l}}async function e1(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await z(e,sm,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await Xx(e,{record:c,gatewayUrls:r})}catch{return null}}async function t1(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=ci({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:ux,functionName:"reverse",args:[M(oa(c))],blockNumber:n,blockTag:r},u=z(e,kn,"readContract"),[d,h]=i?await u({...l,args:[...l.args,i]}):await u(l);return t.toLowerCase()!==h.toLowerCase()?null:d}catch(l){if(s)throw l;if(pu(l,"reverse"))return null;throw l}}async function n1(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:i}){let s=i;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=ci({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await z(e,kn,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[M(oa(r))],blockNumber:t,blockTag:n});return o}async function r1(e){const t=Ko(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function om(e,{address:t,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),l=Ko(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(h=>ks({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?H(s):s,toBlock:typeof a=="bigint"?H(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:d,request:l(d),strict:!!o,toBlock:a,type:"event"}}async function am(e){const t=Ko(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function i1(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n?H(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||r]});return BigInt(s)}async function s1(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function o1(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?H(n):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]}),Ot(s)}async function a1(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?H(n):void 0,s=await e.request({method:"eth_getCode",params:[t,i||r]});if(s!=="0x")return s}function c1(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function l1(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=n?H(n):void 0,o=await e.request({method:"eth_feeHistory",params:[H(t),s||r,i]});return c1(o)}async function u1(e,{filter:t}){const n=t.strict??!1,i=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>en(s));return t.abi?lu({abi:t.abi,logs:i,strict:n}):i}function tn(e,t){if(!me(e,{strict:!1}))throw new Ee({address:e});if(!me(t,{strict:!1}))throw new Ee({address:t});return e.toLowerCase()===t.toLowerCase()}function _t(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const d1=/^(.*)\[([0-9]*)\]$/,cm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,lm=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Da=new Map;async function h1(e){const{getSocket:t,key:n="socket",reconnect:r=!0,url:i}=e,{attempts:s=5,delay:o=2e3}=typeof r=="object"?r:{};let a=Da.get(`${n}:${i}`);if(a)return a;let c=0;const{schedule:l}=du({id:`${n}:${i}`,fn:async()=>{const h=new Map,p=new Map;let m,f;async function y(){return t({onError(b){var g,v;m=b;for(const w of h.values())(g=w.onError)==null||g.call(w,m);for(const w of p.values())(v=w.onError)==null||v.call(w,m);h.clear(),p.clear(),r&&c<s&&setTimeout(async()=>{c++,f=await y().catch(console.error)},o)},onOpen(){m=void 0,c=0},onResponse(b){const g=b.method==="eth_subscription",v=g?b.params.subscription:b.id,w=g?p:h,E=w.get(v);E&&E.onResponse(b),g||w.delete(v)}})}return f=await y(),m=void 0,a={close(){f.close(),Da.delete(`${n}:${i}`)},socket:f,request({body:b,onError:g,onResponse:v}){m&&g&&g(m);const w=b.id??Mc.take(),E=_=>{var $;typeof _.id=="number"&&w!==_.id||(b.method==="eth_subscribe"&&typeof _.result=="string"&&p.set(_.result,{onResponse:E,onError:g}),b.method==="eth_unsubscribe"&&p.delete(($=b.params)==null?void 0:$[0]),v(_))};h.set(w,{onResponse:E,onError:g});try{f.request({body:{jsonrpc:"2.0",id:w,...b}})}catch(_){g==null||g(_)}},requestAsync({body:b,timeout:g=1e4}){return tm(()=>new Promise((v,w)=>this.request({body:b,onError:w,onResponse:v})),{errorInstance:new xc({body:b,url:i}),timeout:g})},requests:h,subscriptions:p,url:i},Da.set(`${n}:${i}`,a),[a]}}),[u,[d]]=await l();return d}async function ao(e,t={}){const{reconnect:n}=t;return h1({async getSocket({onError:r,onOpen:i,onResponse:s}){const o=await R(()=>import("./native-DCTjMhwz.js"),__vite__mapDeps([])).then(d=>d.WebSocket),a=new o(e);function c(){a.removeEventListener("close",c),a.removeEventListener("message",l),a.removeEventListener("error",r),a.removeEventListener("open",i)}function l({data:d}){s(JSON.parse(d))}a.addEventListener("close",c),a.addEventListener("message",l),a.addEventListener("error",r),a.addEventListener("open",i),a.readyState===o.CONNECTING&&await new Promise((d,h)=>{a&&(a.onopen=d,a.onerror=h)});const{close:u}=a;return Object.assign(a,{close(){u.bind(a)(),c()},request({body:d}){if(a.readyState===a.CLOSED||a.readyState===a.CLOSING)throw new jw({body:d,url:a.url,details:"Socket is closed."});return a.send(JSON.stringify(d))}})},reconnect:n,url:e})}async function f1(e){const t=await ao(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function p1(e){const{domain:t={},message:n,primaryType:r}=e,i={EIP712Domain:mm({domain:t}),...e.types};pm({domain:t,message:n,primaryType:r,types:i});const s=["0x1901"];return t&&s.push(m1({domain:t,types:i})),r!=="EIP712Domain"&&s.push(um({data:n,primaryType:r,types:i})),Ne(Qt(s))}function m1({domain:e,types:t}){return um({data:e,primaryType:"EIP712Domain",types:t})}function um({data:e,primaryType:t,types:n}){const r=dm({data:e,primaryType:t,types:n});return Ne(r)}function dm({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],i=[b1({primaryType:t,types:n})];for(const s of n[t]){const[o,a]=fm({types:n,name:s.name,type:s.type,value:e[s.name]});r.push(o),i.push(a)}return $s(r,i)}function b1({primaryType:e,types:t}){const n=M(g1({primaryType:e,types:t}));return Ne(n)}function g1({primaryType:e,types:t}){let n="";const r=hm({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const s of i)n+=`${s}(${t[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function hm({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||t[i]===void 0)return n;n.add(i);for(const s of t[i])hm({primaryType:s.type,types:t},n);return n}function fm({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Ne(dm({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Ne(r)];if(n==="string")return[{type:"bytes32"},Ne(M(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>fm({name:t,type:i,types:e,value:o}));return[{type:"bytes32"},Ne($s(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}function pm(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(lm);if(h&&(typeof d=="number"||typeof d=="bigint")){const[f,y,b]=h;H(d,{signed:y==="int",size:Number.parseInt(b)/8})}if(u==="address"&&typeof d=="string"&&!me(d))throw new Ee({address:d});const p=u.match(cm);if(p){const[f,y]=p;if(y&&pe(d)!==Number.parseInt(y))throw new cp({expectedSize:Number.parseInt(y),givenSize:pe(d)})}const m=i[u];m&&s(m,d)}};if(i.EIP712Domain&&t&&s(i.EIP712Domain,t),r!=="EIP712Domain"){const o=i[r];s(o,n)}}function mm({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const za="/docs/contract/encodeDeployData";function bm(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const i=t.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new ov({docsPath:za});if(!("inputs"in i))throw new Cd({docsPath:za});if(!i.inputs||i.inputs.length===0)throw new Cd({docsPath:za});const s=$s(i.inputs,n);return Mt([r,s])}function y1(e,t){if(e.length!==t.length)throw new sp({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(gm(i,s))}return Mt(n)}function gm(e,t,n=!1){if(e==="address"){const o=t;if(!me(o))throw new Ee({address:o});return Ct(o.toLowerCase(),{size:n?32:null})}if(e==="string")return qo(t);if(e==="bytes")return t;if(e==="bool")return Ct(Ll(t),{size:n?32:1});const r=e.match(lm);if(r){const[o,a,c="256"]=r,l=Number.parseInt(c)/8;return H(t,{size:n?32:l,signed:a==="int"})}const i=e.match(cm);if(i){const[o,a]=i;if(Number.parseInt(a)!==(t.length-2)/2)throw new cp({expectedSize:Number.parseInt(a),givenSize:(t.length-2)/2});return Ct(t,{dir:"right",size:n?32:null})}const s=e.match(d1);if(s&&Array.isArray(t)){const[o,a]=s,c=[];for(let l=0;l<t.length;l++)c.push(gm(a,t[l],!0));return c.length===0?"0x":Mt(c)}throw new bv(e)}function mr(e,t="hex"){const n=ym(e),r=Zl(new Uint8Array(n.length));return n.encode(r),t==="hex"?xe(r.bytes):r.bytes}function ym(e){return Array.isArray(e)?v1(e.map(t=>ym(t))):w1(e)}function v1(e){const t=e.reduce((i,s)=>i+s.length,0),n=vm(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:s}of e)s(i)}}}function w1(e){const t=typeof e=="string"?bt(e):e,n=vm(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function vm(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new S("Length is too large.")}const x1={"0x0":"reverted","0x1":"success"};function wm(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>en(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Ot(e.transactionIndex):null,status:e.status?x1[e.status]:null,type:e.type?Op[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const xm=Jo("transactionReceipt",wm),_1=`Ethereum Signed Message:
`;function _m(e,t){const n=typeof e=="string"?Gt(e):e.raw instanceof Uint8Array?e.raw:mt(e.raw),r=Gt(`${_1}${n.length}`);return Ne(Qt([r,n]),t)}function E1(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Up;for(const n of t){const r=pe(n),i=Ot(Hi(n,0,1));if(r!==32)throw new sx({hash:n,size:r});if(i!==Vp)throw new ox({hash:n,version:i})}}Em(e)}function Em(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new ea({chainId:t});if(i&&!me(i))throw new Ee({address:i});if(r&&r>2n**256n-1n)throw new pr({maxFeePerGas:r});if(n&&r&&n>r)throw new os({maxFeePerGas:r,maxPriorityFeePerGas:n})}function $1(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(t<=0)throw new ea({chainId:t});if(s&&!me(s))throw new Ee({address:s});if(n||i)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new pr({maxFeePerGas:r})}function A1(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s,accessList:o}=e;if(s&&!me(s))throw new Ee({address:s});if(typeof t<"u"&&t<=0)throw new ea({chainId:t});if(n||i)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new pr({maxFeePerGas:r});if(o)throw new S("`accessList` is not a valid Legacy Transaction attribute.")}function gu(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:i}=e[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new Rw({storageKey:i[s]});if(!me(r,{strict:!1}))throw new Ee({address:r});t.push([r,i])}return t}function $m(e,t){const n=qp(e);return n==="eip1559"?S1(e,t):n==="eip2930"?P1(e,t):n==="eip4844"?k1(e,t):C1(e,t)}function k1(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;E1(e);let h=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof p>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(_=>xe(_)),w=e.kzg,E=iu({blobs:v,kzg:w});if(typeof h>"u"&&(h=Dp({commitments:E})),typeof p>"u"){const _=su({blobs:v,commitments:E,kzg:w});p=Hp({blobs:v,commitments:E,proofs:_})}}const m=gu(u),f=[M(n),i?M(i):"0x",l?M(l):"0x",c?M(c):"0x",r?M(r):"0x",s??"0x",o?M(o):"0x",d??"0x",m,a?M(a):"0x",h??[],...yu(e,t)],y=[],b=[],g=[];if(p)for(let v=0;v<p.length;v++){const{blob:w,commitment:E,proof:_}=p[v];y.push(w),b.push(E),g.push(_)}return Mt(["0x03",mr(p?[f,y,b,g]:f)])}function S1(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=e;Em(e);const d=gu(l),h=[M(n),i?M(i):"0x",c?M(c):"0x",a?M(a):"0x",r?M(r):"0x",s??"0x",o?M(o):"0x",u??"0x",d,...yu(e,t)];return Mt(["0x02",mr(h)])}function P1(e,t){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=e;$1(e);const u=gu(c),d=[M(n),s?M(s):"0x",l?M(l):"0x",r?M(r):"0x",o??"0x",a?M(a):"0x",i??"0x",u,...yu(e,t)];return Mt(["0x01",mr(d)])}function C1(e,t){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=e;A1(e);let l=[s?M(s):"0x",c?M(c):"0x",r?M(r):"0x",o??"0x",a?M(a):"0x",i??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const d=27n+(t.v===27n?0n:1n);if(t.v!==d)throw new Ow({v:t.v});return d})();l=[...l,M(u),t.r,t.s]}else n>0&&(l=[...l,M(n),"0x","0x"]);return mr(l)}function yu(e,t){const{r:n,s:r,v:i,yParity:s}=t??e;return typeof n>"u"?[]:typeof r>"u"?[]:typeof i>"u"&&typeof s>"u"?[]:[typeof s=="number"?s?M(1):"0x":i===0n?"0x":i===1n?M(1):i===27n?"0x":M(1),Yr(n),Yr(r)]}function Am(e,t){let[n,r="0"]=e.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[s,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${i?"-":""}${n}${r}`)}function T1(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function I1(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Ot(e.nonce):void 0,storageProof:e.storageProof?T1(e.storageProof):void 0}}async function O1(e,{address:t,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?H(n):void 0,a=await e.request({method:"eth_getProof",params:[t,i,o||s]});return I1(a)}async function B1(e,{address:t,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?H(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||r]})}async function vu(e,{blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){var u,d,h;const o=r||"latest",a=n!==void 0?H(n):void 0;let c=null;if(i?c=await e.request({method:"eth_getTransactionByHash",params:[i]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,H(s)]}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,H(s)]})),!c)throw new Sp({blockHash:t,blockNumber:n,blockTag:o,hash:i,index:s});return(((h=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||Xo)(c)}async function R1(e,{hash:t,transactionReceipt:n}){const[r,i]=await Promise.all([z(e,Os,"getBlockNumber")({}),t?z(e,vu,"getBlockNumber")({hash:t}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function Nc(e,{hash:t}){var i,s,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Pp({hash:t});return(((o=(s=(i=e.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||wm)(n)}async function M1(e,t){var y;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=t,c=t.contracts,l=r??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let u=o;if(!u){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");u=ci({blockNumber:i,chain:e.chain,contract:"multicall3"})}const d=[[]];let h=0,p=0;for(let b=0;b<c.length;b++){const{abi:g,address:v,args:w,functionName:E}=c[b];try{const _=Nn({abi:g,args:w,functionName:E});p+=(_.length-2)/2,l>0&&p>l&&d[h].length>0&&(h++,p=(_.length-2)/2,d[h]=[]),d[h]=[...d[h],{allowFailure:!0,callData:_,target:v}]}catch(_){const $=ss(_,{abi:g,address:v,args:w,docsPath:"/docs/contract/multicall",functionName:E});if(!n)throw $;d[h]=[...d[h],{allowFailure:!0,callData:"0x",target:v}]}}const m=await Promise.allSettled(d.map(b=>z(e,kn,"readContract")({abi:Ic,address:u,args:[b],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),f=[];for(let b=0;b<m.length;b++){const g=m[b];if(g.status==="rejected"){if(!n)throw g.reason;for(let w=0;w<d[b].length;w++)f.push({status:"failure",error:g.reason,result:void 0});continue}const v=g.value;for(let w=0;w<v.length;w++){const{returnData:E,success:_}=v[w],{callData:$}=d[b][w],{abi:k,address:A,functionName:I,args:T}=c[f.length];try{if($==="0x")throw new Uo;if(!_)throw new Jl({data:E});const U=ai({abi:k,args:T,data:E,functionName:I});f.push(n?{result:U,status:"success"}:U)}catch(U){const j=ss(U,{abi:k,address:A,args:T,docsPath:"/docs/contract/multicall",functionName:I});if(!n)throw j;f.push({error:j,result:void 0,status:"failure"})}}}if(f.length!==c.length)throw new S("multicall results mismatch");return f}const N1="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";const km=BigInt(0),aa=BigInt(1),F1=BigInt(2),ca=e=>e instanceof Uint8Array,j1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ei(e){if(!ca(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=j1[e[n]];return t}function Sm(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function wu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function ti(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Xn(e){return wu(ei(e))}function xu(e){if(!ca(e))throw new Error("Uint8Array expected");return wu(ei(Uint8Array.from(e).reverse()))}function ni(e,t){return ti(e.toString(16).padStart(t*2,"0"))}function _u(e,t){return ni(e,t).reverse()}function D1(e){return ti(Sm(e))}function at(e,t,n){let r;if(typeof t=="string")try{r=ti(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(ca(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function as(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!ca(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function Pm(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function z1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function L1(e){let t;for(t=0;e>km;e>>=aa,t+=1);return t}function V1(e,t){return e>>BigInt(t)&aa}const U1=(e,t,n)=>e|(n?aa:km)<<BigInt(t),Eu=e=>(F1<<BigInt(e-1))-aa,La=e=>new Uint8Array(e),Jd=e=>Uint8Array.from(e);function Cm(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=La(e),i=La(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=La())=>{i=a(Jd([0]),d),r=a(),d.length!==0&&(i=a(Jd([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){r=a();const p=r.slice();h.push(p),d+=r.length}return as(...h)};return(d,h)=>{o(),c(d);let p;for(;!(p=h(l()));)c();return o(),p}}const H1={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Bs(e,t,n={}){const r=(i,s,o)=>{const a=H1[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const q1=Object.freeze(Object.defineProperty({__proto__:null,bitGet:V1,bitLen:L1,bitMask:Eu,bitSet:U1,bytesToHex:ei,bytesToNumberBE:Xn,bytesToNumberLE:xu,concatBytes:as,createHmacDrbg:Cm,ensureBytes:at,equalBytes:Pm,hexToBytes:ti,hexToNumber:wu,numberToBytesBE:ni,numberToBytesLE:_u,numberToHexUnpadded:Sm,numberToVarBytesBE:D1,utf8ToBytes:z1,validateObject:Bs},Symbol.toStringTag,{value:"Module"}));function W1(e,t){const n=vt(e)?mt(e):e,r=vt(t)?mt(t):t;return Pm(n,r)}const _e=BigInt(0),fe=BigInt(1),Vn=BigInt(2),G1=BigInt(3),Fc=BigInt(4),Xd=BigInt(5),Qd=BigInt(8);BigInt(9);BigInt(16);function Me(e,t){const n=e%t;return n>=_e?n:t+n}function K1(e,t,n){if(n<=_e||t<_e)throw new Error("Expected power/modulo > 0");if(n===fe)return _e;let r=fe;for(;t>_e;)t&fe&&(r=r*e%n),e=e*e%n,t>>=fe;return r}function Ze(e,t,n){let r=e;for(;t-- >_e;)r*=r,r%=n;return r}function jc(e,t){if(e===_e||t<=_e)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Me(e,t),r=t,i=_e,s=fe;for(;n!==_e;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==fe)throw new Error("invert: does not exist");return Me(i,t)}function Z1(e){const t=(e-fe)/Vn;let n,r,i;for(n=e-fe,r=0;n%Vn===_e;n/=Vn,r++);for(i=Vn;i<e&&K1(i,t,e)!==e-fe;i++);if(r===1){const o=(e+fe)/Fc;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+fe)/Vn;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let p=1;for(let f=a.sqr(h);p<l&&!a.eql(f,a.ONE);p++)f=a.sqr(f);const m=a.pow(u,fe<<BigInt(l-p-1));u=a.sqr(m),d=a.mul(d,m),h=a.mul(h,u),l=p}return d}}function Y1(e){if(e%Fc===G1){const t=(e+fe)/Fc;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%Qd===Xd){const t=(e-Xd)/Qd;return function(r,i){const s=r.mul(i,Vn),o=r.pow(s,t),a=r.mul(i,o),c=r.mul(r.mul(a,Vn),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return Z1(e)}const J1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function X1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=J1.reduce((r,i)=>(r[i]="function",r),t);return Bs(e,n)}function Q1(e,t,n){if(n<_e)throw new Error("Expected power > 0");if(n===_e)return e.ONE;if(n===fe)return t;let r=e.ONE,i=t;for(;n>_e;)n&fe&&(r=e.mul(r,i)),i=e.sqr(i),n>>=fe;return r}function e_(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function Tm(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function t_(e,t,n=!1,r={}){if(e<=_e)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Tm(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Y1(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Eu(i),ZERO:_e,ONE:fe,create:c=>Me(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return _e<=c&&c<e},is0:c=>c===_e,isOdd:c=>(c&fe)===fe,neg:c=>Me(-c,e),eql:(c,l)=>c===l,sqr:c=>Me(c*c,e),add:(c,l)=>Me(c+l,e),sub:(c,l)=>Me(c-l,e),mul:(c,l)=>Me(c*l,e),pow:(c,l)=>Q1(a,c,l),div:(c,l)=>Me(c*jc(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>jc(c,e),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>e_(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?_u(c,s):ni(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?xu(c):Xn(c)}});return Object.freeze(a)}function Im(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Om(e){const t=Im(e);return t+Math.ceil(t/2)}function n_(e,t,n=!1){const r=e.length,i=Im(t),s=Om(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Xn(e):xu(e),a=Me(o,t-fe)+fe;return n?_u(a,i):ni(a,i)}const r_=BigInt(0),Va=BigInt(1);function i_(e,t){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>r_;)s&Va&&(o=o.add(a)),a=a.double(),s>>=Va;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let l=i,u=l;for(let d=0;d<o;d++){u=l,c.push(u);for(let h=1;h<a;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let l=e.ZERO,u=e.BASE;const d=BigInt(2**i-1),h=2**i,p=BigInt(i);for(let m=0;m<a;m++){const f=m*c;let y=Number(o&d);o>>=p,y>c&&(y-=h,o+=Va);const b=f,g=f+Math.abs(y)-1,v=m%2!==0,w=y<0;y===0?u=u.add(n(v,s[b])):l=l.add(n(w,s[g]))}return{p:l,f:u}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,a(l))),this.wNAF(c,l,o)}}}function Bm(e){return X1(e.Fp),Bs(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Tm(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function s_(e){const t=Bm(e);Bs(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:o_,hexToBytes:a_}=q1,Wn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Wn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:o_(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Wn,n=typeof e=="string"?a_(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Wn._parseInt(n.subarray(2)),{d:o,l:a}=Wn._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},Ut=BigInt(0),Ye=BigInt(1);BigInt(2);const eh=BigInt(3);BigInt(4);function c_(e){const t=s_(e),{Fp:n}=t,r=t.toBytes||((m,f,y)=>{const b=f.toAffine();return as(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),i=t.fromBytes||(m=>{const f=m.subarray(1),y=n.fromBytes(f.subarray(0,n.BYTES)),b=n.fromBytes(f.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function s(m){const{a:f,b:y}=t,b=n.sqr(m),g=n.mul(b,m);return n.add(n.add(g,n.mul(m,f)),y)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Ut<m&&m<t.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:f,nByteLength:y,wrapPrivateKey:b,n:g}=t;if(f&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=ei(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(y*2,"0")}let v;try{v=typeof m=="bigint"?m:Xn(at("private key",m,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof m}`)}return b&&(v=Me(v,g)),a(v),v}const l=new Map;function u(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(f,y,b){if(this.px=f,this.py=y,this.pz=b,f==null||!n.isValid(f))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(f){const{x:y,y:b}=f||{};if(!f||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const g=v=>n.eql(v,n.ZERO);return g(y)&&g(b)?d.ZERO:new d(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const y=n.invertBatch(f.map(b=>b.pz));return f.map((b,g)=>b.toAffine(y[g])).map(d.fromAffine)}static fromHex(f){const y=d.fromAffine(i(at("pointHex",f)));return y.assertValidity(),y}static fromPrivateKey(f){return d.BASE.multiply(c(f))}_setWindowSize(f){this._WINDOW_SIZE=f,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y}=this.toAffine();if(!n.isValid(f)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),g=s(f);if(!n.eql(b,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(n.isOdd)return!n.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){u(f);const{px:y,py:b,pz:g}=this,{px:v,py:w,pz:E}=f,_=n.eql(n.mul(y,E),n.mul(v,g)),$=n.eql(n.mul(b,E),n.mul(w,g));return _&&$}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:f,b:y}=t,b=n.mul(y,eh),{px:g,py:v,pz:w}=this;let E=n.ZERO,_=n.ZERO,$=n.ZERO,k=n.mul(g,g),A=n.mul(v,v),I=n.mul(w,w),T=n.mul(g,v);return T=n.add(T,T),$=n.mul(g,w),$=n.add($,$),E=n.mul(f,$),_=n.mul(b,I),_=n.add(E,_),E=n.sub(A,_),_=n.add(A,_),_=n.mul(E,_),E=n.mul(T,E),$=n.mul(b,$),I=n.mul(f,I),T=n.sub(k,I),T=n.mul(f,T),T=n.add(T,$),$=n.add(k,k),k=n.add($,k),k=n.add(k,I),k=n.mul(k,T),_=n.add(_,k),I=n.mul(v,w),I=n.add(I,I),k=n.mul(I,T),E=n.sub(E,k),$=n.mul(I,A),$=n.add($,$),$=n.add($,$),new d(E,_,$)}add(f){u(f);const{px:y,py:b,pz:g}=this,{px:v,py:w,pz:E}=f;let _=n.ZERO,$=n.ZERO,k=n.ZERO;const A=t.a,I=n.mul(t.b,eh);let T=n.mul(y,v),U=n.mul(b,w),j=n.mul(g,E),W=n.add(y,b),C=n.add(v,w);W=n.mul(W,C),C=n.add(T,U),W=n.sub(W,C),C=n.add(y,g);let O=n.add(v,E);return C=n.mul(C,O),O=n.add(T,j),C=n.sub(C,O),O=n.add(b,g),_=n.add(w,E),O=n.mul(O,_),_=n.add(U,j),O=n.sub(O,_),k=n.mul(A,C),_=n.mul(I,j),k=n.add(_,k),_=n.sub(U,k),k=n.add(U,k),$=n.mul(_,k),U=n.add(T,T),U=n.add(U,T),j=n.mul(A,j),C=n.mul(I,C),U=n.add(U,j),j=n.sub(T,j),j=n.mul(A,j),C=n.add(C,j),T=n.mul(U,C),$=n.add($,T),T=n.mul(O,C),_=n.mul(W,_),_=n.sub(_,T),T=n.mul(W,U),k=n.mul(O,k),k=n.add(k,T),new d(_,$,k)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return p.wNAFCached(this,l,f,y=>{const b=n.invertBatch(y.map(g=>g.pz));return y.map((g,v)=>g.toAffine(b[v])).map(d.fromAffine)})}multiplyUnsafe(f){const y=d.ZERO;if(f===Ut)return y;if(a(f),f===Ye)return this;const{endo:b}=t;if(!b)return p.unsafeLadder(this,f);let{k1neg:g,k1:v,k2neg:w,k2:E}=b.splitScalar(f),_=y,$=y,k=this;for(;v>Ut||E>Ut;)v&Ye&&(_=_.add(k)),E&Ye&&($=$.add(k)),k=k.double(),v>>=Ye,E>>=Ye;return g&&(_=_.negate()),w&&($=$.negate()),$=new d(n.mul($.px,b.beta),$.py,$.pz),_.add($)}multiply(f){a(f);let y=f,b,g;const{endo:v}=t;if(v){const{k1neg:w,k1:E,k2neg:_,k2:$}=v.splitScalar(y);let{p:k,f:A}=this.wNAF(E),{p:I,f:T}=this.wNAF($);k=p.constTimeNegate(w,k),I=p.constTimeNegate(_,I),I=new d(n.mul(I.px,v.beta),I.py,I.pz),b=k.add(I),g=A.add(T)}else{const{p:w,f:E}=this.wNAF(y);b=w,g=E}return d.normalizeZ([b,g])[0]}multiplyAndAddUnsafe(f,y,b){const g=d.BASE,v=(E,_)=>_===Ut||_===Ye||!E.equals(g)?E.multiplyUnsafe(_):E.multiply(_),w=v(this,y).add(v(f,b));return w.is0()?void 0:w}toAffine(f){const{px:y,py:b,pz:g}=this,v=this.is0();f==null&&(f=v?n.ONE:n.inv(g));const w=n.mul(y,f),E=n.mul(b,f),_=n.mul(g,f);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:w,y:E}}isTorsionFree(){const{h:f,isTorsionFree:y}=t;if(f===Ye)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:y}=t;return f===Ye?this:y?y(d,this):this.multiplyUnsafe(t.h)}toRawBytes(f=!0){return this.assertValidity(),r(d,this,f)}toHex(f=!0){return ei(this.toRawBytes(f))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=i_(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function l_(e){const t=Bm(e);return Bs(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function u_(e){const t=l_(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return Ut<C&&C<n.ORDER}function a(C){return Me(C,r)}function c(C){return jc(C,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=c_({...t,toBytes(C,O,F){const Z=O.toAffine(),Y=n.toBytes(Z.x),ue=as;return F?ue(Uint8Array.from([O.hasEvenY()?2:3]),Y):ue(Uint8Array.from([4]),Y,n.toBytes(Z.y))},fromBytes(C){const O=C.length,F=C[0],Z=C.subarray(1);if(O===i&&(F===2||F===3)){const Y=Xn(Z);if(!o(Y))throw new Error("Point is not on curve");const ue=d(Y);let He=n.sqrt(ue);const qe=(He&Ye)===Ye;return(F&1)===1!==qe&&(He=n.neg(He)),{x:Y,y:He}}else if(O===s&&F===4){const Y=n.fromBytes(Z.subarray(0,n.BYTES)),ue=n.fromBytes(Z.subarray(n.BYTES,2*n.BYTES));return{x:Y,y:ue}}else throw new Error(`Point of length ${O} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=C=>ei(ni(C,t.nByteLength));function m(C){const O=r>>Ye;return C>O}function f(C){return m(C)?a(-C):C}const y=(C,O,F)=>Xn(C.slice(O,F));class b{constructor(O,F,Z){this.r=O,this.s=F,this.recovery=Z,this.assertValidity()}static fromCompact(O){const F=t.nByteLength;return O=at("compactSignature",O,F*2),new b(y(O,0,F),y(O,F,2*F))}static fromDER(O){const{r:F,s:Z}=Wn.toSig(at("DER",O));return new b(F,Z)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(O){return new b(this.r,this.s,O)}recoverPublicKey(O){const{r:F,s:Z,recovery:Y}=this,ue=$(at("msgHash",O));if(Y==null||![0,1,2,3].includes(Y))throw new Error("recovery id invalid");const He=Y===2||Y===3?F+t.n:F;if(He>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const qe=Y&1?"03":"02",sn=l.fromHex(qe+p(He)),on=c(He),kr=a(-ue*on),hi=a(Z*on),an=l.BASE.multiplyAndAddUnsafe(sn,kr,hi);if(!an)throw new Error("point at infinify");return an.assertValidity(),an}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ti(this.toDERHex())}toDERHex(){return Wn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ti(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const g={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const C=Om(t.n);return n_(t.randomBytes(C),t.n)},precompute(C=8,O=l.BASE){return O._setWindowSize(C),O.multiply(BigInt(3)),O}};function v(C,O=!0){return l.fromPrivateKey(C).toRawBytes(O)}function w(C){const O=C instanceof Uint8Array,F=typeof C=="string",Z=(O||F)&&C.length;return O?Z===i||Z===s:F?Z===2*i||Z===2*s:C instanceof l}function E(C,O,F=!0){if(w(C))throw new Error("first arg must be private key");if(!w(O))throw new Error("second arg must be public key");return l.fromHex(O).multiply(u(C)).toRawBytes(F)}const _=t.bits2int||function(C){const O=Xn(C),F=C.length*8-t.nBitLength;return F>0?O>>BigInt(F):O},$=t.bits2int_modN||function(C){return a(_(C))},k=Eu(t.nBitLength);function A(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(Ut<=C&&C<k))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ni(C,t.nByteLength)}function I(C,O,F=T){if(["recovered","canonical"].some(Fn=>Fn in F))throw new Error("sign() legacy options not supported");const{hash:Z,randomBytes:Y}=t;let{lowS:ue,prehash:He,extraEntropy:qe}=F;ue==null&&(ue=!0),C=at("msgHash",C),He&&(C=at("prehashed msgHash",Z(C)));const sn=$(C),on=u(O),kr=[A(on),A(sn)];if(qe!=null){const Fn=qe===!0?Y(n.BYTES):qe;kr.push(at("extraEntropy",Fn))}const hi=as(...kr),an=sn;function ya(Fn){const Sr=_(Fn);if(!h(Sr))return;const rd=c(Sr),Pr=l.BASE.multiply(Sr).toAffine(),it=a(Pr.x);if(it===Ut)return;const Cr=a(rd*a(an+it*on));if(Cr===Ut)return;let id=(Pr.x===it?0:2)|Number(Pr.y&Ye),sd=Cr;return ue&&m(Cr)&&(sd=f(Cr),id^=1),new b(it,sd,id)}return{seed:hi,k2sig:ya}}const T={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function j(C,O,F=T){const{seed:Z,k2sig:Y}=I(C,O,F),ue=t;return Cm(ue.hash.outputLen,ue.nByteLength,ue.hmac)(Z,Y)}l.BASE._setWindowSize(8);function W(C,O,F,Z=U){var Pr;const Y=C;if(O=at("msgHash",O),F=at("publicKey",F),"strict"in Z)throw new Error("options.strict was renamed to lowS");const{lowS:ue,prehash:He}=Z;let qe,sn;try{if(typeof Y=="string"||Y instanceof Uint8Array)try{qe=b.fromDER(Y)}catch(it){if(!(it instanceof Wn.Err))throw it;qe=b.fromCompact(Y)}else if(typeof Y=="object"&&typeof Y.r=="bigint"&&typeof Y.s=="bigint"){const{r:it,s:Cr}=Y;qe=new b(it,Cr)}else throw new Error("PARSE");sn=l.fromHex(F)}catch(it){if(it.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ue&&qe.hasHighS())return!1;He&&(O=t.hash(O));const{r:on,s:kr}=qe,hi=$(O),an=c(kr),ya=a(hi*an),Fn=a(on*an),Sr=(Pr=l.BASE.multiplyAndAddUnsafe(sn,ya,Fn))==null?void 0:Pr.toAffine();return Sr?a(Sr.x)===on:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:E,sign:j,verify:W,ProjectivePoint:l,Signature:b,utils:g}}class Rm extends Ul{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Sv(t);const r=Wo(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return Jr(this),this.iHash.update(t),this}digestInto(t){Jr(this),Vl(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mm=(e,t,n)=>new Rm(e,t).update(n).digest();Mm.create=(e,t)=>new Rm(e,t);function d_(e){return{hash:e,hmac:(t,...n)=>Mm(e,t,Fv(...n)),randomBytes:jv}}function h_(e,t){const n=r=>u_({...e,...d_(r)});return Object.freeze({...n(t),create:n})}const Nm=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),th=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f_=BigInt(1),Dc=BigInt(2),nh=(e,t)=>(e+t/Dc)/t;function p_(e){const t=Nm,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Ze(u,n,t)*u%t,h=Ze(d,n,t)*u%t,p=Ze(h,Dc,t)*l%t,m=Ze(p,i,t)*p%t,f=Ze(m,s,t)*m%t,y=Ze(f,a,t)*f%t,b=Ze(y,c,t)*y%t,g=Ze(b,a,t)*f%t,v=Ze(g,n,t)*u%t,w=Ze(v,o,t)*m%t,E=Ze(w,r,t)*l%t,_=Ze(E,Dc,t);if(!zc.eql(zc.sqr(_),e))throw new Error("Cannot find square root");return _}const zc=t_(Nm,void 0,void 0,{sqrt:p_}),Fm=h_({a:BigInt(0),b:BigInt(7),Fp:zc,n:th,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=th,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-f_*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=nh(s*e,t),c=nh(-r*e,t);let l=Me(e-a*n-c*i,t),u=Me(-a*r-c*s,t);const d=l>o,h=u>o;if(d&&(l=t-l),h&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Fp);BigInt(0);Fm.ProjectivePoint;function m_({r:e,s:t,v:n,yParity:r}){const i=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new Fm.Signature(oe(e),oe(t)).toCompactHex()}${i===0?"1b":"1c"}`}async function $u(e,{address:t,hash:n,signature:r,...i}){const s=vt(r)?r:typeof r=="object"&&"r"in r&&"s"in r?m_(r):xe(r);try{const{data:o}=await z(e,ta,"call")({data:bm({abi:dx,args:[t,n,s],bytecode:N1}),...i});return W1(o??"0x0","0x1")}catch(o){if(o instanceof Cp)return!1;throw o}}async function b_(e,{address:t,message:n,signature:r,...i}){const s=_m(n);return $u(e,{address:t,hash:s,signature:r,...i})}async function g_(e,t){const{address:n,signature:r,message:i,primaryType:s,types:o,domain:a,...c}=t,l=p1({message:i,primaryType:s,types:o,domain:a});return $u(e,{address:n,hash:l,signature:r,...c})}function jm(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=e.pollingInterval}){const a=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const d=Ce(["watchBlockNumber",e.uid,t,n,o]);return Sn(d,{onBlockNumber:r,onError:i},h=>Is(async()=>{var p;try{const m=await z(e,Os,"getBlockNumber")({cacheTime:0});if(c){if(m===c)return;if(m-c>1&&n)for(let f=c+1n;f<m;f++)h.onBlockNumber(f,c),c=f}(!c||m>c)&&(h.onBlockNumber(m,c),c=m)}catch(m){(p=h.onError)==null||p.call(h,m)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=Ce(["watchBlockNumber",e.uid,t,n]);return Sn(d,{onBlockNumber:r,onError:i},h=>{let p=!0,m=()=>p=!1;return(async()=>{try{const f=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(g=>g.config.type==="webSocket");return b?b.value:e.transport}return e.transport})(),{unsubscribe:y}=await f.subscribe({params:["newHeads"],onData(b){var v;if(!p)return;const g=oe((v=b.result)==null?void 0:v.number);h.onBlockNumber(g,c),c=g},onError(b){var g;(g=h.onError)==null||g.call(h,b)}});m=y,p||m()}catch(f){i==null||i(f)}})(),()=>m()})})()}async function y_(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:i=e.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a}){const c=Ce(["waitForTransactionReceipt",e.uid,n]);let l=0,u,d,h,p=!1;return new Promise((m,f)=>{a&&setTimeout(()=>f(new Vd({hash:n})),a);const y=Sn(c,{onReplaced:r,resolve:m,reject:f},b=>{const g=z(e,jm,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(v){const w=_=>{g(),_(),y()};let E=v;if(!p){l>s&&w(()=>b.reject(new Vd({hash:n})));try{if(h){if(t>1&&(!h.blockNumber||E-h.blockNumber+1n<t))return;w(()=>b.resolve(h));return}if(u||(p=!0,await Rc(async()=>{u=await z(e,vu,"getTransaction")({hash:n}),u.blockNumber&&(E=u.blockNumber)},{delay:o,retryCount:s}),p=!1),h=await z(e,Nc,"getTransactionReceipt")({hash:n}),t>1&&(!h.blockNumber||E-h.blockNumber+1n<t))return;w(()=>b.resolve(h))}catch(_){if(_ instanceof Sp||_ instanceof Pp){if(!u){p=!1;return}try{d=u,p=!0;const $=await Rc(()=>z(e,An,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:I})=>I instanceof Ip});p=!1;const k=$.transactions.find(({from:I,nonce:T})=>I===d.from&&T===d.nonce);if(!k||(h=await z(e,Nc,"getTransactionReceipt")({hash:k.hash}),t>1&&(!h.blockNumber||E-h.blockNumber+1n<t)))return;let A="replaced";k.to===d.to&&k.value===d.value?A="repriced":k.from===k.to&&k.value===0n&&(A="cancelled"),w(()=>{var I;(I=b.onReplaced)==null||I.call(b,{reason:A,replacedTransaction:d,transaction:k,transactionReceipt:h}),b.resolve(h)})}catch($){w(()=>b.reject($))}}else w(()=>b.reject(_))}finally{l++}}}})})})}function v_(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),u=o??!1;let d;return l?(()=>{const m=Ce(["watchBlocks",e.uid,t,n,r,u,c]);return Sn(m,{onBlock:i,onError:s},f=>Is(async()=>{var y;try{const b=await z(e,An,"getBlock")({blockTag:t,includeTransactions:u});if(b.number&&(d!=null&&d.number)){if(b.number===d.number)return;if(b.number-d.number>1&&n)for(let g=(d==null?void 0:d.number)+1n;g<b.number;g++){const v=await z(e,An,"getBlock")({blockNumber:g,includeTransactions:u});f.onBlock(v,d),d=v}}(!(d!=null&&d.number)||t==="pending"&&!(b!=null&&b.number)||b.number&&b.number>d.number)&&(f.onBlock(b,d),d=b)}catch(b){(y=f.onError)==null||y.call(f,b)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,f=()=>m=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(v=>v.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],onData(g){var E,_,$;if(!m)return;const w=((($=(_=(E=e.chain)==null?void 0:E.formatters)==null?void 0:_.block)==null?void 0:$.format)||nu)(g.result);i(w,d),d=w},onError(g){s==null||s(g)}});f=b,m||f()}catch(y){s==null||s(y)}})(),()=>f()})()}function w_(e,{address:t,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){const h=typeof l<"u"?l:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),p=d??!1;return h?(()=>{const y=Ce(["watchEvent",t,n,r,e.uid,i,u,o]);return Sn(y,{onLogs:c,onError:a},b=>{let g;o!==void 0&&(g=o-1n);let v,w=!1;const E=Is(async()=>{var _;if(!w){try{v=await z(e,om,"createEventFilter")({address:t,args:n,event:i,events:s,strict:p,fromBlock:o})}catch{}w=!0;return}try{let $;if(v)$=await z(e,na,"getFilterChanges")({filter:v});else{const k=await z(e,Os,"getBlockNumber")({});g&&g!==k?$=await z(e,uu,"getLogs")({address:t,args:n,event:i,events:s,fromBlock:g+1n,toBlock:k}):$=[],g=k}if($.length===0)return;if(r)b.onLogs($);else for(const k of $)b.onLogs([k])}catch($){v&&$ instanceof fr&&(w=!1),(_=b.onError)==null||_.call(b,$)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await z(e,ra,"uninstallFilter")({filter:v}),E()}})})():(()=>{let y=!0,b=()=>y=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const _=e.transport.transports.find($=>$.config.type==="webSocket");return _?_.value:e.transport}return e.transport})(),v=s??(i?[i]:void 0);let w=[];v&&(w=[v.flatMap(_=>ks({abi:[_],eventName:_.name,args:n}))],i&&(w=w[0]));const{unsubscribe:E}=await g.subscribe({params:["logs",{address:t,topics:w}],onData(_){var k;if(!y)return;const $=_.result;try{const{eventName:A,args:I}=cu({abi:v??[],data:$.data,topics:$.topics,strict:p}),T=en($,{args:I,eventName:A});c([T])}catch(A){let I,T;if(A instanceof Ui||A instanceof Ho){if(d)return;I=A.abiItem.name,T=(k=A.abiItem.inputs)==null?void 0:k.some(j=>!("name"in j&&j.name))}const U=en($,{args:T?[]:{},eventName:I});c([U])}},onError(_){a==null||a(_)}});b=E,y||b()}catch(g){a==null||a(g)}})(),()=>b()})()}function x_(e,{batch:t=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=e.pollingInterval}){return(typeof i<"u"?i:e.transport.type!=="webSocket")?(()=>{const l=Ce(["watchPendingTransactions",e.uid,t,s]);return Sn(l,{onTransactions:r,onError:n},u=>{let d;const h=Is(async()=>{var p;try{if(!d)try{d=await z(e,am,"createPendingTransactionFilter")({});return}catch(f){throw h(),f}const m=await z(e,na,"getFilterChanges")({filter:d});if(m.length===0)return;if(t)u.onTransactions(m);else for(const f of m)u.onTransactions([f])}catch(m){(p=u.onError)==null||p.call(u,m)}},{emitOnBegin:!0,interval:s});return async()=>{d&&await z(e,ra,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const p=h.result;r([p])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}function __(e){var d,h,p;const{scheme:t,statement:n,...r}=((d=e.match(E_))==null?void 0:d.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=((h=e.match($_))==null?void 0:h.groups)??{},u=(p=e.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const E_=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,$_=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function A_(e){const{address:t,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=e;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||t&&!tn(r.address,t))return!1}catch{return!1}return!0}async function k_(e,t){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=t,u=__(i);if(!u.address||!A_({address:n,domain:r,message:u,nonce:s,scheme:o,time:c}))return!1;const h=_m(i);return $u(e,{address:u.address,hash:h,signature:a,...l})}function S_(e){return{call:t=>ta(e,t),createBlockFilter:()=>r1(e),createContractEventFilter:t=>Ep(e,t),createEventFilter:t=>om(e,t),createPendingTransactionFilter:()=>am(e),estimateContractGas:t=>cx(e,t),estimateGas:t=>au(e,t),getBalance:t=>i1(e,t),getBlobBaseFee:()=>s1(e),getBlock:t=>An(e,t),getBlockNumber:t=>Os(e,t),getBlockTransactionCount:t=>o1(e,t),getBytecode:t=>a1(e,t),getChainId:()=>Ts(e),getContractEvents:t=>Gp(e,t),getEnsAddress:t=>Lx(e,t),getEnsAvatar:t=>e1(e,t),getEnsName:t=>t1(e,t),getEnsResolver:t=>n1(e,t),getEnsText:t=>sm(e,t),getFeeHistory:t=>l1(e,t),estimateFeesPerGas:t=>Yw(e,t),getFilterChanges:t=>na(e,t),getFilterLogs:t=>u1(e,t),getGasPrice:()=>ru(e),getLogs:t=>uu(e,t),getProof:t=>O1(e,t),estimateMaxPriorityFeePerGas:t=>Zw(e,t),getStorageAt:t=>B1(e,t),getTransaction:t=>vu(e,t),getTransactionConfirmations:t=>R1(e,t),getTransactionCount:t=>Np(e,t),getTransactionReceipt:t=>Nc(e,t),multicall:t=>M1(e,t),prepareTransactionRequest:t=>Qo(e,t),readContract:t=>kn(e,t),sendRawTransaction:t=>hu(e,t),simulateContract:t=>vx(e,t),verifyMessage:t=>b_(e,t),verifySiweMessage:t=>k_(e,t),verifyTypedData:t=>g_(e,t),uninstallFilter:t=>ra(e,t),waitForTransactionReceipt:t=>y_(e,t),watchBlocks:t=>v_(e,t),watchBlockNumber:t=>jm(e,t),watchContractEvent:t=>kx(e,t),watchEvent:t=>w_(e,t),watchPendingTransactions:t=>x_(e,t)}}function Dm(e){const{key:t="public",name:n="Public Client"}=e;return Xp({...e,key:t,name:n,type:"publicClient"}).extend(S_)}function P_(e,t){const{abi:n,args:r,bytecode:i,...s}=t,o=bm({abi:n,args:r,bytecode:i});return fu(e,{...s,data:o})}async function C_(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>Go(r))}async function T_(e){return await e.request({method:"wallet_getPermissions"})}async function I_(e){return(await e.request({method:"eth_requestAccounts"},{retryCount:0})).map(n=>pn(n))}async function O_(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function B_(e,{account:t=e.account,message:n}){if(!t)throw new ia({docsPath:"/docs/actions/wallet/signMessage"});const r=rt(t);if(r.type==="local")return r.signMessage({message:n});const i=typeof n=="string"?qo(n):n.raw instanceof Uint8Array?M(n.raw):n.raw;return e.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function R_(e,t){var l,u,d,h;const{account:n=e.account,chain:r=e.chain,...i}=t;if(!n)throw new ia({docsPath:"/docs/actions/wallet/signTransaction"});const s=rt(n);Cs({account:s,...t});const o=await z(e,Ts,"getChainId")({});r!==null&&Jp({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=e.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||Ps;return s.type==="local"?s.signTransaction({...i,chainId:o},{serializer:(h=(d=e.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(i),chainId:H(o),from:s.address}]},{retryCount:0})}async function M_(e,t){const{account:n=e.account,domain:r,message:i,primaryType:s}=t;if(!n)throw new ia({docsPath:"/docs/actions/wallet/signTypedData"});const o=rt(n),a={EIP712Domain:mm({domain:r}),...t.types};if(pm({domain:r,message:i,primaryType:s,types:a}),o.type==="local")return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=Ce({domain:r??{},message:i,primaryType:s,types:a},(l,u)=>vt(u)?u.toLowerCase():u);return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function N_(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:H(t)}]},{retryCount:0})}async function F_(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function j_(e){return{addChain:t=>Cx(e,t),deployContract:t=>P_(e,t),getAddresses:()=>C_(e),getChainId:()=>Ts(e),getPermissions:()=>T_(e),prepareTransactionRequest:t=>Qo(e,t),requestAddresses:()=>I_(e),requestPermissions:t=>O_(e,t),sendRawTransaction:t=>hu(e,t),sendTransaction:t=>fu(e,t),signMessage:t=>B_(e,t),signTransaction:t=>R_(e,t),signTypedData:t=>M_(e,t),switchChain:t=>N_(e,t),watchAsset:t=>F_(e,t),writeContract:t=>Px(e,t)}}function D_(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Xp({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(j_)}function z_(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:i,retryDelay:s}=t;return({chain:o,retryCount:a,timeout:c})=>{var h;const l=t.retryCount??a,u=c??t.timeout??1e4,d=e||((h=o==null?void 0:o.rpcUrls.default.webSocket)==null?void 0:h[0]);if(!d)throw new em;return sa({key:n,name:r,async request({method:p,params:m}){const f={method:p,params:m},y=await ao(d,{reconnect:i}),{error:b,result:g}=await y.requestAsync({body:f,timeout:u});if(b)throw new Xl({body:f,error:b,url:d});return g},retryCount:l,retryDelay:s,timeout:u,type:"webSocket"},{getSocket(){return f1(d)},getRpcClient(){return ao(d)},async subscribe({params:p,onData:m,onError:f}){const y=await ao(d),{result:b}=await new Promise((g,v)=>y.request({body:{method:"eth_subscribe",params:p},onResponse(w){if(w.error){v(w.error),f==null||f(w.error);return}if(typeof w.id=="number"){g(w);return}w.method==="eth_subscription"&&m(w.params)}}));return{subscriptionId:b,async unsubscribe(){return new Promise(g=>y.request({body:{method:"eth_unsubscribe",params:[b]},onResponse:g}))}}}})}}const kt="0x0000000000000000000000000000000000000000",L_=2n**16n-1n,V_={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},U_={block:Rp({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const i=Xo(r);return i.typeHex==="0x7e"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?oe(r.mint):void 0,i.sourceHash=r.sourceHash,i.type="deposit"),i}),stateRoot:e.stateRoot}}}),transaction:Bp({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?oe(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:xm({format(e){return{l1GasPrice:e.l1GasPrice?oe(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?oe(e.l1GasUsed):null,l1Fee:e.l1Fee?oe(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function H_(e,t){return G_(e)?W_(e):$m(e,t)}const q_={transaction:H_};function W_(e){K_(e);const{sourceHash:t,data:n,from:r,gas:i,isSystemTx:s,mint:o,to:a,value:c}=e,l=[t,r,a??"0x",o?M(o):"0x",c?M(c):"0x",i?M(i):"0x",s?"0x1":"0x",n??"0x"];return Mt(["0x7e",mr(l)])}function G_(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function K_(e){const{from:t,to:n}=e;if(t&&!me(t))throw new Ee({address:t});if(n&&!me(n))throw new Ee({address:n})}const rh={contracts:V_,formatters:U_,serializers:q_},Z_=_t({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Y_=_t({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),J_=_t({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowScan",url:"https://snowscan.xyz",apiUrl:"https://api.snowscan.xyz/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),X_=_t({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Q_=_t({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),eE=_t({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),tE=_t({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),Au=50000n,ih=L_*32n,zm={block:Rp({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var s;if(typeof r=="string")return r;const i=(s=zm.transaction)==null?void 0:s.format(r);return i.typeHex==="0x71"?i.type="eip712":i.typeHex==="0xff"&&(i.type="priority"),i});return{l1BatchNumber:e.l1BatchNumber?oe(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?oe(e.l1BatchTimestamp):null,transactions:t}}}),transaction:Bp({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?oe(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?oe(e.l1BatchTxIndex):null}}}),transactionReceipt:xm({format(e){return{l1BatchNumber:e.l1BatchNumber?oe(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?oe(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...en(t),l1BatchNumber:t.l1BatchNumber?oe(t.l1BatchNumber):null,transactionLogIndex:Ot(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:oe(t.blockHash),blockHash:t.blockHash,l1BatchNumber:oe(t.l1BatchNumber),transactionIndex:oe(t.transactionIndex),shardId:oe(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:oe(t.logIndex)}))}}}),transactionRequest:qw({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:M(e.gasPerPubdata)}:{gasPerPubdata:M(Au)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(bt(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(bt(t)))}:{},...e.customSignature?{customSignature:Array.from(bt(e.customSignature))}:{}},type:"0x71"}:{}}})};class nE extends S{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidEip712TransactionError"})}}function Lm(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function Vm(e){const{chainId:t,to:n,from:r,paymaster:i,paymasterInput:s}=e;if(!Lm(e))throw new nE;if(!t||t<=0)throw new ea({chainId:t});if(n&&!me(n))throw new Ee({address:n});if(r&&!me(r))throw new Ee({address:r});if(i&&!me(i))throw new Ee({address:i});if(i&&!s)throw new S("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new S("`paymaster` must be provided when `paymasterInput` is defined")}function rE(e,t){return Lm(e)?sE(e):$m(e,t)}const iE={transaction:rE};function sE(e){const{chainId:t,gas:n,nonce:r,to:i,from:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:p,data:m}=e;Vm(e);const f=[r?M(r):"0x",c?M(c):"0x",a?M(a):"0x",n?M(n):"0x",i??"0x",o?M(o):"0x",m??"0x0",M(t),M(""),M(""),M(t),s??"0x",M(p||Au),u??[],l??"0x",d&&h?[d,h]:[]];return Mt(["0x71",mr(f)])}class oE extends S{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthExceedsMaxSizeError"})}}class aE extends S{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthInWordsMustBeOddError"})}}class cE extends S{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytecodeLengthMustBeDivisibleBy32Error"})}}function lE(e){const t=mt(e);if(t.length%32!==0)throw new cE({givenLength:t.length});if(t.length>ih)throw new oE({givenLength:t.length,maxBytecodeSize:ih});const n=jp(t),r=mt(n),i=t.length/32;if(i%2===0)throw new aE({givenLengthInWords:i});const s=mt(i),o=Ct(s,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(o,2),r}const uE=e=>{Vm(e);const t=dE(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function dE(e){const{gas:t,nonce:n,to:r,from:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:l,paymasterInput:u,gasPerPubdata:d,data:h}=e;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:d??Au,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:l?BigInt(l):0n,nonce:n?BigInt(n):0n,value:s??0n,data:h||"0x0",factoryDeps:(c==null?void 0:c.map(p=>M(lE(p))))??[],paymasterInput:u||"0x"}}const hE={formatters:zm,serializers:iE,custom:{getEip712Domain:uE}},fE=_t({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Ws=1,pE=_t({...rh,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...rh.contracts,l2OutputOracle:{[Ws]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Ws]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Ws]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Ws}),mE=_t({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),bE=_t({...hE,id:324,name:"zkSync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}});var sh;(function(e){e.Eip1167="Eip1167",e.Eip1967Direct="Eip1967Direct",e.Eip1967Beacon="Eip1967Beacon",e.Eip1822="Eip1822",e.Eip897="Eip897",e.OpenZeppelin="OpenZeppelin",e.Safe="Safe",e.Comptroller="Comptroller"})(sh||(sh={}));var gE={};const re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:gE,be=Object.keys,Ie=Array.isArray;function Be(e,t){return typeof t!="object"||be(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||re.Promise||(re.Promise=Promise);const cs=Object.getPrototypeOf,yE={}.hasOwnProperty;function Ke(e,t){return yE.call(e,t)}function ri(e,t){typeof t=="function"&&(t=t(cs(e))),(typeof Reflect>"u"?be:Reflect.ownKeys)(t).forEach(n=>{Zt(e,n,t[n])})}const Um=Object.defineProperty;function Zt(e,t,n,r){Um(e,t,Be(n&&Ke(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Dr(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Zt(e.prototype,"constructor",e),{extend:ri.bind(null,e.prototype)}}}}const vE=Object.getOwnPropertyDescriptor;function ku(e,t){let n;return vE(e,t)||(n=cs(e))&&ku(n,t)}const wE=[].slice;function Ao(e,t,n){return wE.call(e,t,n)}function Hm(e,t){return t(e)}function wi(e){if(!e)throw new Error("Assertion Failed")}function qm(e){re.setImmediate?setImmediate(e):setTimeout(e,0)}function Wm(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function Yt(e,t){if(typeof t=="string"&&Ke(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=Yt(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(o!==-1){var a=e[t.substr(0,o)];return a==null?void 0:Yt(a,t.substr(o+1))}}function gt(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){wi(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)gt(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),a=t.substr(s+1);if(a==="")n===void 0?Ie(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var c=e[o];c&&Ke(e,o)||(c=e[o]={}),gt(c,a,n)}}else n===void 0?Ie(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Gm(e){var t={};for(var n in e)Ke(e,n)&&(t[n]=e[n]);return t}const xE=[].concat;function Km(e){return xE.apply([],e)}const Zm="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Km([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>re[e]),_E=Zm.map(e=>re[e]);Wm(Zm,e=>[e,!0]);let dn=null;function Rs(e){dn=typeof WeakMap<"u"&&new WeakMap;const t=Lc(e);return dn=null,t}function Lc(e){if(!e||typeof e!="object")return e;let t=dn&&dn.get(e);if(t)return t;if(Ie(e)){t=[],dn&&dn.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Lc(e[n]))}else if(_E.indexOf(e.constructor)>=0)t=e;else{const s=cs(e);for(var i in t=s===Object.prototype?{}:Object.create(s),dn&&dn.set(e,t),e)Ke(e,i)&&(t[i]=Lc(e[i]))}return t}const{toString:EE}={};function Vc(e){return EE.call(e).slice(8,-1)}const Uc=typeof Symbol<"u"?Symbol.iterator:"@@iterator",$E=typeof Uc=="symbol"?function(e){var t;return e!=null&&(t=e[Uc])&&t.apply(e)}:function(){return null},Rr={};function Ht(e){var t,n,r,i;if(arguments.length===1){if(Ie(e))return e.slice();if(this===Rr&&typeof e=="string")return[e];if(i=$E(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Su=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ym(e,t){Nt=e,Jm=t}var Jm=()=>!0;const AE=!new Error("").stack;function Er(){if(AE)try{throw Er.arguments,new Error}catch(e){return e}return new Error}function Hc(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(Jm).map(r=>`
`+r).join("")):""}var Xm=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Pu=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Xm),kE={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function zr(e,t){this._e=Er(),this.name=e,this.message=t}function Qm(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function ko(e,t,n,r){this._e=Er(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Qm(e,t)}function Si(e,t){this._e=Er(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=Qm(e,t)}Dr(zr).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Hc(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Dr(ko).from(zr),Dr(Si).from(zr);var Cu=Pu.reduce((e,t)=>(e[t]=t+"Error",e),{});const SE=zr;var D=Pu.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=Er(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=kE[t]||n,this.inner=null)}return Dr(r).from(SE),e[t]=r,e},{});D.Syntax=SyntaxError,D.Type=TypeError,D.Range=RangeError;var oh=Xm.reduce((e,t)=>(e[t+"Error"]=D[t],e),{}),co=Pu.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=D[t]),e),{});function te(){}function ls(e){return e}function PE(e,t){return e==null||e===ls?t:function(n){return t(e(n))}}function br(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function CE(e,t){return e===te?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?br(r,this.onsuccess):r),i&&(this.onerror=this.onerror?br(i,this.onerror):i),s!==void 0?s:n}}function TE(e,t){return e===te?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?br(n,this.onsuccess):n),r&&(this.onerror=this.onerror?br(r,this.onerror):r)}}function IE(e,t){return e===te?t:function(n){var r=e.apply(this,arguments);Be(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?br(i,this.onsuccess):i),s&&(this.onerror=this.onerror?br(s,this.onerror):s),r===void 0?o===void 0?void 0:o:Be(r,o)}}function OE(e,t){return e===te?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Tu(e,t){return e===te?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}co.ModifyError=ko,co.DexieError=zr,co.BulkError=Si;var us={};const eb=100,[qc,So,Wc]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,cs(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,cs(t),e]})(),tb=So&&So.then,lo=qc&&qc.constructor,Iu=!!Wc;var Gc=!1,BE=Wc?()=>{Wc.then(Gs)}:re.setImmediate?setImmediate.bind(null,Gs):re.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Gs(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Gs,0)},Pi=function(e,t){xi.push([e,t]),Po&&(BE(),Po=!1)},Kc=!0,Po=!0,Qn=[],uo=[],Zc=null,Yc=ls,Lr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:lh,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{lh(e[0],e[1])}catch{}})}},N=Lr,xi=[],er=0,ho=[];function B(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=te,this._lib=!1;var t=this._PSD=N;if(Nt&&(this._stackHolder=Er(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==us)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Xc(this,this._value))}this._state=null,this._value=null,++t.ref,rb(this,e)}const Jc={get:function(){var e=N,t=Co;function n(r,i){var s=!e.global&&(e!==N||t!==Co);const o=s&&!nn();var a=new B((c,l)=>{Ou(this,new nb(To(r,e,s,o),To(i,e,s,o),c,l,e))});return Nt&&ob(a,this),a}return n.prototype=us,n},set:function(e){Zt(this,"then",e&&e.prototype===us?Jc:{get:function(){return e},set:Jc.set})}};function nb(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function rb(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Ms();n&&typeof n.then=="function"?rb(e,(i,s)=>{n instanceof B?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,ib(e)),r&&Ns()}},Xc.bind(null,e))}catch(n){Xc(e,n)}}function Xc(e,t){if(uo.push(t),e._state===null){var n=e._lib&&Ms();t=Yc(t),e._state=!1,e._value=t,Nt&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch{}}(()=>{var r=ku(t,"stack");t._promise=e,Zt(t,"stack",{get:()=>Gc?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){Qn.some(i=>i._value===r._value)||Qn.push(r)}(e),ib(e),n&&Ns()}}function ib(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ou(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),er===0&&(++er,Pi(()=>{--er==0&&Bu()},[]))}function Ou(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++er,Pi(RE,[n,e,t])}else e._listeners.push(t)}function RE(e,t,n){try{Zc=t;var r,i=t._value;t._state?r=e(i):(uo.length&&(uo=[]),r=e(i),uo.indexOf(i)===-1&&function(s){for(var o=Qn.length;o;)if(Qn[--o]._value===s._value)return void Qn.splice(o,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{Zc=null,--er==0&&Bu(),--n.psd.ref||n.psd.finalize()}}function sb(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,o=e._value;o!=null?(i=o.name||"Error",s=o.message||o,r=Hc(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+r)}return Nt&&((r=Hc(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&sb(e._prev,t,n)),t}function ob(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Gs(){Ms()&&Ns()}function Ms(){var e=Kc;return Kc=!1,Po=!1,e}function Ns(){var e,t,n;do for(;xi.length>0;)for(e=xi,xi=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(xi.length>0);Kc=!0,Po=!0}function Bu(){var e=Qn;Qn=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=ho.slice(0),n=t.length;n;)t[--n]()}function Ks(e){return new B(us,!1,e)}function se(e,t){var n=N;return function(){var r=Ms(),i=N;try{return Cn(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{Cn(i,!1),r&&Ns()}}}ri(B.prototype,{then:Jc,_then:function(e,t){Ou(this,new nb(null,null,e,t,N))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Ks(r)):this.then(null,r=>r&&r.name===t?n(r):Ks(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Ks(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Gc=!0;var e=sb(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Gc=!1}}},timeout:function(e,t){return e<1/0?new B((n,r)=>{var i=setTimeout(()=>r(new D.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Zt(B.prototype,Symbol.toStringTag,"Dexie.Promise"),Lr.env=ab(),ri(B,{all:function(){var e=Ht.apply(null,arguments).map(Zs);return new B(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>B.resolve(i).then(o=>{e[s]=o,--r||t(e)},n))})},resolve:e=>{if(e instanceof B)return e;if(e&&typeof e.then=="function")return new B((n,r)=>{e.then(n,r)});var t=new B(us,!0,e);return ob(t,Zc),t},reject:Ks,race:function(){var e=Ht.apply(null,arguments).map(Zs);return new B((t,n)=>{e.map(r=>B.resolve(r).then(t,n))})},PSD:{get:()=>N,set:e=>N=e},totalEchoes:{get:()=>Co},newPSD:Pn,usePSD:ui,scheduler:{get:()=>Pi,set:e=>{Pi=e}},rejectionMapper:{get:()=>Yc,set:e=>{Yc=e}},follow:(e,t)=>new B((n,r)=>Pn((i,s)=>{var o=N;o.unhandleds=[],o.onunhandled=s,o.finalize=br(function(){(function(a){function c(){a(),ho.splice(ho.indexOf(c),1)}ho.push(c),++er,Pi(()=>{--er==0&&Bu()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),e()},t,n,r))}),lo&&(lo.allSettled&&Zt(B,"allSettled",function(){const e=Ht.apply(null,arguments).map(Zs);return new B(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>B.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||t(r)))})}),lo.any&&typeof AggregateError<"u"&&Zt(B,"any",function(){const e=Ht.apply(null,arguments).map(Zs);return new B((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,o)=>B.resolve(s).then(a=>t(a),a=>{i[o]=a,--r||n(new AggregateError(i))}))})}));const Te={awaits:0,echoes:0,id:0};var ME=0,fo=[],Ua=0,Co=0,NE=0;function Pn(e,t,n,r){var i=N,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++NE;var o=Lr.env;s.env=Iu?{Promise:B,PromiseProp:{value:B,configurable:!0,writable:!0},all:B.all,race:B.race,allSettled:B.allSettled,any:B.any,resolve:B.resolve,reject:B.reject,nthen:ah(o.nthen,s),gthen:ah(o.gthen,s)}:{},t&&Be(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=ui(s,e,n,r);return s.ref===0&&s.finalize(),a}function li(){return Te.id||(Te.id=++ME),++Te.awaits,Te.echoes+=eb,Te.id}function nn(){return!!Te.awaits&&(--Te.awaits==0&&(Te.id=0),Te.echoes=Te.awaits*eb,!0)}function Zs(e){return Te.echoes&&e&&e.constructor===lo?(li(),e.then(t=>(nn(),t),t=>(nn(),ve(t)))):e}function FE(e){++Co,Te.echoes&&--Te.echoes!=0||(Te.echoes=Te.id=0),fo.push(N),Cn(e,!0)}function jE(){var e=fo[fo.length-1];fo.pop(),Cn(e,!1)}function Cn(e,t){var n=N;if((t?!Te.echoes||Ua++&&e===N:!Ua||--Ua&&e===N)||cb(t?FE.bind(null,e):jE),e!==N&&(N=e,n===Lr&&(Lr.env=ab()),Iu)){var r=Lr.env.Promise,i=e.env;So.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(re,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function ab(){var e=re.Promise;return Iu?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(re,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:So.then,gthen:e.prototype.then}:{}}function ui(e,t,n,r,i){var s=N;try{return Cn(e,!0),t(n,r,i)}finally{Cn(s,!1)}}function cb(e){tb.call(qc,e)}function To(e,t,n,r){return typeof e!="function"?e:function(){var i=N;n&&li(),Cn(t,!0);try{return e.apply(this,arguments)}finally{Cn(i,!1),r&&cb(nn)}}}function ah(e,t){return function(n,r){return e.call(this,To(n,t),To(r,t))}}(""+tb).indexOf("[native code]")===-1&&(li=nn=te);const ch="unhandledrejection";function lh(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(re.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ch,!0,!0),Be(r,i)):re.CustomEvent&&Be(r=new CustomEvent(ch,{detail:i}),i),r&&re.dispatchEvent&&(dispatchEvent(r),!re.PromiseRejectionEvent&&re.onunhandledrejection))try{re.onunhandledrejection(r)}catch{}Nt&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var ve=B.reject;function Qc(e,t,n,r){if(e.idbdb&&(e._state.openComplete||N.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Cu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Qc(e,t,n,r))):ve(s)}return i._promise(t,(s,o)=>Pn(()=>(N.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return ve(new D.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ve(new D.DatabaseClosed);e.open().catch(te)}return e._state.dbReadyPromise.then(()=>Qc(e,t,n,r))}const uh="3.2.7",Gn="",el=-1/0,zt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",lb="String expected.",Ci=[],la=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),DE=la,zE=la,ub=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),ua="__dbnames",Ha="readonly",qa="readwrite";function gr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const db={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ys(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Rs(t))[e],t)}class LE{_trans(t,n,r){const i=this._tx||N.trans,s=this.name;function o(c,l,u){if(!u.schema[s])throw new D.NotFound("Table "+s+" not part of transaction");return n(u.idbtrans,u)}const a=Ms();try{return i&&i.db===this.db?i===N.trans?i._promise(t,o,r):Pn(()=>i._promise(t,o,r),{trans:i,transless:N.transless||N}):Qc(this.db,t,[this.name],o)}finally{a&&Ns()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Ie(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=be(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(l=>{if(l.compound&&n.every(u=>l.keyPath.indexOf(u)>=0)){for(let u=0;u<n.length;++u)if(n.indexOf(l.keyPath[u])===-1)return!1;return!0}return!1}).sort((l,u)=>l.keyPath.length-u.keyPath.length)[0];if(r&&this.db._maxKey!==Gn){const l=r.keyPath.slice(0,n.length);return this.where(l).equals(l.map(u=>t[u]))}!r&&Nt&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(l,u){try{return s.cmp(l,u)===0}catch{return!1}}const[a,c]=n.reduce(([l,u],d)=>{const h=i[d],p=t[d];return[l||h,l||!h?gr(u,h&&h.multi?m=>{const f=Yt(m,d);return Ie(f)&&f.some(y=>o(p,y))}:m=>o(p,Yt(m,d))):u]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Ie(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(Ke(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){Be(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Ys(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?B.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{gt(t,i,o)}catch{}return o})}update(t,n){if(typeof t!="object"||Ie(t))return this.where(":id").equals(t).modify(n);{const r=Yt(t,this.schema.primKey.keyPath);if(r===void 0)return ve(new D.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?be(n).forEach(i=>{gt(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Ys(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?B.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{gt(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?B.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:db})).then(t=>t.numFailures?B.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&i)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let u=c&&a?t.map(Ys(c)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:u,wantResults:s}).then(({numFailures:d,results:h,lastResult:p,failures:m})=>{if(d===0)return s?h:p;throw new Si(`${this.name}.bulkAdd(): ${d} of ${l} operations failed`,m)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&i)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let u=c&&a?t.map(Ys(c)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:u,wantResults:s}).then(({numFailures:d,results:h,lastResult:p,failures:m})=>{if(d===0)return s?h:p;throw new Si(`${this.name}.bulkPut(): ${d} of ${l} operations failed`,m)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new Si(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Ti(e){var t={},n=function(o,a){if(a){for(var c=arguments.length,l=new Array(c-1);--c;)l[c-1]=arguments[c];return t[o].subscribe.apply(null,l),e}if(typeof o=="string")return t[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,a,c){if(typeof o!="object"){var l;a||(a=OE),c||(c=te);var u={subscribers:[],fire:c,subscribe:function(d){u.subscribers.indexOf(d)===-1&&(u.subscribers.push(d),u.fire=a(u.fire,d))},unsubscribe:function(d){u.subscribers=u.subscribers.filter(function(h){return h!==d}),u.fire=u.subscribers.reduce(a,c)}};return t[o]=n[o]=u,u}be(l=o).forEach(function(d){var h=l[d];if(Ie(h))s(d,l[d][0],l[d][1]);else{if(h!=="asap")throw new D.InvalidArgument("Invalid event config");var p=s(d,ls,function(){for(var m=arguments.length,f=new Array(m);m--;)f[m]=arguments[m];p.subscribers.forEach(function(y){qm(function(){y.apply(null,f)})})})}})}}function yi(e,t){return Dr(t).from({prototype:e}),t}function Tr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Wa(e,t){e.filter=gr(e.filter,t)}function Ga(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>gr(r(),t()):t,e.justLimit=n&&!r}function po(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new D.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function dh(e,t,n){const r=po(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Js(e,t,n,r){const i=e.replayFilter?gr(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(a,c,l)=>{if(!i||i(c,l,h=>c.stop(h),h=>c.fail(h))){var u=c.primaryKey,d=""+u;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(u)),Ke(s,d)||(s[d]=!0,t(a,c,l))}};return Promise.all([e.or._iterate(o,n),hh(dh(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return hh(dh(e,r,n),gr(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function hh(e,t,n,r){var i=se(r?(s,o,a)=>n(r(s),o,a):n);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,a=>o=a,a=>{s.stop(a),o=te},a=>{s.fail(a),o=te})||i(s.value,s,a=>o=a),o()})})}function Oe(e,t){try{const n=fh(e),r=fh(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const o=i.length,a=s.length,c=o<a?o:a;for(let l=0;l<c;++l)if(i[l]!==s[l])return i[l]<s[l]?-1:1;return o===a?0:o<a?-1:1}(ph(e),ph(t));case"Array":return function(i,s){const o=i.length,a=s.length,c=o<a?o:a;for(let l=0;l<c;++l){const u=Oe(i[l],s[l]);if(u!==0)return u}return o===a?0:o<a?-1:1}(e,t)}}catch{}return NaN}function fh(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=Vc(e);return n==="ArrayBuffer"?"binary":n}function ph(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class VE{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,ve.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,ve.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=gr(n.algorithm,t)}_iterate(t,n){return Js(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Be(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Js(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Tr(r,!0))return i.count({trans:n,query:{index:po(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return Js(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function o(l,u){return u?o(l[r[u]],u-1):l[i]}var a=this._ctx.dir==="next"?1:-1;function c(l,u){var d=o(l,s),h=o(u,s);return d<h?-a:d>h?a:0}return this.toArray(function(l){return l.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Tr(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=po(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return Js(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Tr(n)?Ga(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):Ga(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ga(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return Wa(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Wa(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=gr(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Tr(n,!0)&&n.limit>0)return this._read(i=>{var s=po(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Wa(this._ctx,function(i){var s=i.primaryKey.toString(),o=Ke(r,s);return r[s]=!0,!o}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=be(t),o=s.length;i=function(f){for(var y=!1,b=0;b<o;++b){var g=s[b],v=t[g];Yt(f,g)!==v&&(gt(f,g,v),y=!0)}return y}}const a=n.table.core,{outbound:c,extractKey:l}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,d=[];let h=0;const p=[],m=(f,y)=>{const{failures:b,numFailures:g}=y;h+=f-g;for(let v of be(b))d.push(b[v])};return this.clone().primaryKeys().then(f=>{const y=b=>{const g=Math.min(u,f.length-b);return a.getMany({trans:r,keys:f.slice(b,b+g),cache:"immutable"}).then(v=>{const w=[],E=[],_=c?[]:null,$=[];for(let A=0;A<g;++A){const I=v[A],T={value:Rs(I),primKey:f[b+A]};i.call(T,T.value,T)!==!1&&(T.value==null?$.push(f[b+A]):c||Oe(l(I),l(T.value))===0?(E.push(T.value),c&&_.push(f[b+A])):($.push(f[b+A]),w.push(T.value)))}const k=Tr(n)&&n.limit===1/0&&(typeof t!="function"||t===Ka)&&{index:n.index,range:n.range};return Promise.resolve(w.length>0&&a.mutate({trans:r,type:"add",values:w}).then(A=>{for(let I in A.failures)$.splice(parseInt(I),1);m(w.length,A)})).then(()=>(E.length>0||k&&typeof t=="object")&&a.mutate({trans:r,type:"put",keys:_,values:E,criteria:k,changeSpec:typeof t!="function"&&t}).then(A=>m(E.length,A))).then(()=>($.length>0||k&&t===Ka)&&a.mutate({trans:r,type:"delete",keys:$,criteria:k}).then(A=>m($.length,A))).then(()=>f.length>b+g&&y(b+u))})};return y(0).then(()=>{if(d.length>0)throw new ko("Error modifying one or more objects",d,h,p);return f.length})})})}delete(){var t=this._ctx,n=t.range;return Tr(t)&&(t.isPrimKey&&!zE||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:a,lastResult:c,results:l,numFailures:u})=>{if(u)throw new ko("Could not delete some values",Object.keys(a).map(d=>a[d]),o-u);return o-u}))}):this.modify(Ka)}}const Ka=(e,t)=>t.value=null;function UE(e,t){return e<t?-1:e===t?0:1}function HE(e,t){return e>t?-1:e===t?0:1}function We(e,t,n){var r=e instanceof fb?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ir(e){return new e.Collection(e,()=>hb("")).limit(0)}function qE(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),a=-1,c=0;c<o;++c){var l=t[c];if(l!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[c],l)<0&&(a=c)}return o<r.length&&s==="next"?e+n.substr(e.length):o<e.length&&s==="prev"?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Xs(e,t,n,r){var i,s,o,a,c,l,u,d=n.length;if(!n.every(f=>typeof f=="string"))return We(e,lb);function h(f){i=function(b){return b==="next"?g=>g.toUpperCase():g=>g.toLowerCase()}(f),s=function(b){return b==="next"?g=>g.toLowerCase():g=>g.toUpperCase()}(f),o=f==="next"?UE:HE;var y=n.map(function(b){return{lower:s(b),upper:i(b)}}).sort(function(b,g){return o(b.lower,g.lower)});a=y.map(function(b){return b.upper}),c=y.map(function(b){return b.lower}),l=f,u=f==="next"?"":r}h("next");var p=new e.Collection(e,()=>un(a[0],c[d-1]+r));p._ondirectionchange=function(f){h(f)};var m=0;return p._addAlgorithm(function(f,y,b){var g=f.key;if(typeof g!="string")return!1;var v=s(g);if(t(v,c,m))return!0;for(var w=null,E=m;E<d;++E){var _=qE(g,v,a[E],c[E],o,l);_===null&&w===null?m=E+1:(w===null||o(w,_)>0)&&(w=_)}return y(w!==null?function(){f.continue(w+u)}:b),!1}),p}function un(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function hb(e){return{type:1,lower:e,upper:e}}class fb{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?Ir(this):new this.Collection(this,()=>un(t,n,!r,!i))}catch{return We(this,zt)}}equals(t){return t==null?We(this,zt):new this.Collection(this,()=>hb(t))}above(t){return t==null?We(this,zt):new this.Collection(this,()=>un(t,void 0,!0))}aboveOrEqual(t){return t==null?We(this,zt):new this.Collection(this,()=>un(t,void 0,!1))}below(t){return t==null?We(this,zt):new this.Collection(this,()=>un(void 0,t,!1,!0))}belowOrEqual(t){return t==null?We(this,zt):new this.Collection(this,()=>un(void 0,t))}startsWith(t){return typeof t!="string"?We(this,lb):this.between(t,t+Gn,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Xs(this,(n,r)=>n.indexOf(r[0])===0,[t],Gn)}equalsIgnoreCase(t){return Xs(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Ht.apply(Rr,arguments);return t.length===0?Ir(this):Xs(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Ht.apply(Rr,arguments);return t.length===0?Ir(this):Xs(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,Gn)}anyOf(){const t=Ht.apply(Rr,arguments);let n=this._cmp;try{t.sort(n)}catch{return We(this,zt)}if(t.length===0)return Ir(this);const r=new this.Collection(this,()=>un(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,o,a)=>{const c=s.key;for(;n(c,t[i])>0;)if(++i,i===t.length)return o(a),!1;return n(c,t[i])===0||(o(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[el,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Ht.apply(Rr,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return We(this,zt)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[el,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(t.length===0)return Ir(this);if(!t.every(g=>g[0]!==void 0&&g[1]!==void 0&&i(g[0],g[1])<=0))return We(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);const c=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;let u,d=i;function h(g,v){return d(g[0],v[0])}try{u=t.reduce(function(g,v){let w=0,E=g.length;for(;w<E;++w){const _=g[w];if(r(v[0],_[1])<0&&r(v[1],_[0])>0){_[0]=o(_[0],v[0]),_[1]=a(_[1],v[1]);break}}return w===E&&g.push(v),g},[]),u.sort(h)}catch{return We(this,zt)}let p=0;const m=l?g=>i(g,u[p][1])>0:g=>i(g,u[p][1])>=0,f=c?g=>s(g,u[p][0])>0:g=>s(g,u[p][0])>=0;let y=m;const b=new this.Collection(this,()=>un(u[0][0],u[u.length-1][1],!c,!l));return b._ondirectionchange=g=>{g==="next"?(y=m,d=i):(y=f,d=s),u.sort(h)},b._addAlgorithm((g,v,w)=>{for(var E=g.key;y(E);)if(++p,p===u.length)return v(w),!1;return!!function(_){return!m(_)&&!f(_)}(E)||(this._cmp(E,u[p][1])===0||this._cmp(E,u[p][0])===0||v(()=>{d===i?g.continue(u[p][0]):g.continue(u[p][1])}),!1)}),b}startsWithAnyOf(){const t=Ht.apply(Rr,arguments);return t.every(n=>typeof n=="string")?t.length===0?Ir(this):this.inAnyRange(t.map(n=>[n,n+Gn])):We(this,"startsWithAnyOf() only works with strings")}}function At(e){return se(function(t){return ds(t),e(t.target.error),!1})}function ds(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const hs="storagemutated",hn="x-storagemutated-1",Tn=Ti(null,hs);class WE{_lock(){return wi(!N.global),++this._reculock,this._reculock!==1||N.global||(N.lockOwnerFor=this),this}_unlock(){if(wi(!N.global),--this._reculock==0)for(N.global||(N.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ui(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&N.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(wi(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new D.DatabaseClosed(r);case"MissingAPIError":throw new D.MissingAPI(r.message,r);default:throw new D.OpenFailed(r)}if(!this.active)throw new D.TransactionInactive;return wi(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=se(i=>{ds(i),this._reject(t.error)}),t.onabort=se(i=>{ds(i),this.active&&this._reject(new D.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=se(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Tn.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return ve(new D.ReadOnly("Transaction is readonly"));if(!this.active)return ve(new D.TransactionInactive);if(this._locked())return new B((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,o)},N])});if(r)return Pn(()=>{var s=new B((o,a)=>{this._lock();const c=n(o,a,this);c&&c.then&&c.then(o,a)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new B((s,o)=>{var a=n(s,o,this);a&&a.then&&a.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=B.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new B((o,a)=>{r.then(c=>n._waitingQueue.push(se(o.bind(null,c))),c=>n._waitingQueue.push(se(a.bind(null,c)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Ke(n,t))return n[t];const r=this.schema[t];if(!r)throw new D.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function tl(e,t,n,r,i,s,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+pb(t)}}function pb(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function mb(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Wm(n,r=>[r.name,r])}}let fs=e=>{try{return e.only([[]]),fs=()=>[[]],[[]]}catch{return fs=()=>Gn,Gn}};function nl(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>Yt(r,t)}(e):t=>Yt(t,e)}function mh(e){return[].slice.call(e)}let GE=0;function Ii(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function KE(e,t,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:l,upper:u,lowerOpen:d,upperOpen:h}=c;return l===void 0?u===void 0?null:t.upperBound(u,!!h):u===void 0?t.lowerBound(l,!!d):t.bound(l,u,!!d,!!h)}const{schema:i,hasGetAll:s}=function(c,l){const u=mh(c.objectStoreNames);return{schema:{name:c.name,tables:u.map(d=>l.objectStore(d)).map(d=>{const{keyPath:h,autoIncrement:p}=d,m=Ie(h),f=h==null,y={},b={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:f,compound:m,keyPath:h,autoIncrement:p,unique:!0,extractKey:nl(h)},indexes:mh(d.indexNames).map(g=>d.index(g)).map(g=>{const{name:v,unique:w,multiEntry:E,keyPath:_}=g,$={name:v,compound:Ie(_),keyPath:_,unique:w,multiEntry:E,extractKey:nl(_)};return y[Ii(_)]=$,$}),getIndexByKeyPath:g=>y[Ii(g)]};return y[":id"]=b.primaryKey,h!=null&&(y[Ii(h)]=b.primaryKey),b})},hasGetAll:u.length>0&&"getAll"in l.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=i.tables.map(c=>function(l){const u=l.name;return{name:u,schema:l,mutate:function({trans:d,type:h,keys:p,values:m,range:f}){return new Promise((y,b)=>{y=se(y);const g=d.objectStore(u),v=g.keyPath==null,w=h==="put"||h==="add";if(!w&&h!=="delete"&&h!=="deleteRange")throw new Error("Invalid operation type: "+h);const{length:E}=p||m||{length:1};if(p&&m&&p.length!==m.length)throw new Error("Given keys array must have same length as given values array.");if(E===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});let _;const $=[],k=[];let A=0;const I=U=>{++A,ds(U)};if(h==="deleteRange"){if(f.type===4)return y({numFailures:A,failures:k,results:[],lastResult:void 0});f.type===3?$.push(_=g.clear()):$.push(_=g.delete(r(f)))}else{const[U,j]=w?v?[m,p]:[m,null]:[p,null];if(w)for(let W=0;W<E;++W)$.push(_=j&&j[W]!==void 0?g[h](U[W],j[W]):g[h](U[W])),_.onerror=I;else for(let W=0;W<E;++W)$.push(_=g[h](U[W])),_.onerror=I}const T=U=>{const j=U.target.result;$.forEach((W,C)=>W.error!=null&&(k[C]=W.error)),y({numFailures:A,failures:k,results:h==="delete"?p:$.map(W=>W.result),lastResult:j})};_.onerror=U=>{I(U),T(U)},_.onsuccess=T})},getMany:({trans:d,keys:h})=>new Promise((p,m)=>{p=se(p);const f=d.objectStore(u),y=h.length,b=new Array(y);let g,v=0,w=0;const E=$=>{const k=$.target;b[k._pos]=k.result,++w===v&&p(b)},_=At(m);for(let $=0;$<y;++$)h[$]!=null&&(g=f.get(h[$]),g._pos=$,g.onsuccess=E,g.onerror=_,++v);v===0&&p(b)}),get:({trans:d,key:h})=>new Promise((p,m)=>{p=se(p);const f=d.objectStore(u).get(h);f.onsuccess=y=>p(y.target.result),f.onerror=At(m)}),query:function(d){return h=>new Promise((p,m)=>{p=se(p);const{trans:f,values:y,limit:b,query:g}=h,v=b===1/0?void 0:b,{index:w,range:E}=g,_=f.objectStore(u),$=w.isPrimaryKey?_:_.index(w.name),k=r(E);if(b===0)return p({result:[]});if(d){const A=y?$.getAll(k,v):$.getAllKeys(k,v);A.onsuccess=I=>p({result:I.target.result}),A.onerror=At(m)}else{let A=0;const I=y||!("openKeyCursor"in $)?$.openCursor(k):$.openKeyCursor(k),T=[];I.onsuccess=U=>{const j=I.result;return j?(T.push(y?j.value:j.primaryKey),++A===b?p({result:T}):void j.continue()):p({result:T})},I.onerror=At(m)}})}(s),openCursor:function({trans:d,values:h,query:p,reverse:m,unique:f}){return new Promise((y,b)=>{y=se(y);const{index:g,range:v}=p,w=d.objectStore(u),E=g.isPrimaryKey?w:w.index(g.name),_=m?f?"prevunique":"prev":f?"nextunique":"next",$=h||!("openKeyCursor"in E)?E.openCursor(r(v),_):E.openKeyCursor(r(v),_);$.onerror=At(b),$.onsuccess=se(k=>{const A=$.result;if(!A)return void y(null);A.___id=++GE,A.done=!1;const I=A.continue.bind(A);let T=A.continuePrimaryKey;T&&(T=T.bind(A));const U=A.advance.bind(A),j=()=>{throw new Error("Cursor not stopped")};A.trans=d,A.stop=A.continue=A.continuePrimaryKey=A.advance=()=>{throw new Error("Cursor not started")},A.fail=se(b),A.next=function(){let W=1;return this.start(()=>W--?this.continue():this.stop()).then(()=>this)},A.start=W=>{const C=new Promise((F,Z)=>{F=se(F),$.onerror=At(Z),A.fail=Z,A.stop=Y=>{A.stop=A.continue=A.continuePrimaryKey=A.advance=j,F(Y)}}),O=()=>{if($.result)try{W()}catch(F){A.fail(F)}else A.done=!0,A.start=()=>{throw new Error("Cursor behind last entry")},A.stop()};return $.onsuccess=se(F=>{$.onsuccess=O,O()}),A.continue=I,A.continuePrimaryKey=T,A.advance=U,O(),C},y(A)},b)})},count({query:d,trans:h}){const{index:p,range:m}=d;return new Promise((f,y)=>{const b=h.objectStore(u),g=p.isPrimaryKey?b:b.index(p.name),v=r(m),w=v?g.count(v):g.count();w.onsuccess=se(E=>f(E.target.result)),w.onerror=At(y)})}}}(c)),a={};return o.forEach(c=>a[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!a[c])throw new Error(`Table '${c}' not found`);return a[c]},MIN_KEY:-1/0,MAX_KEY:fs(t),schema:i}}function rl({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:o,indexedDB:a},c){return{dbcore:function(u,d){return d.reduce((h,{create:p})=>({...h,...p(h)}),u)}(KE(s,o,c),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(o=>o.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function Io({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(o=>{const a=ku(o,i);(!a||"value"in a&&a.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?Zt(o,i,{get(){return this.table(i)},set(c){Um(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new e.Table(i,s))})})}function il({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function ZE(e,t){return e._cfg.version-t._cfg.version}function YE(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),a=N.transless||N;Pn(()=>{N.trans=s,N.transless=a,t===0?(be(i).forEach(c=>{Za(n,c,i[c].primKey,i[c].indexes)}),rl(e,n),B.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:c},l,u,d){const h=[],p=c._versions;let m=c._dbSchema=ol(c,c.idbdb,d),f=!1;const y=p.filter(g=>g._cfg.version>=l);function b(){return h.length?B.resolve(h.shift()(u.idbtrans)).then(b):B.resolve()}return y.forEach(g=>{h.push(()=>{const v=m,w=g._cfg.dbschema;al(c,v,d),al(c,w,d),m=c._dbSchema=w;const E=bb(v,w);E.add.forEach($=>{Za(d,$[0],$[1].primKey,$[1].indexes)}),E.change.forEach($=>{if($.recreate)throw new D.Upgrade("Not yet support for changing primary key");{const k=d.objectStore($.name);$.add.forEach(A=>sl(k,A)),$.change.forEach(A=>{k.deleteIndex(A.name),sl(k,A)}),$.del.forEach(A=>k.deleteIndex(A))}});const _=g._cfg.contentUpgrade;if(_&&g._cfg.version>l){rl(c,d),u._memoizedTables={},f=!0;let $=Gm(w);E.del.forEach(T=>{$[T]=v[T]}),il(c,[c.Transaction.prototype]),Io(c,[c.Transaction.prototype],be($),$),u.schema=$;const k=Su(_);let A;k&&li();const I=B.follow(()=>{if(A=_(u),A&&k){var T=nn.bind(null,null);A.then(T,T)}});return A&&typeof A.then=="function"?B.resolve(A):I.then(()=>A)}}),h.push(v=>{(!f||!DE)&&function(w,E){[].slice.call(E.db.objectStoreNames).forEach(_=>w[_]==null&&E.db.deleteObjectStore(_))}(g._cfg.dbschema,v),il(c,[c.Transaction.prototype]),Io(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),u.schema=c._dbSchema})}),b().then(()=>{var g,v;v=d,be(g=m).forEach(w=>{v.db.objectStoreNames.contains(w)||Za(v,w,g[w].primKey,g[w].indexes)})})}(e,t,s,n).catch(o)})}function bb(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!la)o.recreate=!0,n.change.push(o);else{const a=i.idxByName,c=s.idxByName;let l;for(l in a)c[l]||o.del.push(l);for(l in c){const u=a[l],d=c[l];u?u.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function Za(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>sl(i,s)),i}function sl(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ol(e,t,n){const r={};return Ao(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const a=tl(pb(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),c=[];for(let u=0;u<s.indexNames.length;++u){const d=s.index(s.indexNames[u]);o=d.keyPath;var l=tl(d.name,o,!!d.unique,!!d.multiEntry,!1,o&&typeof o!="string",!1);c.push(l)}r[i]=mb(i,a,c)}),r}function al({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);e._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const c=o.indexNames[a],l=o.index(c).keyPath,u=typeof l=="string"?l:"["+Ao(l).join("+")+"]";if(t[s]){const d=t[s].idxByName[u];d&&(d.name=c,delete t[s].idxByName[u],t[s].idxByName[c]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&re.WorkerGlobalScope&&re instanceof re.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class JE{_parseStoresSpec(t,n){be(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((o,a)=>{const c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return tl(c,l||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),Ie(l),a===0)}),s=i.shift();if(s.multi)throw new D.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")}),n[r]=mb(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Be(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(o=>{Be(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,il(n,[n._allTables,n,n.Transaction.prototype]),Io(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],be(s),s),n._storeNames=be(s),this}upgrade(t){return this._cfg.contentUpgrade=Tu(this._cfg.contentUpgrade||te,t),this}}function Ru(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new tr(ua,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Mu(e){return e&&typeof e.databases=="function"}function cl(e){return Pn(function(){return N.letThrough=!0,e()})}function XE(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function QE(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ve(t.dbOpenError):e);Nt&&(t.openCanceller._stackHolder=Er()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new D.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,a=!1;const c=()=>new B((l,u)=>{if(i(),!n)throw new D.MissingAPI;const d=e.name,h=t.autoSchema?n.open(d):n.open(d,Math.round(10*e.verno));if(!h)throw new D.MissingAPI;h.onerror=At(u),h.onblocked=se(e._fireOnBlocked),h.onupgradeneeded=se(p=>{if(o=h.transaction,t.autoSchema&&!e._options.allowEmptyDB){h.onerror=ds,o.abort(),h.result.close();const f=n.deleteDatabase(d);f.onsuccess=f.onerror=se(()=>{u(new D.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{o.onerror=At(u);var m=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;a=m<1,e._novip.idbdb=h.result,YE(e,m/10,o,u)}},u),h.onsuccess=se(()=>{o=null;const p=e._novip.idbdb=h.result,m=Ao(p.objectStoreNames);if(m.length>0)try{const y=p.transaction((f=m).length===1?f[0]:f,"readonly");t.autoSchema?function({_novip:b},g,v){b.verno=g.version/10;const w=b._dbSchema=ol(0,g,v);b._storeNames=Ao(g.objectStoreNames,0),Io(b,[b._allTables],be(w),w)}(e,p,y):(al(e,e._dbSchema,y),function(b,g){const v=bb(ol(0,b.idbdb,g),b._dbSchema);return!(v.add.length||v.change.some(w=>w.add.length||w.change.length))}(e,y)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),rl(e,y)}catch{}var f;Ci.push(e),p.onversionchange=se(y=>{t.vcFired=!0,e.on("versionchange").fire(y)}),p.onclose=se(y=>{e.on("close").fire(y)}),a&&function({indexedDB:y,IDBKeyRange:b},g){!Mu(y)&&g!==ua&&Ru(y,b).put({name:g}).catch(te)}(e._deps,d),l()},u)}).catch(l=>l&&l.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):B.reject(l));return B.race([r,(typeof navigator>"u"?B.resolve():XE()).then(c)]).then(()=>(i(),t.onReadyBeingFired=[],B.resolve(cl(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(Tu,te);return t.onReadyBeingFired=[],B.resolve(cl(()=>u(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),ve(l)}).finally(()=>{t.openComplete=!0,s()})}function ll(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return o=>{var a=s(o),c=a.value;return a.done?c:c&&typeof c.then=="function"?c.then(n,r):Ie(c)?Promise.all(c).then(n,r):n(c)}}return i(t)()}function e$(e,t,n){var r=arguments.length;if(r<2)throw new D.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,Km(i),n]}function gb(e,t,n,r,i){return B.resolve().then(()=>{const s=N.transless||N,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===Cu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>gb(e,t,n,null,i))):ve(d)}const c=Su(i);let l;c&&li();const u=B.follow(()=>{if(l=i.call(o,o),l)if(c){var d=nn.bind(null,null);l.then(d,d)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=ll(l))},a);return(l&&typeof l.then=="function"?B.resolve(l).then(d=>o.active?d:ve(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>l)).then(d=>(r&&o._resolve(),o._completion.then(()=>d))).catch(d=>(o._reject(d),ve(d)))})}function Qs(e,t,n){const r=Ie(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const t$={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function o(u,d,h){const p=Ii(u),m=i[p]=i[p]||[],f=u==null?0:typeof u=="string"?1:u.length,y=d>0,b={...h,isVirtual:y,keyTail:d,keyLength:f,extractKey:nl(u),unique:!y&&h.unique};return m.push(b),b.isPrimaryKey||s.push(b),f>1&&o(f===2?u[0]:u.slice(0,f-1),d+1,h),m.sort((g,v)=>g.keyTail-v.keyTail),b}const a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const u of r.indexes)o(u.keyPath,0,u);function c(u){const d=u.query.index;return d.isVirtual?{...u,query:{index:d,range:(h=u.query.range,p=d.keyTail,{type:h.type===1?2:h.type,lower:Qs(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:Qs(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:u;var h,p}return{...n,schema:{...r,primaryKey:a,indexes:s,getIndexByKeyPath:function(u){const d=i[Ii(u)];return d&&d[0]}},count:u=>n.count(c(u)),query:u=>n.query(c(u)),openCursor(u){const{keyTail:d,isVirtual:h,keyLength:p}=u.query.index;return h?n.openCursor(c(u)).then(m=>m&&function(f){return Object.create(f,{continue:{value:function(b){b!=null?f.continue(Qs(b,u.reverse?e.MAX_KEY:e.MIN_KEY,d)):u.unique?f.continue(f.key.slice(0,p).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,d)):f.continue()}},continuePrimaryKey:{value(b,g){f.continuePrimaryKey(Qs(b,e.MAX_KEY,d),g)}},primaryKey:{get:()=>f.primaryKey},key:{get(){const b=f.key;return p===1?b[0]:b.slice(0,p)}},value:{get:()=>f.value}})}(m)):n.openCursor(u)}}}}}};function Nu(e,t,n,r){return n=n||{},r=r||"",be(e).forEach(i=>{if(Ke(t,i)){var s=e[i],o=t[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const a=Vc(s);a!==Vc(o)?n[r+i]=t[i]:a==="Object"?Nu(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i])}else s!==o&&(n[r+i]=t[i])}else n[r+i]=void 0}),be(t).forEach(i=>{Ke(e,i)||(n[r+i]=t[i])}),n}const n$={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=N.trans,{deleting:a,creating:c,updating:l}=o.table(t).hook;switch(s.type){case"add":if(c.fire===te)break;return o._promise("readwrite",()=>u(s),!0);case"put":if(c.fire===te&&l.fire===te)break;return o._promise("readwrite",()=>u(s),!0);case"delete":if(a.fire===te)break;return o._promise("readwrite",()=>u(s),!0);case"deleteRange":if(a.fire===te)break;return o._promise("readwrite",()=>function(h){return d(h.trans,h.range,1e4)}(s),!0)}return n.mutate(s);function u(h){const p=N.trans,m=h.keys||function(f,y){return y.type==="delete"?y.keys:y.keys||y.values.map(f.extractKey)}(r,h);if(!m)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?{...h,keys:m}:{...h}).type!=="delete"&&(h.values=[...h.values]),h.keys&&(h.keys=[...h.keys]),function(f,y,b){return y.type==="add"?Promise.resolve([]):f.getMany({trans:y.trans,keys:b,cache:"immutable"})}(n,h,m).then(f=>{const y=m.map((b,g)=>{const v=f[g],w={onerror:null,onsuccess:null};if(h.type==="delete")a.fire.call(w,b,v,p);else if(h.type==="add"||v===void 0){const E=c.fire.call(w,b,h.values[g],p);b==null&&E!=null&&(b=E,h.keys[g]=b,r.outbound||gt(h.values[g],r.keyPath,b))}else{const E=Nu(v,h.values[g]),_=l.fire.call(w,E,b,v,p);if(_){const $=h.values[g];Object.keys(_).forEach(k=>{Ke($,k)?$[k]=_[k]:gt($,k,_[k])})}}return w});return n.mutate(h).then(({failures:b,results:g,numFailures:v,lastResult:w})=>{for(let E=0;E<m.length;++E){const _=g?g[E]:m[E],$=y[E];_==null?$.onerror&&$.onerror(b[E]):$.onsuccess&&$.onsuccess(h.type==="put"&&f[E]?h.values[E]:_)}return{failures:b,results:g,numFailures:v,lastResult:w}}).catch(b=>(y.forEach(g=>g.onerror&&g.onerror(b)),Promise.reject(b)))})}function d(h,p,m){return n.query({trans:h,values:!1,query:{index:r,range:p},limit:m}).then(({result:f})=>u({type:"delete",keys:f,trans:h}).then(y=>y.numFailures>0?Promise.reject(y.failures[0]):f.length<m?{failures:[],numFailures:0,lastResult:void 0}:d(h,{...p,lower:f[f.length-1],lowerOpen:!0},m)))}}}}})};function yb(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)Oe(t.keys[i],e[s])===0&&(r.push(n?Rs(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const r$={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=yb(r.keys,r.trans._cache,r.cache==="clone");return i?B.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Rs(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Fu(e){return!("from"in e)}const Lt=function(e,t){if(!this){const n=new Lt;return e&&"d"in e&&Be(n,e),n}Be(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ps(e,t,n){const r=Oe(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Fu(e))return Be(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(Oe(n,e.from)<0)return i?ps(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},bh(e);if(Oe(t,e.to)>0)return s?ps(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},bh(e);Oe(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Oe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&Oo(e,i),s&&o&&Oo(e,s)}function Oo(e,t){Fu(t)||function n(r,{from:i,to:s,l:o,r:a}){ps(r,i,s),o&&n(r,o),a&&n(r,a)}(e,t)}function i$(e,t){const n=ul(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=ul(e);let o=s.next(i.from),a=o.value;for(;!r.done&&!o.done;){if(Oe(a.from,i.to)<=0&&Oe(a.to,i.from)>=0)return!0;Oe(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function ul(e){let t=Fu(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Oe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Oe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function bh(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...e},a=e[i];e.from=a.from,e.to=a.to,e[i]=a[i],o[i]=a[s],e[s]=o,o.d=gh(o)}e.d=gh(e)}function gh({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}ri(Lt.prototype,{add(e){return Oo(this,e),this},addKey(e){return ps(this,e,e),this},addKeys(e){return e.forEach(t=>ps(this,t,t)),this},[Uc](){return ul(this)}});const s$={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Lt(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:a,outbound:c}=o,l={...i,mutate:h=>{const p=h.trans,m=p.mutatedParts||(p.mutatedParts={}),f=_=>{const $=`idb://${t}/${r}/${_}`;return m[$]||(m[$]=new Lt)},y=f(""),b=f(":dels"),{type:g}=h;let[v,w]=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[];const E=h.trans._cache;return i.mutate(h).then(_=>{if(Ie(v)){g!=="delete"&&(v=_.results),y.addKeys(v);const $=yb(v,E);$||g==="add"||b.addKeys(v),($||w)&&function(k,A,I,T){function U(j){const W=k(j.name||"");function C(F){return F!=null?j.extractKey(F):null}const O=F=>j.multiEntry&&Ie(F)?F.forEach(Z=>W.addKey(Z)):W.addKey(F);(I||T).forEach((F,Z)=>{const Y=I&&C(I[Z]),ue=T&&C(T[Z]);Oe(Y,ue)!==0&&(Y!=null&&O(Y),ue!=null&&O(ue))})}A.indexes.forEach(U)}(f,s,$,w)}else if(v){const $={from:v.lower,to:v.upper};b.add($),y.add($)}else y.add(n),b.add(n),s.indexes.forEach($=>f($.name).add(n));return _})}},u=({query:{index:h,range:p}})=>{var m,f;return[h,new Lt((m=p.lower)!==null&&m!==void 0?m:e.MIN_KEY,(f=p.upper)!==null&&f!==void 0?f:e.MAX_KEY)]},d={get:h=>[o,new Lt(h.key)],getMany:h=>[o,new Lt().addKeys(h.keys)],count:u,query:u,openCursor:u};return be(d).forEach(h=>{l[h]=function(p){const{subscr:m}=N;if(m){const f=w=>{const E=`idb://${t}/${r}/${w}`;return m[E]||(m[E]=new Lt)},y=f(""),b=f(":dels"),[g,v]=d[h](p);if(f(g.name||"").add(v),!g.isPrimaryKey){if(h!=="count"){const w=h==="query"&&c&&p.values&&i.query({...p,values:!1});return i[h].apply(this,arguments).then(E=>{if(h==="query"){if(c&&p.values)return w.then(({result:$})=>(y.addKeys($),E));const _=p.values?E.result.map(a):E.result;p.values?y.addKeys(_):b.addKeys(_)}else if(h==="openCursor"){const _=E,$=p.values;return _&&Object.create(_,{key:{get:()=>(b.addKey(_.primaryKey),_.key)},primaryKey:{get(){const k=_.primaryKey;return b.addKey(k),k}},value:{get:()=>($&&y.addKey(_.primaryKey),_.value)}})}return E})}b.add(n)}}return i[h].apply(this,arguments)}}),l}}}};class tr{constructor(t,n){this._middlewares={},this.verno=0;const r=tr.dependencies;this._options=n={addons:tr.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:te,dbReadyPromise:null,cancelOpen:te,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new B(a=>{s.dbReadyResolve=a}),s.openCanceller=new B((a,c)=>{s.cancelOpen=c}),this._state=s,this.name=t,this.on=Ti(this,"populate","blocked","versionchange","close",{ready:[Tu,te]}),this.on.ready.subscribe=Hm(this.on.ready.subscribe,a=>(c,l)=>{tr.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||B.resolve().then(c),l&&a(c);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(c),l&&a(c);else{a(c);const d=this;l||a(function h(){d.on.ready.unsubscribe(c),d.on.ready.unsubscribe(h)})}})}),this.Collection=(o=this,yi(VE.prototype,function(a,c){this.db=o;let l=db,u=null;if(c)try{l=c()}catch(m){u=m}const d=a._ctx,h=d.table,p=h.hook.reading.fire;this._ctx={table:h,index:d.index,isPrimKey:!d.index||h.schema.primKey.keyPath&&d.index===h.schema.primKey.name,range:l,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:d.or,valueMapper:p!==ls?p:null}})),this.Table=function(a){return yi(LE.prototype,function(c,l,u){this.db=a,this._tx=u,this.name=c,this.schema=l,this.hook=a._allTables[c]?a._allTables[c].hook:Ti(null,{creating:[CE,te],reading:[PE,ls],updating:[IE,te],deleting:[TE,te]})})}(this),this.Transaction=function(a){return yi(WE.prototype,function(c,l,u,d,h){this.db=a,this.mode=c,this.storeNames=l,this.schema=u,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=Ti(this,"complete","error","abort"),this.parent=h||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new B((p,m)=>{this._resolve=p,this._reject=m}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var m=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):m&&this.idbtrans&&this.idbtrans.abort(),ve(p)})})}(this),this.Version=function(a){return yi(JE.prototype,function(c){this.db=a,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return yi(fb.prototype,function(c,l,u){this.db=a,this._ctx={table:c,index:l===":id"?null:l,or:u};const d=a._deps.indexedDB;if(!d)throw new D.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(h,p)=>d.cmp(p,h),this._max=(h,p)=>d.cmp(h,p)>0?h:p,this._min=(h,p)=>d.cmp(h,p)<0?h:p,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=fs(n.IDBKeyRange),this._createTransaction=(a,c,l,u)=>new this.Transaction(a,c,l,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Ci.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(a))},this.use(t$),this.use(n$),this.use(s$),this.use(r$),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new D.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(ZE),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||N.letThrough||this._vip)?t():new B((n,r)=>{if(this._state.openComplete)return r(new D.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new D.DatabaseClosed);this.open().catch(te)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((o,a)=>o.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return QE(this)}_close(){const t=this._state,n=Ci.indexOf(this);if(n>=0&&Ci.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new B(r=>{t.dbReadyResolve=r}),t.openCanceller=new B((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new D.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new B((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=se(()=>{(function({indexedDB:a,IDBKeyRange:c},l){!Mu(a)&&l!==ua&&Ru(a,c).delete(l).catch(te)})(this._deps,this.name),r()}),o.onerror=At(i),o.onblocked=this._fireOnBlocked};if(t)throw new D.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return be(this._allTables).map(t=>this._allTables[t])}transaction(){const t=e$.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=N.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let o,a;t=t.replace("!","").replace("?","");try{if(a=n.map(l=>{var u=l instanceof this.Table?l.name:l;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Ha)o=Ha;else{if(t!="rw"&&t!=qa)throw new D.InvalidArgument("Invalid transaction mode: "+t);o=qa}if(i){if(i.mode===Ha&&o===qa){if(!s)throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(l=>{if(i&&i.storeNames.indexOf(l)===-1){if(!s)throw new D.SubTransaction("Table "+l+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(l){return i?i._promise(null,(u,d)=>{d(l)}):ve(l)}const c=gb.bind(null,this,o,a,i,r);return i?i._promise(o,c,"lock"):N.trans?ui(N.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!Ke(this._allTables,t))throw new D.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const o$=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class a${constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[o$](){return this}}function vb(e,t){return be(t).forEach(n=>{Oo(e[n]||(e[n]=new Lt),t[n])}),e}function wb(e){let t,n=!1;const r=new a$(i=>{const s=Su(e);let o=!1,a={},c={};const l={get closed(){return o},unsubscribe:()=>{o=!0,Tn.storagemutated.unsubscribe(p)}};i.start&&i.start(l);let u=!1,d=!1;function h(){return be(c).some(f=>a[f]&&i$(a[f],c[f]))}const p=f=>{vb(a,f),h()&&m()},m=()=>{if(u||o)return;a={};const f={},y=function(b){s&&li();const g=()=>Pn(e,{subscr:b,trans:null}),v=N.trans?ui(N.transless,g):g();return s&&v.then(nn,nn),v}(f);d||(Tn(hs,p),d=!0),u=!0,Promise.resolve(y).then(b=>{n=!0,t=b,u=!1,o||(h()?m():(a={},c=f,i.next&&i.next(b)))},b=>{u=!1,n=!1,i.error&&i.error(b),l.unsubscribe()})};return m(),l});return r.hasValue=()=>n,r.getValue=()=>t,r}let dl;try{dl={indexedDB:re.indexedDB||re.mozIndexedDB||re.webkitIndexedDB||re.msIndexedDB,IDBKeyRange:re.IDBKeyRange||re.webkitIDBKeyRange}}catch{dl={indexedDB:null,IDBKeyRange:null}}const zn=tr;function mo(e){let t=qt;try{qt=!0,Tn.storagemutated.fire(e)}finally{qt=t}}ri(zn,{...co,delete:e=>new zn(e,{addons:[]}).delete(),exists:e=>new zn(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Mu(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==ua)):Ru(t,n).toCollection().primaryKeys()}(zn.dependencies).then(e)}catch{return ve(new D.MissingAPI)}},defineClass:()=>function(e){Be(this,e)},ignoreTransaction:e=>N.trans?ui(N.transless,e):e(),vip:cl,async:function(e){return function(){try{var t=ll(e.apply(this,arguments));return t&&typeof t.then=="function"?t:B.resolve(t)}catch(n){return ve(n)}}},spawn:function(e,t,n){try{var r=ll(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:B.resolve(r)}catch(i){return ve(i)}},currentTransaction:{get:()=>N.trans||null},waitFor:function(e,t){const n=B.resolve(typeof e=="function"?zn.ignoreTransaction(e):e).timeout(t||6e4);return N.trans?N.trans.waitFor(n):n},Promise:B,debug:{get:()=>Nt,set:e=>{Ym(e,e==="dexie"?()=>!0:ub)}},derive:Dr,extend:Be,props:ri,override:Hm,Events:Ti,on:Tn,liveQuery:wb,extendObservabilitySet:vb,getByKeyPath:Yt,setByKeyPath:gt,delByKeyPath:function(e,t){typeof t=="string"?gt(e,t,void 0):"length"in t&&[].map.call(t,function(n){gt(e,n,void 0)})},shallowClone:Gm,deepClone:Rs,getObjectDiff:Nu,cmp:Oe,asap:qm,minKey:el,addons:[],connections:Ci,errnames:Cu,dependencies:dl,semVer:uh,version:uh.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),zn.maxKey=fs(zn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Tn(hs,e=>{if(!qt){let t;la?(t=document.createEvent("CustomEvent"),t.initCustomEvent(hn,!0,!0,e)):t=new CustomEvent(hn,{detail:e}),qt=!0,dispatchEvent(t),qt=!1}}),addEventListener(hn,({detail:e})=>{qt||mo(e)}));let qt=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(hn);typeof e.unref=="function"&&e.unref(),Tn(hs,t=>{qt||e.postMessage(t)}),e.onmessage=t=>{t.data&&mo(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Tn(hs,t=>{try{qt||(typeof localStorage<"u"&&localStorage.setItem(hn,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:hn,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===hn){const n=JSON.parse(t.newValue);n&&mo(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===hn&&mo(t.changedParts)})}B.rejectionMapper=function(e,t){if(!e||e instanceof zr||e instanceof TypeError||e instanceof SyntaxError||!e.name||!oh[e.name])return e;var n=new oh[e.name](t||e.message,e);return"stack"in e&&Zt(n,"stack",{get:function(){return this.inner.stack}}),n},Ym(Nt,ub);var xb={wait:50,batchSize:50};function st(e){return Qp(e.map(t=>jx(t,{batch:xb})),{rank:{interval:6e4*5,sampleCount:e.length,timeout:500,weights:{latency:.4,stability:.7}},retryCount:10,retryDelay:3e4})}function ot(e){return Qp(e.map(t=>z_(t)),{rank:{interval:6e4*5,sampleCount:e.length,timeout:500,weights:{latency:.4,stability:.7}},retryCount:3,retryDelay:3e4})}var c$={[x.eth]:st(["https://ethereum.publicnode.com","https://rpc.mevblocker.io","https://eth.merkle.io","https://1rpc.io/eth","https://rpc.flashbots.net","https://eth-pokt.nodies.app","https://eth.meowrpc.com","https://eth.drpc.org","https://eth.llamarpc.com","https://eth-mainnet.public.blastapi.io","https://rpc.ankr.com/eth","https://cloudflare-eth.com","https://eth-mainnet.gateway.pokt.network/v1/5f3453978e354ab992c4da79","https://nodes.mewapi.io/rpc/eth","https://endpoints.omniatech.io/v1/eth/mainnet/public","https://ethereum-mainnet-rpc.allthatnode.com","https://ethereum-mainnet-archive.allthatnode.com","https://ethereum-mainnet-rpc-germany.allthatnode.com","https://ethereum-mainnet-archive-germany.allthatnode.com"]),[x.bnb]:st(["https://bsc.publicnode.com","https://endpoints.omniatech.io/v1/bsc/mainnet/public","https://bsc-pokt.nodies.app","https://bsc.meowrpc.com","https://bsc.drpc.org"]),[x.matic]:st(["https://polygon.llamarpc.com","https://endpoints.omniatech.io/v1/matic/mainnet/public","https://endpoints.omniatech.io/v1/matic/mainnet/public","https://polygon-bor.publicnode.com","https://polygon.drpc.org","https://polygon.meowrpc.com"]),[x.op]:st(["https://optimism.publicnode.com","https://op-pokt.nodies.app","https://optimism.meowrpc.com","https://optimism.drpc.org","https://endpoints.omniatech.io/v1/op/mainnet/public"]),[x.arbitrum]:st(["https://arbitrum-one.publicnode.com","https://arb-pokt.nodies.app","https://arbitrum.meowrpc.com","https://arbitrum.drpc.org","https://endpoints.omniatech.io/v1/arbitrum/one/public"]),[x.gnosis]:st(["https://gnosis.publicnode.com","https://rpc.gnosischain.com","https://gnosis.drpc.org"]),[x.avalanche]:st(["https://avalanche-c-chain.publicnode.com","https://1rpc.io/avax/c","https://endpoints.omniatech.io/v1/avax/mainnet/public","https://avax.meowrpc.com","https://avalanche.drpc.org"]),[x.fantom]:st(["https://fantom.publicnode.com","https://fantom-pokt.nodies.app","https://1rpc.io/ftm","https://fantom.drpc.org"]),[x.aurora]:st(["https://mainnet.aurora.dev","https://endpoints.omniatech.io/v1/aurora/mainnet/public","https://1rpc.io/aurora","https://aurora.drpc.org"]),[x.klaytn]:st(["https://klaytn.drpc.org","https://rpc.ankr.com/klaytn","https://klaytn.blockpi.network/v1/rpc/public"]),[x.zkSyncEra]:st(["https://mainnet.era.zksync.io","https://zksync-era.blockpi.network/v1/rpc/public","https://zksync.meowrpc.com","https://zksync.drpc.org"])},l$={[x.eth]:ot(["wss://ethereum-rpc.publicnode.com","wss://ethereum.publicnode.com","wss://eth.drpc.org"]),[x.bnb]:ot(["wss://bsc.publicnode.com","wss://bsc-rpc.publicnode.com"]),[x.matic]:ot(["wss://polygon-bor.publicnode.com","wss://polygon.gateway.tenderly.co","wss://polygon.drpc.org"]),[x.op]:ot(["wss://optimism.publicnode.com"]),[x.arbitrum]:ot(["wss://arbitrum-one.publicnode.com"]),[x.gnosis]:ot(["wss://rpc.gnosischain.com/wss","wss://gnosis.publicnode.com"]),[x.avalanche]:ot(["wss://avalanche-c-chain.publicnode.com"]),[x.fantom]:ot(["wss://gnosis.publicnode.com"]),[x.aurora]:ot(["wss://mainnet.aurora.dev"]),[x.klaytn]:ot(["wss://public-en-cypress.klaytn.net/ws"]),[x.zkSyncEra]:ot(["wss://mainnet.era.zksync.io/ws"])},u$={[x.eth]:fE,[x.bnb]:X_,[x.matic]:mE,[x.op]:pE,[x.arbitrum]:Z_,[x.gnosis]:eE,[x.avalanche]:J_,[x.fantom]:Q_,[x.aurora]:Y_,[x.klaytn]:tE,[x.zkSyncEra]:bE};function yr(e){return u$[e]}var Ya={[x.eth]:null,[x.bnb]:null,[x.matic]:null,[x.op]:null,[x.arbitrum]:null,[x.gnosis]:null,[x.avalanche]:null,[x.fantom]:null,[x.aurora]:null,[x.klaytn]:null,[x.zkSyncEra]:null},Ja={[x.eth]:null,[x.bnb]:null,[x.matic]:null,[x.op]:null,[x.arbitrum]:null,[x.gnosis]:null,[x.avalanche]:null,[x.fantom]:null,[x.aurora]:null,[x.klaytn]:null,[x.zkSyncEra]:null};function d$(e){const t=yr(e),n=c$[e];return Dm({batch:{multicall:xb},chain:t,transport:n})}function h$(e){const t=yr(e),n=l$[e];return Dm({chain:t,transport:n})}function Vr(e){return Ya[e]||(Ya[e]=d$(e)),Ya[e]}function f$(e){return Ja[e]||(Ja[e]=h$(e)),Ja[e]}var p$={[x.eth]:!1,[x.bnb]:!1,[x.matic]:!1,[x.op]:!0,[x.arbitrum]:!0,[x.gnosis]:!1,[x.avalanche]:!1,[x.fantom]:!1,[x.aurora]:!1,[x.klaytn]:!1,[x.zkSyncEra]:!0};function yh(e){return p$[e]}var Xa={[x.eth]:null,[x.bnb]:null,[x.matic]:null,[x.op]:null,[x.arbitrum]:null,[x.gnosis]:null,[x.avalanche]:null,[x.fantom]:null,[x.aurora]:null,[x.klaytn]:null,[x.zkSyncEra]:null};function m$(e){return new we(t=>f$(e).watchBlocks({onBlock:r=>t.next(r)})).pipe(ke({bufferSize:1,refCount:!0}))}function b$(){const e=document.hasFocus(),t=document.visibilityState==="visible";return e&&t}function g$(){let e=!0;return wr(ce(window,"focus"),ce(window,"blur"),ce(document,"visibilitychange")).pipe(Je(null),q(()=>e?(e=!1,!0):b$()))}function y$(e){return Xa[e]===null&&(Xa[e]=g$().pipe(ne(t=>t?m$(e):lt()),ke({bufferSize:1,refCount:!0}))),Xa[e]}var ju="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function Bo(e){return tn(ju,e)}var Du=class{constructor(e,t=!1){this.ttlMs=e,this.autoClean=t,this.cache=new Map,this.enabledAutoClean()}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()})}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),null):t.value:null}has(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttlMs?(this.cache.delete(e),!1):!0:!1}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.autoCleanTimer&&clearInterval(this.autoCleanTimer)}size(){return 0}enabledAutoClean(){this.autoClean&&(this.autoCleanTimer=setInterval(()=>{for(const e of[...this.cache.keys()])this.get(e)},this.ttlMs))}},v$=class{constructor(e){this.bufferSize=e,this.cache=new Map,this.indexes=new Map,this.lastIndex=0}set(e,t){if(this.has(e))return;if(this.cache.size>=this.bufferSize){const r=Math.min(...this.indexes.keys()),i=this.indexes.get(r);this.indexes.delete(r),this.cache.delete(i);return}const n=this.lastIndex++;this.indexes.set(n,e),this.cache.set(e,t)}get(e){return this.cache.get(e)??null}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear(),this.indexes.clear(),this.lastIndex=0}size(){return this.cache.size}};function Kn(e,t){const r=w$(e,t).split("."),i=r[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return r.length>1?`${i}.${r[1]}`:i}function w$(e,t){const n=e.indexOf(".");if(n===-1||e.length-n-1<=t)return e;if(t>0){const i=n+t+1;return e.substring(0,i)}return e.substring(0,n)}function hl(e,t,n=t){const r=e.indexOf(".");if(r===-1||e.slice(0,r).length>1)return Kn(e,n);let i=0;for(let s=r+1;s<e.length;s++)if(e[s]==="0")i++;else return Kn(e,i+t);return Kn(e,n)}function fl(e,t={}){const{width:n,head:r=6,tail:i=4}=t;return n!==void 0&&(n>1410||940>n&&n>800)?e:`${e.slice(0,r)}...${e.slice(e.length-i)}`}var In=class{constructor(){throw new Error("BigMath does not support instance creation. Use static methods: div, mul, add, sub, avr, pow, min, max.")}static div(e,t,n,r,i=r){if(t===0n)throw new Error("Division by zero.");if(e===0n)return 0n;const s=BigInt(10)**BigInt(Math.max(n,r));e=e*(s/BigInt(10)**BigInt(n)),t=t*(s/BigInt(10)**BigInt(r));const o=BigInt(10)**BigInt(i);return e=e*o,e/t}static mul(e,t,n,r,i=r){if(e===0n||t===0n)return 0n;const s=e*t,a=10n**BigInt(n+r),c=10n**BigInt(i);return s*c/a}static add(e,t,n,r,i=r){const s=Math.max(n,r,i);e=e*BigInt(10)**BigInt(s-n),t=t*BigInt(10)**BigInt(s-r);const o=e+t;return i<s?o/BigInt(10)**BigInt(s-i):o}static sub(e,t,n,r,i=r){const s=Math.max(n,r,i);e=e*BigInt(10)**BigInt(s-n),t=t*BigInt(10)**BigInt(s-r);const o=e-t;return i<s?o/BigInt(10)**BigInt(s-i):o}static avr(e,t,n=t){if(e.length===0)return 0n;const r=BigInt(10)**BigInt(n);return e.map(o=>o*r/BigInt(10)**BigInt(t)).reduce((o,a)=>o+a,BigInt(0))/BigInt(e.length)}static pow(e,t,n,r=n){if(t<0)throw new Error("Negative exponents are not supported.");if(t===0)return BigInt(10)**BigInt(r);const i=BigInt(10)**BigInt(n);let o=(e*i)**BigInt(t);const a=BigInt(10)**BigInt(t*n);if(o=o/a,r!==n){const c=BigInt(10)**BigInt(r-n);o=o*c}return o}static min(...e){let t=e[0];for(const n of e)n<t&&(t=n);return t}static max(...e){let t=e[0];for(const n of e)n>t&&(t=n);return t}};function $r(e){const t=new WeakMap,n=r=>{let i=t.get(r);return i||(i=new Map,t.set(r,i)),i};return function(r,i,s){const o=s.value;return s.value=function(...a){const c=n(this),l=e?e(this,...a):JSON.stringify(a);if(c.has(l))return c.get(l);const u=o.apply(this,a).finally(()=>c.delete(l));return c.set(l,u),u},s}}var vh=new Du(1e4),eo=new Du(5e3),da=class{constructor(){this.host=qf("oneInchDevPortalHost")}async getWhiteListedTokens(e){return(await(await fetch(`${this.host}/token/v1.2/${e}/token-list`)).json()).tokens}async getBalancesByWalletAddress(e,t){return await(await fetch(`${this.host}/balance/v1.2/${e}/balances/${t}`)).json()}async getTokenPrices(e){const t=vh.get(e);if(t)return t;const n=new URLSearchParams({currency:"USD"}),i=await(await fetch(`${this.host}/price/v1.1/${e}?${n}`)).json();return vh.set(e,i),i}async getFusionQuoteReceive(e,t,n,r,i,s=!1,o=!1){const a=[e,t,n,r,i,s,o].join(":");if(eo.has(a))return eo.get(a);const c=new URLSearchParams({fromTokenAddress:t,toTokenAddress:n,walletAddress:i,amount:r.toString(),enableEstimate:s.toString(),isLedgerLive:o.toString()}),l=await fetch(`${this.host}/fusion/quoter/v1.0/${e}/quote/receive?${c}`);if(!l.ok)return eo.set(a,null),null;const u=await l.json();return eo.set(a,u),{...u,chainId:e}}};Es([$r((e,t)=>t.toString())],da.prototype,"getTokenPrices");Es([$r((...e)=>e.slice(1).join(":"))],da.prototype,"getFusionQuoteReceive");var ha=class{constructor(e,t){this.storageKey=e,this.ttlDays=t,this.cache=new Map;const n=ae.get(this.storageKeyAndVersion,qn);this.cache=new Map(n)}get storageKeyAndVersion(){return[this.storageKey,"v2"].join(":")}set(e,t){this.cache.set(e,{value:t,timestamp:Date.now()}),this.updatePersistence()}get(e){var t;return this.checkCacheData(e),((t=this.cache.get(e))==null?void 0:t.value)??null}has(e){return this.checkCacheData(e),this.cache.has(e)}delete(e){const t=this.cache.delete(e);return this.updatePersistence(),t}clear(){this.cache.clear(),this.updatePersistence()}size(){let e=!1;return this.cache.forEach((t,n)=>{this.checkCacheData(n,!0)&&!e&&(e=!0)}),e&&this.updatePersistence(),this.cache.size}checkCacheData(e,t){const n=this.cache.get(e);if(!n)return!1;let r=!1;return Date.now()-n.timestamp>this.ttlDays*864e5&&(this.cache.delete(e),r=!0,(t??!1)||this.updatePersistence()),r}updatePersistence(){ae.set(this.storageKeyAndVersion,Array.from(this.cache.entries()))}},zu=class{constructor(){this.timeCacheStorage={}}set(e,t,n){let r=this.timeCacheStorage[e];r||(r=new Du(Eb[e]),this.timeCacheStorage[e]=r),r.set(t,n)}get(e,t){const n=this.timeCacheStorage[e];return n?n.get(t):null}},x$=xt(["function balanceOf(address _owner) public view returns (uint256 balance)"]),wh=new zu;async function _$(e,t,n){const r=[t,n].join(":"),i=wh.get(e,r);if(i!==null)return i;const s=Vr(e);if(Bo(n))return await s.getBalance({address:t});const o=await s.readContract({abi:x$,functionName:"balanceOf",args:[t],address:n});return wh.set(e,r,o),o}async function E$(e,t,n){const r={};return await Promise.all(n.map(i=>_$(e,t,i).then(s=>r[i]=s.toString()))),r}xt(["function allowance(address owner, address spender) public view returns (uint256)"]);new ha("proxy-to-impl",2);var $$="function permit(address owner, address spender, uint value, uint deadline, uint8 v, bytes32 r, bytes32 s) external",A$="function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s) external",_b=xt([$$,A$]),k$=xt(["function nonces(address owner) external view returns (uint)","function nonce(address owner) external view returns (uint)","function getNonce(address owner) external view returns (uint)","function _nonces(address owner) external view returns (uint)"]),S$=xt(["function DOMAIN_SEPARATOR() external view returns (bytes32)"]);xt(["function version() view returns (string)"]);xt(["function name() view returns (string)"]);_r(_b[0]);_r(_b[0]);_r(S$[0]);k$.map(e=>_r(e));var P$=[x.eth,x.bnb,x.matic,x.arbitrum,x.avalanche,x.op,x.gnosis,x.fantom];function C$(e){return P$.includes(e)}var Eb={[x.eth]:11e3,[x.bnb]:3e3,[x.matic]:3e3,[x.op]:3e3,[x.arbitrum]:14e3,[x.gnosis]:4500,[x.avalanche]:3e3,[x.fantom]:3e3,[x.aurora]:3e3,[x.klaytn]:3e3,[x.zkSyncEra]:3e3},T$={[x.eth]:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",[x.bnb]:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",[x.matic]:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",[x.op]:"0x4200000000000000000000000000000000000006",[x.arbitrum]:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",[x.gnosis]:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",[x.avalanche]:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",[x.fantom]:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",[x.aurora]:"0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb",[x.klaytn]:"0xe4f05a66ec68b54a58b17c22107b02e0232cc817",[x.zkSyncEra]:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91"};function pl(e){var n;const t=yr(e);return{chainId:e,symbol:`W${t.nativeCurrency.symbol}`,name:`W${t.nativeCurrency.symbol}`,decimals:((n=t==null?void 0:t.nativeCurrency)==null?void 0:n.decimals)??18,address:T$[e],isInternalWrapToken:!0}}function I$(e){return e.isInternalWrapToken?e.symbol.slice(1):e.symbol}var xh=xt(["function getPair(address tokenA, address tokenB) external view returns (address pair)"]),_h=xt(["function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast)","function token0() external view returns (address)","function token1() external view returns (address)"]),Lu=class{constructor(e,t,n){this.name=e,this.factoryContractGetter=t,this.supportedChain=n,this.pools=new ha(`${this.name}_pools`,7)}isSupportedChain(e){return this.supportedChain.includes(e)}async getRate(e,t,n){try{const r=pn(t.address),i=pn(n.address),[s,o]=await this.getPool(e,r,i);if(s===kt)return null;const a=await this.getReserves(e,s),c=a[2];if(Date.now()-c*1e3>36e5)return null;const l=!tn(t.address,o),u=In.div(l?a[0]:a[1],l?a[1]:a[0],n.decimals,t.decimals,t.decimals),d=In.div(l?a[1]:a[0],l?a[0]:a[1],t.decimals,n.decimals,n.decimals);return{chainId:e,rate:u,revertedRate:d,isReverted:l,sourceToken:t,destinationToken:n}}catch(r){return console.error(`Error in UniswapV2BaseAdapter adapter name ${this.name}`,r),null}}async getPool(e,t,n){const r=[e,t,n].join(":");if(this.pools.has(r))return this.pools.get(r);const i=[e,n,t].join(":");if(this.pools.has(i))return this.pools.get(i);const s=Vr(e);let o=await s.readContract({address:pn(this.factoryContractGetter(e)),functionName:"getPair",args:[t,n],abi:xh});o!==kt&&(o=await s.readContract({address:pn(this.factoryContractGetter(e)),functionName:"getPair",args:[n,t],abi:xh}));let a=kt;return o!==kt&&(a=await s.readContract({address:o,abi:_h,functionName:"token0"})),this.pools.set(r,[o,a]),this.pools.set(i,[o,a]),[o,a]}async getReserves(e,t){return await Vr(e).readContract({address:t,abi:_h,functionName:"getReserves"})}},O$=new Lu("UniswapV2",()=>"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",[x.eth,x.bnb,x.matic,x.op,x.arbitrum,x.avalanche]),B$={[x.eth]:"0xC0AeE478e3658e2610c5F7A4A2E1777cE9e4f2Ac",[x.bnb]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.matic]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.gnosis]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.fantom]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.avalanche]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4",[x.arbitrum]:"0xc35dadb65012ec5796536bd9864ed8773abc74c4"},R$=new Lu("SushiSwapV2",e=>B$[e],[x.eth,x.bnb,x.matic,x.gnosis,x.fantom,x.arbitrum,x.avalanche]),M$={[x.eth]:"0x1097053Fd2ea711dad45caCcc45EfF7548fCB362",[x.bnb]:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",[x.arbitrum]:"0x02a84c1b3BBD7401a5f7fa98a384EBC70bB5749E"},N$=new Lu("PancakeSwapV2",e=>M$[e],[x.eth,x.bnb,x.arbitrum]),F$=xt(["function getPool(address tokenA, address tokenB, uint24 fee) external view returns (address pool)"]),Qa=xt(["function liquidity() external view returns (uint128)","function slot0() external view returns (uint160 sqrtPriceX96, int24 tick, uint16 observationIndex, uint16 observationCardinality, uint16 observationCardinalityNext, uint8 feeProtocol, bool unlocked)","function token0() external view returns (address)","function token1() external view returns (address)"]),fa=class{constructor(e,t,n,r){this.name=e,this.factoryContractGetter=t,this.supportedChain=n,this.feeTiers=r,this.pools=new ha(`${this.name}_pools`,7),this.liquidityCache=new zu}isSupportedChain(e){return this.supportedChain.includes(e)}async getRate(e,t,n){try{const r=pn(t.address),i=pn(n.address),[s,o]=await this.getPool(e,r,i);if(s===kt)return null;const a=!tn(t.address,o),[c,l]=await Promise.all([this.getSqrtPriceX96(e,s),this.getLiquidity(e,s)]),[u,d]=this.calculatePrice(c,t,n,l,a);return{chainId:e,rate:u,revertedRate:d,sourceToken:t,destinationToken:n,isReverted:a}}catch(r){return console.error(`Error in UniswapV3BaseRateAdapter adapter name ${this.name}`,r),null}}async getPool(e,t,n){const r=[e,t,n].join(":");if(this.pools.has(r))return this.pools.get(r);const i=[e,n,t].join(":");if(this.pools.has(i))return this.pools.get(i);const s=Vr(e);let o=kt,a=0n;for(const c of this.feeTiers){const l=await s.readContract({address:pn(this.factoryContractGetter(e)),functionName:"getPool",args:[t,n,c],abi:F$});if(l===kt)continue;const u=await this.getLiquidity(e,l);u>a&&(a=u,o=l)}if(o!==kt){const c=await s.readContract({address:o,abi:Qa,functionName:"token0"});return this.pools.set(r,[o,c]),this.pools.set(i,[o,c]),[o,c]}return[kt,kt]}async getSqrtPriceX96(e,t){const n=Vr(e),[r]=await n.readContract({address:t,abi:Qa,functionName:"slot0"});return r}async getLiquidity(e,t){const n=this.liquidityCache.get(e,t);if(n)return n;const i=await Vr(e).readContract({address:t,functionName:"liquidity",abi:Qa});return this.liquidityCache.set(e,t,i),i}calculatePrice(e,t,n,r,i){const s=2n**96n,o=r*s/e,a=r*e/s;return[In.div(i?o:a,i?a:o,n.decimals,t.decimals,t.decimals),In.div(i?a:o,i?o:a,t.decimals,n.decimals,n.decimals)]}};function j$(e){return e===x.bnb?"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7":e===x.avalanche?"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD":"0x1F98431c8aD98523631AE4a59f267346ea31F984"}var D$=new fa("UniswapV3",j$,[x.eth,x.bnb,x.matic,x.op,x.arbitrum,x.avalanche],[100,500,3e3,1e4]);function z$(e){return e===x.zkSyncEra?"0x1BB72E0CbbEA93c08f535fc7856E0338D7F7a8aB":"0x0BFbCF9fa4f9C56B0F40a671Ad40E0805A091865"}var L$=new fa("PancakeSwapV3",z$,[x.eth,x.bnb,x.arbitrum,x.zkSyncEra],[100,500,2500,1e4]),V$={[x.eth]:"0xbACEB8eC6b9355Dfc0269C18bac9d6E2Bdc29C4F",[x.bnb]:"0x126555dd55a39328F69400d6aE4F782Bd4C34ABb",[x.matic]:"0x917933899c6a5F8E37F31E19f92CdBFF7e8FF0e2",[x.gnosis]:"0xf78031CBCA409F2FB6876BDFDBc1b2df24cF9bEf",[x.fantom]:"0x7770978eED668a3ba661d51a773d3a992Fc9DDCB",[x.avalanche]:"0x3e603C14aF37EBdaD31709C4f848Fc6aD5BEc715",[x.arbitrum]:"0x1af415a1EbA07a4986a52B6f2e7dE7003D82231e",[x.op]:"0x9c6522117e2ed1fE5bdb72bb0eD5E3f2bdE7DBe0"},U$=new fa("SushiSwapV3",e=>V$[e],[x.eth,x.bnb,x.op,x.matic,x.gnosis,x.fantom,x.arbitrum,x.avalanche],[100,500,3e3,1e4]),H$=new fa("SpookySwapV3",()=>"0x7928a2c48754501f3a8064765ECaE541daE5c3E6",[x.fantom],[100,500,3e3,1e4]),$b=class{constructor(e){this.onChainAdapters=e,this.rateCache=new zu}async getOnChainRate(e,t,n){const r=await this.getOnChainRawRate(e,t,n);if(r.length===0)return null;const i=o=>o.isReverted?o.revertedRate:o.rate;let s=r[0];for(const o of r)i(o)>i(s)&&(s=o);return s}listenOnChainRate(e,t,n){return y$(e).pipe(Je(null),My(()=>this.getOnChainRate(e,t,n)))}async getOnChainRawRate(e,t,n){let r=t,i=n;if(Bo(t.address)){const u=pl(e);if(!u)return[];r=u}if(Bo(n.address)){const u=pl(e);if(!u)return[];i=u}const s=[r.address,i.address].join(":"),o=this.rateCache.get(e,s);if(o!==null)return o;const a=this.onChainAdapters.filter(u=>u.isSupportedChain(e)),l=(await Promise.all(a.map(u=>u.getRate(e,r,i)))).filter(u=>u!==null);return this.rateCache.set(e,s,l),l}};Es([$r((e,t,n,r)=>[t,n.address,r.address].join(":"))],$b.prototype,"getOnChainRate");function Ab(){return new $b([D$,L$,U$,H$,O$,R$,N$])}var q$={[x.eth]:"0xdac17f958d2ee523a2206206994597c13d831ec7",[x.bnb]:"0x55d398326f99059ff775485246999027b3197955",[x.matic]:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",[x.op]:"0x94b008aa00579c1307b0ef2c499ad98a8ce58e58",[x.arbitrum]:"0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9",[x.gnosis]:"0x4ecaba5870353805a9f068101a40e0f32ed605c6",[x.avalanche]:"0xc7198437980c041c805a1edcba50c1ce5db95118",[x.fantom]:"0xcc1b99ddac1a33c201a742a1851662e87bc7f22c",[x.aurora]:"0x4988a896b1227218e4a686fde5eabdcabd91571f",[x.klaytn]:"0x754288077d0ff82af7a5317c7cb8c444d421d103",[x.zkSyncEra]:"0x493257fd37edb34451f62edf8d2a0c418852ba4c"},W$=6,G$=class{constructor(){this.rateProvider=Ab()}async getPrice(e,t){const n=q$[e];if(tn(t.address,n))return"1";const r=await this.rateProvider.getOnChainRate(e,{address:n,chainId:e,decimals:W$,name:"USDT",symbol:"USDT"},t);return r?Bt(r.rate,t.decimals):"0"}},Eh={native:1e3,USDT:100,USDC:100,WETH:62,"1INCH":61,"PEG:ETH":60,"PEG:USD":50,"PEG:BTC":40,"PEG:EUR":30,staking:20,savings:10,tokens:0},ii,Vu=(ii=class extends tr{constructor(){super("one-inch-token"),this.tokenCache=new v$(50),this.version(ii.databaseVersion).stores({tokens:["id","address","decimals","chainId","name","symbol","*tags","eip2612","logoURL","isFavorite","priority"].join(", "),balances:["id","chainId","tokenAddress","walletAddress","amount"].join(", "),permit:["id","chainId","contractAddress","ownerAddress","spenderAddress","createTimestamp","permit"].join(", ")})}async getToken(t,n){const r=Or(t,n);if(this.tokenCache.has(r))return this.tokenCache.get(r);const i=await this.tokens.where("id").equals(r).toArray();return this.tokenCache.set(r,i[0]),i[0]??null}async getNativeToken(t){return this.getToken(t,ju)}getTokenBySymbol(t,n){return this.tokens.where("chainId").equals(t).filter(r=>r.symbol===n).toArray()}async getTokenMap(t,n){const r=new Set(n),i={};return await this.tokens.each(s=>{s.chainId===t&&r.has(s.address)&&(i[s.address]=s)}),i}getTokenList(t,n){const r=new Set(n);return this.tokens.filter(i=>i.chainId===t&&r.has(i.address)).toArray()}async getTokenBalanceMap(t,n,r){const i=new Set(r),s={};return await this.balances.each(o=>{o.chainId===t&&o.walletAddress===n&&i.has(o.tokenAddress)&&(s[o.tokenAddress]=BigInt(o.amount))}),s}async getTokens(t,n){const r=new Set(n);return this.tokens.filter(i=>i.chainId===t&&r.has(i.address)).toArray()}async getAllTokenAddresses(t){const n=[];return await this.tokens.where("chainId").equals(t).each(r=>n.push(r.address)),n}async getTokenBalance(t,n,r){const i=Or(t,r,n);return(await this.balances.where("id").equals(i).toArray())[0]??null}async setTokens(t,n){var i;const r=[];for(const s of n)r.push({id:Or(t,s.address),address:s.address,decimals:s.decimals,eip2612:((i=s.extensions)==null?void 0:i.eip2612)??!1,name:s.name,symbol:s.symbol,tags:s.tags,logoURL:s.logoURI,isFavorite:!1,chainId:t,priority:K$(s)});this.tokenCache.clear(),await this.tokens.bulkPut(r)}async setBalances(t,n,r){const i=[];for(const s in r){const o=s;i.push({id:Or(t,n,o),chainId:t,tokenAddress:o,walletAddress:n,amount:r[o]})}await this.balances.bulkPut(i)}async setPermit(t,n,r,i,s){const o=Or(t,n,r,i);await this.permit.put({id:o,chainId:t,ownerAddress:n,spenderAddress:r,contractAddress:i,createTimestamp:Date.now(),permit:s})}async getAllFavoriteTokenAddresses(t){const n=[];return await this.tokens.where("chainId").equals(t).each(r=>{r.isFavorite&&n.push(r.address)}),n}async getSortedForViewTokenAddresses(t,n){const r={},i={},s=new Set,o=[],a=[];return n&&await this.balances.where("chainId").equals(t).and(c=>tn(c.walletAddress,n)).each(c=>r[c.tokenAddress]=BigInt(c.amount)),await this.tokens.where("chainId").equals(t).each(c=>{if(r[c.address]&&r[c.address]>0n){o.push(c.address);return}i[c.address]=c.priority,a.push(c.address),c.isFavorite&&s.add(c.address)}),{notZero:o,zero:a.sort((c,l)=>{const u=i[c],d=i[l],h=s.has(c),p=s.has(l);return h===p?u<d?1:u>d?-1:0:h?-1:p?1:0})}}async setFavoriteState(t,n,r){const i=Or(t,n);this.tokenCache.delete(i),await this.tokens.update(i,{isFavorite:r})}},ii.databaseVersion=3,ii);function Or(...e){return e.join(":")}function K$(e){var n;let t=((n=e==null?void 0:e.providers)==null?void 0:n.length)??0;t+=Eh[e.symbol]??0;for(const r of e.tags)t+=Eh[r]??0;return t}var ec=`last-update-token-database-timestamp-v${Vu.databaseVersion}`,tc=`last-update-token-balance-database-timestamp-v${Vu.databaseVersion}`,Z$=6048e5,Y$=Eb,Uu=class{constructor(){this.schema=new Vu,this.tokenUsdPriceProvider=new G$,this.oneInchApiAdapter=new da,this.lastUpdateTokenDatabaseTimestampStorage=ae.get(ec,qn),this.lastUpdateTokenBalanceDatabaseTimestampStorage=ae.get(tc,qn)}async getSortedForViewTokenAddresses(e,t){await this.updateTokenDatabase(e),t&&await this.updateBalanceDatabase(e,t);const n=await this.schema.getSortedForViewTokenAddresses(e,t);if(t){const r=await this.getTokenUSDPrices(e,n.notZero),i=await this.getTokenMap(e,n.notZero),s=await this.getTokenBalanceMap(e,t,n.notZero),o=await this.getAllFavoriteTokenAddresses(e),a=new Set(o),c={};for(const l of n.notZero){const u=i[l],d=r[l],h=Bt(s[l],u.decimals);c[l]=Number(h)*Number(d)}return[...n.notZero.sort((l,u)=>{const d=a.has(l),h=a.has(u);return d===h?c[u]-c[l]:d?-1:1}),...n.zero]}return[...n.notZero,...n.zero]}async getToken(e,t){return await this.updateTokenDatabase(e),await this.schema.getToken(e,t)}async getNativeToken(e){return await this.updateTokenDatabase(e),await this.schema.getNativeToken(e)}async getTokenBySymbol(e,t){return await this.updateTokenDatabase(e),this.schema.getTokenBySymbol(e,t)}async getTokenList(e,t){return await this.updateTokenDatabase(e),await this.schema.getTokenList(e,t)}async getTokenMap(e,t){return await this.schema.getTokenMap(e,t)}async getTokenBalanceMap(e,t,n){return await this.updateBalanceDatabase(e,t),await this.schema.getTokenBalanceMap(e,t,n)}async getTokenBalance(e,t,n){return await this.updateBalanceDatabase(e,n),await this.schema.getTokenBalance(e,t,n)}async getTokenUSDPrice(e,t){return(await this.getTokenUSDPrices(e,[t]))[t]}async getPriorityToken(e,t){const n=await this.getTokenList(e,t),r=i=>i.tags.includes("PEG:USD")||i.tags.includes("PEG:EUR");return n.sort((i,s)=>{const o=r(i),a=r(s);return o&&a?i.priority-s.priority:o&&!a?-1:!o&&a?1:i.priority-s.priority})[0]}async setFavoriteState(e,t,n){await this.schema.setFavoriteState(e,t,n)}async getAllFavoriteTokenAddresses(e){return await this.schema.getAllFavoriteTokenAddresses(e)}async getTokenUSDPrices(e,t){const n={},r=await this.oneInchApiAdapter.getTokenPrices(e).catch(()=>null);if(r===null){const i=await this.schema.getTokens(e,t);return await Promise.all(i.map(s=>this.tokenUsdPriceProvider.getPrice(e,s).catch(()=>"0").then(o=>n[s.address]=o))),n}for(const i of t)n[i]=r[i]??"0";return n}async updateTokenDatabase(e){var r;const t=(r=this.lastUpdateTokenDatabaseTimestampStorage)==null?void 0:r[e];if(t&&Date.now()-t<Z$)return;const n=await this.oneInchApiAdapter.getWhiteListedTokens(e);await this.schema.setTokens(e,n),ae.updateEntity(ec,e.toString(),Date.now()),this.lastUpdateTokenDatabaseTimestampStorage=ae.get(ec,qn)}async updateBalanceDatabase(e,t){var s;const n=[e,t].join(":"),r=(s=this.lastUpdateTokenBalanceDatabaseTimestampStorage)==null?void 0:s[n];if(r&&Date.now()-r<Y$[e])return;let i=await this.oneInchApiAdapter.getBalancesByWalletAddress(e,t).catch(()=>null);i===null&&(i=await this.getBalancesOnChain(e,t)),await this.schema.setBalances(e,t,i),ae.updateEntity(tc,n,Date.now()),this.lastUpdateTokenBalanceDatabaseTimestampStorage=ae.get(tc,qn)}liveQuery(e){return wb(e)}async getBalancesOnChain(e,t){const n=await this.schema.getAllTokenAddresses(e);return E$(e,t,n)}};Es([$r()],Uu.prototype,"updateTokenDatabase");Es([$r()],Uu.prototype,"updateBalanceDatabase");var Le=new Uu;function yn(e,t){const n=tn(e.address,t.address),r=e.chainId===t.chainId;return n&&r}function J$(e,t){return e.rate===t.rate&&e.chainId===t.chainId&&e.revertedRate===t.revertedRate&&yn(e.sourceToken,t.sourceToken)&&yn(e.destinationToken,t.destinationToken)}var $h=class{constructor(){this.amountForView=null,this.amount=null,this.token=null,this.signalChange$=new ht}setToken(e){this.token&&e&&yn(this.token,e)||(this.token=e??null,this.signalChange$.next())}setAmount(e,t=!1){this.amount===e&&!t||(this.amount=e,t&&(this.amountForView=e),this.signalChange$.next())}getSnapshot(){return{token:this.token,amountRaw:this.amount,amountView:this.amountForView}}streamSnapshot(){return this.signalChange$.pipe(q(()=>this.getSnapshot()),Je(this.getSnapshot()))}},X$=class{constructor(){this.source=new $h,this.destination=new $h,this.pairChance$=new ht}switchPair(){const{source:e,destination:t}=this;this.source=t,this.destination=e,this.pairChance$.next()}setPair(e){this.setToken(e.srcToken,"source"),this.setToken(e.dstToken,"destination"),this.pairChance$.next()}setAmount(e,t,n){this.getTokenContext(e).setAmount(t,n)}streamSnapshot(e){return this.pairChance$.pipe(Je(null),ne(()=>this.getTokenContext(e).streamSnapshot()))}getSnapshot(e){return this.getTokenContext(e).getSnapshot()}setToken(e,t){this.getTokenContext(t).setToken(e)}getTokenContext(e){if(e==="source")return this.source;if(e==="destination")return this.destination;throw new Error(`invalid token type ${e}`)}},kb=class{constructor(e,t,n=Ab()){this.pairHolder=e,this.walletController=t,this.rateProvider=n,this.sourceTokenSnapshot$=this.pairHolder.streamSnapshot("source"),this.destinationTokenSnapshot$=this.pairHolder.streamSnapshot("destination"),this.sourceTokenAmount$=this.sourceTokenSnapshot$.pipe(q(r=>r.amountRaw),Pe()),this.rate$=X(()=>ye([this.walletController.data.chainId$,this.sourceTokenSnapshot$,this.destinationTokenSnapshot$])).pipe(dr(0),ne(([r,i,s])=>{const o=i.token,a=s.token;return!o||!a||!r?[null]:this.rateProvider.listenOnChainRate(r,o,a)}),ke({refCount:!0,bufferSize:1})),this.destinationTokenAmount$=ye([this.rate$,this.sourceTokenAmount$.pipe(Pe())]).pipe(q(([r,i])=>{if(!r||!i)return 0n;const s=r.sourceToken,o=r.destinationToken;return r.isReverted?In.div(i,r.revertedRate,s.decimals,o.decimals,o.decimals):In.mul(i,r.rate,s.decimals,s.decimals,o.decimals)})),this.autoSlippage$=ye([]).pipe()}destroy(){}},Q$=class{constructor(e,t,n=new da,r=new kb(e,t)){this.pairHolder=e,this.walletController=t,this.devPortalAdapter=n,this.fallback=r,this.sourceTokenAmount$=ye([this.walletController.data.chainId$,this.walletController.data.activeAddress$,this.pairHolder.streamSnapshot("source")]).pipe(ne(([i,s,o])=>{const a=o.token;return!i||!s||!a?[0n]:Le.liveQuery(()=>Le.getTokenBalance(i,a.address,s).then(c=>BigInt((c==null?void 0:c.amount)??"0")))})),this.quoteReceive$=X(()=>ye([this.walletController.data.chainId$,this.walletController.data.activeAddress$,this.pairHolder.streamSnapshot("source"),this.pairHolder.streamSnapshot("destination"),this.sourceTokenAmount$])).pipe(dr(300),ne(([i,s,o,a,c])=>{const l=o.token,u=a.token,d=o.amountRaw;return!d||!i||!s||!l||!u||d===0n||c===0n||d>c?[null]:this.devPortalAdapter.getFusionQuoteReceive(i,l.address,u.address,d,s)}),Pe(),ke({bufferSize:1,refCount:!0})),this.recommendedPreset$=this.quoteReceive$.pipe(q(i=>i?i.presets[i.recommended_preset]??null:null),Pe()),this.averageDestinationTokenAmount$=this.recommendedPreset$.pipe(q(i=>{if(!i)return 0n;const s=BigInt(i.auctionStartAmount),o=BigInt(i.auctionEndAmount);return(s+o)/2n})),this.rate$=ye([this.quoteReceive$,this.averageDestinationTokenAmount$]).pipe(dr(0),jy(this.walletController.data.chainId$,this.pairHolder.streamSnapshot("source"),this.pairHolder.streamSnapshot("destination")),q(([[i,s],o,a,c])=>{const l=a.token,u=c.token;if(!i||!l||!u||!o)return null;const d=BigInt(i.fromTokenAmount),h=In.div(s,d,u.decimals,l.decimals),p=In.div(d,s,l.decimals,u.decimals);return{chainId:o,rate:h,revertedRate:p,sourceToken:l,destinationToken:u,isReverted:!1}}),Pe(),ne(i=>i?[i]:this.fallback.rate$)),this.destinationTokenAmount$=this.quoteReceive$.pipe(ne(i=>i?[BigInt(i.toTokenAmount)]:this.fallback.destinationTokenAmount$))}destroy(){}},eA=class{constructor(e){this.walletController=e,this.pairHolder=new X$,this.subscription=new On,this.lastSwapContextStrategy=null,this.chainId$=X(()=>this.walletController.data.chainId$),this.connectedWalletAddress$=X(()=>this.walletController.data.activeAddress$),this.strategy$=this.connectedWalletAddress$.pipe(q(t=>t===null),Pe(),Ny((t,n)=>(t&&t.destroy(),n?new kb(this.pairHolder,this.walletController):new Q$(this.pairHolder,this.walletController)),null),Q(t=>this.lastSwapContextStrategy=t),ke({bufferSize:1,refCount:!0})),this.rate$=this.strategy$.pipe(ne(t=>t.rate$)),this.destinationTokenAmount$=this.strategy$.pipe(ne(t=>t.destinationTokenAmount$)),this.subscription.add(wr(this.destinationTokenAmount$.pipe(Pe(),Q(t=>{this.setTokenAmountByType("destination",t,!0)}))).subscribe())}destroy(){var e;this.subscription.unsubscribe(),(e=this.lastSwapContextStrategy)==null||e.destroy()}setPair(e){this.pairHolder.setPair(e)}switchPair(){this.pairHolder.switchPair()}getTokenByType(e){return this.pairHolder.streamSnapshot(e).pipe(q(t=>t.token),Pe())}getTokenAmountByType(e){return this.pairHolder.streamSnapshot(e).pipe(q(t=>t.amountView),Pe())}getTokenRawAmountByType(e){return this.pairHolder.streamSnapshot(e).pipe(q(t=>t.amountRaw),Pe())}setTokenAmountByType(e,t,n){this.pairHolder.setAmount(e,t,n)}};async function ml(e,t,n){const r=Sb(e,t,n);await r.requestAddresses().catch(s=>{var o,a;if(s.core===4001||(a=(o=s.message)==null?void 0:o.toLowerCase())!=null&&a.includes("user reject")||s.details==="Cancelled")throw s});const i=await r.getChainId();return e!==i&&await r.switchChain(yr(e)),r}function Sb(e,t,n){return D_({chain:yr(e),transport:Bx(t),account:n})}function nc(e,t){return new we(n=>{const r=i=>{n.next(i)};return e.on(t,r),()=>{if("removeListener"in e)return e.removeListener(t,r);console.warn("unable to unsubscribe from provider",e,t)}})}var Pb=class{constructor(e){this.info=e,this.provider$=new uc(null),this.activeAddressInner$=new uc(null),this.providerOrDisconnect$=wr(this.provider$,X(()=>this.disconnect$).pipe(q(()=>null))),this.addresses$=this.providerOrDisconnect$.pipe(ne(t=>t?ur(this.getAddresses()).pipe(ne(n=>nc(t,"accountsChanged").pipe(Je(n)))):lt([])),ke({bufferSize:1,refCount:!0})),this.activeAddress$=ye([this.addresses$,this.activeAddressInner$]).pipe(q(([t,n])=>n||t[0]),ke({bufferSize:1,refCount:!0})),this.chainId$=this.providerOrDisconnect$.pipe(ne(t=>t?ur(this.getChainId()).pipe(ne(n=>nc(t,"chainChanged").pipe(q(r=>Ah(r)),Je(n)))):lt(null)),ke({bufferSize:1,refCount:!0})),this.disconnect$=this.provider$.pipe(Fe(Boolean),ne(t=>nc(t,"disconnect"))),this.isConnected$=this.activeAddress$.pipe(q(t=>!!t)),this.info$=lt(e)}getInfo(){return this.info}setProvider(e){this.provider$.next(e)}async getAddresses(){const e=this.provider$.value;return e?await e.request({method:"eth_accounts"}):[]}async getActiveAddress(){const e=this.activeAddressInner$.value;return e||((await this.getAddresses())[0]??null)}async getChainId(){const e=this.provider$.value;if(!e)return null;const t=await e.request({method:"eth_chainId"}).catch(()=>null);return t?Ah(t):null}async isConnected(){return!!await this.getActiveAddress()}setActiveAddress(e){this.activeAddressInner$.next(e)}};function Ah(e){return typeof e=="number"?e:parseInt(e,16)}var kh=class{constructor(e){this.providerDetail=e,this.client=null,this.data=new Pb(this.providerDetail.info)}async connect(e){return this.client=await ml(e,this.providerDetail.provider),this.data.setProvider(this.providerDetail.provider),!0}async restoreConnect(e,t){this.data.setProvider(this.providerDetail.provider);const r=(await this.data.getAddresses()).length>0&&e!==null;return r?this.client=Sb(e,this.providerDetail.provider):this.data.setProvider(null),!r&&t?this.connect(e):r}async disconnect(){return this.client=null,this.data.setProvider(null),!0}async changeChain(e){return this.client?(await this.client.switchChain({id:e}),!0):!1}async isConnected(){var t;return(await((t=this.client)==null?void 0:t.getAddresses())??[]).length>0}setActiveAddress(e){this.data.setActiveAddress(e)}};function tA(e){ae.set("chainId",Number(e))}function Cb(){return ae.get("chainId",Number)}function nA(e){ae.set("activeAddress",e)}function rA(){return ae.get("activeAddress",JSON.parse)}function Sh(e){ae.set("activeWallet",e)}function Ph(){return ae.get("activeWallet",JSON.parse)}function iA(e){const t=ae.get("connectedWallet",JSON.parse),n=new Set(t);n.has(e)||(n.add(e),ae.set("connectedWallet",[...n.keys()]))}function sA(){return ae.get("connectedWallet",JSON.parse)}function Ch(e){const t=ae.get("connectedWallet",JSON.parse),n=new Set(t);n.has(e)&&(n.delete(e),ae.set("connectedWallet",[...n.keys()]))}var rc=new WeakMap;function Ae(e){if(rc.has(e))return rc.get(e);const t=y1(["string","string","string"],[e.name,e.rdns??"",e.icon]).slice(0,10);return rc.set(e,t),t}var oA=class{constructor(e){this.dataProvider=e,this.chainIdInner$=new uc(Cb()??x.eth),this.currentActiveAdapter$=X(()=>this.dataProvider.update$).pipe(Je(null),q(()=>this.dataProvider.currentActiveAdapter),Pe(),ke({bufferSize:1,refCount:!0})),this.currentActiveAdapterData$=this.currentActiveAdapter$.pipe(q(t=>(t==null?void 0:t.data)??null),ke({bufferSize:1,refCount:!0})),this.info$=this.currentActiveAdapterData$.pipe(Fe(Boolean),ne(t=>t.info$)),this.addresses$=this.currentActiveAdapterData$.pipe(ne(t=>(t==null?void 0:t.addresses$)??lt([])),Q(t=>console.log(t)),ke({bufferSize:1,refCount:!0})),this.activeAddress$=this.currentActiveAdapterData$.pipe(ne(t=>(t==null?void 0:t.activeAddress$)??lt(null)),Q(t=>t&&nA(t)),ke({bufferSize:1,refCount:!0})),this.chainId$=ye([this.currentActiveAdapterData$,this.chainIdInner$]).pipe(ne(([t,n])=>(t==null?void 0:t.chainId$)??lt(n)),Q(t=>t&&tA(t)),ke({bufferSize:1,refCount:!0})),this.disconnect$=this.currentActiveAdapterData$.pipe(ne(t=>(t==null?void 0:t.disconnect$)??lt()),ke({bufferSize:1,refCount:!0})),this.isConnected$=this.currentActiveAdapterData$.pipe(ne(t=>(t==null?void 0:t.isConnected$)??lt(!1)),ke({bufferSize:1,refCount:!0})),ye([this.activeAddress$,this.chainId$]).pipe(jo(vf)).subscribe()}getInfo(){if(!this.dataProvider.currentActiveAdapter)throw new Error("");return this.dataProvider.currentActiveAdapter.data.getInfo()}async getAddresses(){const e=await this.getProviderDataAdapter();return e?await e.getAddresses():[]}async getActiveAddress(){if(!this.dataProvider.currentActiveAdapter)return null;const e=await this.getProviderDataAdapter();return e?await e.getActiveAddress():null}async getChainId(){if(!this.dataProvider.currentActiveAdapter)return this.chainIdInner$.value;const e=await this.getProviderDataAdapter();if(!e)return this.chainIdInner$.value;const t=await e.getChainId();return t||this.chainIdInner$.value}async isConnected(){if(!this.dataProvider.currentActiveAdapter)return!1;const e=await this.getProviderDataAdapter();return e?await e.isConnected():!1}async isActiveAddress(e,t){var o,a;const n=Ae(e),r=await((o=this.dataProvider.currentActiveAdapter)==null?void 0:o.data.getActiveAddress())??null,i=((a=this.dataProvider.currentActiveAdapter)==null?void 0:a.data.getInfo())??null,s=i?Ae(i):null;return!!r&&!!s&&n===s&&tn(r,t)}isActiveWallet(e){var i;const t=Ae(e),n=((i=this.dataProvider.currentActiveAdapter)==null?void 0:i.data.getInfo())??null,r=n?Ae(n):null;return!!r&&r===t}isActiveAddress$(e,t){const n=Ae(e);return ye([this.currentActiveAdapter$,this.activeAddress$]).pipe(q(([r,i])=>{const s=r?Ae(r.data.getInfo()):null;return!!i&&!!s&&n===s&&tn(i,t)}))}isActiveWallet$(e){const t=Ae(e);return this.currentActiveAdapter$.pipe(q(n=>{const r=n?Ae(n.data.getInfo()):null;return!!r&&r===t}))}setChainId(e){this.chainIdInner$.next(e)}getProviderDataAdapter(){return St(this.currentActiveAdapterData$.pipe(jl(Mf(0)),Nf(null)))}};function aA(){return!!window.ethereum}async function cA(){if(!window.ethereum)throw new Error("injected provider not supported");return{provider:window.ethereum,info:{walletId:"injectedWalletId",uuid:"injectedWallet",name:uA(),icon:await lA()}}}var Th={default:()=>R(()=>import("./default-icon-IZEI2TO5-57bNFlKZ.js"),__vite__mapDeps([])).then(e=>e.icon),oneInchWallet:()=>R(()=>import("./one-inch-wallet-icon-6MR6MACS-BHMg-Ox7.js"),__vite__mapDeps([])).then(e=>e.icon)};function lA(){var e;return(e=window.ethereum)!=null&&e.isOneInchWallet?Th.oneInchWallet():Th.default()}function uA(){var e;return(e=window.ethereum)!=null&&e.isOneInchWallet?"1inch wallet":"Browser wallet"}var dA=class{constructor(e){this.providerDetail=e,this.provider=null,this.client=null,this.data=new Pb(this.providerDetail.info)}async isConnected(){var e;return((e=this.provider)==null?void 0:e.isConnected())??!1}async connect(e){if(this.provider)await this.provider.connect();else{const t=await R(()=>import("./multi-connect-provider-2S3YGMBN-kjERMvRb.js"),__vite__mapDeps([])).then(n=>n.MultiConnectProvider.connect());this.client=await ml(e,t),this.data.setProvider(t),this.provider=t}return!0}async restoreConnect(){if(this.provider)await this.provider.restoreConnect();else{const e=await R(()=>import("./multi-connect-provider-2S3YGMBN-kjERMvRb.js"),__vite__mapDeps([])).then(t=>t.MultiConnectProvider.restoreConnect());this.client=await ml(e.chainId,e),this.data.setProvider(e),this.provider=e}return!0}async disconnect(){var e;return(e=this.provider)==null||e.disconnect(),!0}async changeChain(e){var t;return await((t=this.client)==null?void 0:t.switchChain({id:e})),!0}setActiveAddress(e){var t;(t=this.provider)==null||t.setActiveAddress(e)}};async function hA(){return{info:{walletId:"walletConnectId",uuid:"walletConnect",name:"Wallet Connect",icon:await pA()}}}var fA={default:()=>R(()=>import("./wallet-connect-icon-SLMEDYWR-lPk-W8Bs.js"),__vite__mapDeps([])).then(e=>e.icon)};function pA(){return fA.default()}var mA=class{constructor(){this.data=new oA(this),this.activeAdapters=new Map,this.update$=new ht,this.currentActiveAdapterId=null,this.adapters=new Map}get isConnected(){return this.currentActiveAdapter!==null}get currentActiveAdapter(){return this.currentActiveAdapterId?this.activeAdapters.get(this.currentActiveAdapterId)??null:null}async init(){await this.initWallets(),await this.restoreChainId(),await this.restoreWalletConnection(),this.update$.next()}async getSupportedWallets(){const e=[];return this.adapters.forEach(t=>e.push(t.data.getInfo())),e.sort((t,n)=>{const r=Ae(t),i=Ae(n);return r===this.currentActiveAdapterId&&i!==this.currentActiveAdapterId?-1:r!==this.currentActiveAdapterId&&i===this.currentActiveAdapterId?1:this.activeAdapters.has(r)&&this.activeAdapters.has(i)?0:this.activeAdapters.has(r)&&!this.activeAdapters.has(i)?-1:!this.activeAdapters.has(r)&&this.activeAdapters.has(i)?1:0})}async connect(e){const t=await this.data.getChainId(),n=Ae(e);if(!this.adapters.has(n))throw new Error(`Invalid wallet info ${e.name} not exist`);const r=await this.connectSafe(t,n);return this.afterConnectWallet(r,n),this.update$.next(),r}async addConnection(e){const t=await this.data.getChainId(),n=Ae(e);if(!this.adapters.has(n))throw new Error(`Invalid wallet info ${e.name} not exist`);const r=this.adapters.get(n);if(!r)throw new Error("Invalid wallet id");if(!this.activeAdapters.has(n))throw new Error(`Wallet adapter ${e.name} not connected`);let i;try{i=await r.connect(t)}catch{i=!1}return this.update$.next(),i}async disconnect(){if(this.currentActiveAdapter===null)return!0;try{const e=await this.currentActiveAdapter.disconnect();return this.currentActiveAdapterId&&this.activeAdapters.delete(this.currentActiveAdapterId),this.currentActiveAdapterId&&Ch(this.currentActiveAdapterId),this.currentActiveAdapterId=null,this.update$.next(),e}catch(e){return console.error(e),!1}}async changeChain(e){let t=!0;if(this.currentActiveAdapter)try{t=await this.currentActiveAdapter.changeChain(e)}catch{t=!1}return t&&this.data.setChainId(e),t}getDataAdapter(e){const t=Ae(e),n=this.adapters.get(t);if(!n)throw new Error(`Invalid wallet info ${e.name} not exist`);return n.data}async setActiveAddress(e,t){const n=Ae(e);return await this.setActiveAddressInner(n,t)}async setActiveAddressInner(e,t){var r;let n=!0;if(this.currentActiveAdapterId!==e){const i=await this.data.getChainId();if(!this.adapters.has(e))throw new Error("Invalid wallet not exist");n=await this.connectSafe(i,e),this.afterConnectWallet(n,e)}n&&((r=this.currentActiveAdapter)==null||r.setActiveAddress(t)),this.update$.next()}async connectSafe(e,t,n=!1){const r=this.adapters.get(t);if(!r)throw new Error("Invalid wallet id");let i;if(!this.activeAdapters.has(t)||n){try{i=await r.connect(e)}catch{i=!1}i&&this.activeAdapters.set(t,r)}else i=await r.isConnected(),!n&&!i&&(i=await this.connectSafe(e,t,!0));return i}async restoreConnectSafe(e,t,n){const r=this.adapters.get(t);if(!r)throw new Error("Invalid wallet id");let i;if(this.activeAdapters.has(t))i=await r.isConnected();else{try{i=await r.restoreConnect(e,n)}catch{i=!1}i&&this.activeAdapters.set(t,r)}return i}async restoreChainId(){const e=Cb();e&&await this.changeChain(e)}async restoreWalletConnection(){const e=Ph(),t=sA();if(!t)return;await this.getSupportedWallets();const n=await this.data.getChainId();for(const o of t){if(o===e||!this.adapters.has(o))continue;const a=await this.restoreConnectSafe(n,o).catch(()=>!1);this.afterConnectWallet(a,o)}if(!e||!this.adapters.has(e))return;const r=await this.restoreConnectSafe(n,e,!0);if(this.afterConnectWallet(r,e),!r)return;const i=rA();!i||!this.currentActiveAdapter||!(await this.currentActiveAdapter.data.getAddresses()).includes(i)||await this.setActiveAddressInner(e,i)}initWallets(){return new Promise(e=>{let t=!1;ce(window,"eip6963:announceProvider").pipe(Q(n=>{t=bA(window.ethereum,n.detail.provider);const r=Ae(n.detail.info);this.adapters.has(r)||this.adapters.set(r,new kh(n.detail))}),dr(100),By(1),jl(Mf(100)),Nf(null),Q(async()=>{if(!t&&aA()){const i=await cA(),s=Ae(i.info);this.adapters.has(s)||this.adapters.set(s,new kh(i))}const n=await hA(),r=Ae(n.info);this.adapters.set(r,new dA(n)),e()})).subscribe(),window.dispatchEvent(new Event("eip6963:requestProvider"))})}afterConnectWallet(e,t){e?(this.currentActiveAdapterId=t,iA(t),Sh(t)):(Ch(t),Ph()===t&&Sh(null),this.currentActiveAdapterId===t&&(this.currentActiveAdapterId=null),this.activeAdapters.has(t)&&(this.adapters.get(t).disconnect().catch(),this.activeAdapters.delete(t)))}};function bA(e,t){if(e===t)return!0;const n=Object.keys(e??{}),r=Object.keys(t??{});if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function gA(){return new mA}function Zn(e,t,n){return e?t(e):n==null?void 0:n(e)}let Tb=class extends Event{constructor(t,n,r){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=n,this.subscribe=r??!1}};function XS(e){return e}let Ih=class{constructor(t,n,r,i){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(s,o)=>{this.unsubscribe&&(this.unsubscribe!==o&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=s,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(s,o)),this.unsubscribe=o},this.host=t,n.context!==void 0){const s=n;this.context=s.context,this.callback=s.callback,this.subscribe=s.subscribe??!1}else this.context=n,this.callback=r,this.subscribe=i??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new Tb(this.context,this.t,this.subscribe))}};class yA{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,n=!1){const r=n||!Object.is(t,this.o);this.o=t,r&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[n,{disposer:r}]of this.subscriptions)n(this.o,r)},t!==void 0&&(this.value=t)}addCallback(t,n,r){if(!r)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:n});const{disposer:i}=this.subscriptions.get(t);t(this.value,i)}clearCallbacks(){this.subscriptions.clear()}}let vA=class extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}};class Fs extends yA{constructor(t,n,r){var i,s;super(n.context!==void 0?n.initialValue:r),this.onContextRequest=o=>{const a=o.composedPath()[0];o.context===this.context&&a!==this.host&&(o.stopPropagation(),this.addCallback(o.callback,a,o.subscribe))},this.onProviderRequest=o=>{const a=o.composedPath()[0];if(o.context!==this.context||a===this.host)return;const c=new Set;for(const[l,{consumerHost:u}]of this.subscriptions)c.has(l)||(c.add(l),u.dispatchEvent(new Tb(this.context,l,!0)));o.stopPropagation()},this.host=t,n.context!==void 0?this.context=n.context:this.context=n,this.attachListeners(),(s=(i=this.host).addController)==null||s.call(i,this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new vA(this.context))}}function Et({context:e,subscribe:t}){return(n,r)=>{typeof r=="object"?r.addInitializer(function(){new Ih(this,{context:e,callback:i=>{this[r.name]=i},subscribe:t})}):n.constructor.addInitializer(i=>{new Ih(i,{context:e,callback:s=>{i[r]=s},subscribe:t})})}}var wA=Object.defineProperty,xA=Object.getOwnPropertyDescriptor,Ft=(e,t,n,r)=>{for(var i=r>1?void 0:r?xA(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&wA(t,n,i),i};const Ur=()=>new _A;class _A{}const ic=new WeakMap,fn=rn(class extends vs{render(e){return de}update(e,[t]){var r;const n=t!==this.Y;return n&&this.Y!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=t,this.ht=(r=e.options)==null?void 0:r.host,this.rt(this.ct=e.element)),de}rt(e){if(typeof this.Y=="function"){const t=this.ht??globalThis;let n=ic.get(t);n===void 0&&(n=new WeakMap,ic.set(t,n)),n.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),n.set(this.Y,e),e!==void 0&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){var e,t;return typeof this.Y=="function"?(e=ic.get(this.ht??globalThis))==null?void 0:e.get(this.Y):(t=this.Y)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function EA(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var bl=["#FF0000","#FF7F00","#ffd500","#40ff00","#0000FF","#37009e","#8B00FF"],tP=EA(bl),Oh=kA(bl,bl.length/2),$A=[...Oh,...Oh.reverse()];function gl(e){let t=0,n=0,r=0;return e.length===4?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),r=parseInt(e[3]+e[3],16)):e.length===7&&(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),r=parseInt(e[5]+e[6],16)),[t,n,r]}function Hu(e,t,n){const r=i=>i.toString(16).padStart(2,"0");return`#${r(e)}${r(t)}${r(n)}`}function sc(e,t,n){return Math.round(e+(t-e)*n)}function AA(e,t,n){const[r,i,s]=gl(e),[o,a,c]=gl(t),l=[];for(let u=0;u<=n;u++){const d=u/n,h=sc(r,o,d),p=sc(i,a,d),m=sc(s,c,d);l.push(Hu(h,p,m))}return l}function kA(e,t){const n=[];for(let r=0;r<e.length-1;r++){const i=AA(e[r],e[r+1],t);n.push(...i.slice(0,-1))}return n.push(e[e.length-1]),n}function Bh(e,t=100){const[n,r,i]=gl(e);return ft(`rgba(${n}, ${r}, ${i}, ${t}%)`)}function SA(e){e=e.replace(/^#/,"");const t=parseInt(e,16);let n=t>>16&255,r=t>>8&255,i=t&255;const s=-32,o=-32,a=-32,c=l=>Math.max(0,Math.min(255,l));return n=c(n+s),r=c(r+o),i=c(i+a),ft(Hu(n,r,i))}function nP(){const n=[Math.floor(Math.random()*168+32),Math.floor(Math.random()*168+32),200];return n.sort(()=>Math.random()-.5),Hu(n[0],n[1],n[2])}function rP(e){return L`
      :root {
          --primary: ${ft(e)};
          --primary-50: ${Bh(e,50)};
          --primary-12: ${Bh(e,12)};
          --primary-hover: ${SA(e)};
          --secondary: ${ft(e)}1f;
          --secondary-hover: ${ft(e)}3d;
      }
  `}var Ib=document.createElement("style"),Ob=document.createElement("style"),PA=L`@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(fonts/Inter/Inter-Medium.woff2) format("woff2")}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(fonts/Inter/Inter-SemiBold.woff2) format("woff2")}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(fonts/Inter/Inter-Regular.woff2) format("woff2")}*{font-family:Inter,sans-serif;font-style:normal}`,CA=L`html{background-color:var(--color-background-bg-body);position:fixed;width:100vw;height:100vh;overflow:auto;overscroll-behavior:none}body{margin:0;touch-action:pan-y;background-color:var(--color-background-bg-body);box-sizing:border-box}::view-transition-new(root),::view-transition-old(root){animation:none;mix-blend-mode:normal}*{user-select:none;outline:0;-webkit-user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}`,Bb=(e=>(e[e.systemSync=0]="systemSync",e[e.dark=1]="dark",e[e.darkBlue=2]="darkBlue",e[e.light=3]="light",e[e.lightBlue=4]="lightBlue",e))(Bb||{}),js=(e=>(e[e.community=0]="community",e[e.random=1]="random",e[e.rainbow=2]="rainbow",e[e.orange=3]="orange",e[e.violet=4]="violet",e))(js||{}),_i={0:()=>IA(),1:()=>R(()=>import("./dark.style-SZRD25FZ-DFJH-P8Y.js"),__vite__mapDeps([])).then(e=>e.themeDark),2:()=>R(()=>import("./dark-blue.style-IGURAS6Y-v72EKD0i.js"),__vite__mapDeps([])).then(e=>e.themeDarkBlue),3:()=>R(()=>import("./light.style-G4JVL6CL-CdufRdF3.js"),__vite__mapDeps([])).then(e=>e.themeLight),4:()=>R(()=>import("./light-blue.style-JRIPM2DB-DV8mmKoC.js"),__vite__mapDeps([])).then(e=>e.themeLightBlue)},TA={0:()=>R(()=>import("./community.style-N6MS54TY-DzgIgxTw.js"),__vite__mapDeps([])).then(e=>e.communityStyle),2:()=>R(()=>import("./rainbow.style-M2WWTXIC-ChF1IhWN.js"),__vite__mapDeps([])).then(e=>e.rainbowStyle),1:()=>R(()=>import("./random.style-GYYPDRAC-9Hc0l7H6.js"),__vite__mapDeps([])).then(e=>e.randomStyle),3:()=>R(()=>import("./orange.style-2GBM3EVW-BalBhp1a.js"),__vite__mapDeps([])).then(e=>e.orangeStyle),4:()=>R(()=>import("./violet.style-LYRK4XDV--5vQRR1P.js"),__vite__mapDeps([])).then(e=>e.violetStyle)};function IA(){var e,t;return window.matchMedia("(prefers-color-scheme: dark)").matches?(e=window==null?void 0:window.ethereum)!=null&&e.isOneInchIOSWallet?_i[2]():_i[1]():(t=window==null?void 0:window.ethereum)!=null&&t.isOneInchIOSWallet?_i[4]():_i[3]()}var Rb,Mb,yl={0:()=>OA(),3:()=>"#f1f1f1",4:()=>"#f1f1f1",1:()=>"#0e0e0e",2:()=>"#0e0e0e"},qu=window.matchMedia("(prefers-color-scheme: dark)"),Nb=new gf(1);function OA(){return qu.matches?yl[1]():yl[3]()}function Fb(){return Nb}qu.onchange=async()=>{Rb===0&&await jb(0,Mb)};function BA(e){return e===0?qu.matches:e===1||e===2}async function jb(e,t,n){await(async()=>{const i=await _i[e](),s=await TA[t]();pc(Ib,i),pc(Ob,s),Vy(yl[e]()),Rb=e,Mb=t,document.documentElement.setAttribute("theme",BA(e)?"dark":"light"),document.documentElement.setAttribute("brand-color",js[t]),Nb.next({mainColor:e,brandColor:t})})()}var pa=L`::-webkit-scrollbar{width:4px;height:4px}::-webkit-scrollbar-track{background:0 0}::-webkit-scrollbar-thumb{background:var(--primary);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--primary-hover)}${tt(L`::-webkit-scrollbar{width:2px;height:2px}`)}`;async function RA(e=3,t=0){document.head.appendChild(Ib),document.head.appendChild(Ob),Pa(PA),Pa(CA),Pa(pa),await jb(e,t)}function Db(){return ft(`linear-gradient(90deg, ${ft($A.join(","))})`)}const Rh=(e,t,n)=>{const r=new Map;for(let i=t;i<=n;i++)r.set(e[i],i);return r},MA=rn(class extends ys{constructor(e){if(super(e),e.type!==gs.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,n){let r;n===void 0?n=t:t!==void 0&&(r=t);const i=[],s=[];let o=0;for(const a of e)i[o]=r?r(a,o):o,s[o]=n(a,o),o++;return{values:s,keys:i}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,r]){const i=$g(e),{values:s,keys:o}=this.dt(t,n,r);if(!Array.isArray(i))return this.ut=o,s;const a=this.ut??(this.ut=[]),c=[];let l,u,d=0,h=i.length-1,p=0,m=s.length-1;for(;d<=h&&p<=m;)if(i[d]===null)d++;else if(i[h]===null)h--;else if(a[d]===o[p])c[p]=Dn(i[d],s[p]),d++,p++;else if(a[h]===o[m])c[m]=Dn(i[h],s[m]),h--,m--;else if(a[d]===o[m])c[m]=Dn(i[d],s[m]),pi(e,c[m+1],i[d]),d++,m--;else if(a[h]===o[p])c[p]=Dn(i[h],s[p]),pi(e,i[d],i[h]),h--,p++;else if(l===void 0&&(l=Rh(o,p,m),u=Rh(a,d,h)),l.has(a[d]))if(l.has(a[h])){const f=u.get(o[p]),y=f!==void 0?i[f]:null;if(y===null){const b=pi(e,i[d]);Dn(b,s[p]),c[p]=b}else c[p]=Dn(y,s[p]),pi(e,i[d],y),i[f]=null;p++}else Ea(i[h]),h--;else Ea(i[d]),d++;for(;p<=m;){const f=pi(e,c[m+1]);Dn(f,s[p]),c[p++]=f}for(;d<=h;){const f=i[d++];f!==null&&Ea(f)}return this.ut=o,Eg(e,c),It}});var Wu=Symbol("scrollContext"),vn=class extends K{constructor(){super(...arguments),this.context=new Fs(this,{context:Wu})}firstUpdated(){this.context.setValue(this)}updated(){G(this,{maxHeight:this.maxHeight?`${this.maxHeight}px`:""})}render(){return P`<slot></slot>`}};vn.tagName="inch-scroll-view-provider";Ft([V({type:Number,attribute:!1})],vn.prototype,"maxHeight",2);vn=Ft([J(vn.tagName)],vn);var Hr=class extends K{constructor(){super(...arguments),this.contentRef=Ur(),this.scrollContainerRef=Ur(),this.globalOffsetY=0}get contentHeight(){var e;return((e=this.contentRef.value)==null?void 0:e.clientHeight)??0}get scrollContainer(){if(!this.scrollContainerRef.value)throw new Error("");return this.scrollContainerRef.value}firstUpdated(){if(!this.context)throw new Error("inch-scroll-view-consumer must be used inside inch-scroll-view-provider");this.globalOffsetY=this.context.clientHeight-this.clientHeight,wt(this,[wr(Fr(this.context),Fr(this.contentRef.value)).pipe(Q(()=>this.updateView()))])}render(){return P`<div class="scroll-container" ${fn(this.scrollContainerRef)}><div ${fn(this.contentRef)}><slot></slot></div></div>`}updateView(){this.contentHeight>(this.context.maxHeight??0)?(this.scrollContainer.style.height=`${(this.context.maxHeight??0)-this.globalOffsetY}px`,!this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.add("overflow")):(this.scrollContainer.style.height=`${this.contentHeight}px`,this.scrollContainer.classList.contains("overflow")&&this.scrollContainer.classList.remove("overflow"))}};Hr.tagName="inch-scroll-view-consumer";Hr.styles=[pa,L`.scroll-container{display:block;flex-direction:column;transition:height .1s}.overflow{overflow:auto;display:block;position:relative;contain:size layout}`];Ft([Et({context:Wu,subscribe:!0})],Hr.prototype,"context",2);Hr=Ft([J(Hr.tagName)],Hr);var zb=class Lb extends Event{constructor(t){super(Lb.eventName,{bubbles:!1}),this.first=t.first,this.last=t.last}};zb.eventName="rangeChanged";var Vb=class Ub extends Event{constructor(t){super(Ub.eventName,{bubbles:!1}),this.first=t.first,this.last=t.last}};Vb.eventName="visibilityChanged";var Hb=class qb extends Event{constructor(){super(qb.eventName,{bubbles:!1})}};Hb.eventName="unpinned";var NA=class{constructor(e){this._element=null;const t=e??window;this._node=t,e&&(this._element=e)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}},FA=class extends NA{constructor(e,t){super(t),this._clients=new Set,this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1,this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this);const n=this._node;this._originalScrollTo=n.scrollTo,this._originalScrollBy=n.scrollBy,this._originalScroll=n.scroll,this._attach(e)}get _destination(){return this.__destination}get scrolling(){return this._destination!==null}scrollTo(e,t){const n=typeof e=="number"&&typeof t=="number"?{left:e,top:t}:e;this._scrollTo(n)}scrollBy(e,t){const n=typeof e=="number"&&typeof t=="number"?{left:e,top:t}:e;n.top!==void 0&&(n.top+=this.scrollTop),n.left!==void 0&&(n.left+=this.scrollLeft),this._scrollTo(n)}_nativeScrollTo(e){this._originalScrollTo.bind(this._element||window)(e)}_scrollTo(e,t=null,n=null){this._end!==null&&this._end(),e.behavior==="smooth"?(this._setDestination(e),this._retarget=t,this._end=n):this._resetScrollState(),this._nativeScrollTo(e)}_setDestination(e){let{top:t,left:n}=e;return t=t===void 0?void 0:Math.max(0,Math.min(t,this.maxScrollTop)),n=n===void 0?void 0:Math.max(0,Math.min(n,this.maxScrollLeft)),this._destination!==null&&n===this._destination.left&&t===this._destination.top?!1:(this.__destination={top:t,left:n,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(e){this._destination&&this._setDestination(e)&&this._nativeScrollTo(this._destination)}managedScrollTo(e,t,n){return this._scrollTo(e,t,n),this._updateManagedScrollTo}correctScrollError(e){this.correctingScrollError=!0,requestAnimationFrame(()=>requestAnimationFrame(()=>this.correctingScrollError=!1)),this._nativeScrollTo(e),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(this._destination!==null){const{scrollTop:e,scrollLeft:t}=this;let{top:n,left:r}=this._destination;n=Math.min(n||0,this.maxScrollTop),r=Math.min(r||0,this.maxScrollLeft);const i=Math.abs(n-e),s=Math.abs(r-t);i<1&&s<1&&(this._end&&this._end(),this._resetScrollState())}}detach(e){return this._clients.delete(e),this._clients.size===0&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(e){this._clients.add(e),this._clients.size===1&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}},Mh=window==null?void 0:window.ResizeObserver,vl=Symbol("virtualizerRef"),to="virtualizer-sizer",Nh,jA=class{constructor(e){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,this._layoutInitialized=null,!e)throw new Error("Virtualizer constructor requires a configuration object");if(e.hostElement)this._init(e);else throw new Error('Virtualizer configuration requires the "hostElement" property')}set items(e){Array.isArray(e)&&e!==this._items&&(this._itemsChanged=!0,this._items=e,this._schedule(this._updateLayout))}_init(e){this._isScroller=!!e.scroller,this._initHostElement(e);const t=e.layout||{};this._layoutInitialized=this._initLayout(t)}_initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this)),this._hostElementRO=new Mh(()=>this._hostElementSizeChanged()),this._childrenRO=new Mh(this._childrenSizeChanged.bind(this))}_initHostElement(e){const t=this._hostElement=e.hostElement;this._applyVirtualizerStyles(),t[vl]=this}connected(){this._initObservers();const e=this._isScroller;this._clippingAncestors=LA(this._hostElement,e),this._scrollerController=new FA(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen()}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach(e=>{e.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(e),this._hostElementRO.observe(e)}),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach(e=>this._childrenRO.observe(e)),this._scrollEventListeners.forEach(e=>e.addEventListener("scroll",this,this._scrollEventListenerOptions))}disconnected(){var e,t,n,r;this._scrollEventListeners.forEach(i=>i.removeEventListener("scroll",this,this._scrollEventListenerOptions)),this._scrollEventListeners=[],this._clippingAncestors=[],(e=this._scrollerController)==null||e.detach(this),this._scrollerController=null,(t=this._mutationObserver)==null||t.disconnect(),this._mutationObserver=null,(n=this._hostElementRO)==null||n.disconnect(),this._hostElementRO=null,(r=this._childrenRO)==null||r.disconnect(),this._childrenRO=null,this._rejectLayoutCompletePromise("disconnected")}_applyVirtualizerStyles(){const t=this._hostElement.style;t.display=t.display||"block",t.position=t.position||"relative",t.contain=t.contain||"size layout",this._isScroller&&(t.overflow=t.overflow||"auto",t.minHeight=t.minHeight||"150px")}_getSizer(){const e=this._hostElement;if(!this._sizer){let t=e.querySelector(`[${to}]`);t||(t=document.createElement("div"),t.setAttribute(to,""),e.appendChild(t)),Object.assign(t.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),t.textContent="&nbsp;",t.setAttribute(to,""),this._sizer=t}return this._sizer}async updateLayoutConfig(e){await this._layoutInitialized;const t=e.type||Nh;if(typeof t=="function"&&this._layout instanceof t){const n={...e};return delete n.type,this._layout.config=n,!0}return!1}async _initLayout(e){let t,n;if(typeof e.type=="function"){n=e.type;const r={...e};delete r.type,t=r}else t=e;n===void 0&&(Nh=n=(await R(()=>import("./flow-JFPQSEAN-BnuMDPmE.js"),__vite__mapDeps([]))).FlowLayout),this._layout=new n(r=>this._handleLayoutMessage(r),t),this._layout.measureChildren&&typeof this._layout.updateItemSizes=="function"&&(typeof this._layout.measureChildren=="function"&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){this._benchmarkStart===null&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(this._benchmarkStart!==null){const e=window.performance.now(),t=e-this._benchmarkStart,r=performance.getEntriesByName("uv-virtualizing","measure").filter(i=>i.startTime>=this._benchmarkStart&&i.startTime<e).reduce((i,s)=>i+s.duration,0);return this._benchmarkStart=null,{timeElapsed:t,virtualizationTime:r}}return null}_measureChildren(){const e={},t=this._children,n=this._measureChildOverride||this._measureChild;for(let r=0;r<t.length;r++){const i=t[r],s=this._first+r;(this._itemsChanged||this._toBeMeasured.has(i))&&(e[s]=n.call(this,i,this._items[s]))}this._childMeasurements=e,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(e){const{width:t,height:n}=e.getBoundingClientRect();return Object.assign({width:t,height:n},DA(e))}async _schedule(e){this._scheduled.has(e)||(this._scheduled.add(e),await Promise.resolve(),this._scheduled.delete(e),e.call(this))}async _updateDOM(e){this._scrollSize=e.scrollSize,this._adjustRange(e.range),this._childrenPos=e.childPositions,this._scrollError=e.scrollError||null;const{_rangeChanged:t,_itemsChanged:n}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),(t||n)&&(this._notifyRange(),this._rangeChanged=!1),this._finishDOMUpdate()}_finishDOMUpdate(){this._children.forEach(e=>this._childrenRO.observe(e)),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end")}_updateLayout(){this._layout&&this._scrollerController&&(this._layout.items=this._items,this._updateView(),this._childMeasurements!==null&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){var e;if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(t){console.warn("Error measuring performance data: ",t)}window.performance.mark("uv-start")}this._scrollerController.correctingScrollError===!1&&((e=this._layout)==null||e.unpin()),this._schedule(this._updateLayout)}handleEvent(e){switch(e.type){case"scroll":(e.currentTarget===window||this._clippingAncestors.includes(e.currentTarget))&&this._handleScrollEvent();break;default:console.warn("event not handled",e)}}_handleLayoutMessage(e){e.type==="stateChanged"?this._updateDOM(e):e.type==="visibilityChanged"?(this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._notifyVisibility()):e.type==="unpinned"&&this._hostElement.dispatchEvent(new Hb)}get _children(){const e=[];let t=this._hostElement.firstElementChild;for(;t;)t.hasAttribute(to)||e.push(t),t=t.nextElementSibling;return e}_updateView(){var r;const e=this._hostElement,t=(r=this._scrollerController)==null?void 0:r.element,n=this._layout;if(e&&t&&n){let i,s,o,a;const c=e.getBoundingClientRect();i=0,s=0,o=window.innerHeight,a=window.innerWidth;const l=this._clippingAncestors.map(b=>b.getBoundingClientRect());l.unshift(c);for(const b of l)i=Math.max(i,b.top),s=Math.max(s,b.left),o=Math.min(o,b.bottom),a=Math.min(a,b.right);const u=t.getBoundingClientRect(),d={left:c.left-u.left,top:c.top-u.top},h={width:t.scrollWidth,height:t.scrollHeight},p=i-c.top+e.scrollTop,m=s-c.left+e.scrollLeft,f=o-i,y=a-s;n.viewportSize={width:y,height:f},n.viewportScroll={top:p,left:m},n.totalScrollSize=h,n.offsetWithinScroller=d}}_sizeHostElement(e){const n=e&&e.width!==null?Math.min(82e5,e.width):0,r=e&&e.height!==null?Math.min(82e5,e.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${n}px, ${r}px)`;else{const i=this._hostElement.style;i.minWidth=n?`${n}px`:"100%",i.minHeight=r?`${r}px`:"100%"}}_positionChildren(e){e&&e.forEach(({top:t,left:n,width:r,height:i,xOffset:s,yOffset:o},a)=>{const c=this._children[a-this._first];c&&(c.style.position="absolute",c.style.boxSizing="border-box",c.style.transform=`translate(${n}px, ${t}px)`,r!==void 0&&(c.style.width=r+"px"),i!==void 0&&(c.style.height=i+"px"),c.style.left=s===void 0?null:s+"px",c.style.top=o===void 0?null:o+"px")})}async _adjustRange(e){const{_first:t,_last:n,_firstVisible:r,_lastVisible:i}=this;this._first=e.first,this._last=e.last,this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==t||this._last!==n,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==r||this._lastVisible!==i}_correctScrollError(){if(this._scrollError){const{scrollTop:e,scrollLeft:t}=this._scrollerController,{top:n,left:r}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:e-n,left:t-r})}}element(e){var t;return e===1/0&&(e=this._items.length-1),((t=this._items)==null?void 0:t[e])===void 0?void 0:{scrollIntoView:(n={})=>this._scrollElementIntoView({...n,index:e})}}_scrollElementIntoView(e){if(e.index>=this._first&&e.index<=this._last)this._children[e.index-this._first].scrollIntoView(e);else if(e.index=Math.min(e.index,this._items.length-1),e.behavior==="smooth"){const t=this._layout.getScrollIntoViewCoordinates(e),{behavior:n}=e;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(t,{behavior:n}),()=>this._layout.getScrollIntoViewCoordinates(e),()=>this._scrollIntoViewTarget=null),this._scrollIntoViewTarget=e}else this._layout.pin=e}_checkScrollIntoViewTarget(e){const{index:t}=this._scrollIntoViewTarget||{};t&&(e!=null&&e.has(t))&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new zb({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new Vb({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise((e,t)=>{this._layoutCompleteResolver=e,this._layoutCompleteRejecter=t})),this._layoutCompletePromise}_rejectLayoutCompletePromise(e){this._layoutCompleteRejecter!==null&&this._layoutCompleteRejecter(e),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&this._pendingLayoutComplete===null&&(this._pendingLayoutComplete=requestAnimationFrame(()=>requestAnimationFrame(()=>this._resolveLayoutCompletePromise())))}_resolveLayoutCompletePromise(){this._layoutCompleteResolver!==null&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(e){var t;if((t=this._layout)!=null&&t.measureChildren){for(const n of e)this._toBeMeasured.set(n.target,n.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}};function DA(e){const t=window.getComputedStyle(e);return{marginTop:no(t.marginTop),marginRight:no(t.marginRight),marginBottom:no(t.marginBottom),marginLeft:no(t.marginLeft)}}function no(e){const t=e?parseFloat(e):NaN;return Number.isNaN(t)?0:t}function Fh(e){if(e.assignedSlot!==null)return e.assignedSlot;if(e.parentElement!==null)return e.parentElement;const t=e.parentNode;return t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host||null}function zA(e,t=!1){const n=[];let r=t?e:Fh(e);for(;r!==null;)n.push(r),r=Fh(r);return n}function LA(e,t=!1){let n=!1;return zA(e,t).filter(r=>{if(n)return!1;const i=getComputedStyle(r);return n=i.position==="fixed",i.overflow!=="visible"})}var Wb=e=>e,Gb=(e,t)=>P`${t}: ${JSON.stringify(e,null,2)}`,VA=class extends vs{constructor(e){if(super(e),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(t,n)=>Gb(t,n+this._first),this._keyFunction=(t,n)=>Wb(t,n+this._first),this._items=[],e.type!==gs.CHILD)throw new Error("The virtualize directive can only be used in child expressions")}render(e){e&&this._setFunctions(e);const t=[];if(this._first>=0&&this._last>=this._first)for(let n=this._first;n<=this._last;n++)t.push(this._items[n]);return MA(t,this._keyFunction,this._renderItem)}update(e,[t]){this._setFunctions(t);const n=this._items!==t.items;return this._items=t.items||[],this._virtualizer?this._updateVirtualizerConfig(e,t):this._initialize(e,t),n?It:this.render()}async _updateVirtualizerConfig(e,t){if(!await this._virtualizer.updateLayoutConfig(t.layout||{})){const r=e.parentNode;this._makeVirtualizer(r,t)}this._virtualizer.items=this._items}_setFunctions(e){const{renderItem:t,keyFunction:n}=e;t&&(this._renderItem=(r,i)=>t(r,i+this._first)),n&&(this._keyFunction=(r,i)=>n(r,i+this._first))}_makeVirtualizer(e,t){this._virtualizer&&this._virtualizer.disconnected();const{layout:n,scroller:r,items:i}=t;this._virtualizer=new jA({hostElement:e,layout:n,scroller:r}),this._virtualizer.items=i,this._virtualizer.connected()}_initialize(e,t){const n=e.parentNode;n&&n.nodeType===1&&(n.addEventListener("rangeChanged",r=>{this._first=r.first,this._last=r.last,this.setValue(this.render())}),this._makeVirtualizer(n,t))}disconnected(){var e;(e=this._virtualizer)==null||e.disconnected()}reconnected(){var e;(e=this._virtualizer)==null||e.connected()}},UA=rn(VA),di=class extends K{constructor(){super(...arguments),this.items=[],this.renderItem=Gb,this.keyFunction=Wb,this.layout={},this.scroller=!1}createRenderRoot(){return this}render(){const{items:e,renderItem:t,keyFunction:n,layout:r,scroller:i}=this;return P`${UA({items:e,renderItem:t,keyFunction:n,layout:r,scroller:i})}`}element(e){var t;return(t=this[vl])==null?void 0:t.element(e)}get layoutComplete(){var e;return(e=this[vl])==null?void 0:e.layoutComplete}scrollToIndex(e,t="start"){var n;(n=this.element(e))==null||n.scrollIntoView({block:t})}};ws([V({attribute:!1})],di.prototype,"items",void 0);ws([V()],di.prototype,"renderItem",void 0);ws([V()],di.prototype,"keyFunction",void 0);ws([V({attribute:!1})],di.prototype,"layout",void 0);ws([V({reflect:!0,type:Boolean})],di.prototype,"scroller",void 0);customElements.define("lit-virtualizer",di);var Kb=Symbol("mainViewportContext");function iP(e){new Fs(e,{context:Kb}).setValue(e)}var Tt=class extends K{constructor(){super(...arguments),this.items=[],this.globalOffsetY=null,this.virtualizerRef=Ur()}get virtualizer(){if(!this.virtualizerRef.value)throw new Error("");return this.virtualizerRef.value}firstUpdated(){!this.context||!this.virtualizerRef.value||(this.updateView(),wt(this,[wr(Fr(this.context),Fr(this.virtualizer),this.mainViewportContext?Fr(this.mainViewportContext):lt()).pipe(Q(()=>this.updateView()))],{requestUpdate:!1}))}render(){return this.updateView(),P`<lit-virtualizer ${fn(this.virtualizerRef)} scroller .items="${this.items}" .keyFunction="${this.keyFunction??((e,t)=>t)}" .renderItem="${this.renderItem}"></lit-virtualizer>`}updateView(){if(!this.context||!this.virtualizerRef.value)return;const e=this.getViewPortBoundingClientRect(),t=this.virtualizer.getBoundingClientRect();this.globalOffsetY=t.top-e.top+8,this.virtualizer.style.minHeight=`${(this.context.maxHeight??0)-this.globalOffsetY}px`}getViewPortBoundingClientRect(){return this.mainViewportContext?this.mainViewportContext.getBoundingClientRect():this.context.getBoundingClientRect()}};Tt.tagName="inch-scroll-view-virtualizer-consumer";Tt.styles=pa;Ft([V({type:Array})],Tt.prototype,"items",2);Ft([V({type:Object})],Tt.prototype,"keyFunction",2);Ft([V({type:Object})],Tt.prototype,"renderItem",2);Ft([Et({context:Wu,subscribe:!0})],Tt.prototype,"context",2);Ft([Et({context:Kb,subscribe:!1})],Tt.prototype,"mainViewportContext",2);Tt=Ft([J(Tt.tagName)],Tt);function HA(){return new Promise(e=>requestAnimationFrame(e))}function jh(e){return new Promise(t=>setTimeout(t,e))}var oc=document.createElement("div");function Zb(){return document.body.contains(oc)||document.body.appendChild(oc),oc}var qA=1;function Yb(){return qA++}var Jb=class{constructor(e){this.rootNodeName=e,this.container=Zb(),this.activeOverlayMap=new Map,this.subscriptions=new Map}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(e){return this.activeOverlayMap.has(e)}async open(e){const t=document.querySelector(this.rootNodeName),n=this.createOverlayContainer(e);await HA();const r=this.calculateIsHalfView(n);this.appendStyleBeforeTransition(t),await this.transition(n,t,!1,r),this.appendStyleAfterTransition(t,!1,r);const i=Yb();return this.activeOverlayMap.set(i,n),this.subscribeOnEvents(i),i}async close(e){if(!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e),n=document.querySelector(this.rootNodeName),r=this.calculateIsHalfView(t);await this.transition(t,n,!0,r),this.appendStyleAfterTransition(n,!0,r),this.unsubscribeOnResize(e),t.remove(),this.activeOverlayMap.delete(e)}createOverlayContainer(e){const t=document.createElement(vn.tagName),n=this.activeOverlayMap.size+1,r=3;return t.maxHeight=(100-n*r)*window.innerHeight/100,t.setAttribute("overlay-index",n.toString()),G(t,{position:"fixed",display:"flex",width:"100vw",overflow:"hidden",alignItems:"flex-end",bottom:"0",left:"0"}),Gr(P`${e}`,t),this.container.appendChild(t),t}subscribeOnEvents(e){const t=this.activeOverlayMap.get(e),n=wr(ce(window,"resize").pipe(Q(()=>this.updatePosition(e))),Fr(t).pipe(Fe(()=>Number(t.getAttribute("overlay-index"))===this.activeOverlayMap.size),q(()=>this.calculateIsHalfView(t)),Pe(),Ff(1),ne(r=>{const i=document.querySelector(this.rootNodeName);return this.transitionHalfView(i,r)})),ce(this.container,"click").pipe(Fe(()=>Number(t.getAttribute("overlay-index"))===this.activeOverlayMap.size),Fe(r=>r.target===this.container),Q(()=>this.updatePosition(e)))).subscribe();this.subscriptions.set(e,n)}unsubscribeOnResize(e){if(!this.subscriptions.has(e))return;const t=this.subscriptions.get(e);t.closed||t.unsubscribe()}updatePosition(e){this.subscriptions.has(e)&&this.close(e).catch()}calculateIsHalfView(e){const t=e.clientHeight,n=e.maxHeight??0;return t*100/n<70}getDefaultAnimationOptions(){return{duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"}}async transition(e,t,n,r){const i="3px",s=".9",o="-6%",a=()=>({transform:`translate3d(0, ${n?"0":"100%"}, 0)`}),c=()=>({transform:`translate3d(0, ${n?"100%":"0"}, 0)`}),l=()=>({filter:`blur(${n?i:"0"})`,transform:r?"":`scale(${n?s:"1"}) translate3d(0, ${n?o:"0"}, 0)`}),u=()=>({filter:`blur(${n?"0":i})`,transform:r?"":`scale(${n?"1":s}) translate3d(0, ${n?"0":o}, 0)`});return await Promise.all([e.animate([a(),c()],this.getDefaultAnimationOptions()).finished,t.animate([l(),u()],this.getDefaultAnimationOptions()).finished])}async transitionHalfView(e,t){const n=".9",r="-6%",i=()=>({transform:`scale(${t?n:"1"}) translate3d(0, ${t?r:"0"}, 0)`}),s=()=>({transform:`scale(${t?"1":n}) translate3d(0, ${t?"0":r}, 0)`});await e.animate([i(),s()],this.getDefaultAnimationOptions()).finished,G(e,s())}appendStyleBeforeTransition(e){G(e,{willChange:"filter, transform",overflow:"hidden",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"}),G(this.container,{position:"fixed",width:"100%",height:"100%"})}appendStyleAfterTransition(e,t,n){if(t){G(e,{filter:"",transform:"",position:"",willChange:"",overflow:"",top:"",left:"",right:"",bottom:"",zIndex:"",pointerEvents:""}),G(this.container,{position:"",width:"",height:""});return}G(e,{filter:"blur(3px)",transform:n?"":"scale(.9) translate3d(0, -6%, 0)"})}},WA=class{constructor(e,t){this.target=e,this.rootNodeName=t,this.activeOverlayMap=new Map,this.subscriptions=new Map,this.container=Zb()}get isOpen(){return this.activeOverlayMap.size>0}isOpenOverlay(e){return this.activeOverlayMap.has(e)}async open(e){const t=await this.getPosition(e),n=this.createOverlayContainer(e);n.maxHeight=t[2],this.target==="center"?G(n,{top:"0px",left:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}):G(n,{top:`${t[1]}px`,left:`${t[0]}px`,borderRadius:"24px",boxShadow:"0 -3px 4px 0 var(--primary-12), 0 6px 12px 0 var(--primary-12)"}),await this.animateEnter(n);const r=Yb();return this.activeOverlayMap.set(r,n),this.subscribe(r),r}async close(e){if(!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e);await this.animateLeave(t),this.unsubscribe(e),t.remove(),this.activeOverlayMap.delete(e)}async getPosition(e){if(this.target==="center")return[0,0,window.innerHeight-8*2];const n=this.target.getBoundingClientRect(),r=await this.getRect(e),i=n.right-r.width,s=n.top+n.height+8,o=window.innerHeight-s-8;return[i,s,o]}async getRect(e){const t=this.createOverlayContainer(e);G(t,{visibility:"hidden"}),document.body.appendChild(t),await new Promise(r=>requestAnimationFrame(r));const n=t.getBoundingClientRect();return t.remove(),n}createOverlayContainer(e){const t=document.createElement(vn.tagName);return G(t,{position:"absolute",display:"flex",overflow:"hidden",alignItems:"flex-end",width:"fit-content",height:"fit-content",zIndex:"1000"}),Gr(P`${e}`,t),this.container.appendChild(t),t}subscribe(e){const t=new On,n=this.activeOverlayMap.get(e);if(!n)return;if(this.target==="center"){t.add(ce(n,"click").subscribe(i=>{i.target===n&&this.close(e).catch()}));return}t.add(ce(window,"resize").subscribe(()=>this.close(e).catch()));const r=document.querySelector(this.rootNodeName);t.add(ce(r,"scroll").subscribe(()=>this.updatePosition(e))),t.add(ce(n,"click").subscribe(i=>{i.stopPropagation(),i.preventDefault()})),t.add(ce(document,"click").subscribe(()=>{this.close(e).catch()})),this.subscriptions.set(e,t)}unsubscribe(e){if(!this.subscriptions.has(e))return;const t=this.subscriptions.get(e);t.closed||t.unsubscribe()}updatePosition(e){if(this.target==="center"||!this.activeOverlayMap.has(e))return;const t=this.activeOverlayMap.get(e),n=this.target.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.top+n.height+8,s=n.right-r.width;G(t,{top:`${i}px`,left:`${s}px`})}async animateEnter(e){const t={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const n=document.querySelector(this.rootNodeName);await Promise.all([n.animate([{filter:"blur(0)"},{filter:"blur(3px)"}],t),e.animate([{transform:"scale(.3)",opacity:.3},{transform:"scale(1)",opacity:1}],t).finished]),G(n,{filter:"blur(3px)"});return}await e.animate([{clipPath:"circle(0 at 90% 0)",opacity:.3},{clipPath:"circle(100%)",opacity:1}],t).finished}async animateLeave(e){const t={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};if(this.target==="center"){const n=document.querySelector(this.rootNodeName);await Promise.all([n.animate([{filter:"blur(3px)"},{filter:"blur(0)"}],t),e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(0)",opacity:0}],{...t,duration:300}).finished]),G(n,{filter:""});return}await e.animate([{clipPath:"circle(100%)",opacity:1},{clipPath:"circle(0 at 90% 0)",opacity:.3}],t).finished}},Gu=class{constructor(e,t){this.mobileMedia=Bn(),this.mobileOverlay=new Jb(e),this.desktopOverlay=new WA(t,e)}get isOpen(){return this.mobileMedia.matches?this.mobileOverlay.isOpen:this.desktopOverlay.isOpen}isOpenOverlay(e){return this.mobileMedia.matches?this.mobileOverlay.isOpenOverlay(e):this.desktopOverlay.isOpenOverlay(e)}async open(e){return this.mobileMedia.matches?await this.mobileOverlay.open(e):await this.desktopOverlay.open(e)}async close(e){return this.mobileMedia.matches?await this.mobileOverlay.close(e):await this.desktopOverlay.close(e)}},GA=L``,KA=L`:host{display:block;transition:height .2s;overflow:hidden}.wallet-view-container{display:flex;align-content:center;justify-content:space-between;padding:20px 16px;border-radius:16px;transition:background-color .2s,height .2s;position:relative;overflow:hidden;color:var(--color-content-content-primary)}.wallet-icon{width:24px;height:24px}.wallet-name{color:var(--color-content-content-primary);font-size:16px;font-style:normal;font-weight:400;line-height:24px}.connect-icon{color:var(--color-content-content-primary);margin-left:auto;transform:scale(0);transition:transform .2s}.connect-icon__connected{transform:scale(1);transition:color .2s;color:var(--color-content-content-primary)}.connect-icon__active{transform:scale(1);transition:color .2s;color:var(--primary)}.data-container{display:flex;align-items:center;gap:8px}.loader-icon{height:24px;width:24px;margin-left:auto}.address-list{display:flex;flex-direction:column}inch-wallet-view-address-balance{transform:translate3d(24px,0,0);transition:transform .2s;will-change:transform}.add-connection{transition:transform .2s;transform:scale(0)}.address-container__active inch-wallet-view-address-balance{transform:translate3d(0,0,0)}.wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data{transform:translate3d(36px,0,0);transition:transform .2s}@media (hover:hover){.wallet-view-container:hover{background-color:var(--color-background-bg-secondary)}.wallet-view-container:hover .connect-icon{transform:scale(1)}.wallet-view-container:hover inch-wallet-view-address-balance{transform:translate3d(0,0,0)}.wallet-view-container:hover .add-connection{transform:scale(1)}.wallet-view-container:hover.wallet-view-container__wc.wallet-view-container__connected .right-data{transform:translate3d(0,0,0)}}@media (hover:none){.wallet-view-container__wc.wallet-view-container__connected:not(.wallet-view-container__loading) .right-data{transform:translate3d(0,0,0)}.add-connection{transform:scale(1)}}@keyframes rainbow{0%{background-position:0}100%{background-position:100%}}`,Ku=Symbol("controller context"),ZA=L`:host{color:var(--color-content-content-primary);text-align:right;font-size:16px;font-style:normal;font-weight:500;line-height:24px}.loader{will-change:filter;height:20px;width:60px;background-color:var(--color-background-bg-secondary);border-radius:4px;animation:stub-loader-animation 3s ease-in-out infinite}@keyframes stub-loader-animation{0%,100%{filter:opacity(1)}50%{filter:opacity(.5)}}`,Dh=new ha("inch-wallet-view-address-balance",7),nr=class extends K{constructor(){super(...arguments),this.task=new zo(this,async([e,t])=>{if(!e||!t)throw new Error("");const n=await Le.getTokenBalance(e,ju,t),r=Kn(Bt(BigInt((n==null?void 0:n.amount)??0),18),6);return Dh.set([this.chainId,this.address].join(":"),r),r},()=>[this.chainId,this.address])}render(){return this.task.render({pending:()=>this.getLoader(),error:()=>this.getLoader(),complete:e=>{if(this.chainId===void 0)throw new Error("");const t=yr(this.chainId);return P`<span>${e} ${t.nativeCurrency.symbol}</span>`}})}getLoader(){const e=()=>P`<div class="loader"></div>`;if(!this.chainId||!this.address)return e();const t=Dh.get([this.chainId,this.address].join(":")),n=yr(this.chainId);return t?P`<span>${t} ${n.nativeCurrency.symbol}</span>`:e()}};nr.tagName="inch-wallet-view-address-balance";nr.styles=ZA;le([V({type:Number})],nr.prototype,"chainId",2);le([V({type:String})],nr.prototype,"address",2);nr=le([J(nr.tagName)],nr);var De=class extends K{constructor(){super(...arguments),this.showLoader=!1,this.isWalletConnected=!1,this.addressList=null,this.activeAddress=null,this.showAddresses=!1,this.isActiveWallet=!1}firstUpdated(){if(!this.info)throw new Error("");const e=this.getController().getDataAdapter(this.info),t=this.getController().data;wt(this,[e.isConnected$.pipe(Q(n=>this.isWalletConnected=n)),e.activeAddress$.pipe(Q(n=>this.activeAddress=n)),e.addresses$.pipe(Q(n=>this.addressList=n.length?n:null)),t.chainId$.pipe(Q(n=>this.chainId=n??void 0)),t.isActiveWallet$(this.info).pipe(Q(n=>this.isActiveWallet=n))],{requestUpdate:!1})}render(){var i;if(!this.info)throw new Error("");const e=((i=this.addressList)==null?void 0:i.length)??0,t=(this.showAddresses&&e>1?e*64:0)+64;G(this,{height:`${t}px`});const n=this.info.uuid==="walletConnect",r={"wallet-view-container":!0,"wallet-view-container__wc":n,"wallet-view-container__connected":this.isWalletConnected,"wallet-view-container__loading":this.showLoader};return P`<div class="${Ge(r)}" @click="${()=>this.onClick()}"><div class="data-container left-data"><img class="wallet-icon" alt="${this.info.name}" src="${this.info.icon}"> <span class="wallet-name">${this.info.name}</span></div><div class="data-container right-data">${Zn(this.activeAddress,s=>P`<span>${fl(s)}</span>`)} ${Zn(this.showLoader,()=>P`<inch-icon class="loader-icon" icon="fire48"></inch-icon>`,()=>{const s={"connect-icon":!0,"connect-icon__connected":this.isWalletConnected,"connect-icon__active":this.isActiveWallet};return P`<inch-icon class="${Ge(s)}" icon="connect16"></inch-icon>${Zn(n&&this.activeAddress,()=>P`<inch-button @click="${o=>this.onConnect(o)}" class="add-connection" size="l" type="tertiary"><inch-icon icon="plusCircle16"></inch-icon></inch-button>`)}`})}</div></div>${Zn(this.addressList&&this.addressList.length>1,()=>P`<div class="address-list">${zl(this.addressList,s=>P`<div @click="${()=>this.setActiveAddress(s)}" class="wallet-view-container address-container ${kd(this.isActiveAddress(s).then(o=>o?"address-container__active":""))}"><div class="data-container left-data"><inch-icon icon="cornerDownRight16"></inch-icon><span>${fl(s,{width:this.offsetWidth})}</span></div><div class="data-container right-data"><inch-wallet-view-address-balance chainId="${Vi(this.chainId)}" address="${s}"></inch-wallet-view-address-balance><inch-icon class="connect-icon ${kd(this.isActiveAddress(s).then(o=>o?"connect-icon__active":""))}" icon="link16"></inch-icon></div></div>`)}</div>`)}`}async onClick(){if(this.isWalletConnected){if(this.addressList&&this.addressList.length===1){await this.setActiveAddress(this.addressList[0]);return}this.showAddresses=!this.showAddresses;return}await this.onConnect()}async onConnect(e){if(!this.info||this.showLoader)return;e==null||e.preventDefault(),e==null||e.stopPropagation(),this.showLoader=!0;const t=this.info.uuid==="walletConnect";this.isWalletConnected&&t?this.showAddresses=await this.getController().addConnection(this.info):this.showAddresses=await this.getController().connect(this.info),this.showLoader=!1}async setActiveAddress(e){this.info&&await this.getController().setActiveAddress(this.info,e)}getController(){if(!this.controller)throw new Error("");return this.controller}isActiveAddress(e){if(!this.info)throw new Error("");return this.getController().data.isActiveAddress(this.info,e)}};De.tagName="inch-wallet-view";De.styles=KA;le([V({type:Object})],De.prototype,"info",2);le([et()],De.prototype,"showLoader",2);le([et()],De.prototype,"isWalletConnected",2);le([et()],De.prototype,"addressList",2);le([et()],De.prototype,"activeAddress",2);le([et()],De.prototype,"showAddresses",2);le([et()],De.prototype,"isActiveWallet",2);le([et()],De.prototype,"chainId",2);le([Et({context:Ku})],De.prototype,"controller",2);De=le([J(De.tagName)],De);var Oi=class extends K{constructor(){super(...arguments),this.task=new zo(this,async()=>await this.getController().getSupportedWallets(),()=>[])}render(){return this.task.render({pending:()=>P`<inch-icon icon="unicornRun"></inch-icon>`,complete:e=>P`<inch-scroll-view-consumer>${zl(e,t=>P`<inch-wallet-view .info="${t}"></inch-wallet-view>`)}</inch-scroll-view-consumer>`})}getController(){if(!this.controller)throw new Error("");return this.controller}};Oi.tagName="inch-wallet-list";le([Et({context:Ku})],Oi.prototype,"controller",2);Oi=le([J(Oi.tagName)],Oi);var wn=class extends K{constructor(){super(...arguments),this.mobileMedia=Bn(),this.context=new Fs(this,{context:Ku})}firstUpdated(){Do(this)}render(){if(!this.controller)throw new Error("For the inch-wallet-manage widget to work, you need to pass the controller corresponding to the interface in the controller field");this.context.value||this.context.setValue(this.controller);const e=this.controller.isConnected?"Wallet management":"Connect wallet";return P`<inch-card showShadow="${Vi(this.showShadow)}" forMobileView="${Vi(this.mobileMedia.matches?"":void 0)}"><inch-card-header closeButton headerText="${e}"></inch-card-header><inch-wallet-list></inch-wallet-list></inch-card>`}};wn.tagName="inch-wallet-manage";wn.styles=GA;le([V({type:Object,attribute:!1})],wn.prototype,"controller",2);le([V({type:Boolean})],wn.prototype,"showShadow",2);wn=le([J(wn.tagName)],wn);var YA=L`.connect-wallet-view-container{padding:8px;display:flex;align-items:center;gap:8px;border-radius:12px;background:var(--color-background-bg-primary);height:40px;box-sizing:border-box}.connect-wallet-view-icon{width:24px;height:24px}`,xn=class extends K{constructor(){super(...arguments),this.mobileMatchMedia=si(this),this.overlay=new Gu("#app-root",this),this.overlayId=null,this.chainId$=X(()=>this.getController().data.chainId$),this.activeAddress$=X(()=>this.getController().data.activeAddress$),this.info$=X(()=>this.getController().data.info$),this.icon$=this.info$.pipe(q(e=>e.icon)),this.name$=this.info$.pipe(q(e=>e.name)),this.activeAddressView$=this.activeAddress$.pipe(q(e=>e&&fl(e))),this.view$=X(()=>this.getController().data.isConnected$).pipe(q(e=>e?this.getConnectedView():this.getConnectWalletButton()))}render(){return P`${he(this.view$)}`}getConnectedView(){return P`<div class="connect-wallet-view-container"><img class="connect-wallet-view-icon" alt="${he(this.name$)}" src="${he(this.icon$)}"> ${Zn(!this.mobileMatchMedia.matches,()=>P`<inch-wallet-view-address-balance address="${he(this.activeAddress$)}" chainId="${he(this.chainId$)}"></inch-wallet-view-address-balance>`)}<inch-button @click="${()=>this.onOpenConnectView()}" type="secondary" size="m">${he(this.activeAddressView$)}</inch-button></div>`}getConnectWalletButton(){return P`<inch-button @click="${()=>this.onOpenConnectView()}" type="secondary">Connect wallet</inch-button>`}getController(){if(!this.controller)throw new Error("");return this.controller}async onOpenConnectView(){if(this.overlay.isOpen){await this.overlay.close(this.overlayId??0),this.overlayId=null;return}this.overlayId=await this.overlay.open(P`<inch-wallet-manage @closeCard="${()=>{this.overlayId&&(this.overlay.close(this.overlayId),this.overlayId=null)}}" .controller="${this.controller}"></inch-wallet-manage>`)}};xn.tagName="inch-connect-wallet-view";xn.styles=YA;le([V({type:Object,attribute:!1})],xn.prototype,"controller",2);le([$r()],xn.prototype,"onOpenConnectView",1);xn=le([J(xn.tagName)],xn);var JA=L`.unsupported{color:var(--color-core-red-critical)}`,Un={[x.eth]:{name:"Ethereum",iconName:"eth24"},[x.arbitrum]:{name:"Arbitrum",iconName:"arbitrum24"},[x.op]:{name:"Optimism",iconName:"op24"},[x.zkSyncEra]:{name:"zkSync Era",iconName:"zkSyncEra24"},[x.bnb]:{name:"BNB Smart Chain",iconName:"bnb24",priority:1},[x.matic]:{name:"Polygon",iconName:"matic24",priority:1},[x.gnosis]:{name:"Gnosis",iconName:"gnosis24"},[x.avalanche]:{name:"Avalanche",iconName:"avalanche24"},[x.fantom]:{name:"Fantom",iconName:"fantom24"},[x.aurora]:{name:"Aurora",iconName:"aurora24"},[x.klaytn]:{name:"Klaytn",iconName:"klaytn24"}},XA=Object.keys(Un).filter(e=>C$(+e)).map(e=>({...Un[e],chainId:Number(e)})).sort((e,t)=>e.chainId==x.eth?-1:t.chainId==x.eth?1:yh(e.chainId)?-1:yh(t.chainId)?1:(t.priority??0)-(e.priority??0)),rr=class extends K{constructor(){super(...arguments),this.mobileMedia=si(this),this.overlay=new Gu("#app-root",this),this.overlayId=null,this.chainId$=X(()=>this.getController().data.chainId$),this.unsupportedChainId$=this.chainId$.pipe(q(e=>e&&Un[e]?"":"unsupported")),this.chainIdIconName$=this.chainId$.pipe(Fe(Boolean),q(e=>Un[e]?Un[e].iconName:"alert24")),this.chainIdName$=this.chainId$.pipe(Fe(Boolean),q(e=>Un[e]?Un[e].name:"Unsupported chain"))}connectedCallback(){super.connectedCallback(),R(()=>import("./chain-selector-list-OA5B7MQE-ewoRmrEx.js"),__vite__mapDeps([]))}render(){return P`<inch-button @click="${()=>this.onClick()}" size="l" type="primary-gray"><inch-icon class="${he(this.unsupportedChainId$)}" icon="${he(this.chainIdIconName$)}"></inch-icon>${Zn(!this.mobileMedia.matches,()=>P`<span>${he(this.chainIdName$)}</span>`)}<inch-icon icon="chevronDown16"></inch-icon></inch-button>`}async onClick(){if(this.overlay.isOpenOverlay(this.overlayId??0)){this.closeOverlay();return}this.overlayId=await this.overlay.open(P`<inch-chain-selector-list .infoList="${XA}" .controller="${this.controller}" activeChainId="${he(this.chainId$)}" @closeCard="${()=>this.closeOverlay()}"></inch-chain-selector-list>`)}closeOverlay(){this.overlayId&&(this.overlay.close(this.overlayId),this.overlayId=null)}getController(){if(!this.controller)throw new Error("");return this.controller}};rr.tagName="inch-chain-selector";rr.styles=JA;le([V({type:Object,attribute:!1})],rr.prototype,"controller",2);rr=le([J(rr.tagName)],rr);const QA=Object.freeze(Object.defineProperty({__proto__:null,get ChainSelectorElement(){return rr},get ConnectWalletViewElement(){return xn},get WalletManageElement(){return wn}},Symbol.toStringTag,{value:"Module"}));function ek(){return Bn().matches?56:72}function tk(){return Bn().matches?56:72}const ct=gA(),nk=Object.freeze(Object.defineProperty({__proto__:null,connectWalletController:ct},Symbol.toStringTag,{value:"Module"}));var rk=Object.defineProperty,ik=Object.getOwnPropertyDescriptor,sk=(e,t,n,r)=>{for(var i=r>1?void 0:r?ik(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&rk(t,n,i),i};let Bi=class extends K{constructor(){super(...arguments),this.mobileMedia=Bn()}connectedCallback(){super.connectedCallback(),Do(this)}render(){return this.mobileMedia.matches?this.getMobileHeader():this.getDesktopHeader()}getDesktopHeader(){const e={height:`${ek()}px`};return P`<div class="header-container" style="${Dl(e)}"><div class="left-content"><inch-icon icon="logoFull"></inch-icon></div><div class="right-content"><inch-chain-selector .controller="${ct}"></inch-chain-selector><inch-connect-wallet-view .controller="${ct}"></inch-connect-wallet-view></div></div>`}getMobileHeader(){return P`<div class="header-container mobile-header"><inch-icon icon="logoFull"></inch-icon></div>`}};Bi.tagName="inch-header";Bi.styles=Zy;Bi=sk([J(Bi.tagName)],Bi);const ok=L`.footer-container{width:100%;box-sizing:border-box;display:flex;align-items:center;position:relative;border-top:1px solid var(--color-border-border-tertiary);padding:0 72px;background-color:var(--color-background-bg-body);gap:8px;margin-top:32px}.mobile-footer{height:72px;width:100vw;position:sticky;padding:16px 8px;bottom:0;z-index:9;justify-content:space-between}.power-by{color:var(--color-content-content-secondary);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.version{color:var(--color-content-content-secondary);font-size:13px;font-style:normal;font-weight:400;line-height:16px;transform:translateX(-100%);opacity:0;transition:transform .2s,opacity .2s}@media (hover:hover){.footer-container:hover .version{transform:translateX(0);opacity:1}}`;var ak=Object.defineProperty,ck=Object.getOwnPropertyDescriptor,lk=(e,t,n,r)=>{for(var i=r>1?void 0:r?ck(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&ak(t,n,i),i};let Ri=class extends K{constructor(){super(...arguments),this.mobileMedia=Bn()}connectedCallback(){super.connectedCallback(),Do(this)}render(){return this.mobileMedia.matches?this.getMobileFooter():this.getDesktopFooter()}getDesktopFooter(){const e={height:`${tk()}px`};return P`<div class="footer-container" style="${Dl(e)}"><span class="power-by"> ${new Date().getFullYear()} Powered by 1inch</span> <span class="version">version: ${qf("appVersion")}</span></div>`}getMobileFooter(){return P`<div class="footer-container mobile-footer"><inch-chain-selector .controller="${ct}"></inch-chain-selector><inch-connect-wallet-view .controller="${ct}"></inch-connect-wallet-view></div>`}};Ri.tagName="inch-footer";Ri.styles=ok;Ri=lk([J(Ri.tagName)],Ri);var uk=Object.defineProperty,dk=Object.getOwnPropertyDescriptor,Ds=(e,t,n,r)=>{for(var i=r>1?void 0:r?dk(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&uk(t,n,i),i},hk=[()=>R(()=>import("./one-inch.repository-YYH7S46H-BRbqMr3I.js"),__vite__mapDeps([])).then(e=>e.oneInchRepository),()=>R(()=>import("./uniswap.repository-MVFZ3WLN-CizgmQOr.js"),__vite__mapDeps([])).then(e=>e.uniSwapRepository),()=>R(()=>import("./trustwallet.repository-CND747AI-BBNEma_g.js"),__vite__mapDeps([])).then(e=>e.trustWalletRepository),()=>R(()=>import("./pancakeswap.repository-CXOF5NNQ-Cl79QjJa.js"),__vite__mapDeps([])).then(e=>e.pancakeSwapRepository)],Jt=class extends K{constructor(){super(...arguments),this.size=24,this.task=new zo(this,{task:([e,t,n],{signal:r})=>fk(r,n,e,t),args:()=>[this.symbol,this.address,this.chainId]})}render(){return this.task.render({error:()=>ac(this.size,this.symbol),pending:()=>ac(this.size,this.symbol,!0),initial:()=>ac(this.size,this.symbol,!0),complete:e=>(e.width=this.size,e.height=this.size,e.ondragstart=()=>!1,P`${e}`)})}updated(){this.style.width=`${this.size}px`,this.style.height=`${this.size}px`}};Jt.tagName="inch-token-icon";Jt.styles=L`

      :host {
          user-select: none;
          outline: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
      }

      .stub {
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: var(--color-background-bg-secondary);
          border-radius: 50%;
          color: var(--color-content-content-secondary);
          position: relative;
      }
      .stub-loader {
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          border: 1px solid;
          border-bottom-color: var(--secondary);
          border-top-color: var(--secondary);
          animation: spin 1s linear infinite;
      }
      
      img {
          user-select: none;
          outline: none;
          -webkit-user-select: none;
          -webkit-tap-highlight-color: transparent;
      }

      @keyframes spin {
          0% {
              transform: rotate(0deg);
          }

          100% {
              transform: rotate(360deg);
          }
      }
  
  `;Ds([V({type:String,attribute:!0})],Jt.prototype,"symbol",2);Ds([V({type:String,attribute:!0})],Jt.prototype,"address",2);Ds([V({type:Number,attribute:!0})],Jt.prototype,"chainId",2);Ds([V({type:Number,attribute:!0})],Jt.prototype,"size",2);Jt=Ds([J(Jt.tagName)],Jt);function ac(e,t,n){return P`
    <div style="width: ${e}px; height: ${e}px; font-size: ${e<40?13:16}px" class="stub">
      <span>${(t==null?void 0:t.slice(0,e<40?1:2))??""}</span>
      ${n?P`<span class="stub-loader"></span>`:""}
    </div>
  `}async function fk(e,t,n,r){let i=await pk({chainId:t,symbol:n,address:r,signal:e});if(i===null&&(i=await Zu({chainId:t,symbol:n,address:r,signal:e})),i===null&&(i=await mk({chainId:t,symbol:n,address:r,signal:e})),i===null)throw new Error("token icon not fount");return i}async function pk(e){if(!e.chainId||!e.address)return null;const t=await Le.getToken(e.chainId,e.address);return!t||!t.logoURL?null:await new Promise(n=>{const r=new Image;r.onerror=()=>n(null),r.onload=()=>n(r),r.src=t.logoURL})}async function Zu(e,t=0){const n=hk[t];if(!n)return null;try{return await(await n())(e)}catch{return await Zu(e,t+1)}}async function mk(e){if(e.chainId===x.eth||!e.symbol)return null;const t=await Le.getTokenBySymbol(x.eth,e.symbol);if(e.chainId&&e.address&&Bo(e.address)){const n=pl(e.chainId);t.push(n)}for(const n of t){const r=await Zu({...e,chainId:n.chainId,address:n.address});if(r)return r}return null}var bk=Object.defineProperty,gk=Object.getOwnPropertyDescriptor,ma=(e,t,n,r)=>{for(var i=r>1?void 0:r?gk(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&bk(t,n,i),i},yk=L`:host{display:block}.container{position:relative;background-color:var(--color-background-bg-secondary);padding:2px;display:flex;align-items:center;cursor:pointer;user-select:none;outline:0;box-sizing:border-box;width:100%}.container-m{border-radius:10px;height:36px}.container-l{border-radius:12px;height:48px}.caret{position:absolute;background-color:var(--color-background-bg-active);height:32px;border-radius:8px;box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12);color:var(--primary);width:30px;z-index:0}.caret-transition{transition:transform .2s}`,vk=L`.item{box-sizing:border-box;display:flex;align-items:center;justify-items:center;padding:6px 16px;z-index:1;width:100%;font-size:16px;justify-content:center;text-wrap:nowrap;transition:color .2s,background-color .2s;color:var(--color-content-content-primary)}.select{color:var(--primary)}.item-input{user-select:none;outline:0;border:none;background-color:transparent}${tt(L`.item{font-size:13px;padding:6px 12px}`)}`,_n=class extends K{constructor(){super(...arguments),this.size="m",this.items=[],this.itemRefList=[],this.caretRef=null}render(){const e={[`container-${this.size}`]:!0};return P`<div class="container ${Ge(e)}">${zl(this.items||[],t=>this.getItemView(t))}<div class="caret"></div></div>`}async firstUpdated(){var e;this.itemRefList=Array.from(this.renderRoot.querySelectorAll("div.item")),this.caretRef=this.renderRoot.querySelector(".caret"),await this.updateComplete,this.requestUpdate(),await new Promise(t=>setTimeout(t,60)),(e=this.caretRef)==null||e.classList.add("caret-transition"),this.requestUpdate()}updated(){if(!this.caretRef)return;let e=0,t=0;for(const n of this.itemRefList){if(n.classList.contains("select")){t=n.offsetWidth;break}e+=n.offsetWidth}this.caretRef.style.width=`${t}px`,this.caretRef.style.transform=`translateX(${e}px)`}getItemView(e){var r,i;const t={[`item-${this.size}`]:!0,select:e.value===((r=this.select)==null?void 0:r.value)};let n=P`${e.label}`;return e.template&&(n=e.template(e,e.value===((i=this.select)==null?void 0:i.value),this.caretRef)),P`<div @click="${s=>this.onSelect(e,s)}" class="item ${Ge(t)}">${n}</div>`}onSelect(e,t){this.select=e,this.requestUpdate(),this.dispatchEvent(Df("change",e.value,t))}};_n.tagName="inch-segmented-control";_n.styles=[yk,vk];ma([V({type:String})],_n.prototype,"size",2);ma([V({type:Array,attribute:!1})],_n.prototype,"items",2);ma([V({type:Object,attribute:!1})],_n.prototype,"select",2);_n=ma([J(_n.tagName)],_n);var wk=Object.defineProperty,xk=Object.getOwnPropertyDescriptor,_k=(e,t,n,r)=>{for(var i=r>1?void 0:r?xk(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&wk(t,n,i),i},Ek={sceneBackgroundColor:"var(--color-background-bg-primary)"},$k=e=>{const t={...Ek,...e};return L`:host{display:flex;--scene-background-color:${ft(t.sceneBackgroundColor)}}.scene-container{min-height:50px;min-width:50px;position:relative;overflow:hidden;border-radius:16px;will-change:width,height}`},Ak=Symbol("scene context"),kk=class{constructor(){this.animationInProgress=!1,this.animationInStart$=new ht,this.animationInEnd$=new ht,this.animationOutStart$=new ht,this.animationOutEnd$=new ht}get animationInStart(){return St(this.animationInStart$)}get animationInEnd(){return St(this.animationInEnd$)}get animationOutStart(){return St(this.animationOutStart$)}get animationOutEnd(){return St(this.animationOutEnd$)}animationInStartNext(){this.animationInProgress=!0,this.animationInStart$.next()}animationInEndNext(){this.animationInProgress=!1,this.animationInEnd$.next()}animationOutStartNext(){this.animationInProgress=!0,this.animationOutStart$.next()}animationOutEndNext(){this.animationInProgress=!1,this.animationOutEnd$.next()}},qr=class extends K{constructor(){super(),this.context=new Fs(this,{context:Ak}),this.context.setValue(new kk)}animationInStart(){this.context.value.animationInStartNext()}animationInEnd(){this.context.value.animationInEndNext()}animationOutStart(){this.context.value.animationOutStartNext()}animationOutEnd(){this.context.value.animationOutEndNext()}render(){return P`<slot></slot>`}};qr.tagName="inch-scene-wrapper";qr.styles=L`:host{background-color:var(--scene-background-color);will-change:transform;transform:translate3d(0,0,0);padding:1px;height:fit-content;box-sizing:border-box;position:relative;display:block}`;qr=_k([J(qr.tagName)],qr);function Sk(){const e={position:"absolute",top:"0",left:"0",bottom:"0",right:"0",zIndex:"9",backfaceVisibility:"hidden",height:Uf()?"100%":""},t={position:"",top:"",left:"",bottom:"",right:"",zIndex:"",transform:"",filter:"",backfaceVisibility:"",willChange:"",height:""},n={duration:500,easing:"cubic-bezier(.2, .8, .2, 1)"};return{preparation:async(r,i,s)=>{G(r,{...e,zIndex:"9",transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"}),G(i,{...e,zIndex:"8",willChange:"transform, filter",transform:s?"translate3d(-100%, 0, 0)":"translate3d(0, 0, 0)"})},transition:async(r,i,s)=>{await Promise.all([r.animate([{transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"},{transform:s?"translate3d(100%, 0, 0)":"translate3d(0, 0, 0)"}],n),i.animate([{transform:s?"translate3d(-100%, 0, 0)":"translate3d(0, 0, 0)"},{transform:s?"translate3d(0, 0, 0)":"translate3d(-100%, 0, 0)"}],n).finished]),G(r,{...t}),G(i,{...t})}}}function Pk(){const e={position:"absolute",top:"0",left:"0",bottom:"0",right:"0",zIndex:"9",backfaceVisibility:"hidden",height:Uf()?"100%":""},t={position:"",top:"",left:"",bottom:"",right:"",zIndex:"",transform:"",filter:"",backfaceVisibility:"",willChange:"",height:""},n={duration:800,easing:"cubic-bezier(.2, .8, .2, 1)"};return{preparation:async(r,i,s)=>{G(r,{...e,zIndex:"9",transform:s?"translate3d(0, 0, 0)":"translate3d(100%, 0, 0)"}),G(i,{...e,zIndex:"8",willChange:"transform, filter",transform:s?"translate3d(-50%, 0, 0) scale(.9)":"translate3d(0, 0, 0) scale(1)",filter:s?"blur(3px)":"blur(0)"})},transition:async(r,i,s)=>{await Promise.all([r.animate([{transform:s?"translate3d(0, 0, 0)":"translate3d(105%, 0, 0)"},{transform:s?"translate3d(105%, 0, 0)":"translate3d(0, 0, 0)"}],n),i.animate([{transform:s?"translate3d(-50%, 0, 0) scale(.9)":"translate3d(0, 0, 0) scale(1)",filter:s?"blur(3px)":"blur(0)"},{transform:s?"translate3d(0, 0, 0) scale(1)":"translate3d(-50%, 0, 0) scale(.9)",filter:s?"blur(0)":"blur(3px)"}],n).finished]),G(r,{...t}),G(i,{...t})}}}function Ck(){return new Promise(e=>requestAnimationFrame(e))}var ms,ba=(ms=class{constructor(t,n,r=Pk()){this.rootSceneName=t,this.config=n,this.animation=r,this.sceneStack=[],this.sceneContainer=Tk(),this.transitionInProgress=!1}render(t){if(this.transitionInProgress)return P`${this.sceneContainer}`;const n=!this.currentScenes;this.currentScenes=t;const r=this.getCurrentSceneName();if(!(this.config[r].lazyRender??!1)||n){const o=this.getScene(r);if(!o)throw new Error("Scene not exist");const a=this.buildSceneWrapper(o(),r);this.clearContainer(),this.sceneContainerAppendChild(r,a)}return P`${this.sceneContainer}`}async nextTo(t){this.transitionInProgress||(await this.transition(t),this.sceneStack.push(t))}async back(){if(this.transitionInProgress)return;const t=this.sceneStack[this.sceneStack.length-2]??this.rootSceneName;await this.transition(t,!0),this.sceneStack.pop()}resetScene(){this.sceneStack=[]}getCurrentSceneName(){let t=this.rootSceneName;return this.sceneContainer.firstChild&&(t=this.sceneContainer.firstChild.id),t}getCurrentScene(){if(!this.currentScenes)return null;const t=this.getCurrentSceneName();return this.getScene(t)}async transition(t,n){this.transitionInProgress=!0;try{if(this.getCurrentSceneName()===t)return;const i=this.getScene(t);if(!i)throw new Error(`Scene ${t} not exist`);const s=this.buildSceneWrapper(i(),t),o=this.sceneContainer.firstChild,a=n?o:s,c=n?s:o;n?a.animationOutStart():a.animationInStart(),n?c.animationOutStart():c.animationInStart(),this.sceneContainerAppendChild(t,s),await Ck();const l=s.getBoundingClientRect(),u=o.getBoundingClientRect();await this.animation.preparation(a,c,n??!1),await Promise.all([this.animation.transition(a,c,n??!1),this.resizeContainer(l,u)]),G(this.sceneContainer,{width:"",height:""}),this.sceneContainer.firstChild&&this.sceneContainer.removeChild(this.sceneContainer.firstChild),n?a.animationOutEnd():a.animationInEnd(),n?c.animationOutEnd():c.animationInEnd()}finally{this.transitionInProgress=!1}}getScene(t){return this.currentScenes?this.currentScenes[t]??null:null}clearContainer(){for(;this.sceneContainer.firstChild;)this.sceneContainer.removeChild(this.sceneContainer.firstChild)}buildSceneWrapper(t,n){const r=document.createElement(qr.tagName);return r.id=n,r.classList.add("scene-wrapper",n),Gr(t,r),r}sceneContainerAppendChild(t,n){this.sceneContainer.appendChild(n);const r=this.config[t];this.applySceneConfig(r)}applySceneConfig(t){const n=r=>r?typeof r=="number"?`${r}px`:r:"";t.maxHeight&&(this.sceneContainer.maxHeight=parseInt(t.maxHeight.toString())),G(this.sceneContainer,{minWidth:n(t.minWidth),maxWidth:n(t.maxWidth)})}async resizeContainer(t,n){await this.sceneContainer.animate([{height:`${n.height}px`,width:`${n.width}px`},{height:`${t.height}px`,width:`${t.width}px`}],{duration:200,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,G(this.sceneContainer,{width:`${t.width}px`,height:`${t.height}px`})}},ms.styles=$k,ms);function Tk(){const e=document.createElement(vn.tagName);return e.id="scene-container",e.classList.add("scene-container"),e}var Ik=class extends vs{render(e,t){return this.controller||(this.controller=new Ok(t,n=>this.setValue(n)),e.addController(this.controller)),t()}},Ok=class{constructor(e,t){this.valueFactory=e,this.update=t}hostUpdate(){const e=this.valueFactory();e!==this.lastValue&&(this.lastValue=e,this.update(e))}},zh=rn(Ik),Bk=Object.defineProperty,Rk=Object.getOwnPropertyDescriptor,ie=(e,t,n,r)=>{for(var i=r>1?void 0:r?Rk(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Bk(t,n,i),i},Mk=L`.swap-form-container{display:flex;flex-direction:column;gap:8px;height:fit-content;width:100%;min-width:300px}.input-container{width:100%;display:flex;flex-direction:column}.input-header{height:68px;padding:16px 0 16px 8px;box-sizing:border-box;color:var(--color-content-content-primary);font-size:20px;font-weight:600;line-height:28px;margin-top:-16px;letter-spacing:0;text-align:center;display:flex;align-items:center;justify-content:space-between}`,Ar="swap context",Yu={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},Nk=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){const e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}const t=this.now.value!==e.value,n=this.now.selection.some((r,i)=>r!==e.selection[i]);!t&&!n||(t&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,t){this.now=e,this.updateElementState(e,{inputType:t,data:null})}};function Fk(e,...t){return t.every(({value:n})=>n===e.value)}function jk(e,...t){return t.every(({value:n,selection:r})=>n===e.value&&r[0]===e.selection[0]&&r[1]===e.selection[1])}function Dk({value:e,selection:t},n,r){const[i,s]=t,o=typeof r=="function"?r({value:e,selection:t}):r;return{value:e,selection:o==="replace"?[i,i+n.length]:[i,s]}}function ga(e){return typeof e=="string"}function Lh(e,t,n,r){let i="";for(let s=t.length;s<e.length;s++){const o=e[s],a=(r==null?void 0:r.value[s])===o;if(!ga(o)||o===n&&!a)return i;i+=o}return i}function Xb(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every((n,r)=>{const i=t[r];return ga(i)?n===i:n.match(i)}):t.test(e)}function zk(e,t,n){let r=null,i=null;const s=Array.from(e.value).reduce((a,c,l)=>{const u=Lh(t,a,c,n),d=a+u,h=t[d.length];return ga(h)?d+h:c.match(h)?(r===null&&l>=e.selection[0]&&(r=d.length),i===null&&l>=e.selection[1]&&(i=d.length),d+c):d},""),o=Lh(t,s,"",n);return{value:Xb(s+o,t)?s+o:s,selection:[r??s.length,i??s.length]}}function Lk({value:e,selection:t},n){const[r,i]=t;let s=r,o=i;return{value:Array.from(e).reduce((c,l,u)=>{const d=c+l;return r===u&&(s=c.length),i===u&&(o=c.length),d.match(n)?d:c},""),selection:[s,o]}}function ro(e,t,n=null){if(Xb(e.value,t))return e;const{value:r,selection:i}=Array.isArray(t)?zk(e,t,n):Lk(e,t);return{selection:i,value:Array.isArray(t)?r.slice(0,t.length):r}}function Vh(e,t){if(!Array.isArray(t))return e;const[n,r]=e.selection,i=[],s=Array.from(e.value).reduce((o,a,c)=>{const l=t[c];return c===n&&i.push(o.length),c===r&&i.push(o.length),ga(l)&&l===a?o:o+a},"");return i.length<2&&i.push(...new Array(2-i.length).fill(s.length)),{value:s,selection:[i[0],i[1]]}}var wl=class{constructor(e,t){this.initialElementState=e,this.maskOptions=t,this.value="",this.selection=[0,0];const{value:n,selection:r}=ro(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=n,this.selection=r}addCharacters([e,t],n){const{value:r}=this,i=this.getMaskExpression({value:r.slice(0,e)+n+r.slice(t),selection:[e+n.length,e+n.length]}),s={value:r,selection:[e,t]},o=Vh(s,i),[a,c]=Dk(o,n,this.maskOptions.overwriteMode).selection,l=o.value.slice(0,a)+n,u=l.length,d=ro({value:l+o.value.slice(c),selection:[u,u]},i,s);if(r.slice(0,a)===ro({value:l,selection:[u,u]},i,s).value||jk(this,d))throw new Error("Invalid mask value");this.value=d.value,this.selection=d.selection}deleteCharacters([e,t]){if(e===t||!t)return;const{value:n}=this,r=this.getMaskExpression({value:n.slice(0,e)+n.slice(t),selection:[e,e]}),i={value:n,selection:[e,t]},s=Vh(i,r),[o,a]=s.selection,c=s.value.slice(0,o)+s.value.slice(a),l=ro({value:c,selection:[o,o]},r,i);this.value=l.value,this.selection=l.selection}getMaskExpression(e){const{mask:t}=this.maskOptions;return typeof t=="function"?t(e):t}},Vk=class{constructor(e){this.element=e,this.listeners=[]}listen(e,t,n){const r=t;this.element.addEventListener(e,r,n),this.listeners.push(()=>this.element.removeEventListener(e,r))}destroy(){this.listeners.forEach(e=>e())}},dt={CTRL:1,ALT:2,SHIFT:4,META:8},Mi={Y:89,Z:90};function Ni(e,t,n){return e.ctrlKey===!!(t&dt.CTRL)&&e.altKey===!!(t&dt.ALT)&&e.shiftKey===!!(t&dt.SHIFT)&&e.metaKey===!!(t&dt.META)&&e.keyCode===n}function Uk(e){return Ni(e,dt.CTRL,Mi.Y)||Ni(e,dt.CTRL|dt.SHIFT,Mi.Z)||Ni(e,dt.META|dt.SHIFT,Mi.Z)}function Hk(e){return Ni(e,dt.CTRL,Mi.Z)||Ni(e,dt.META,Mi.Z)}function Ju(e,t){var n;const r=e.value;if(typeof t=="string")e.value=t;else{const[i,s]=t.selection;e.value=t.value,e.matches(":focus")&&((n=e.setSelectionRange)===null||n===void 0||n.call(e,i,s))}e.value!==r&&e.dispatchEvent(new Event("input",{bubbles:!0}))}function qk({value:e,selection:t},n){const[r,i]=t;if(r!==i)return[r,i];const s=n?e.slice(r).indexOf(`
`)+1||e.length:e.slice(0,i).lastIndexOf(`
`)+1;return[n?r:s,n?s:i]}function Wk({value:e,selection:t},n){const[r,i]=t;return r!==i?[r,i]:(n?[r,i+1]:[r-1,i]).map(o=>Math.min(Math.max(o,0),e.length))}var Gk=/\s+$/g,Kk=/^\s+/g,Uh=/\s/;function Zk({value:e,selection:t},n){const[r,i]=t;if(r!==i)return[r,i];if(n){const c=e.slice(r),[l]=c.match(Kk)||[""],u=c.trimStart().search(Uh);return[r,u!==-1?r+l.length+u:e.length]}const s=e.slice(0,i),[o]=s.match(Gk)||[""],a=s.trimEnd().split("").reverse().findIndex(c=>c.match(Uh));return[a!==-1?i-o.length-a:0,i]}function Ro(e=[]){return(t,...n)=>e.reduce((r,i)=>Object.assign(Object.assign({},r),i(r,...n)),t)}function Xu(e,t){const n=Object.assign(Object.assign({},Yu),t),r=Ro(n.preprocessors),i=Ro(n.postprocessors),s=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:o}=r({elementState:s,data:""},"validation"),a=new wl(o,n),{value:c,selection:l}=i(a,s);return typeof e=="string"?c:{value:c,selection:l}}var Qu=class extends Nk{constructor(e,t){super(),this.element=e,this.maskitoOptions=t,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new Vk(this.element),this.options=Object.assign(Object.assign({},Yu),this.maskitoOptions),this.preprocessor=Ro(this.options.preprocessors),this.postprocessor=Ro(this.options.postprocessors),this.teardowns=this.options.plugins.map(n=>n(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",n=>{if(Uk(n))return n.preventDefault(),this.redo();if(Hk(n))return n.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",n=>{const r=n.inputType.includes("Forward");switch(this.updateHistory(this.elementState),n.inputType){case"historyUndo":return n.preventDefault(),this.undo();case"historyRedo":return n.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:n,isForward:r,selection:Wk(this.elementState,r)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:n,isForward:r,selection:Zk(this.elementState,r),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:n,isForward:r,selection:qk(this.elementState,r),force:!0});case"insertCompositionText":return;case"insertLineBreak":return this.handleEnter(n);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(n,n.data||"")}}),this.eventListener.listen("input",({inputType:n})=>{n!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:e,selectionStart:t,selectionEnd:n}=this.element;return{value:e,selection:[t||0,n||0]}}get maxLength(){const{maxLength:e}=this.element;return e===-1?1/0:e}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e==null?void 0:e())}updateElementState({value:e,selection:t},n={inputType:"insertText",data:null}){const r=this.elementState.value;this.updateValue(e),this.updateSelectionRange(t),r!==e&&this.dispatchInputEvent(n)}updateSelectionRange([e,t]){var n;const{element:r}=this;r.matches(":focus")&&(r.selectionStart!==e||r.selectionEnd!==t)&&((n=r.setSelectionRange)===null||n===void 0||n.call(r,e,t))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(Xu(this.elementState,this.options))}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:t,isForward:n,force:r=!1}){const i={value:this.elementState.value,selection:t},[s,o]=i.selection,{elementState:a}=this.preprocessor({elementState:i,data:""},n?"deleteForward":"deleteBackward"),c=new wl(a,this.options),[l,u]=a.selection;c.deleteCharacters([l,u]);const d=this.postprocessor(c,i);if(!(i.value.slice(0,s)+i.value.slice(o)===d.value&&!r)){if(e.preventDefault(),Fk(i,a,c,d))return this.updateSelectionRange(n?[u,u]:[l,l]);this.updateElementState(d,{inputType:e.inputType,data:null}),this.updateHistory(d)}}handleInsert(e,t){const n=this.elementState,{elementState:r,data:i=t}=this.preprocessor({data:t,elementState:n},"insert"),s=new wl(r,this.options);try{s.addCharacters(r.selection,i)}catch{return e.preventDefault()}const[o,a]=r.selection,c=n.value.slice(0,o)+t+n.value.slice(a),l=this.postprocessor(s,n);if(l.value.length>this.maxLength)return e.preventDefault();c!==l.value&&(e.preventDefault(),this.updateElementState(l,{data:t,inputType:e.inputType}),this.updateHistory(l))}handleEnter(e){this.isTextArea&&this.handleInsert(e,`
`)}};function Qb(e,t,n){const r=Math.min(Number(n),Math.max(Number(t),Number(e)));return e instanceof Date?new Date(r):r}var Yk=[".",",","",""],Jk=[":","."],Xk="",Qk="",eg="",tg="",Mo="-",xl="",ng="",rg=/[\\^$.*+?()[\]{}|]/g,eS=new RegExp(rg.source);function ze(e){return e&&eS.test(e)?e.replaceAll(rg,"\\$&"):e}function jt(e,{prefix:t,postfix:n}){var r,i;const s=new RegExp(`^${ze(t)}`),o=new RegExp(`${ze(n)}$`),[a=""]=(r=e.match(s))!==null&&r!==void 0?r:[],[c=""]=(i=e.match(o))!==null&&i!==void 0?i:[],l=e.replace(s,"").replace(o,"");return{extractedPrefix:a,extractedPostfix:c,cleanValue:l}}function tS(e,t){let n="";for(let r=0;r<e.length;r++){if(e[r]!==t[r])return n;n+=e[r]}return n}function zs(e){return e}function Hh(e){return e.replaceAll(/[-]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function nS(){return({elementState:e,data:t})=>{const{value:n,selection:r}=e;return{elementState:{selection:r,value:Hh(n)},data:Hh(t)}}}function rS(e){const t=new RegExp(`${ze(e)}$`);return e?({value:n,selection:r},i)=>{if(!n&&!i.value.endsWith(e))return{value:n,selection:r};if(!n.endsWith(e)&&!i.value.endsWith(e))return{selection:r,value:n+e};const s=i.value.replace(t,""),o=i.selection[1]>=s.length,a=tS(s,n);return{selection:r,value:Array.from(e).reverse().reduce((c,l,u)=>{const d=c.length-1-u,h=a[d]===l&&o;return c[d]!==l||h?c.slice(0,d+1)+l+c.slice(d+1):c},n)}}:zs}function iS(e){return e?({value:t,selection:n},r)=>{if(t.startsWith(e)||!t&&!r.value.startsWith(e))return{value:t,selection:n};const[i,s]=n,o=Array.from(e).reduce((c,l,u)=>c[u]===l?c:c.slice(0,u)+l+c.slice(u),t),a=o.length-t.length;return{selection:[i+a,s+a],value:o}}:zs}function ed(e,t,n){return(r,i)=>{const s=()=>t(r,i);return r.addEventListener(e,s,n),()=>r.removeEventListener(e,s,n)}}new RegExp(`[${Jk.map(ze).join("")}]$`);function sS({prefix:e,postfix:t}){return({elementState:n,data:r})=>{const{cleanValue:i}=jt(r,{prefix:e,postfix:t});return{elementState:n,data:i}}}function ig({decimalSeparator:e,isNegativeAllowed:t,precision:n,thousandSeparator:r,prefix:i,postfix:s,decimalPseudoSeparators:o=[],pseudoMinuses:a=[],minusSign:c}){const l=qh(i),u="\\d",d=t?`[${c}${a.map(f=>`\\${f}`).join("")}]?`:"",h=r?`[${u}${ze(r).replaceAll(/\s/g,"\\s")}]*`:`[${u}]*`,p=n>0?`([${ze(e)}${o.map(ze).join("")}]${u}{0,${Number.isFinite(n)?n:""}})?`:"",m=qh(s);return new RegExp(`^${l}${d}${h}${p}${m}$`)}function qh(e){return e?`${e.split("").map(t=>`${ze(t)}?`).join("")}`:""}function td(e,t="."){const n=!!e.match(new RegExp(`^\\D*[${xl}\\${Mo}${eg}${tg}${ng}]`)),r=ze(t),i=e.replaceAll(new RegExp(`${r}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${r}]`,"g"),"").replace(t,".");return i?Number((n?Mo:"")+i):NaN}function oS(e){const t=String(e),[n,r]=t.split("e-");let i=t;if(r){const[,s]=n.split("."),o=Number(r)+((s==null?void 0:s.length)||0);i=e.toFixed(o)}return i}function aS({decimalSeparator:e,thousandSeparator:t,decimalPseudoSeparators:n=Yk}){return n.filter(r=>r!==t&&r!==e)}function cS({decimalSeparator:e,precision:t,decimalZeroPadding:n,prefix:r,postfix:i}){return t<=0||!n?zs:({value:s,selection:o})=>{const{cleanValue:a,extractedPrefix:c,extractedPostfix:l}=jt(s,{prefix:r,postfix:i});if(Number.isNaN(td(a,e)))return{value:s,selection:o};const[u,d=""]=a.split(e);return{value:c+u+e+d.padEnd(t,"0")+l,selection:o}}}function lS({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:r,postfix:i,minusSign:s}){let o=!0;const a=ig({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0,minusSign:s});return({elementState:c,data:l})=>{if(!o)return{elementState:c,data:l};o=!1;const{value:u,selection:d}=c,[h,p]=d,{extractedPrefix:m,cleanValue:f,extractedPostfix:y}=jt(u,{prefix:r,postfix:i}),b=Xu({selection:[Math.max(h-m.length,0),Qb(p-m.length,0,f.length)],value:f},{mask:a}),[g,v]=b.selection;return{elementState:{selection:[g+m.length,v+m.length],value:m+b.value+y},data:l}}}function uS({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r}){const i=o=>{const a=ze(t);return o.replace(new RegExp(`^(\\D+)?[0${a}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${a}]+(?=[1-9])`),"$1")},s=(o,a)=>{const c=o.slice(0,a),l=o.slice(a).startsWith("0");return c.length-i(c).length+(l?1:0)};return({value:o,selection:a})=>{const[c,l]=a,{cleanValue:u,extractedPrefix:d,extractedPostfix:h}=jt(o,{prefix:n,postfix:r}),p=u.includes(e),[m,f=""]=u.split(e),y=i(m);if(m===y)return{value:o,selection:a};const b=c-s(o,c),g=l-s(o,l);return{value:d+y+(p?e:"")+f+h,selection:[Math.max(b,0),Math.max(g,0)]}}}function dS({min:e,max:t,decimalSeparator:n,minusSign:r}){return({value:i,selection:s})=>{const o=td(i,n),a=o>0?Math.min(o,t):Math.max(o,e);if(!Number.isNaN(o)&&a!==o){const c=`${a}`.replace(".",n).replace(Mo,r);return{value:c,selection:[c.length,c.length]}}return{value:i,selection:s}}}function hS({decimalSeparator:e,thousandSeparator:t,decimalZeroPadding:n}){return({elementState:r,data:i},s)=>{const{value:o,selection:a}=r,[c,l]=a,u=o.slice(c,l),d=n?[e,t]:[t],h=n&&c>o.indexOf(e)&&!!u.match(/^0+$/gi);return s!=="deleteBackward"&&s!=="deleteForward"||!d.includes(u)&&!h?{elementState:r,data:i}:{elementState:{value:o,selection:s==="deleteForward"?[l,l]:[c,c]},data:i}}}function fS({decimalSeparator:e,precision:t,prefix:n,postfix:r}){const i=new RegExp(`^\\D*${ze(e)}`);return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l}=jt(a,{prefix:n,postfix:r}),[u]=c;if(t<=0||l.includes(e)||!o.match(i))return{elementState:s,data:o};const d=l.slice(0,u).match(/\d+/);return{elementState:s,data:d?o:`0${o}`}}}function Wh({validCharacter:e,pseudoCharacters:t,prefix:n,postfix:r}){const i=new RegExp(`[${t.join("")}]`,"gi");return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l,extractedPostfix:u,extractedPrefix:d}=jt(a,{prefix:n,postfix:r});return{elementState:{selection:c,value:d+l.replace(i,e)+u},data:o.replace(i,e)}}}function pS({decimalSeparator:e,prefix:t,postfix:n}){return({elementState:r,data:i})=>{const{value:s,selection:o}=r,[a,c]=o,{cleanValue:l}=jt(s,{prefix:t,postfix:n});return{elementState:r,data:!l.includes(e)||s.slice(a,c+1).includes(e)?i:i.replaceAll(new RegExp(ze(e),"gi"),"")}}}function mS({thousandSeparator:e,decimalSeparator:t,prefix:n,postfix:r,minusSign:i}){if(!e)return zs;const s=(...o)=>o.every(a=>/\s/.test(a));return({value:o,selection:a})=>{const{cleanValue:c,extractedPostfix:l,extractedPrefix:u}=jt(o,{prefix:n,postfix:r}),[d,h=""]=c.replace(i,"").split(t),[p,m]=a;let[f,y]=a;const b=Array.from(d).reduceRight((g,v,w)=>{const _=!(!w&&v===e)&&g.length&&(g.length+1)%4===0;return _&&(v===e||s(v,e))?e+g:v===e&&!_?(w&&w<=p&&f--,w&&w<=m&&y--,g):_?(w<=p&&f++,w<=m&&y++,v+e+g):v+g},"");return{value:u+(c.includes(i)?i:"")+b+(c.includes(t)?t:"")+h+l,selection:[f,y]}}}function bS({precision:e,decimalSeparator:t,prefix:n,postfix:r}){if(e>0)return zs;const i=new RegExp(`${ze(t)}.*$`,"g");return({elementState:s,data:o})=>{const{value:a,selection:c}=s,{cleanValue:l,extractedPrefix:u,extractedPostfix:d}=jt(a,{prefix:n,postfix:r}),[h,p]=c,m=u+l.replace(i,"")+d;return{elementState:{selection:[Math.min(h,m.length),Math.min(p,m.length)],value:m},data:o.replace(i,"")}}}var Gh=[0,0];function gS({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r}){const i=uS({decimalSeparator:e,thousandSeparator:t,prefix:n,postfix:r});return ed("blur",s=>{const o=i({value:s.value,selection:Gh},{value:"",selection:Gh}).value;Ju(s,o)},{capture:!0})}function yS({min:e,max:t,decimalSeparator:n}){return ed("blur",(r,i)=>{const s=td(r.value,n),o=Qb(s,e,t);!Number.isNaN(s)&&s!==o&&Ju(r,Xu(oS(o),i))},{capture:!0})}function vS({decimalSeparator:e,prefix:t,postfix:n}){return ed("blur",r=>{const{cleanValue:i,extractedPostfix:s,extractedPrefix:o}=jt(r.value,{prefix:t,postfix:n}),a=o+i.replace(new RegExp(`^(\\D+)?${ze(e)}`),`$10${e}`)+s;Ju(r,a)},{capture:!0})}function nd({max:e=Number.MAX_SAFE_INTEGER,min:t=Number.MIN_SAFE_INTEGER,precision:n=0,thousandSeparator:r=Xk,decimalSeparator:i=".",decimalPseudoSeparators:s,decimalZeroPadding:o=!1,prefix:a="",postfix:c="",minusSign:l=xl}={}){const u=[Mo,eg,tg,ng,xl].filter(p=>p!==r&&p!==i&&p!==l),d=aS({decimalSeparator:i,thousandSeparator:r,decimalPseudoSeparators:s}),h=a.endsWith(i)&&n>0?`${a}${Qk}`:a;return Object.assign(Object.assign({},Yu),{mask:ig({decimalSeparator:i,precision:n,thousandSeparator:r,prefix:h,postfix:c,isNegativeAllowed:t<0,minusSign:l}),preprocessors:[nS(),lS({decimalSeparator:i,decimalPseudoSeparators:d,pseudoMinuses:u,prefix:h,postfix:c,minusSign:l}),sS({prefix:h,postfix:c}),Wh({validCharacter:l,pseudoCharacters:u,prefix:h,postfix:c}),Wh({validCharacter:i,pseudoCharacters:d,prefix:h,postfix:c}),fS({decimalSeparator:i,precision:n,prefix:h,postfix:c}),hS({decimalSeparator:i,decimalZeroPadding:o,thousandSeparator:r}),bS({precision:n,decimalSeparator:i,prefix:h,postfix:c}),pS({decimalSeparator:i,prefix:h,postfix:c})],postprocessors:[dS({decimalSeparator:i,min:t,max:e,minusSign:l}),iS(h),rS(c),mS({decimalSeparator:i,thousandSeparator:r,prefix:h,postfix:c,minusSign:l}),cS({decimalSeparator:i,decimalZeroPadding:o,precision:n,prefix:h,postfix:c})],plugins:[gS({decimalSeparator:i,thousandSeparator:r,prefix:h,postfix:c}),vS({decimalSeparator:i,prefix:h,postfix:c}),yS({min:t,max:e,decimalSeparator:i})],overwriteMode:o?({value:p,selection:[m]})=>m<=p.indexOf(i)?"shift":"replace":"shift"})}var wS=L`:host{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:right;color:var(--color-content-content-secondary)}${tt(L`:host{font-size:14px}`)}`,ir=class extends K{constructor(){super(...arguments),this.balance$=X(()=>{if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return ye([this.context.connectedWalletAddress$,this.context.getTokenByType(this.tokenType),this.context.chainId$])}).pipe(Fe(([e])=>!!e),ne(([e,t,n])=>!e||!t||!n?[P`<br>`]:X(()=>Le.liveQuery(()=>Le.getTokenBalance(n,t.address,e))).pipe(Fe(Boolean),q(r=>Kn(Bt(BigInt(r.amount),t.decimals),6)),q(r=>this.getBalanceView(r)),Fl(()=>[P`<br>`]))))}render(){return P`${he(this.balance$,P`<br>`)}`}getBalanceView(e){return P`<span>Balance: ${e}</span>`}};ir.tagName="inch-swap-balance";ir.styles=wS;ie([V({type:String,attribute:!0})],ir.prototype,"tokenType",2);ie([Et({context:Ar})],ir.prototype,"context",2);ir=ie([J(ir.tagName)],ir);var xS=L`:host{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:right;color:var(--color-content-content-secondary)}${tt(L`:host{font-size:14px}`)}`,sr=class extends K{constructor(){super(...arguments),this.balance$=X(()=>{if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return ye([this.context.connectedWalletAddress$,this.context.getTokenByType(this.tokenType),this.context.chainId$])}).pipe(Fe(([e])=>!!e),ne(([e,t,n])=>!e||!t||!n?[P`<br>`]:ye([Le.liveQuery(()=>Le.getTokenUSDPrice(n,t.address)),this.context.getTokenRawAmountByType(this.tokenType)]).pipe(q(([r,i])=>{if(!i)return P`<br>`;const s=Bt(BigInt(i??0),t.decimals),o=Number(s)*Number(r);return this.getBalanceView(hl(o.toString(),1))}),Fl(()=>[P`<br>`]))))}render(){return P`${he(this.balance$,P`<br>`)}`}getBalanceView(e){return P`<span>~$${e}</span>`}};sr.tagName="inch-fiat-balance";sr.styles=xS;ie([V({type:String,attribute:!0})],sr.prototype,"tokenType",2);ie([Et({context:Ar})],sr.prototype,"context",2);sr=ie([J(sr.tagName)],sr);var _S=L`.input-container{height:128px;border-radius:16px;background-color:var(--color-background-bg-secondary);transition:box-shadow .2s;padding:16px;box-sizing:border-box;display:grid;grid-template-columns:1fr 2fr;justify-content:space-between}.input-container.disabled{background-color:var(--color-background-bg-primary);border:1px solid var(--color-border-border-tertiary)}.flex-container{display:flex;flex-direction:column;justify-content:space-between;height:fit-content}.input-title{font-size:16px;font-weight:500;line-height:24px;letter-spacing:0;text-align:left;color:var(--color-content-content-secondary)}.symbol-container{border:none;background-color:transparent;display:flex;align-items:center;gap:8px;cursor:pointer;color:var(--color-content-content-primary);border-radius:16px;width:fit-content;padding:8px;margin-left:-8px;transition:background-color .2s;outline:0;user-select:none;-webkit-tap-highlight-color:transparent}.symbol{font-size:24px;font-weight:600;line-height:32px;letter-spacing:0;text-align:left}.token-name{font-size:16px;font-weight:400;line-height:24px;letter-spacing:0;text-align:left;color:var(--color-content-content-secondary)}.amount-input{height:48px;color:var(--color-content-content-primary);box-sizing:border-box;font-size:24px;font-weight:600;line-height:32px;letter-spacing:0;text-align:right;border:none;background-color:transparent;outline:0;user-select:none;width:100%}.amount-input[type=number]::-webkit-inner-spin-button,.amount-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.amount-input[type=number]{-moz-appearance:textfield}.amount-input:disabled{opacity:1;color:var(--color-content-content-primary)}@media (hover:hover){.input-container:not(.disabled):hover{box-shadow:0 0 0 1px var(--color-background-bg-positive-hover)}.symbol-container:hover{background-color:var(--color-background-bg-positive-hover)}}${tt(L`.amount-input{height:40px}.amount-input,.symbol{font-size:20px}.input-title,.token-name{font-size:14px}.input-container{height:116px}.symbol-container{padding:4px 8px}`)}.symbol-container:active{transform:scale(.98);background-color:var(--color-background-bg-positive-hover)}.select-token-text{word-wrap:break-word;white-space:nowrap}`,En=class extends K{constructor(){super(...arguments),this.disabled=!1,this.token$=X(()=>this.getTokenEventEmitter()),this.chainId$=X(()=>this.getChainEventEmitter()),this.amount$=X(()=>this.getTokenAmountStream()),this.input=document.createElement("input"),this.maskedInput=this.buildMask(6),this.tokenView$=this.token$.pipe(q(e=>e?this.tokenView(e):this.selectTokenView()))}connectedCallback(){super.connectedCallback(),this.input.classList.add("amount-input"),this.input.inputMode="decimal",this.input.autocomplete="off",this.input.placeholder=this.tokenType==="source"?"0":"";const e=this.token$.pipe(Q(r=>{r&&(this.maskedInput.destroy(),this.maskedInput=this.buildMask(r.decimals))})),t=ce(this.input,"input").pipe(Q(r=>this.onInput(r))),n=ye([this.amount$,this.token$]).pipe(q(([r,i])=>!r||!i?"0":Bt(r,i.decimals)),Fe(r=>r!==this.input.value),Q(r=>this.input.value=Kn(r,6)));wt(this,[e,t,n],{requestUpdate:!1})}disconnectedCallback(){super.disconnectedCallback(),this.maskedInput.destroy()}render(){const e={disabled:this.disabled};return this.input.disabled=this.tokenType==="destination",P`<div class="input-container ${Ge(e)}"><div class="flex-container"><div class="input-title">${this.getInputTitle()}</div>${he(this.tokenView$)}</div><div class="flex-container"><inch-swap-balance tokenType="${Vi(this.tokenType)}"></inch-swap-balance>${this.input}<inch-fiat-balance tokenType="${Vi(this.tokenType)}"></inch-fiat-balance></div></div>`}selectTokenView(){return P`<inch-button disabledSlotPointerEvent type="secondary" size="l" @click="${e=>Se(this,"openTokenSelector",this.tokenType,e)}"><span class="select-token-text">Select token</span><inch-icon icon="chevronDown16"></inch-icon></inch-button><br>`}tokenView(e){const{name:t,symbol:n,address:r}=e;return P`<button @click="${i=>Se(this,"openTokenSelector",this.tokenType,i)}" class="symbol-container"><inch-token-icon symbol="${n}" address="${r}" chainId="${he(this.chainId$)}"></inch-token-icon><span class="symbol">${n}</span><inch-icon icon="chevronDown16"></inch-icon></button><div class="token-name">${t}</div>`}getTokenEventEmitter(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.getTokenByType(this.tokenType)}getTokenAmountStream(){if(!this.context)throw new Error("");if(!this.tokenType)throw new Error("");return this.context.getTokenAmountByType(this.tokenType)}getChainEventEmitter(){if(!this.context)throw new Error("");return this.context.chainId$}getInputTitle(){if(this.tokenType==="source")return"You pay";if(this.tokenType==="destination")return"You receive";throw new Error(`invalid token type ${this.tokenType} in swap input`)}async onInput(e){var s;if(!this.tokenType)return;const t=e.target,n=(t==null?void 0:t.value)??"",r=await St(this.token$);if(!r)return;const i=Am(n.replaceAll("",""),r.decimals);(s=this.context)==null||s.setTokenAmountByType(this.tokenType,i)}buildMask(e){return new Qu(this.input,nd({precision:e,max:9*10**15,min:0}))}};En.tagName="inch-swap-form-input";En.styles=_S;ie([V({type:Boolean,attribute:!0,reflect:!0})],En.prototype,"disabled",2);ie([V({type:String,attribute:!0,reflect:!0})],En.prototype,"tokenType",2);ie([Et({context:Ar,subscribe:!0})],En.prototype,"context",2);En=ie([J(En.tagName)],En);var ES=L`:host{height:4px;position:relative;outline:0;user-select:none;display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent}.switcher{position:absolute;border-radius:50%;border:none;background-color:var(--color-background-bg-primary);color:var(--color-content-content-primary);box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12);width:32px;height:32px;display:flex;justify-content:center;align-items:center;top:-13px;cursor:pointer;transition:color .2s}.switcher:disabled{cursor:not-allowed;pointer-events:none;color:var(--color-content-content-disabled);box-shadow:0 4px 12px 0 rgba(0,0,0,.12),0 1px 4px 0 rgba(0,0,0,.12)}@media (hover:hover){.switcher:not(:disabled):hover{color:var(--color-content-content-secondary)}}.switcher-icon{transition:transform .2s}.switcher-icon-up{transform:rotate(180deg)}.switcher-icon-down{transform:rotate(360deg)}.switcher-icon-off-transition{transition:none}`,Wr=class extends K{constructor(){super(...arguments),this.isDisabled$=X(()=>{if(!this.context)throw new Error("");return ye([this.context.getTokenByType("source"),this.context.getTokenByType("destination")])}).pipe(q(([e,t])=>!e||!t))}render(){return P`<button @mouseover="${this.up}" @mouseleave="${this.down}" @click="${this.onClick}" ?disabled="${he(this.isDisabled$,!1)}" class="switcher"><inch-icon class="switcher-icon" icon="arrowDown24"></inch-icon></button>`}up(){const e=this.renderRoot.querySelector("inch-icon");e&&(e.classList.contains("switcher-icon-up")||(e.classList.remove("switcher-icon-off-transition","switcher-icon-down"),e.classList.add("switcher-icon-up")))}async down(){const e=this.renderRoot.querySelector("inch-icon");e&&e.classList.contains("switcher-icon-up")&&(e.classList.add("switcher-icon-down"),await jh(300),e.classList.add("switcher-icon-off-transition"),e.classList.remove("switcher-icon-up","switcher-icon-down"),await jh(50),e.classList.remove("switcher-icon-off-transition"))}onClick(){var t;const e=this.renderRoot.querySelector("inch-icon");e&&e.classList.contains("switcher-icon-up")&&((t=this.context)==null||t.switchPair(),Se(this,"switchPair",null))}};Wr.tagName="inch-token-pair-switch";Wr.styles=ES;ie([Et({context:Ar,subscribe:!0})],Wr.prototype,"context",2);Wr=ie([J(Wr.tagName)],Wr);var or=class extends K{constructor(){super(...arguments),this.isRainbowTheme=!1,this.mobileMedia=si(this),this.connectedWalletAddress$=X(()=>this.getConnectedWalletAddress()),this.sourceToken$=X(()=>this.getSourceToken()),this.destinationToken$=X(()=>this.getDestinationToken()),this.chainId$=X(()=>this.getChainId()),this.sourceTokenAmount$=X(()=>this.getSourceTokenAmount()),this.exceedingMaximumAmount$=ye([this.connectedWalletAddress$,this.sourceToken$,this.sourceTokenAmount$.pipe(Je(0n))]).pipe(ne(([e,t,n])=>!e||!t||n===0n?lt(!1):Le.getTokenBalance(t.chainId,t.address,e).then(r=>r?!n||n>BigInt(r.amount):!1))),this.view$=ye([this.connectedWalletAddress$,this.sourceToken$,this.destinationToken$,this.exceedingMaximumAmount$,this.sourceTokenAmount$.pipe(Je(0n)),this.chainId$,qy().pipe(Je(null))]).pipe(dr(0),q(([e,t,n,r,i])=>this.getSwapButtonView(e,t,n,r,i)))}connectedCallback(){super.connectedCallback(),wt(this,[Fb().pipe(q(({brandColor:e})=>e),Pe(),Q(e=>this.isRainbowTheme=e===js.rainbow))])}render(){return P`${he(this.view$)}`}getSwapButtonView(e,t,n,r,i){const s=this.mobileMedia.matches?"xl":"xxl",o={};return e?t?n?!i||i===0n?P`<inch-button type="secondary" size="${s}" fullSize disabled="disabled">Enter amount to swap</inch-button>`:r?P`<inch-button class="smart-hover" @click="${()=>this.onSetMax()}" type="secondary" size="${s}" fullSize><span class="off-hover">Insufficient ${t.symbol} balance</span> <span class="on-hover">Set max ${t.symbol}</span></inch-button>`:P`<inch-button @click="${()=>this.onSwap()}" type="primary" size="${s}" fullSize>Swap</inch-button>`:P`<inch-button @click="${a=>Se(this,"openTokenSelector","destination",a)}" type="secondary" size="${s}" fullSize>Select destination token</inch-button>`:P`<inch-button @click="${a=>Se(this,"openTokenSelector","source",a)}" type="secondary" size="${s}" fullSize>Select source token</inch-button>`:P`<inch-button class="${Ge(o)}" @click="${()=>Se(this,"connectWallet",null)}" type="secondary" size="${s}" fullSize>Connect wallet</inch-button>`}async onSetMax(){var r;const e=await St(this.sourceToken$),t=await St(this.connectedWalletAddress$);if(!e||!t)return;const n=await Le.getTokenBalance(e.chainId,e.address,t);(r=this.context)==null||r.setTokenAmountByType("source",BigInt((n==null?void 0:n.amount)??0),!0)}async onClick(){if(!await St(this.connectedWalletAddress$)){Se(this,"connectWallet",null);return}}onSwap(){}getConnectedWalletAddress(){if(!this.context)throw new Error("");return this.context.connectedWalletAddress$}getChainId(){if(!this.context)throw new Error("");return this.context.chainId$}getSourceToken(){if(!this.context)throw new Error("");return this.context.getTokenByType("source")}getDestinationToken(){if(!this.context)throw new Error("");return this.context.getTokenByType("destination")}getSourceTokenAmount(){if(!this.context)throw new Error("");return this.context.getTokenRawAmountByType("source")}};or.tagName="inch-swap-button";or.styles=L`:host{height:57px}${tt(L`:host{height:44px}`)}.on-hover{display:none}.rainbow{--button-text-color-ext:#ffffff;--button-text-color-ext-hover:#ffffff;position:relative}.rainbow:after,.rainbow:before{content:'';position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0;background:${Db()};background-size:1000%;animation:bg-rainbow 300s cubic-bezier(.4,0,1,1) infinite;z-index:-1}@keyframes bg-rainbow{0%{border-radius:24px;background-position:0 0}50%{border-radius:24px;background-size:800%;background-position:400% 0}100%{border-radius:24px;background-position:0 0}}@media (hover:hover){.smart-hover:hover .on-hover{display:block}.smart-hover:hover .off-hover{display:none}}`;ie([Et({context:Ar,subscribe:!0})],or.prototype,"context",2);ie([et()],or.prototype,"isRainbowTheme",2);or=ie([J(or.tagName)],or);var $S=L`:host{display:flex;flex-direction:column}`,AS=L`.slippage-title{display:flex;padding:8px;gap:8px;color:var(--color-content-content-primary);align-items:center;margin-bottom:8px;cursor:pointer;font-size:16px}.back-icon{transform:rotate(90deg)}${tt(L`.slippage-title{font-size:13px}`)}`,Fi=class extends K{constructor(){super(...arguments),this.mobileMedia=si(this),this.segments=[{label:"Auto",value:"auto"},{label:"0.1%",value:.1},{label:"0.5%",value:.5},{label:"1%",value:1},{label:"Custom",template:()=>P`${this.customSlippageInput}`}],this.customSlippageInput=document.createElement("input")}connectedCallback(){super.connectedCallback(),this.buildMask(),this.customSlippageInput.placeholder="Custom %",this.customSlippageInput.inputMode="decimal",this.customSlippageInput.autocomplete="off",G(this.customSlippageInput,{backgroundColor:"transparent",border:"none",outline:"none",padding:"0",color:"var(--color-content-content-primary)",width:"80px",fontSize:"16px",textAlign:"center"}),wt(this,[ce(this.customSlippageInput,"input").pipe(Q(()=>{this.customSlippageInput.value.length===1&&(this.customSlippageInput.value="")}))],{requestUpdate:!1})}render(){return G(this.customSlippageInput,{fontSize:this.mobileMedia.matches?"13px":"16px"}),P`<div @click="${()=>Se(this,"back",null)}" class="slippage-title"><inch-icon class="back-icon" icon="chevronDown16"></inch-icon><span>Slippage tolerance</span></div><inch-segmented-control .items="${this.segments}" .select="${this.segments[0]}"></inch-segmented-control>`}buildMask(){return new Qu(this.customSlippageInput,nd({max:99,min:1,postfix:"%"}))}};Fi.tagName="inch-fusion-swap-info-slippage";Fi.styles=AS;Fi=ie([J(Fi.tagName)],Fi);var kS=L`.slippage-title{display:flex;padding:8px;gap:8px;color:var(--color-content-content-primary);align-items:center;margin-bottom:8px;cursor:pointer;font-size:16px}.back-icon{transform:rotate(90deg)}${tt(L`.slippage-title{font-size:13px}`)}`,ji=class extends K{constructor(){super(...arguments),this.mobileMedia=si(this),this.segments=[{label:"Auto",value:"auto"},{label:"3m",value:60*3},{label:"5m",value:60*5},{label:"10m",value:60*10},{label:"30m",value:60*30},this.mobileMedia.matches?null:{label:"1H",value:60*60},this.mobileMedia.matches?null:{label:"2H",value:60*60*2},{label:"Custom",template:()=>P`${this.customAuctionTimeInput}`}].filter(Boolean),this.customAuctionTimeInput=document.createElement("input")}connectedCallback(){super.connectedCallback(),this.buildMask(),this.customAuctionTimeInput.placeholder="Custom s",this.customAuctionTimeInput.inputMode="decimal",this.customAuctionTimeInput.autocomplete="off",G(this.customAuctionTimeInput,{backgroundColor:"transparent",border:"none",outline:"none",padding:"0",color:"var(--color-content-content-primary)",width:"80px",fontSize:"16px",textAlign:"center"}),wt(this,[ce(this.customAuctionTimeInput,"input").pipe(Q(()=>{this.customAuctionTimeInput.value.length===1&&(this.customAuctionTimeInput.value="")}))],{requestUpdate:!1})}render(){return G(this.customAuctionTimeInput,{fontSize:this.mobileMedia.matches?"13px":"16px"}),P`<div @click="${()=>Se(this,"back",null)}" class="slippage-title"><inch-icon class="back-icon" icon="chevronDown16"></inch-icon><span>Auction time</span></div><inch-segmented-control .items="${this.segments}" .select="${this.segments[0]}"></inch-segmented-control>`}buildMask(){return new Qu(this.customAuctionTimeInput,nd({max:60*60*30,min:60*3,postfix:"s"}))}};ji.tagName="inch-fusion-swap-info-auction-time";ji.styles=kS;ji=ie([J(ji.tagName)],ji);var SS=L`:host{--font-size:16px}.container{height:56px;padding:16px;box-sizing:border-box;transition:height .2s,background-color .2s;display:grid;grid-template-columns:1fr auto;align-items:flex-start;justify-content:space-between;border-radius:16px;color:var(--color-content-content-primary);cursor:pointer}.open{height:236px;grid-template-rows:min-content 1fr;grid-row-gap:16px;cursor:auto}.icon{transition:transform .2s;will-change:transform}.open-icon{transform:rotate(180deg)}.fusion-info{display:flex;align-items:center;gap:4px}.fusion-icon{display:flex;align-items:center;gap:4px;color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;transition:opacity .2s,transform .2s;will-change:opacity}.fusion-icon-open{opacity:0;transform:translate3d(20px,0,0)}.rate-container{width:100%;display:flex;align-content:flex-start}.rate-view{font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px}.rate-loader{background-color:var(--color-background-bg-secondary);height:24px;width:50%;border-radius:8px;will-change:filter;transition:background-color .2s;animation:stub-loader-animation 3s ease-in-out infinite}@keyframes stub-loader-animation{0%,100%{filter:opacity(1)}50%{filter:opacity(.5)}}.dst-token-rate-usd-price{color:var(--color-content-content-secondary);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;margin-left:4px}.content-container{display:flex;grid-row-start:2;grid-row-end:3;height:100%;grid-column-start:1;grid-column-end:3;flex-direction:column;visibility:hidden;transform:translate3d(0,-15px,0);transition:transform .2s,opacity .2s}.open .content-container{visibility:visible;transform:translate3d(0,0,0)}.content-row{height:40px;padding:8px 0;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between}.row-slippage{color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:500;line-height:24px;cursor:pointer;transition:color .2s}.row-title{color:var(--color-content-content-secondary);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px}.row-content{display:flex;align-items:center;gap:4px;color:var(--primary);text-align:right;font-size:var(--font-size);font-style:normal;font-weight:400;line-height:24px;transition:opacity .2s,transform .2s;will-change:opacity}@media (hover:hover){.container:not(.open):hover{background-color:var(--color-background-bg-secondary)}.container:not(.open):hover .rate-loader{background-color:var(--color-background-bg-positive-hover)}.row-slippage:hover{color:var(--primary-hover)}}${tt(L`:host{--font-size:13px}.open{grid-row-gap:0}`)}`,ar=class extends K{constructor(){super(...arguments),this.isOpen=!1,this.rate$=X(()=>this.getContext().rate$),this.rateView$=this.rate$.pipe(dr(0),Pe(PS),ne(async e=>{if(e===null)return this.getLoadRateView();const{chainId:t,rate:n,revertedRate:r,sourceToken:i,destinationToken:s}=e,o=await Le.getPriorityToken(t,[i.address,s.address]),a=yn(o,i)?s:i,l=yn(o,i)?r:n,u=hl(Bt(l,a.decimals),2),d=await Le.getTokenUSDPrice(t,a.address),h=Am(d,a.decimals),p=hl(Bt(h,a.decimals),2);return P`<span class="rate-view">1 ${I$(a)} = ${u} ${o.symbol} <span class="dst-token-rate-usd-price">~$${p}</span></span>`}),Je(this.getLoadRateView()),ke({bufferSize:1,refCount:!0}))}connectedCallback(){super.connectedCallback(),Se(this,"changeFusionInfoOpenState",this.isOpen)}disconnectedCallback(){super.disconnectedCallback(),Se(this,"changeFusionInfoOpenState",!1)}render(){const e={container:!0,open:this.isOpen},t={icon:!0,"open-icon":this.isOpen},n={"fusion-icon":!0,"fusion-icon-open":this.isOpen};return P`<div class="${Ge(e)}" @click="${()=>{this.isOpen=!0,Se(this,"changeFusionInfoOpenState",this.isOpen)}}"><div class="rate-container">${he(this.rateView$)}</div><div class="fusion-info"><div class="${Ge(n)}"><inch-icon icon="fusion16"></inch-icon><span>Free</span></div><inch-button @click="${r=>this.onChangeOpen(r)}" size="l" type="tertiary"><inch-icon class="${Ge(t)}" icon="chevronDown16"></inch-icon></inch-button></div><div class="content-container"><div class="content-row"><span class="row-title">Slippage tolerance</span><div @click="${()=>Se(this,"openSlippageSettings",null)}" class="row-content row-slippage">0.4%  Auto</div></div><div class="content-row"><span class="row-title">Auction time</span><div @click="${()=>Se(this,"openAuctionTimeSettings",null)}" class="row-content row-slippage">180s  Auto</div></div><div class="content-row"><span class="row-title">Minimum receive</span><div class="row-content"></div></div><div class="content-row"><span class="row-title">Network Fee</span><div class="row-content"><inch-icon icon="fusion16"></inch-icon><span>Free</span></div></div></div></div>`}getLoadRateView(){return P`<div class="rate-loader"></div>`}onChangeOpen(e){e.preventDefault(),e.stopPropagation(),this.isOpen=!this.isOpen,Se(this,"changeFusionInfoOpenState",this.isOpen)}getContext(){if(!this.context)throw new Error("");return this.context}};ar.tagName="inch-fusion-swap-info-main";ar.styles=SS;ie([V({type:Boolean})],ar.prototype,"isOpen",2);ie([Et({context:Ar,subscribe:!0})],ar.prototype,"context",2);ar=ie([J(ar.tagName)],ar);function PS(e,t){return e===null||t===null?!1:J$(e,t)}var Di=class extends K{constructor(){super(...arguments),this.isOpenFusionInfo=!1,this.scene=new ba("main",{main:{lazyRender:!0,minHeight:178},slippage:{minHeight:79.5},auctionTime:{minHeight:79.5}},Sk())}render(){return this.scene.render({main:()=>P`<inch-fusion-swap-info-main .isOpen="${this.isOpenFusionInfo}" @openSlippageSettings="${()=>this.scene.nextTo("slippage")}" @openAuctionTimeSettings="${()=>this.scene.nextTo("auctionTime")}"></inch-fusion-swap-info-main>`,slippage:()=>P`<inch-fusion-swap-info-slippage @back="${()=>{this.isOpenFusionInfo=!0,this.scene.back()}}"></inch-fusion-swap-info-slippage>`,auctionTime:()=>P`<inch-fusion-swap-info-auction-time @back="${()=>{this.isOpenFusionInfo=!0,this.scene.back()}}"></inch-fusion-swap-info-auction-time>`})}};Di.tagName="inch-fusion-swap-info";Di.styles=[$S,ba.styles()];Di=ie([J(Di.tagName)],Di);var Xe=class extends K{constructor(){super(...arguments),this.srcToken=null,this.dstToken=null,this.context=new Fs(this,{context:Ar}),this.fusionView$=ye([X(()=>this.getWalletController().data.activeAddress$),X(()=>this.getContext().getTokenByType("source")),X(()=>this.getContext().getTokenByType("destination"))]).pipe(q(([e,t,n])=>!e||!t||!n),Je(Xe.lastFusionRenderIsEmptyState),Pe(),Q(e=>{Xe.lastFusionRenderIsEmptyState=e}))}connectedCallback(){super.connectedCallback(),wt(this,[this.fusionView$])}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.context.value)==null||e.destroy()}updated(e){const t=this.getContext();(e.has("srcToken")||e.has("dstToken"))&&(t.setPair({srcToken:this.srcToken,dstToken:this.dstToken}),this.requestUpdate())}render(){return this.context.value||this.getContext(),P`<div class="swap-form-container"><inch-card-header headerText="Swap tokens" headerTextPosition="left"><inch-button slot="right-container" type="tertiary-gray" size="m"><inch-icon icon="authRefresh36"></inch-icon></inch-button></inch-card-header><div class="input-container"><inch-swap-form-input tokenType="source"></inch-swap-form-input><inch-token-pair-switch></inch-token-pair-switch><inch-swap-form-input disabled="disabled" tokenType="destination"></inch-swap-form-input></div>${Zn(!Xe.lastFusionRenderIsEmptyState,()=>P`<inch-fusion-swap-info></inch-fusion-swap-info>`)}<inch-swap-button></inch-swap-button></div>`}getFusionInfoView(e){return e?P``:P`<inch-fusion-swap-info></inch-fusion-swap-info>`}getWalletController(){if(!this.walletController)throw new Error("");return this.walletController}getContext(){if(!this.context.value){const e=new eA(this.getWalletController());e.setPair({srcToken:this.srcToken,dstToken:this.dstToken}),this.context.setValue(e)}return this.context.value}};Xe.tagName="inch-swap-form";Xe.styles=Mk;Xe.lastFusionRenderIsEmptyState=!0;ie([V({type:Object,attribute:!1})],Xe.prototype,"srcToken",2);ie([V({type:Object,attribute:!1})],Xe.prototype,"dstToken",2);ie([V({type:Object,attribute:!1})],Xe.prototype,"walletController",2);Xe=ie([J(Xe.tagName)],Xe);const CS=L`:host{display:flex;padding-top:48px;justify-content:center;position:relative;z-index:1}:host(.padding-top-transition){transition:padding-top .2s}.unicorn-loader{position:absolute;z-index:1;top:50px;transform:scale(0);will-change:transform;height:auto;transition:top .2s}.shadow-container{will-change:box-shadow,transform;transform:translate3d(0,0,0);box-shadow:0 5px 24px var(--primary-50);border-radius:24px;position:relative;z-index:2}.shadow-container-rainbow{box-shadow:none;position:relative}.shadow-container-rainbow:after,.shadow-container-rainbow:before{content:'';position:absolute;width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;border-radius:24px;background:${Db()};background-size:2000%;animation:bg-rainbow 90s cubic-bezier(.4,0,1,1) infinite;z-index:-1;will-change:background,width,height,left,top,background-position}.shadow-container-rainbow:after{filter:blur(30px)}@keyframes bg-rainbow{0%{width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;background-position:0 0}50%{width:100%;height:100%;left:0;top:0;background-size:800%;background-position:400% 0}100%{width:calc(100% + 2px);height:calc(100% + 2px);left:-1px;top:-1px;background-position:0 0}}${tt(L`:host{padding-top:24px}:host(.is-enlarged-form){padding-top:0}:host(.is-enlarged-form) .unicorn-loader{top:20px}`)}`;var TS=Object.defineProperty,IS=Object.getOwnPropertyDescriptor,Ls=(e,t,n,r)=>{for(var i=r>1?void 0:r?IS(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&TS(t,n,i),i};R(()=>Promise.resolve().then(()=>QA),void 0);R(()=>import("./index.esm-C5Km3sJB.js"),__vite__mapDeps([]));R(()=>Promise.resolve().then(()=>n0),void 0);let $n=class extends K{constructor(){super(...arguments),this.mobileMedia=si(this),this.targetSelectToken=null,this.srcToken=null,this.dstToken=null,this.isRainbowTheme=!1,this.chainId$=ct.data.chainId$,this.activeAddress$=ct.data.activeAddress$,this.swapFormRef=Ur(),this.swapFormContainerRef=Ur(),this.unicornLoaderRef=Ur(),this.desktopScene=new ba("swapForm",{swapForm:{minWidth:556,maxHeight:621,lazyRender:!0},selectToken:{minWidth:556,maxHeight:680}}),this.selectTokenMobileOverlay=new Jb("app-root"),this.connectWalletOverlay=new Gu("app-root","center")}async connectedCallback(){await this.initTokens(),super.connectedCallback(),wt(this,[this.chainId$.pipe(Fe(Boolean),Pe(),Ff(1),Q(e=>this.syncTokens(e))),Fb().pipe(q(({brandColor:e})=>e),Pe(),Q(e=>this.isRainbowTheme=e===js.rainbow)),this.mobileUpdate()],{requestUpdate:!1})}firstUpdated(){setTimeout(()=>this.classList.add("padding-top-transition"),100)}render(){return this.mobileMedia.matches?this.getMobileSwapForm():this.getDesktopSwapForm()}async syncTokens(e){const t=await Le.getNativeToken(e);this.setSrcToken(t),this.setDstToken(null),this.requestUpdate()}async initTokens(){if(!await ct.data.getChainId())return;const t=ae.get("src-token-symbol",JSON.parse),n=ae.get("dst-token-symbol",JSON.parse);t&&this.setSrcToken(t),n&&this.setDstToken(n)}getMobileSwapForm(){const e={"shadow-container":!0,"shadow-container-rainbow":this.isRainbowTheme};return P`<inch-icon ${fn(this.unicornLoaderRef)} class="unicorn-loader" icon="unicornRun"></inch-icon><div ${fn(this.swapFormContainerRef)} class="${Ge(e)}"><inch-card><inch-swap-form .srcToken="${this.srcToken}" .dstToken="${this.dstToken}" .walletController="${ct}" @changeFusionInfoOpenState="${t=>this.onChangeFusionInfoOpenState(t)}" @openTokenSelector="${t=>this.onOpenMobileSelectToken(t)}" @connectWallet="${()=>this.onOpenConnectWalletView()}"></inch-swap-form></inch-card></div>`}getDesktopSwapForm(){const e={"shadow-container":!0,"shadow-container-rainbow":this.isRainbowTheme};return P`<inch-icon ${fn(this.unicornLoaderRef)} class="unicorn-loader" icon="unicornRun"></inch-icon><div ${fn(this.swapFormContainerRef)} class="${Ge(e)}"><inch-card>${this.desktopScene.render({swapForm:()=>P`<inch-swap-form ${fn(this.swapFormRef)} .srcToken="${zh(this,()=>this.srcToken)}" .dstToken="${zh(this,()=>this.dstToken)}" .walletController="${ct}" @switchPair="${()=>this.onSwitchPair()}" @openTokenSelector="${t=>this.onOpenSelectToken(t)}" @connectWallet="${()=>this.onOpenConnectWalletView()}"></inch-swap-form>`,selectToken:()=>P`<inch-select-token chainId="${he(this.chainId$)}" connectedWalletAddress="${he(this.activeAddress$)}" @backCard="${()=>this.desktopScene.back()}" @selectToken="${async t=>{this.onSelectToken(t),await this.desktopScene.back()}}"></inch-select-token>`})}</inch-card></div>`}async onOpenSelectToken(e){await this.desktopScene.nextTo("selectToken"),this.targetSelectToken=e.detail.value}onSwitchPair(){const e=this.srcToken;this.setSrcToken(this.dstToken),this.setDstToken(e)}onChangeFusionInfoOpenState(e){e.detail.value&&!this.classList.contains("is-enlarged-form")?this.classList.add("is-enlarged-form"):this.classList.remove("is-enlarged-form")}onSelectToken(e){const t=e.detail.value;if(this.targetSelectToken==="source"&&(this.dstToken&&yn(t,this.dstToken)&&this.setDstToken(this.srcToken),this.setSrcToken(t)),this.targetSelectToken==="destination"){if(!this.dstToken&&this.srcToken&&yn(t,this.srcToken))return;this.srcToken&&yn(t,this.srcToken)&&this.setSrcToken(this.dstToken),this.setDstToken(t)}}setSrcToken(e){this.srcToken=e,ae.set("src-token-symbol",e)}setDstToken(e){this.dstToken=e,ae.set("dst-token-symbol",e)}async onOpenConnectWalletView(){const e=await this.connectWalletOverlay.open(P`<inch-wallet-manage showShadow @closeCard="${()=>this.connectWalletOverlay.close(e)}" .controller="${ct}"></inch-wallet-manage>`)}async onOpenMobileSelectToken(e){const t=await this.selectTokenMobileOverlay.open(P`<inch-card forMobileView style="width:100%;height:100%;display:flex"><inch-select-token chainId="${he(this.chainId$)}" connectedWalletAddress="${he(this.activeAddress$)}" @backCard="${()=>this.selectTokenMobileOverlay.close(t)}" @selectToken="${async n=>{this.onSelectToken(n),await this.selectTokenMobileOverlay.close(t)}}"></inch-select-token></inch-card>`);this.targetSelectToken=e.detail.value}mobileUpdate(){let e=0,t=!1,n=!1;const r=new sg,i=60,s=5e5,o=3,a=4,c=()=>document.querySelector("#app-root"),l=()=>this.swapFormContainerRef.value,u=()=>this.unicornLoaderRef.value,d=p=>{if(p<0)return;let m;p>i?(t||(zf(50),r.play().then()),t=!0,p<=i+o?m=i+(p-i)/s:m=i+o/s+(p-i-o)/a):(t=!1,m=p);const f=(p>i?i:p)/i;G(u(),{transform:`scale(${f})`}),G(l(),{transform:`translate3d(0, ${m}px, 0)`}),e=m},h=async()=>{n=!0;let p=e;p>i&&r.isPlaying&&(await l().animate([{transform:`translate3d(0, ${p}px, 0)`},{transform:`translate3d(0, ${i}px, 0)`}],{duration:200,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,p=i,G(l(),{transform:`translate3d(0, ${p}px, 0)`}),await r.onEnded()),await l().animate([{transform:`translate3d(0, ${p}px, 0)`},{transform:"translate3d(0, 0, 0)"}],{duration:800,easing:"cubic-bezier(.2, .8, .2, 1)"}).finished,d(0),G(l(),{transform:""}),t=!1,n=!1};return X(()=>{const p=l();return ce(p,"touchstart").pipe(Fe(()=>{var m;return!n&&(((m=c())==null?void 0:m.scrollTop)??0)===0}),ne(m=>{r.load();const f=m.touches[0].clientY;return ce(p,"touchmove").pipe(q(y=>y.touches[0].clientY-f),Q(y=>d(y)),jl(ce(p,"touchend").pipe(Q(()=>h()))))}))}).pipe(jo(Yg))}};$n.tagName="inch-swap-form-container";$n.styles=[CS,ba.styles()];Ls([et()],$n.prototype,"srcToken",2);Ls([et()],$n.prototype,"dstToken",2);Ls([et()],$n.prototype,"isRainbowTheme",2);$n=Ls([J($n.tagName)],$n);class sg{get isPlaying(){return!this.audio.paused}constructor(){this.audio=new Audio("/audio/unicorn-run.mp3"),this.audio.preload="none",this.audio.volume=.4}load(){this.audio.load()}async play(){try{await this.audio.play()}catch(t){console.error("AudionController Error",t)}}onEnded(){return St(ce(this.audio,"ended"))}}Ls([$r()],sg.prototype,"play",1);var OS=Object.defineProperty,BS=Object.getOwnPropertyDescriptor,RS=(e,t,n,r)=>{for(var i=r>1?void 0:r?BS(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&OS(t,n,i),i};let _l=class extends K{connectedCallback(){super.connectedCallback(),Gy(this)}render(){return P`<inch-header></inch-header><div id="outlet" class="content"><inch-swap-form-container></inch-swap-form-container></div><inch-footer></inch-footer>`}};_l.styles=[Ky,pa];_l=RS([J("app-root")],_l);Promise.all([RA(Bb.systemSync,js.community),R(()=>Promise.resolve().then(()=>nk),void 0).then(e=>e.connectWalletController.init())]).then(()=>{const e=document.createElement("app-root");e.id="app-root",document.body.appendChild(e)});export{pn as $,Fe as A,uc as B,X as C,ke as D,he as E,Vi as F,Q as G,dr as H,q as I,Je as J,Se as K,tn as L,GS as M,Zn as N,FS as O,si as P,yh as Q,gf as R,ht as S,Le as T,R as U,x as V,ZS as W,ae as X,ce as Y,tr as Z,le as _,et as a,S as a0,Vo as a1,Ce as a2,Aw as a3,ta as a4,Qt as a5,$s as a6,ki as a7,vt as a8,qf as a9,tt as b,Et as c,K as d,Fs as e,iP as f,nP as g,XS as h,L as i,Nl as j,ye as k,ne as l,rP as m,V as n,Ge as o,Ak as p,zo as q,tP as r,pa as s,J as t,Bt as u,wt as v,wr as w,P as x,Mf as y,Kn as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=index-BFZaJQU7.js.map
